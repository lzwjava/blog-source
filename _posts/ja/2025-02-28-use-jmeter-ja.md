---
audio: false
generated: true
lang: ja
layout: post
title: JMeterの使い方
translated: true
type: note
---

JMeterは、負荷テストやWebアプリケーションのパフォーマンス測定向けに設計されたオープンソースのソフトウェアツールですが、データベースやFTPサーバーなど他の種類のシステムのテストも可能です。以下は、主にWebアプリケーションに焦点を当て、パフォーマンステストでJMeterを使い始めるための明確なステップバイステップガイドです。

---

#### **ステップ 1: JMeterのインストール**
- **前提条件**: JMeterはJavaベースのアプリケーションなので、マシンにJava（バージョン8以降）がインストールされている必要があります。コマンドラインで `java -version` を実行して確認できます。
- **ダウンロード**: [Apache JMeterウェブサイト](https://jmeter.apache.org/) にアクセスし、最新バージョン（.zipまたは.tgzファイル）をダウンロードします。
- **インストール**: ダウンロードしたファイルを任意のディレクトリ（例: Windowsでは `C:\JMeter`、Linux/Macでは `/opt/jmeter`）に解凍します。追加のインストール手順は必要ありません。

---

#### **ステップ 2: JMeterの起動**
- JMeterフォルダ内の `bin` ディレクトリに移動します（例: `C:\JMeter\apache-jmeter-x.x\bin`）。
- **Windows**: `jmeter.bat` をダブルクリックするか、コマンドラインから実行します。
- **Linux/Mac**: ターミナルを開き、`bin` ディレクトリに移動して `./jmeter.sh` を実行します。
- グラフィカルユーザーインターフェース（GUI）が開き、JMeterのワークベンチが表示されます。

---

#### **ステップ 3: テスト計画の作成**
- **テスト計画**は、パフォーマンステストの基礎です。何をどのようにテストするかを概説します。
- JMeter GUIでは、左ペインにすでにテスト計画が表示されています。右クリックして名前を変更する（例: "Web Performance Test"）か、そのままにしておきます。

---

#### **ステップ 4: スレッドグループの追加**
- **スレッドグループ**は、サーバーにリクエストを送信するユーザーをシミュレートします。
- テスト計画を右クリック > **追加** > **Threads (Users)** > **Thread Group**。
- 設定:
  - **Number of Threads (users)**: 仮想ユーザー数を設定（例: 10）。
  - **Ramp-Up Period (seconds)**: すべてのスレッドを開始するまでの時間（例: 10秒は1秒あたり1スレッド）。
  - **Loop Count**: テストを繰り返す回数（例: 1、または継続的なテストには "Forever" をチェック）。

---

#### **ステップ 5: サンプラーの追加**
- **サンプラー**は、サーバーに送信するリクエストを定義します。Webテストでは、HTTP Requestサンプラーを使用します。
- スレッドグループを右クリック > **追加** > **Sampler** > **HTTP Request**。
- 設定:
  - **Server Name or IP**: ターゲットWebサイトを入力（例: `example.com`）。
  - **Path**: エンドポイントを指定（例: `/login`）。
  - **Method**: テストシナリオに基づいて `GET`、`POST` などを選択。

---

#### **ステップ 6: リスナーの追加**
- **リスナー**は、テスト結果を表示および分析します。
- スレッドグループを右クリック > **追加** > **Listener** > （例: **View Results Tree** または **Summary Report**）。
- 一般的なオプション:
  - **View Results Tree**: 詳細なリクエスト/レスポンスデータを表示。
  - **Summary Report**: 平均応答時間やエラー率などの集計メトリクスを提供。

---

#### **ステップ 7: テストの設定**
- 追加要素でテストを強化（オプションですが有用）:
  - **Timers**: リクエスト間に遅延を追加（例: スレッドグループを右クリック > **追加** > **Timer** > **Constant Timer**）。
  - **Assertions**: サーバーレスポンスを検証（例: HTTP Requestを右クリック > **追加** > **Assertions** > **Response Assertion**）。
  - **Config Elements**: 変数やHTTPデフォルトを設定（例: **HTTP Request Defaults**）。

---

#### **ステップ 8: テストの実行**
- テスト計画を保存（**ファイル** > **保存**）して、`.jmx` ファイルとして再利用します。
- ツールバーの緑色の**実行**ボタン（三角）をクリックするか、**実行** > **開始** に進みます。
- JMeterは、スレッドグループの設定に基づいてテストを実行します。

---

#### **ステップ 9: 結果の分析**
- テスト完了後、リスナーを確認:
  - **View Results Tree**: 個々のリクエストの成功/失敗を検査。
  - **Summary Report**: スループット、応答時間、エラー率などのメトリクスを確認。
- ボトルネック（例: 応答時間の遅延）や調査が必要なエラーを探します。

---

#### **ステップ 10: テストの改善**
- 結果に基づいてテスト計画を調整:
  - スレッド数を増減。
  - より現実的なシナリオを追加（例: 複数のHTTP Request）。
  - 精度のためにタイマーやアサーションを調整。
- 保存してテストを再実行し、改善を検証。

---

### 追加のヒント
- **保存と読み込み**: `.jmx` ファイルを使用してテスト計画を保存し、後で**ファイル** > **開く** で読み込みます。
- **GUIモードと非GUIモード**: 大規模なテストでは、システムリソースを節約するためにJMeterを非GUIモードで実行（例: `jmeter -n -t test.jmx -l results.jtl`）。
- **さらに学ぶ**: 経験を積むにつれて、パラメータ化（動的データ用）や相関（動的Webアプリ用）などの高度な機能を探求します。

このガイドは、JMeterを効果的に使い始めるための基本を提供します。練習を重ねることで、特定のパフォーマンステストのニーズに合わせてテストをカスタマイズできるようになります！