---
audio: false
generated: true
lang: ja
layout: post
title: オペアンプ
translated: true
type: note
---

以下は、**オペレーショナルアンプ（オペアンプ）とその応用**に関する包括的なチュートリアルです。指定されたトピック（オペアンプの特性とパラメータ（仮想短絡、仮想開放）、代表的なオペアンプ回路（反転/非反転増幅器、積分器/微分器）、非線形応用（コンパレータ、波形発生器））を網羅しています。このチュートリアルは、詳細で、初心者に優しく、技術的に正確であり、実用的な例と説明を備えています。

---

オペレーショナルアンプ（オペアンプ）は、多用途で高利得の電子増幅器であり、信号処理、増幅、フィルタリングなどのアナログ回路で広く使用されています。このチュートリアルでは、その特性、主要な回路、および非線形応用について説明します。

---

### **1. オペアンプの特性とパラメータ**

オペレーショナルアンプは、差動入力と単一出力を持つ高利得の直接結合増幅器です。通常、その機能を定義するために外部のフィードバック部品（抵抗器、コンデンサなど）と共に使用されます。以下に、理想的なオペアンプの主要な特性とパラメータ、およびそれらの実用的な意味合いを示します。

#### **理想的なオペアンプの特性**
1.  **無限の開ループ利得 (A_OL)**
    *   開ループ利得（フィードバックなし）は理論上無限大であり、入力端子間のごくわずかな差でも大きな出力が生じます。実際には、実際のオペアンプの開ループ利得は 10^5 から 10^6 です。
    *   **意味合い**: フィードバックが適用された場合に精密な制御を可能にします。

2.  **無限の入力インピーダンス**
    *   入力端子は電流を引きません（理想的な入力インピーダンスは無限大）。実際のオペアンプでは、入力インピーダンスは通常メガオームからギガオームの範囲です。
    *   **意味合い**: オペアンプは入力信号源に負荷をかけないため、信号の完全性が保たれます。

3.  **ゼロ出力インピーダンス**
    *   出力は、電圧降下なく任意の負荷を駆動できます。実際のオペアンプは低い出力インピーダンス（例: 10–100 オーム）を持ちます。
    *   **意味合い**: 次の段階への効率的な信号伝送を保証します。

4.  **無限の帯域幅**
    *   理想的なオペアンプはすべての周波数を均等に増幅します。実際には、利得帯域幅積が性能を制限します（例: 741オペアンプのユニティ利得帯域幅は1 MHz）。
    *   **意味合い**: 閉ループ構成では、利得が増加するにつれて帯域幅が減少します。

5.  **ゼロオフセット電圧**
    *   入力信号がなくても、出力はゼロです。実際のオペアンプには、補償が必要な場合がある小さなオフセット電圧（マイクロボルトからミリボルト）があります。
    *   **意味合い**: 精密アプリケーションでの望ましくない出力を最小限に抑えます。

6.  **無限の同相除去比 (CMRR)**
    *   オペアンプは両方の入力に共通の信号（例: ノイズ）を除去します。実際のオペアンプは高いCMRR（80–120 dB）を持ちます。
    *   **意味合い**: 差動信号アプリケーションでのノイズを低減します。

#### **主要な概念: 仮想短絡と仮想開放**
*   **仮想短絡**
    *   負帰還構成では、高い開ループ利得により、反転入力（-）と非反転入力（+）間の電圧差がほぼゼロに強制されます。
    *   **説明**: オペアンプは、V+ ≈ V- となるように出力を調整します（負帰還を仮定）。これは、入力が物理的には短絡されていないが、あたかも短絡されているように振る舞うため、「仮想短絡」と呼ばれます。
    *   **例**: 反転増幅器では、非反転入力が接地（0 V）されている場合、オペアンプは反転入力が約0 Vになるように出力を調整します。

*   **仮想開放**
    *   無限の入力インピーダンスにより、オペアンプの入力端子には電流が流れません。
    *   **説明**: この「仮想開放」は、電流の流れに関して入力が回路から切断されているかのように動作することを意味し、すべての入力電流が外部部品を通って流れることを可能にします。
    *   **例**: ボルテージフォロアでは、オペアンプ入力に電流が流れないため、理想的なバッファとなります。

#### **実用的なパラメータ**
*   **スルーレート**: 出力電圧の最大変化率（例: 741オペアンプで 0.5 V/µs）。高周波性能を制限します。
*   **入力バイアス電流**: 実際のオペアンプ入力で必要な小さな電流（nA から pA）。
*   **電源電圧変動除去比 (PSRR)**: 電源ノイズを除去する能力。
*   **ノイズ**: 内部ノイズは、低信号アプリケーションでの性能を制限します。

---

### **2. 代表的なオペアンプ回路**

オペアンプは、通常、安定した予測可能な回路を作成するために、負帰還を伴う閉ループ構成で使用されます。以下に、最も一般的な回路を示します：反転および非反転増幅器、積分器、および微分器。

#### **反転増幅器**
*   **機能**: 入力信号を増幅し、その位相を反転します（180°の位相シフト）。
*   **回路**:
    *   入力信号 (V_in) は、抵抗 R1 を介して反転入力（-）に印加されます。
    *   非反転入力（+）は接地（0 V）されます。
    *   フィードバック抵抗 (R_f) は、出力 (V_out) を反転入力に接続します。
*   **主要な式**:
    *   電圧利得: \\( A_v = -\frac{R_f}{R_1} \\)
    *   出力電圧: \\( V_{out} = -\frac{R_f}{R_1} \cdot V_{in} \\)
    *   入力インピーダンス: 約 \\( R_1 \\)。
*   **仮想短絡**: 反転入力は 0 V です（接地された非反転入力と同じ）。
*   **例**: \\( R_1 = 10 \, \text{k}\Omega \\)、\\( R_f = 20 \, \text{k}\Omega \\)、\\( V_{in} = 1 \, \text{V} \\) の場合:
    *   利得: \\( A_v = -\frac{20k}{10k} = -2 \\)
    *   出力: \\( V_{out} = -2 \cdot 1 = -2 \, \text{V} \\)。
*   **応用**: オーディオ増幅器、信号反転、加算増幅器。

#### **非反転増幅器**
*   **機能**: 入力信号を位相反転なく増幅します。
*   **回路**:
    *   入力信号 (V_in) は、非反転入力（+）に印加されます。
    *   フィードバック抵抗 (R_f) は、出力を反転入力（-）に接続し、抵抗 R_1 は反転入力から接地されます。
*   **主要な式**:
    *   電圧利得: \\( A_v = 1 + \frac{R_f}{R_1} \\)
    *   出力電圧: \\( V_{out} = \left(1 + \frac{R_f}{R_1}\right) \cdot V_{in} \\)
    *   入力インピーダンス: 非常に高い（非反転入力による）。
*   **仮想短絡**: 反転入力電圧は V_in と等しくなります（帰還による）。
*   **例**: \\( R_1 = 10 \, \text{k}\Omega \\)、\\( R_f = 30 \, \text{k}\Omega \\)、\\( V_{in} = 1 \, \text{V} \\) の場合:
    *   利得: \\( A_v = 1 + \frac{30k}{10k} = 4 \\)
    *   出力: \\( V_{out} = 4 \cdot 1 = 4 \, \text{V} \\)。
*   **応用**: 信号バッファリング、電圧スケーリング。

#### **積分器**
*   **機能**: 入力信号を時間で積分し、入力の積分に比例した出力を生成します。
*   **回路**:
    *   入力信号 (V_in) は、抵抗 R を介して反転入力に印加されます。
    *   コンデンサ (C) がフィードバック経路（出力から反転入力）に配置されます。
    *   非反転入力は接地されます。
*   **主要な式**:
    *   出力電圧: \\( V_{out} = -\frac{1}{R \cdot C} \int V_{in}(t) \, dt \\)
    *   出力は入力の負の積分です。
*   **仮想短絡**: 反転入力は 0 V です。
*   **実用的な考慮事項**:
    *   低周波利得を制限し、飽和を防ぐために、コンデンサと並列に抵抗を追加することがあります。
    *   オペアンプのスルーレートとコンデンサの漏れ電流によって制限されます。
*   **例**: \\( R = 10 \, \text{k}\Omega \\)、\\( C = 1 \, \mu\text{F} \\)、一定の \\( V_{in} = 1 \, \text{V} \\) の場合:
    *   出力: \\( V_{out} = -\frac{1}{10k \cdot 1\mu} \int 1 \, dt = -100 \cdot t \, \text{V/s} \\)。
    *   1 ms 後: \\( V_{out} = -0.1 \, \text{V} \\)。
*   **応用**: アナログコンピュータ、信号処理、ローパスフィルタ。

#### **微分器**
*   **機能**: 入力信号を微分し、入力の変化率に比例した出力を生成します。
*   **回路**:
    *   入力信号 (V_in) は、コンデンサ (C) を介して反転入力に印加されます。
    *   抵抗 (R) がフィードバック経路に配置されます。
    *   非反転入力は接地されます。
*   **主要な式**:
    *   出力電圧: \\( V_{out} = -R \cdot C \cdot \frac{dV_{in}}{dt} \\)
    *   出力は入力の負の微分です。
*   **仮想短絡**: 反転入力は 0 V です。
*   **実用的な考慮事項**:
    *   高周波ノイズの増幅を受けやすいです。入力コンデンサと直列に小さな抵抗を追加することで回路を安定化できます。
*   **例**: \\( R = 10 \, \text{k}\Omega \\)、\\( C = 1 \, \mu\text{F} \\)、\\( V_{in} = t \, \text{V} \\)（直線ランプ）の場合:
    *   出力: \\( V_{out} = -10k \cdot 1\mu \cdot \frac{d(t)}{dt} = -0.01 \, \text{V} \\)。
*   **応用**: エッジ検出、ハイパスフィルタ。

---

### **3. 非線形応用**

オペアンプは、非線形モード（負帰還なし、または特定の部品を使用）で動作し、信号比較や波形生成などのタスクを実行できます。

#### **コンパレータ**
*   **機能**: 2つの入力電圧を比較し、どちらが大きいかに基づいて High または Low の信号を出力します。
*   **回路**:
    *   一方の入力（例: V_ref）が非反転入力（+）に印加されます。
    *   もう一方の入力 (V_in) が反転入力（-）に印加されます。
    *   帰還はありません（開ループ構成）。
*   **動作**:
    *   V_in > V_ref の場合、出力は負の電源レール（例: -V_cc）に振れます。
    *   V_in < V_ref の場合、出力は正の電源レール（例: +V_cc）に振れます。
*   **主な特徴**:
    *   開ループモードで動作し、オペアンプの高利得を利用してバイナリ出力を生成します。
    *   実際のオペアンプには有限のスルーレートがあるため、スイッチングにわずかな遅延が生じます。
*   **例**: V_ref = 2 V、V_in = 3 V、電源 ±12 V の場合:
    *   V_in > V_ref なので、V_out ≈ -12 V。
*   **応用**:
    *   ゼロクロス検出器、閾値検出器、アナログ-デジタル変換。
*   **実用的な考慮事項**:
    *   ヒステリシス（正帰還）を追加して、閾値付近での発振を防ぎます（シュミットトリガ構成）。
    *   専用のコンパレータIC（例: LM339）は、より高速なスイッチングのためにしばしば好まれます。

#### **波形発生器**
*   **機能**: フィードバックネットワークを備えたオペアンプを使用して、周期的な波形（例: 矩形波、三角波、正弦波）を生成します。
*   **種類**:
    1.  **矩形波発生器 (非安定マルチバイブレータ)**:
        *   **回路**: 抵抗による正帰還と、負帰還経路のコンデンサを備えたオペアンプを使用します。
        *   **動作**: コンデンサは、抵抗によって設定された閾値電圧間で充放電し、出力を電源レール間で切り替えさせます。
        *   **周波数**: RC時定数によって決定されます。例: \\( f = \frac{1}{2 \cdot R \cdot C \cdot \ln(3)} \\)（一部の構成での近似）。
        *   **例**: \\( R = 10 \, \text{k}\Omega \\)、\\( C = 0.1 \, \mu\text{F} \\) の場合、周波数は約 1 kHz です。
        *   **応用**: クロック信号、パルス生成。

    2.  **三角波発生器**:
        *   **回路**: 通常、矩形波発生器（正帰還を備えたコンパレータ）と積分器を組み合わせます。
        *   **動作**: 矩形波が積分器を駆動し、線形ランプ（三角波）を生成します。
        *   **例**: 1 kHz の矩形波を \\( R = 10 \, \text{k}\Omega \\)、\\( C = 0.1 \, \mu\text{F} \\) の積分器に入力すると、1 kHz の三角波が生成されます。
        *   **応用**: テスト信号、パルス幅変調 (PWM)。

    3.  **正弦波発生器 (ウィーンブリッジ発振器)**:
        *   **回路**: 周波数選択ネットワーク（抵抗とコンデンサ）を介した正帰還と、振幅安定化のための負帰還を使用します。
        *   **動作**: 位相シフトがゼロとなる周波数で発振します。例: \\( f = \frac{1}{2 \pi R C} \\)。
        *   **例**: \\( R = 1.59 \, \text{k}\Omega \\)、\\( C = 0.01 \, \mu\text{F} \\) の場合、周波数は ~10 kHz です。
        *   **応用**: オーディオ信号生成、テスト。

---

### **実用的な設計上の考慮事項**
1.  **電源**: オペアンプは二重電源（例: ±12 V）または単一電源（例: レールトゥレールオペアンプで 0 ～ 5 V）を必要とします。電源電圧が入力および出力信号範囲をサポートしていることを確認してください。
2.  **部品の選択**: 正確な利得と周波数応答のために、精密抵抗器とコンデンサを使用してください。帯域幅、スルーレート、ノイズ仕様についてはオペアンプのデータシートを確認してください。
3.  **安定性**: 適切な帰還を確保し、電源をコンデンサ（例: オペアンプ近くに 0.1 µF）でバイパスすることにより、発振を回避してください。
4.  **制限事項**: 実際のオペアンプは理想的な動作から逸脱します（例: 有限の利得、帯域幅、スルーレート）。アプリケーションのニーズに基づいて、LM358（汎用）、TL081（低ノイズ）、OPA2134（オーディオ用）などのオペアンプを選択してください。

---

### **応用例: オーディオプリアンプ**
簡単な反転オーディオプリアンプを設計してみましょう：
*   **要件**: 50 mV のオーディオ信号を 500 mV に増幅（利得 = 10）。
*   **回路**: \\( R_1 = 10 \, \text{k}\Omega \\)、\\( R_f = 100 \, \text{k}\Omega \\) の反転増幅器。
*   **計算**: \\( A_v = -\frac{100k}{10k} = -10 \\)、\\( V_{out} = -10 \cdot 0.05 = -0.5 \, \text{V} \\)。
*   **考慮事項**: 低ノイズオペアンプ（例: OPA2134）を使用し、DCをブロックする結合コンデンサを追加し、電源が信号範囲（例: ±5 V）をサポートしていることを確認します。

---

### **結論**
オペレーショナルアンプは、アナログエレクトロニクスの基本的な構成要素であり、増幅、信号処理、波形生成のための柔軟性を提供します。それらの特性（仮想短絡、仮想開放など）を理解し、主要な回路（反転/非反転増幅器、積分器、微分器、コンパレータ、波形発生器）を習得することで、幅広い回路を設計できます。常に現実世界の制限を考慮し、最適な性能のために部品を慎重に選択してください。

さらに探求するには、LTspiceなどのシミュレーションツールやブレッドボードでのプロトタイピングを試し、特定のアプリケーションについてはオペアンプのデータシートを参照してください。

---

特定の回路シミュレーション、数学的導出、またはチャート（例: 積分器の周波数応答）をご希望の場合は、お知らせください。さらなる詳細や視覚化を提供できます。