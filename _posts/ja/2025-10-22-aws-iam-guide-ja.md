---
audio: false
generated: true
image: false
lang: ja
layout: post
model: x-ai/grok-4-fast
title: AWS IAM アクセス管理ガイド
translated: true
type: note
---

AWS Identity and Access Management（IAM）は、AWSリソースへのアクセスを安全に制御するための無料サービスです。ユーザーとその権限を管理し、適切な人やアプリケーションが適切なリソースに適切にアクセスできるようにします。IAMは認証（誰がサインインできるか）と認可（どのアクションを実行できるか）を扱います。

## IAMのコアコンポーネント

- **ユーザー**: AWSへのアクセスを必要とする個人またはアプリケーションを表します。各ユーザーは固有のセキュリティ認証情報（パスワードやアクセスキーなど）を持ちます。
- **グループ**: 権限管理を容易にするためのユーザーの集合です。権限は個々のユーザーに直接ではなく、グループに付与されます。
- **ロール**: ユーザー、サービス、またはアプリケーションが引き受けることができる一時的なIDです。ロールは永続的な認証情報を持たず、短期間のセキュリティトークンを提供します。
- **ポリシー**: 権限を定義するJSONドキュメントです。アクション（読み取り、書き込みなど）、リソース（S3バケットなど）、条件（IP制限など）を指定します。AWS管理ポリシー、カスタマー管理ポリシー、インラインポリシーがあります。

## はじめに：ステップバイステップガイド

### 前提条件
- ルートユーザー（アカウントのメールアドレスとパスワード）としてAWSマネジメントコンソールにサインインします。**重要**: 日常的なタスクにルートユーザーを使用しないでください。すぐに管理者ユーザーを作成してください。
- セキュリティを強化するために、ルートユーザーに対して多要素認証（MFA）を有効にします。

### 1. IAMユーザーの作成
シンプルさのためにAWSマネジメントコンソールを使用します（自動化のためにはCLIやAPIオプションも利用可能です）。

1. IAMコンソール（https://console.aws.amazon.com/iam/）を開きます。
2. ナビゲーションペインで、**ユーザー** > **ユーザーを作成** を選択します。
3. ユーザー名（例: "admin-user"）を入力し、**次へ** を選択します。
4. **アクセス権限の設定** で、**ポリシーを直接アタッチ** を選択し、フルアクセスのために "AdministratorAccess" のようなAWS管理ポリシーを選択します（本番環境では最小権限から始めてください）。
5. （オプション）コンソールパスワードを設定: **カスタムパスワード** を選択し、**パスワードのリセットを必須にする** を有効にします。
6. 確認して **ユーザーの作成** を選択します。
7. ユーザーにサインインURL（例: https://[アカウントエイリアス].signin.aws.amazon.com/console）、ユーザー名、一時パスワードを提供します。

プログラムによるアクセスの場合は、アクセスキーを生成します（ただし、アプリケーションにはロールを優先してください）。

### 2. グループの作成と管理
グループは権限管理の拡張を容易にします。

1. IAMコンソールで、**ユーザーグループ** > **グループの作成** を選択します。
2. グループ名（例: "Developers"）を入力します。
3. ポリシー（例: "AmazonEC2ReadOnlyAccess"）をアタッチします。
4. **グループの作成** を選択します。
5. ユーザーを追加するには: グループを選択 > **ユーザーをグループに追加** > 既存のユーザーを選択します。

ユーザーはすべてのグループ権限を継承します。ユーザーは複数のグループに所属できます。

### 3. ポリシーの作成とアタッチ
ポリシーは許可されるアクションを定義します。

- **種類**:
  - AWS管理ポリシー: 一般的なタスク用にあらかじめ構築されています（例: "ReadOnlyAccess"）。
  - カスタマー管理ポリシー: ニーズに合わせたカスタムJSONです。
  - インラインポリシー: ユーザー/グループ/ロールに直接埋め込まれます（控えめに使用してください）。

カスタムポリシーを作成するには:
1. IAMコンソールで、**ポリシー** > **ポリシーの作成** を選択します。
2. ビジュアルエディタまたはJSONタブを使用します（例: 特定のバケットでの "s3:GetObject" を許可）。
3. 名前を付けて **ポリシーの作成** を選択します。
4. **ポリシーのアタッチ** を介してユーザー/グループ/ロールにアタッチします。

ベストプラクティス: 最小権限を付与する—最初は広く権限を付与し、その後IAM Access Analyzerのようなツールを使用して絞り込みます。

### 4. IAMロールの使用
ロールは一時的なアクセスに理想的で、長期的な認証情報を避けます。

1. IAMコンソールで、**ロール** > **ロールを作成** を選択します。
2. 信頼されたエンティティを選択します（例: EC2の場合は "AWS サービス"、クロスアカウントの場合は "別のAWSアカウント"）。
3. 権限ポリシーをアタッチします。
4. 信頼ポリシーを追加します（誰がロールを引き受けられるかを定義するJSON、例: EC2サービスのプリンシパル）。
5. 名前を付けて **ロールを作成** を選択します。

**一般的なシナリオ**:
- **EC2インスタンス**: インスタンスにロールをアタッチして、キーを埋め込まずに他のサービス（例: S3）に安全にアクセスします。
- **クロスアカウントアクセス**: アカウントA（信頼する側）で、アカウントBのプリンシパルを許可する信頼ポリシーを持つロールを作成します。BのユーザーはAWS STSを介してロールを引き受け、Aのリソースにアクセスします。

コンソール、CLI（`aws sts assume-role`）、またはSDKを介してロールを引き受け、一時的な認証情報を取得します。

### 5. MFAと追加のセキュリティを有効にする
- ユーザーの場合: IAMコンソール > ユーザー > ユーザーを選択 > **セキュリティ認証情報** > MFAの管理。
- 仮想（アプリベース）またはハードウェアMFAデバイスを使用します。

## セキュリティのベストプラクティス
- **ルートユーザーをロックダウン**: それを必要とするタスク（例: アカウント設定の変更）にのみ使用します。MFAを有効にし、アクセスキーを作成しないでください。
- **一時的な認証情報を使用**: 長期的なキーよりも、フェデレーション（例: IAM Identity Center経由）とロールを優先します。使用する場合はキーをローテーションします。
- **最小権限の原則**: 最小限の権限を付与し、ポリシーで条件（例: 時間/IP制限）を使用します。
- **監視と監査**: AWS CloudTrailを有効にし、IAM Access Analyzerを使用して未使用の権限や意図しないアクセスを検出し、最終使用情報を確認します。
- **未使用のリソースを削除**: 非アクティブなユーザー/ロール/ポリシーを定期的に削除します。
- **マルチアカウントの場合**: ガードレールとしてサービスコントロールポリシー（SCP）を使用したAWS Organizationsを使用します。
- **ポリシーを検証**: 適用前にIAM Access Analyzerのポリシーチェックを使用します。

実践的な学習のために、属性ベースのアクセス制御（ABAC）のようなシナリオについて、コンソールまたはドキュメントのIAMチュートリアルを探索してください。

## 参考資料
- [IAMとは](https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html)
- [IAMユーザーの作成](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html)
- [IAMグループ](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html)
- [IAMロール](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html)
- [IAMのベストプラクティス](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html)
- [IAMチュートリアル](https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorials.html)