---
audio: false
generated: true
lang: ja
layout: post
title: JavaにおけるLombokの使用
translated: true
type: note
---

JavaでLombokを使用するには、プロジェクトに設定して、ゲッター、セッター、コンストラクタなどのボイラープレートコードを削減することでコードを簡素化します。以下にステップバイステップで方法を説明します。

まず、Lombokを依存関係として追加する必要があります。Mavenを使用している場合は、`pom.xml`に以下を追加します：

```xml
<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
    <version>1.18.32</version> <!-- 最新バージョンを確認してください -->
    <scope>provided</scope>
</dependency>
```

Gradleの場合は、`build.gradle`に以下を追加します：

```gradle
provided 'org.projectlombok:lombok:1.18.32'
// アノテーションプロセッシングが動作するようにこれも追加
annotationProcessor 'org.projectlombok:lombok:1.18.32'
```

次に、IntelliJ IDEAやEclipseなどのIDEを使用している場合は、アノテーションプロセッシングを有効にし、Lombokプラグインをインストールする必要があります：
- **IntelliJ**: `ファイル > 設定 > プラグイン`に移動し、「Lombok」を検索してインストールし、再起動します。その後、`設定 > ビルド、実行、デプロイメント > コンパイラ > アノテーションプロセッサ`で`アノテーションプロセッシングを有効にする`がチェックされていることを確認します。
- **Eclipse**: 公式サイト（projectlombok.org）からLombok JARをダウンロードし、`java -jar lombok.jar`で実行し、インストーラの指示に従ってEclipseのインストール先を指定します。

これで、JavaコードでLombokアノテーションを使用できるようになります。以下は簡単な例です：

```java
import lombok.Getter;
import lombok.Setter;
import lombok.NoArgsConstructor;
import lombok.AllArgsConstructor;

@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
public class Person {
    private String name;
    private int age;
}
```

この例では：
- `@Getter`と`@Setter`は、`name`と`age`のゲッターメソッドとセッターメソッドを自動生成します。
- `@NoArgsConstructor`は引数なしのコンストラクタを作成します。
- `@AllArgsConstructor`はすべてのフィールドをパラメータとして持つコンストラクタを作成します。

コンパイルまたは実行すると、Lombokがこれらのアノテーションを処理し、ボイラープレートコードを追加します。次のようにテストできます：

```java
public class Main {
    public static void main(String[] args) {
        Person person = new Person("Alice", 30);
        System.out.println(person.getName()); // 出力: Alice
        person.setAge(31);
        System.out.println(person.getAge()); // 出力: 31
    }
}
```

他にも便利な人気のあるアノテーションがあります：
- `@Data`: `@Getter`、`@Setter`、`@ToString`、`@EqualsAndHashCode`、および必須フィールド（finalなど）に対するコンストラクタをまとめたショートカットです。
- `@Builder`: オブジェクト作成のためのビルダーパターンを提供します。
- `@Slf4j`: クラスにロガー（例：SLF4Jからのロガー）を追加します。

例えば、`@Data`と`@Builder`を使用した例：

```java
import lombok.Data;
import lombok.Builder;

@Data
@Builder
public class User {
    private String username;
    private String email;
}

// 使用例
public class Main {
    public static void main(String[] args) {
        User user = User.builder()
                        .username("john_doe")
                        .email("john@example.com")
                        .build();
        System.out.println(user); // 出力: User(username=john_doe, email=john@example.com)
    }
}
```

注意点：
- Maven Centralまたは公式サイトでLombokの最新バージョンを常に確認してください。
- チームで作業する場合は、生成されたコードがソースで表示されないことによる混乱を避けるため、全員がIDEでLombokを設定していることを確認してください。