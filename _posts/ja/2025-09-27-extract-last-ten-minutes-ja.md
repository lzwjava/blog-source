---
audio: false
generated: true
image: false
lang: ja
layout: post
model: google/gemini-2.5-flash
title: 過去10分間の音声抽出
translated: true
type: note
---

音声ファイル `lobby-zh.ogg` の最後10分間を取得するには、以下の情報を使用します：

1.  **合計時間:** 入力ファイルの長さは `00:33:34.40` です。
2.  **必要なセグメントの長さ:** 10分間 (または 600秒)。
3.  **開始時間の計算:** ファイルの終了時刻の10分*前*の時点を計算する必要があります。

### 計算

*   合計時間 (秒):
    $$(33 \times 60) + 34.40 = 1980 + 34.40 = 2014.40 \text{ 秒}$$
*   開始時間:
    $$2014.40 \text{ 秒} - 600 \text{ 秒} = 1414.40 \text{ 秒}$$

`HH:MM:SS.sss` 形式で表すと:
$$1414.40 \text{ 秒} = 23 \text{ 分 } 34.40 \text{ 秒} \quad (1414.40 / 60 = 23.5733\dots)$$
$$\text{開始時間} = 00:23:34.40$$

### FFmpeg コマンド

`-ss` (位置までシーク) 入力オプションと `-t` (時間) オプションを組み合わせて使用します。

1.  `-ss 00:23:34.40`: 抽出を開始する位置を設定します。
2.  `-t 00:10:00`: 出力セグメントの長さを正確に10分間に設定します。

```bash
ffmpeg -i lobby-zh.ogg -ss 00:23:34.40 -t 00:10:00 last_10_minutes.ogg
```

**注意:** 出力ファイルを元のビットレート/コーデック設定で使用したい場合は、処理を高速化するために `-c copy` を追加できます：

```bash
ffmpeg -i lobby-zh.ogg -ss 00:23:34.40 -t 00:10:00 -c copy last_10_minutes_copy.ogg
```