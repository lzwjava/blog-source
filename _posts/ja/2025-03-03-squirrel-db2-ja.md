---
audio: false
generated: true
lang: ja
layout: post
title: SQuirreL SQL クライアントと DB2 データベース
translated: true
---

IBM DB2 JCC JAR (`db2jcc.jar`) を SQuirreL SQL クライアントで使用し、DB2 データベースに接続するには、以下の詳細な手順に従ってください。このプロセスには、SQuirreL で DB2 ドライバーを構成し、接続エイリアスを設定することが含まれます。

---

### ステップ 1: JAR ファイルの確認
- 正しい DB2 JDBC ドライバー JAR ファイルを持っていることを確認してください。`db2jcc.jar` は、通常、IBM DB2 用の正しいファイルですが、バージョンによっては `db2jcc4.jar` を使用する設定もあります。
- DB2 インストールが追加のライセンスファイル（例：`db2jcc_license_cisuz.jar`）を必要とする場合、そのファイルも見つけてください。接続時にライセンス関連のエラーを避けるために必要になるかもしれません。

---

### ステップ 2: SQuirreL SQL クライアントで DB2 ドライバーを構成する
1. **SQuirreL SQL クライアントを開く**:
   - システムでアプリケーションを起動します。

2. **ドライバータブにアクセス**:
   - 左側のパネルで **Drivers** タブをクリックして、利用可能なデータベースドライバーのリストを表示します。

3. **DB2 ドライバーを検索または追加**:
   - リストに既存の DB2 ドライバー（例：「IBM DB2 App Driver」）があるか確認します。正しく構成されていない場合は、赤い X でマークされているかもしれません。
   - 存在する場合は、それを修正できます。存在しない場合は、新しいドライバーを作成する必要があります：
     - **既存のドライバーを修正**: DB2 ドライバーのエントリをダブルクリックします。
     - **新しいドライバーを追加**: ドライバータブの **+** アイコンをクリックして「ドライバーの追加」ウィザードを開きます。

4. **ドライバー設定の構成**:
   - **名前**: 例：「IBM DB2 JCC ドライバー」と入力します。
   - **例 URL**: これを `jdbc:db2://<host>:<port>/<database>` に設定します（後で特定のデータベースに合わせてカスタマイズします）。
   - **クラス名**: `com.ibm.db2.jcc.DB2Driver` を入力します（これは DB2 JDBC の標準ドライバークラスです）。

5. **JAR ファイルの追加**:
   - ドライバー構成ウィンドウの **Extra Class Path** タブに移動します。
   - **Add** をクリックし、`db2jcc.jar` ファイルの場所をブラウズして選択します。
   - ライセンス JAR（例：`db2jcc_license_cisuz.jar`）がある場合は、**Add** を再度クリックしてそれを含めます。

6. **構成の保存**:
   - **OK** をクリックしてドライバー設定を保存します。DB2 ドライバーは、ドライバータブにチェックマークが付いていることで、正しく構成されていることを示します。

---

### ステップ 3: データベースエイリアスの作成
1. **エイリアスタブに切り替え**:
   - 左側のパネルで **Aliases** タブをクリックして、データベース接続を管理します。

2. **新しいエイリアスを追加**:
   - **+** アイコンをクリックして「エイリアスの追加」ウィザードを開きます。

3. **エイリアスの構成**:
   - **名前**: 接続に名前を付けます（例：「My DB2 Database」）。
   - **ドライバー**: ドロップダウンから、ステップ 2 で構成した DB2 ドライバー（例：「IBM DB2 JCC ドライバー」）を選択します。
   - **URL**: データベースの接続 URL を以下の形式で入力します：
     ```
     jdbc:db2://<host>:<port>/<database>
     ```
     `<host>`（例：`localhost` またはサーバーの IP）、`<port>`（例：`50000`、DB2 のデフォルトポート）、`<database>`（データベース名）を実際の詳細に置き換えます。例：
     ```
     jdbc:db2://localhost:50000/mydb
     ```
   - **ユーザー名**と**パスワード**: DB2 データベースの資格情報を提供します。

4. **保存と接続**:
   - **OK** をクリックしてエイリアスを保存します。
   - エイリアスタブで新しいエイリアスをダブルクリックして接続します。パスワードを入力するように求められたら入力します。

---

### 潜在的な問題とその解決策
- **ライセンスエラー**:
  - 「IBM Data Server for JDBC and SQLJ ライセンスが無効です」といったエラーが表示された場合、ライセンス JAR（例：`db2jcc_license_cisuz.jar`）がドライバーの Extra Class Path に追加されていることを確認してください。
- **クラスが見つからないエラー**:
  - SQuirreL が「クラス com.ibm.db2.jcc.DB2Driver が見つかりません」と報告した場合、以下を確認してください：
    - `db2jcc.jar` ファイルが正しく Extra Class Path に追加されているか。
    - クラス名が `com.ibm.db2.jcc.DB2Driver` に設定されているか、タイポがないか。
- **複数の JAR の競合**:
  - Extra Class Path に複数の DB2 JDBC ドライバーのバージョン（例：`db2jcc.jar` と `db2jcc4.jar`）を含めないようにしてください。これは競合を引き起こす可能性があります。必要な DB2 バージョンの JAR だけを使用してください。
- **URL の形式が不正**:
  - 接続 URL の構文を二重確認してください。不正な URL（例：ポートが欠けている、データベース名が不正）は接続を防ぎます。

---

これらの手順に従うことで、SQuirreL SQL クライアントを `db2jcc.jar` ファイルを使用して構成し、DB2 データベースに成功して接続することができます。問題が発生した場合は、上記のトラブルシューティングのヒントを確認するか、データベースサーバーがネットワークからアクセス可能であることを確認してください。