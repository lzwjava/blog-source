---
audio: false
generated: true
lang: ja
layout: post
title: データリンク層
translated: true
type: note
---

**データリンク層**の章（中国自学試験システムの科目番号02141「コンピュータネットワーク技術」）を学ぶための詳細なチュートリアルです。

---

## **1. データリンク層の概要**
データリンク層は、**OSIモデル**の**第2層**であり、直接接続されたノード間での**信頼性のあるデータ転送**を提供する役割を担います。この層でのデータパケットであるフレームが正しくフォーマットされ、送信され、受信されることを保証します。

### **主な責任:**
- **フレーミング** – データを送信用のフレームにカプセル化する。
- **誤り検出と訂正** – 伝送エラーを検出し、修正する。
- **フロー制御** – 送信側が受信側を圧倒しないようにする。
- **媒体アクセス制御 (MAC)** – 複数のデバイスが伝送媒体を共有する方法を決定する。
- **交換技術** – ネットワーク間でのデータの移動を管理する。

---

## **2. フレーミング**
フレーミングは、連続したデータストリームを、同期情報を含むより小さな単位である**フレーム**に分割することを含みます。

### **フレーミング方式の種類:**
1.  **文字数方式** – フレームの先頭フィールドで文字数を指定する。
2.  **フラグベースのフレーミング (ビットスタッフィング)** – 特別なフラグビット（例：HDLCの `01111110`）を使用して開始と終了をマークする。
3.  **キャラクタベースのフレーミング (バイトスタッフィング)** – エスケープシーケンスを使用して、制御文字とデータを区別する。

---

## **3. 誤り検出と訂正**
誤り処理は、データ伝送が正確であることを保証します。

### **誤り検出技術:**
- **パリティビット** – 誤り検出のための追加ビットを使用する単純な方法。
- **巡回冗長検査 (CRC)** – 多項式除算を使用して誤りを検出する。
- **チェックサム** – データから計算された数学的な値で、正確性を検証する。

### **誤り訂正技術:**
- **前方誤り訂正 (FEC)** – 冗長データを使用して、再送信なしに誤りを訂正する。
- **自動再送要求 (ARQ)** – 肯定応答と再送信を使用する。
    - **Stop-and-Wait ARQ** – 次のフレームを送信する前に肯定応答を待つ。
    - **Go-Back-N ARQ** – 複数のフレームを送信するが、最初のエラーから再送信する。
    - **Selective Repeat ARQ** – 誤りのあるフレームのみを再送信する。

---

## **4. フロー制御**
フロー制御は、送信側が受信側を圧倒するのを防ぎます。

### **フロー制御方式:**
- **Stop-and-Wait** – 送信側は、次のフレームを送信する前に肯定応答を待つ。
- **スライディングウィンドウプロトコル** – 送信側は、肯定応答を必要とする前に複数のフレームを送信できる。

---

## **5. データリンク層プロトコル**

### **5.1 イーサネット (IEEE 802.3)**
**イーサネット**は、**IEEE 802.3標準**に基づく広く使用されているLAN技術です。

#### **イーサネットフレーム構造:**

| フィールド | 説明 |
|--------|------------|
| プリアンブル | 同期 |
| 宛先アドレス | 受信側のMACアドレス |
| 送信元アドレス | 送信側のMACアドレス |
| タイプ/長さ | プロトコルタイプ (IPv4, IPv6など) を識別 |
| データ | 実際のペイロード |
| CRC | 誤り検査値 |

#### **イーサネット伝送モード:**
- **半二重** – デバイスは交互にデータを送信する。
- **全二重** – デバイスは同時にデータを送受信できる。

---

### **5.2 ポイントツーポイントプロトコル (PPP)**
PPPは、**ダイヤルアップ接続やブロードバンド接続**で使用されます。

#### **PPPの特徴:**
- **認証のサポート** (例: PAP, CHAP)。
- **マルチプロトコルサポート** (例: IPv4, IPv6)。
- CRCによる**誤り検出**。

#### **PPPフレーム構造:**

| フィールド | 説明 |
|--------|------------|
| フラグ | フレームの開始と終了をマーク |
| アドレス | 通常は `0xFF` (ブロードキャスト) |
| 制御 | 通常は `0x03` (無番号情報) |
| プロトコル | 使用されるプロトコル (IPv4, IPv6など) を示す |
| データ | 実際のデータペイロード |
| CRC | 誤り検査 |

---

## **6. 媒体アクセス制御 (MAC) 方式**

### **6.1 衝突検出付きキャリア感知多元接続 (CSMA/CD)**
- **有線イーサネットネットワーク**で使用される。
- デバイスは送信前に媒体が空いているか確認する。
- **衝突が発生した場合**、デバイスは送信を停止し、ランダムな遅延後に再試行する。

### **6.2 衝突回避付きキャリア感知多元接続 (CSMA/CA)**
- **無線ネットワーク (Wi-Fi)** で使用される。
- デバイスはデータ送信前に待機することで衝突を回避しようとする。
- **Request-to-Send (RTS) と Clear-to-Send (CTS)** メカニズムを使用する。

---

## **7. 交換技術**
交換は、ネットワーク内でデータがどのように転送されるかを決定します。

### **7.1 回線交換**
- **専用の**通信経路が確立される (例: 電話網)。
- **利点**: 信頼性が高く、連続的なデータ転送。
- **欠点**: 断続的なデータ転送には非効率。

### **7.2 パケット交換**
- データは**パケットに分割**され、独立して送信される。
- **IPネットワーク** (例: インターネット) で使用される。
- **利点**: 効率的、複数のユーザーをサポート。
- **欠点**: パケットが順不同で到着する可能性がある。

### **7.3 メッセージ交換**
- メッセージ全体が保存され、転送される。
- **利点**: 専用接続が不要。
- **欠点**: パケット交換よりも遅い。

---

## **8. LAN技術の紹介**
LAN (ローカルエリアネットワーク) 技術は、ローカルネットワーク内でデバイスがどのように通信するかを定義します。

### **LAN技術の種類:**
1.  **イーサネット (IEEE 802.3)** – CSMA/CDを使用、10 Mbpsから100 Gbpsの速度をサポート。
2.  **Wi-Fi (IEEE 802.11)** – CSMA/CAを使用、無線伝送。
3.  **トークンリング (IEEE 802.5)** – トークンパッシング方式を使用してアクセスを制御。
4.  **FDDI (Fiber Distributed Data Interface)** – 高速ネットワーキングに光ファイバーケーブルを使用。

---

## **9. まとめ**
- **データリンク層**は、直接接続されたデバイス間での**信頼性のある伝送**を保証する。
- **フレーミング**はデータを管理可能な単位に整理する。
- **誤り検出と訂正**はデータの完全性を維持する。
- **フロー制御**はデータの過負荷を防ぐ。
- **イーサネットとPPP**は主要なデータリンク層プロトコルである。
- **CSMA/CDとCSMA/CA**は媒体アクセスを処理する。
- **交換技術**はデータ転送方法を決定する。
- **LAN技術**には、イーサネット、Wi-Fi、トークンリング、FDDIが含まれる。

---

## **10. 練習問題**
1.  OSIモデルにおけるデータリンク層の主な機能は何ですか？
2.  CSMA/CDとCSMA/CAを比較しなさい。
3.  回線交換とパケット交換の違いを説明しなさい。
4.  イーサネットとPPPの主な違いは何ですか？
5.  CRCを用いた誤り検出はどのように機能しますか？

---

このチュートリアルは、**コンピュータネットワーク技術 (02141)** コースにおける**データリンク層**を習得するための強固な基礎を提供します。さらなる説明、練習問題、または実世界の例が必要な場合は、お気軽にお尋ねください！🚀