---
audio: false
generated: true
image: false
lang: ja
layout: post
model: x-ai/grok-4-fast
title: enp4s0のip addr show出力の理解
translated: true
type: note
---

### `ip addr show enp4s0` の出力を分解する

このコマンドは、イーサネットインターフェース (enp4s0) の詳細情報を表示します。このインターフェースは、前に説明したルーティングテーブルから判断して、ローカルLAN接続を処理しているものです。インターフェースは起動して正常に動作しています—基本的な接続性には問題ありません。行ごとに解析した後、要約します。

#### 主要セクションの説明
- **インターフェースステータス**:  
  `2: enp4s0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000`  
  - インデックス 2 (lo に次ぐ2番目のインターフェース)。  
  - フラグ: ブロードキャスト/マルチキャストをサポート、完全に UP (リンク検出済み、動作中)。  
  - MTU: 1500 バイト (標準的なイーサネットフレームサイズ—ジャンボフレームなし)。  
  - キュー・ディシプリン: fq_codel (低遅延トラフィックのための公平キューイング、現代のLinuxで一般的)。  
  - 状態: UP (送受信の準備完了)。

- **リンク層 (MACアドレス)**:  
  `link/ether 04:7c:16:d9:54:5b brd ff:ff:ff:ff:ff:ff`  
  - ハードウェア MAC: 04:7c:16:d9:54:5b (このNICに固有)。  
  - ブロードキャスト: ff:ff:ff:ff:ff:ff (イーサネットブロードキャスト用のオール1)。

- **IPv4アドレス**:  
  `inet 192.168.1.35/24 brd 192.168.1.255 scope global dynamic noprefixroute enp4s0`  
  `valid_lft 4790sec preferred_lft 4790sec`  
  - IP: 192.168.1.35、/24 サブネット (255.255.255.0 マスク)。ルートテーブルの "src 192.168.1.35" と一致。  
  - ブロードキャスト: 192.168.1.255 (サブネット全体へのブロードキャスト用)。  
  - スコープ: global (このホストを超えてルーティング可能)。  
  - Dynamic: DHCP (192.168.1.1 のルーターから) によって割り当てられた。  
  - No prefix route: 接続されたルートを自動追加しない (ただし、カーネルは `ip route` で確認できる通り、とにかく追加した)。  
  - リース: 更新まで約79分 (4790 秒) 残っている。

- **IPv6アドレス**:  
  `inet6 fe80::a884:a0f6:e8b4:4a7d/64 scope link noprefixroute`  
  `valid_lft forever preferred_lft forever`  
  - リンクローカル IPv6: fe80::... (MACから自動生成; 近隣探索などのローカルリンク通信専用)。  
  - /64 プレフィックス、スコープ link (このインターフェースから外へはルーティング不可)。  
  - 永続的 (期限切れなし)。

#### クイックサマリーテーブル

| 観点       | 値/詳細                       | 意味合い |
|--------------|--------------------------------|---------------|
| **ステータス**  | UP, MTU 1500                  | インターフェースはアクティブで標準パケットを処理中。 |
| **MAC**     | 04:7c:16:d9:54:5b             | ワイヤ上のデバイスのハードウェアアドレス。 |
| **IPv4**    | 192.168.1.35/24 (DHCP)        | ローカルLAN IP; このサブネットへのルートは enp4s0 を経由。 |
| **IPv6**    | fe80::a884:a0f6:e8b4:4a7d/64  | ローカル専用IPv6; IPv6 近隣探索などに有用。 |
| **リース**   | 約79分残り                    | DHCPはすぐに更新される—必要なら `dhclient -r enp4s0 && dhclient enp4s0` で確認。 |

この設定により、デフォルトルートがインターネットアクセス向けにここを指し、ローカル 192.168.1.x トラフィックが直接通信される理由が説明できます。LAN内でpingを行う場合、ARPでMACを解決し、このインターフェースからフレームを送信します。

問題はありますか (例えば、IPv6グローバルアドレスがない、接続が断続するなど)？他のインターフェースの `ip addr` や `ping` の結果を共有していただければ、さらに深く調査できます。次は何をしましょうか—Dockerブリッジのテスト、それとも別のこと？