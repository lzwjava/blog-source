---
audio: false
generated: true
image: false
lang: ja
layout: post
title: GitHub Actionsのスケジュール不一致
translated: true
type: note
---

これはGitスタイル（例：GitHub Actions）のスケジュールトリガーです。詳しく見ていきましょう：

* **`on: schedule:`**
  ワークフローがpushやpull-requestイベントだけでなく、カレンダースケジュールに基づいて実行されることを指定します。

* **`- cron: '0 * * * *'`**
  標準的な5フィールドのcron式です：

  ```
  ┌──────── 分 (0)
  │ ┌────── 時 (*, つまり毎時)
  │ │ ┌──── 日 (*, つまり毎日)
  │ │ │ ┌── 月 (*, つまり毎月)
  │ │ │ │ ┌ 曜日 (*, つまり毎日)
  │ │ │ │ │
  0 * * * *
  ```

  → **毎時の0分に実行**（つまり00:00、01:00、02:00…23:00 UTC）、毎日実行されます。

* **しかし、上記のコメントには以下のように記載されています：**

  > UTC時間の月曜日から金曜日の05:00–13:00に毎時実行
  > 05:00–13:00 UTC = 北京時間13:00–21:00 (UTC+8)

  その意図（平日のみ、指定時間帯）を実現するには、実際にはより具体的なcron式が必要です。例えば：

  ```yaml
  on:
    schedule:
      - cron: '0 5-13 * * 1-5'
  ```

  これは以下の意味です：

  * 0分に、
  * UTC時間の5時から13時の間に、
  * 月曜日(1)から金曜日(5)に実行。

  北京時間(UTC+8)では、確かに現地時間の13:00–21:00、平日に対応します。

---

**要約：**

* 記載された形式（`'0 * * * *'`）では、**毎時0分に**、24時間365日実行されます。
* コメントで説明されている**平日のみ、05:00–13:00 UTC**の時間帯を実現したい場合は、cron式を変更して時間フィールドに`5-13`、曜日フィールドに`1-5`を含める必要があります。