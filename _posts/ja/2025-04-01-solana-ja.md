---
audio: false
generated: true
lang: ja
layout: post
title: ソラナ
translated: true
type: note
---

Solanaは、スケーラビリティと速度を重視して設計された高性能ブロックチェーンであり、グローバルな普及を目指しています。これを実現するために、8つの核心的な技術革新を独自に組み合わせています。以下は、Solanaの仕組みに関する技術的な解説です。

**核心的な原則と目標:**

*   **高スループット:** Solanaは、他の多くのブロックチェーンを大幅に上回る毎秒数万トランザクションの処理を目指しています。
*   **低い手数料:** アクセシビリティのために、低いトランザクションコストを維持することが重要な目標です。
*   **スケーラビリティ:** このアーキテクチャは、パフォーマンスを犠牲にすることなく、普及の拡大に合わせてスケールするように設計されています。

**「8つの革新」:**

Solanaは、しばしば「8つの革新」と呼ばれる一連の相互接続されたテクノロジーを通じてその性能を実現しています:

1.  **Proof of History (PoH):** これは、分散型の時計のように機能する重要な革新です。
    *   **仕組み:** PoHは高周波の検証可能遅延関数（VDF）です。VDFは計算にある一定の連続したステップを必要とし、その結果は効率的に検証できます。
    *   **Solanaの実装:** リーダー（次のブロックを提案するノード）はSHA-256ハッシュを連続的に計算します。これにより、イベント間にある程度の時間が経過したことを証明する歴史的記録が作成されます。
    *   **利点:** PoHは、個々のノードからのタイムスタンプに依存することなく、イベントの信頼できない検証可能な順序付けを提供し、コンセンサスに必要な通信オーバーヘッドを大幅に削減します。

2.  **Tower BFT:** Solanaのコンセンサスメカニズムは、PoHとTower BFT（ビザンチン障害耐性）と呼ばれる一種のProof of Stake（PoS）を組み合わせたハイブリッドアプローチです。
    *   **仕組み:** バリデータはレジャーの状態に対して投票します。PoHはグローバルクロックとして機能し、バリデータがPoHシーケンスに記録されたイベントのタイミングと順序について合意することを可能にします。
    *   **スラッシング:** 観測されたPoHの履歴に反する投票を行ったバリデータはペナルティ（スラッシング）を受ける可能性があり、誠実に行動するインセンティブとなります。
    *   **利点:** Tower BFTは、PoHによって提供される時間同期を活用して、高い障害耐性を持つ高速なコンセンサスを実現します。

3.  **Turbine:** これはSolanaのブロック伝播プロトコルです。
    *   **仕組み:** ブロック全体をすべてのノードに送信する代わりに、リーダーはブロックを小さなパケット（最大64,000まで）に分割します。各バリデータはリーダーからブロックの小さな部分を受け取り、その後、その部分をピアにゴシップ伝播します。
    *   **利点:** これにより、各バリデータの帯域幅要件が大幅に削減され、ブロック伝播におけるボトルネックなしに、より多くのノードへのネットワークの拡張が可能になります。

4.  **Gulf Stream:** これはSolanaのmempoolを使用しないトランザクション転送プロトコルです。
    *   **仕組み:** トランザクションがmempoolでブロックにバンドルされるのを待つのではなく、バリデータは受け取ったトランザクションを次に予想されるリーダーに転送します。これにより、次のリーダーは現在のブロックが確定する前であってもトランザクションの実行を開始できます。
    *   **利点:** トランザクションがパイプラインのずっと早い段階で処理されるため、トランザクションの確定時間が劇的に短縮されます。

5.  **Sealevel:** これはSolanaの並列トランザクション処理エンジンです。
    *   **仕組み:** Solanaは数千のトランザクションを複数のGPUコアにわたって並列処理できます。トランザクションは、読み取りと書き込みを行うアカウントを指定します。Sealevelはその後、重複しないトランザクションを識別し、それらを同時に実行できます。
    *   **利点:** これはハードウェアリソースの効率的な利用を可能にするため、Solanaの高スループットの重要な要素です。

6.  **Pipelining:** Solanaは、トランザクション処理パイプラインを段階（フェッチ、検証、実行、記録）に分割し、異なるトランザクションに対してこれらの段階を重ねることで最適化します。
    *   **仕組み:** 一連のトランザクションが実行されている間に、次のセットをフェッチでき、前のセットを記録できます。これにより、トランザクション処理の連続的な流れが生まれます。
    *   **利点:** これにより効率が最大化され、処理パイプラインのアイドル時間が削減されます。

7.  **Cloudbreak:** これはSolanaの水平スケーリングされたアカウントデータベースです。
    *   **仕組み:** Solanaの状態（すべてのアカウントとそのデータ）は、Cloudbreakと呼ばれる水平スケーリングされたデータベースに保存されます。これにより、ネットワーク全体で効率的な読み取りおよび書き込み操作が可能になります。
    *   **利点:** このアーキテクチャは、多数のアカウントと高いデータアクセス需要に対処できます。

8.  **Archivers:** これは、オフチェーンのレジャーストレージに対するSolanaのソリューションです。
    *   **仕組み:** 時間の経過とともに、ブロックチェーンレジャーは大幅に成長します。ネットワークの効率を維持するために、SolanaはArchiverノードのネットワークを使用して過去のレジャーデータを保存します。バリデータは定期的にレジャーの一部をArchiverに送信し、Proof of Replication（PoR）を使用してデータの完全性と可用性を保証します。
    *   **利点:** これにより、バリデータのストレージ負担が軽減され、新しいトランザクションの処理に集中できるようになります。

**トランザクションが処理される流れ（簡略化）:**

1.  ユーザーがトランザクションを送信します。
2.  トランザクションは、バリデータによって次に予想されるリーダーに転送されます（Gulf Stream）。
3.  リーダーはProof of Historyシーケンスに基づいてトランザクションを順序付けします。
4.  リーダーのノードは、複数のコアにわたってトランザクションを並列に実行します（Sealevel）。
5.  リーダーは、順序付けされ実行されたトランザクションとPoHシーケンスを含むブロックを作成します。
6.  ブロックは小さなパケットに分割され、バリデータに伝播されます（Turbine）。
7.  バリデータはブロックを検証し、その有効性について投票します（Tower BFT）。この際、PoHシーケンスを信頼できるタイムスタンプとして使用します。
8.  バリデータの過半数が合意すると、ブロックは確定されブロックチェーンに追加されます。

**主要な技術的側面:**

*   **Rustプログラミング言語:** SolanaのコアソフトウェアはRustで書かれており、そのパフォーマンス、安全性、並行性の特徴が、高性能ブロックチェーンインフラの構築に適しています。
*   **libp2p:** Solanaは、ノード間のピアツーピア通信にlibp2pネットワークライブラリを利用しています。

**他のブロックチェーンとの比較:**

多くの他のブロックチェーンがトランザクションを逐次処理するのとは異なり、Solanaの並列処理能力（Sealevel）とその分散型クロック（PoH）は、その高スループットと低レイテンシを可能にする重要な差別化要因です。他のブロックチェーンがセキュリティや分散化のトレードオフのような異なる側面に焦点を当てる一方で、Solanaはパフォーマンスを優先しています。

**強みとトレードオフ:**

*   **強み:** 非常に高速なトランザクション速度、低いトランザクション手数料、高いスケーラビリティの可能性。
*   **トレードオフ:** 複雑なアーキテクチャにより、バリデータのハードウェア要件が高くなる可能性があります。また、確立された古いブロックチェーンと比較して分散化のレベルについて過去に懸念がありましたが、ネットワークはこの点に関して絶えず進化しています。

結論として、Solanaは、タイムキーピングからトランザクション実行、データ伝播に至るブロックチェーンプロセスのあらゆる段階を最適化するために連携して動作する一連の革新的なテクノロジーを実装することで、その高性能を実現しています。