---
audio: false
generated: true
lang: ja
layout: post
title: SLF4JとLog4j
translated: true
type: note
---

SLF4J（提供された依存関係を使用）とLog4jの選択は、プロジェクトの要件によって異なります：

- **SLF4J (Simple Logging Facade for Java)**：
  - **長所**: ファサードとして機能し、コードを変更せずにロギングフレームワーク（Log4j、Logback、JULなど）を切り替えることが可能。軽量で柔軟、広く使用されています。共有された依存関係（`slf4j-api:2.0.17`）は、2025年6月時点での最新のSLF4J APIです。
  - **短所**: 実際にログを出力するにはバインディング（`slf4j-simple`、`logback-classic`、`log4j-slf4j-impl`など）が必要。抽象化レイヤーが追加されます。
  - **使用例**: 後でロギング実装を変更できる柔軟性が欲しいライブラリやアプリケーションに最適。モダンで高性能なセットアップにはLogbackとの組み合わせが推奨されます。

- **Log4j (Apache Log4j 2)**：
  - **長所**: 非同期ロギング、カスタムアペンダー、高性能など、高度な機能を備えた本格的なロギングフレームワーク。Log4jにコミットする場合はファサードが不要です。最新バージョン（2025年6月時点）は`2.24.1`です。
  - **短所**: Log4jの実装への結合が強い。SLF4Jとバインディングを組み合わせた場合より若干重い。歴史的にセキュリティ問題（2021年のLog4Shellなど）がありましたが、最近のバージョンでは対策されています。
  - **使用例**: 豊富な機能が必要で、Log4jへの直接依存を許容できるアプリケーションに適しています。

**推奨事項**：
- ほとんどのプロジェクトでは、**SLF4J**を**Logback**（`ch.qos.logback:logback-classic:1.5.12`）などのバインディングと組み合わせて使用してください。柔軟性が高く、モダンで、Log4jにロックインされることを避けられます。
- Log4j 2の特定の高度な機能が必要で、そのエコシステムを許容できる場合は、直接**Log4j 2**を選択してください。

SLF4JとLog4jをバックエンドとして使用したい場合は、以下を追加します：
```xml
<dependency>
    <groupId>org.apache.logging.log4j</groupId>
    <artifactId>log4j-slf4j2-impl</artifactId>
    <version>2.24.1</version>
</dependency>
<dependency>
    <groupId>org.apache.logging.log4j</groupId>
    <artifactId>log4j-core</artifactId>
    <version>2.24.1</version>
</dependency>
```

**注意**: 競合するバインディング（例：`slf4j-simple`と`logback-classic`）がクラスパス上に存在しないことを確認し、実行時問題を回避してください。