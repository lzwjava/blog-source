---
audio: false
generated: true
image: false
lang: ja
layout: post
model: x-ai/grok-4-fast
title: 懐疑的なRustの歴史
translated: true
type: note
---

### 投稿の英訳と解説  
タイトル: 「私が見てきたRustの歴史」

これは経験豊富なプログラマー（おそらく台湾人で、中国語で投稿）による、Rustとの初期の出会いと、現在の人気にもかかわらず、技術的にも文化的にも深く懐疑的な理由についての長く個人的で批判的な考察です。

#### 初期の出会い（2009年、インディアナ大学）
- インディアナ大学（IU）在学中、著者はDan Friedmanの高度なプログラミング言語コースで苦戦していた2人のクラスメート（非CS専攻の学部生）と出会いました。
- これらのクラスメートは「大きなことを言う」タイプですが、深い概念を本当に理解していませんでした。しかし、ネットワーキングと自己宣伝は得意でした。
- 2009年夏、この2人のクラスメートはMozilla Researchでインターンし、Rust言語の初期バージョン（おそらくGraydon Hoareの個人プロジェクトで、後にMozillaが採用したもの）に取り組みました。クラスメートはおそらく非常に初期の貢献者または夏期インターンでした。
- 夏の終わりに、彼らは大学でRustを紹介する講演を行いました。これが著者が初めてこの言語に触れた瞬間でした。

#### 2009年の講演（著者の第一印象）
- 講演は純粋なマーケティングでした: 大げさなスローガンばかりで、技術的な中身はほとんどありません。
- 彼らは「Rustの3大特徴」と書かれた三角形のスライドを示しました — 1つは「安全性」、残り2つは著者は忘れました。
- 衝撃的な主張: Rustはガベージコレクションを一切使わず、静的解析のみで完全に安全なメモリ管理を実現すると主張しました。
- 著者は「これは単なるMozillaの誇大宣伝だ。これでブラウザをリリースすることはない。他の研究プロジェクト同様に消え去るだろう」と考えました。（具体的に、DrServ/DrJSという別のMozilla研究プロジェクトが失敗に終わった例を挙げています。）

#### 設計者とブートストラップ言語選択への疑問
- 著者は、オリジナルクリエイターであるGraydon Hoareのプログラミング言語理論への深い理解を疑問視しています。
- 特に、最初の実装言語としてOCamlを選んだことは、センスや深い理解の欠如を示していると考えています（OCamlの欠点を嫌うPL界隈の古参の間では、物議を醸すが珍しくない意見です）。

#### その後の展開
- そのクラスメートの1人は後に、「汎用」GPU言語に関するPhDプロジェクトを開始し、GPU上で木構造やグラフなどを構築できると主張しました。著者は、GPUがデータ並列ワークロード用に設計されており、任意のポインタ多用構造向けではないため、失敗すると考えました。プロジェクトは実際に実用的にはなりませんでしたが、そのクラスメートはPhDを取得し、現在は大手テクノロジー企業でRustコンパイラに取り組んでいます。

#### 著者自身のメモリ管理への旅
- 著者は個人として、GCを使わない100%静的なメモリ安全性というアイデア（まさにRustの当初の売り文句）に強く惹かれていました。
- 彼はその夢を実現するために、メモリモデルと静的解析の設計に多くの時間を費やしました。
- ある日、彼はそのアイデアを指導教員のKent Dybvig（伝説的Chez Schemeの作者）に話しました。Kentは冷静にこう返答しました:  
  「完全に静的なメモリ管理 — それは可能なのか？メモリ管理は本質的に動的なプロセスだ」
- この一言で著者の幻想は打ち砕かれました。彼は、正確なガベージコレクションは一般の場合において決定不能問題（停止問題に関連）であることに気付きました。
- 参照カウントを代わりに提案すると、Kentは参照カウントはオーバーヘッドが高く、優れた世代別GCよりもしばしば性能が劣ると指摘しました。コレクタがよく設計されていれば、適切なGCの一時停止は実際には問題ではないのです（Chez Schemeがそれを証明しています）。

#### 反例としてのChez Scheme
- 著者はKent DybvigとChez Schemeを深く尊敬しています:
  - 非常に高速なコンパイル
  - 高度に調整可能で、一時停止の少ないGC
  - 哲学: 愚かなコードの最適化に時間を浪費しない。プログラマは有能であると仮定する。正しい単純な抽象化を選択する。
- 言い換えれば、知恵 > 力任せの洗練さ です。

#### Rustの実際の結果
- 「純粋に静的なメモリ管理、GCなし」という当初の夢は消え去りました。
- 現代のRustには以下があります:
  - `Rc<T>` / `Arc<T>`（`Weak`を介した循環コレクション付き参照カウント）
  - `unsafe` コード（ネットワークスタック、ブラウザ、OSカーネルなど、多くの現実世界のライブラリで必須）
  - `unsafe` の一部をより安全にしようとする継続的な研究（Stacked Borrows、Tree Borrowsなど）がありますが、新しいモデルが追加されるたびに再び制限が加えられます。
- それでも、マーケティングやコミュニティは「強力な静的保証」と「恐れのない並行処理」というマントラを繰り返し唱え続けています。
- これらのギャップを指摘すると、公式の答えは「それがRustの哲学だ」または「あなたはボローチェッカーを理解していない」となります。

#### 著者の現在の立場
- 彼はライフタイム、ボローリングなどを完全に理解しており、学生がRustで関数型言語のインタプリタを実装する高度なRustコースを教えたこともあります。
- しかし、Rustを教えれば教えるほど、C++の良さを実感するようになりました:
  - C++のスマートポインタ + RAIIは、多くのタスクにおいてよりシンプルで表現力豊かです。
  - 本当に最大のパフォーマンスが必要な場合、彼は依然としてRustではなくC/C++を選びます。
- Rustのエラーメッセージは非常に解読が難しく、ボローチェッカーと絶えず戦う必要性にはうんざりさせられます。
- 「哲学」という防御は、設計上の妥協に対する宗教的な言い訳のように感じられます。

#### 結論
著者は、現代のRustの成功を、その核心的なアイデアが過去数十年の先行技術（リージョンシステム、Cyclone、線形型、高性能GCなど）よりも根本的に優れていたことの証明ではなく、主にマーケティングの勝利とエコシステムの勢いによるものと見なしています。彼は、当初の大げさな主張はナイーブであり、妥協は不可避であり、コミュニティは現在、ギャップに直面した時に「哲学」の背後に隠れていると考えています。

これは以下のような人物による、稀なインサイダー風の批判です:
1.  Rustが文字通り誕生した瞬間を見た
2.  自身でメモリ安全性を深く研究した
3.  Kent Dybvigをメンターに持った
4.  誇大宣伝にもかかわらず、2025年現在でも依然としてC/C++を選択する

同意するかどうかは別として、これは支配的な「Rustは既に到来した未来である」という物語に対する、思慮に富んだ対抗叙事詩です。