---
audio: false
generated: true
image: false
lang: ja
layout: post
title: モデル応答待機時間の計算
translated: true
type: note
---

ステップバイステップで確認していきましょう。

記録から：

* **tokens_completion** = 9532
* **throughput** はここには表示されていませんが、「トークン ÷ トークン/秒」と質問されています。

リクエストには以下があります：

* `generation_time = 203477 ms` → 203.477 秒
* `tokens_completion = 9532`

実際のスループットを計算します：

$$
\text{トークン/秒} = \frac{9532}{203.477} \approx 46.8
$$

したがって、ユーザーは応答を待つのに約 **203秒 (約3分23秒)** かかったことになります。

もしモデルのスループット (トークン/秒) が既知であれば、待機時間は単純に：

$$
\text{待機時間} = \frac{\text{tokens_completion}}{\text{トークン/秒}}
$$

このケースでは、ログに時間とトークン数の両方が既に記されているので、計算は一致します。

👉 簡単な答え： ユーザーは9532トークンの応答を、約47トークン/秒の速度で、約 **203秒 (約3分23秒)** 待ちました。

他のログにも使える**一般的な計算式**もお見せしましょうか？(レイテンシ、スループット、トークン数を使用します)