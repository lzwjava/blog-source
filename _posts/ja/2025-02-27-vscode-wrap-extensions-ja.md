---
audio: false
generated: true
lang: ja
layout: post
title: 特定のファイル拡張子のみでワードラップを有効にする
translated: true
type: note
---

Visual Studio Code（VS Code）で特定のファイル拡張子に対してのみワードラップを有効にする方法についてお問い合わせと存じます。以下に設定方法をご説明します：

1. **VS Codeの設定を開く**：
   - `Ctrl + ,`（macOSの場合は `Cmd + ,`）を押して設定を開くか、`ファイル > 基本設定 > 設定`に進みます。

2. **JSON設定ファイルを使用する**：
   - 設定UIで右上隅の`{}`アイコンをクリックし、`settings.json`ファイルを開きます。これにより、より詳細な制御が可能になります。

3. **ファイルタイプごとにワードラップを設定**：
   - `"[filetype]": {}`構文を使用して、特定のファイル拡張子に対する設定を指定します。例えば、`.md`（Markdown）ファイルと`.txt`（テキスト）ファイルに対してのみワードラップを有効にするには、次のように追加します：

   ```json
   {
       "editor.wordWrap": "off", // デフォルト：すべてのファイルでラップなし
       "[markdown]": {
           "editor.wordWrap": "on" // .mdファイルでのみラップを有効化
       },
       "[plaintext]": {
           "editor.wordWrap": "on" // .txtファイルでのみラップを有効化
       }
   }
   ```

4. **説明**：
   - `"editor.wordWrap": "off"`は、グローバルなデフォルトをラップなしに設定します。
   - `"[markdown]"`および`"[plaintext]"`は、Markdownファイルおよびプレーンテキストファイルに対する言語識別子です。対象とするファイル拡張子に基づいて、`[javascript]`や`[python]`など他の言語識別子に置き換えることができます。
   - `"editor.wordWrap": "on"`は、それらの特定のファイルタイプに対してラップを有効にします。

5. **言語識別子の確認方法**：
   - ファイル拡張子に対する言語識別子が不明な場合は、そのタイプのファイルをVS Codeで開き、右下隅の言語モード（例：「Plain Text」や「Python」）をクリックし、言語を選択する際のコマンドパレットに表示される識別子を確認してください。

6. **保存とテスト**：
   - `settings.json`ファイルを保存すると、VS Codeは設定を直ちに適用します。異なる拡張子のファイルを開いて動作を確認してください。

このアプローチにより、指定したファイルタイプに対してのみワードラップが有効になり、他のすべてのファイルは影響を受けません。特定の拡張子についてサポートが必要な場合はお知らせください。

---

Visual Studio Codeで`.log`ファイルを扱い、それらに対して特にワードラップを有効にしたい場合、VS Codeがこれらのファイルを別個の言語モードとして認識するようにする必要があります。デフォルトでは、`.log`ファイルは`[log]`のような一意の言語識別子を持たない場合があります—多くの場合、プレーンテキスト（`[plaintext]`）として扱われます。しかし、この動作を設定することができます。以下にその方法を示します：

### オプション1：`.log`ファイルがプレーンテキストの場合に`[plaintext]`を使用する
`.log`ファイルがプレーンテキストとして認識されている場合（`.log`ファイルを開いたときにVS Codeの右下隅の言語モードを確認）、単純に`[plaintext]`を使用できます：

```json
{
    "editor.wordWrap": "off", // デフォルト：ラップなし
    "[plaintext]": {
        "editor.wordWrap": "on" // .txtおよび.logファイル（プレーンテキストとして認識される場合）で有効化
    }
}
```

- **注意**：これはすべてのプレーンテキストファイル（例：`.txt`、`.log`）に適用されます。範囲が広すぎる場合は、オプション2に進んでください。

### オプション2：`.log`ファイルをカスタム言語モードに関連付ける
`[log]`を特定の識別子として機能させたい場合、VS Codeに`.log`ファイルを「Log」言語モードに関連付けるように指示する必要があります。方法は以下の通りです：

1. **Logファイル拡張機能をインストール（オプション）**：
   - VS Code Marketplaceから「Log File Highlighter」などの拡張機能をインストールします。この拡張機能は、多くの場合、`.log`ファイルに特定の言語モード（例：`log`）を割り当てます。
   - インストール後、`.log`ファイルの言語モード（右下隅）を確認します。「Log」または類似の表示がある場合、`[log]`を直接使用できます。

2. **手動で`.log`ファイルを関連付ける**：
   - 拡張機能を使用したくない場合は、`settings.json`の`files.associations`を介して`.log`を言語モードに関連付けることができます：
   ```json
   {
       "files.associations": {
           "*.log": "log" // .logを「log」言語モードに関連付け
       },
       "editor.wordWrap": "off", // デフォルト：ラップなし
       "[log]": {
           "editor.wordWrap": "on" // .logファイルのみで有効化
       }
   }
   ```
   - **注意点**：`log`言語モードが存在する必要があります（例：拡張機能またはVS Codeによって提供される）。存在しない場合、VS Codeはプレーンテキストにフォールバックする可能性があり、さらなるカスタマイズなしでは`[log]`は期待通りに機能しません。

3. **言語モードを確認**：
   - `.log`ファイルを開き、右下隅の言語モードをクリックして、何に設定されているかを確認します。変更後に`log`になっている場合、`[log]`は機能します。まだ`plaintext`の場合は、`[plaintext]`を使用するか、関連付けを調整してください。

### オプション3：ファイルパターンで微調整（最も正確）**
最終的な制御のために、`"files.associations"`設定を使用して`.log`ファイルを特定し、その後、`.log`に対してのみ`plaintext`のようなフォールバック言語モードに依存することができます：

```json
{
    "files.associations": {
        "*.log": "plaintext" // .logファイルをプレーンテキストとして扱うように強制
    },
    "editor.wordWrap": "off", // デフォルト：ラップなし
    "[plaintext]": {
        "editor.wordWrap": "on" // .log（および必要に応じて.txt）で有効化
    }
}
```

- **`.txt`を除外する場合**：`.log`にはラップを適用し、`.txt`には適用しないようにしたい場合は、カスタム拡張機能またはより高度な設定（例：一意の`log`モードを定義するVS Code拡張機能）が必要です。VS Codeは追加の設定なしでは、ネイティブで`.log`と`.txt`を区別しません。

### `[log]`を直接テストする
（拡張機能またはVS Codeの組み込み動作により）`[log]`がそのまま機能するか不明な場合は、以下を試してください：

```json
{
    "editor.wordWrap": "off",
    "[log]": {
        "editor.wordWrap": "on"
    }
}
```

`.log`ファイルを開き、ラップが適用されるか確認してください。適用されない場合、言語モードは`log`ではなく、上記のオプションのいずれかを使用する必要があります。

### 推奨事項
- **最も簡単**：`.txt`と`.log`の両方のラップが問題ない場合は、`[plaintext]`を使用します。
- **特定**：「Log File Highlighter」拡張機能をインストールし、モードが`log`であることを確認して、`[log]`を使用します。
- あなたの`.log`ファイルが表示する言語モードをお知らせいただければ、さらに解決策を絞り込むことができます！

---

以下の設定をテストしたところ、正常に動作しました。

```json
   {
       "editor.wordWrap": "off", // デフォルト：ラップなし
       "[log]": {
           "editor.wordWrap": "on" // .logファイルのみで有効化
       }
   }
```