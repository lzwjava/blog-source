---
audio: false
generated: true
lang: ja
layout: post
title: Kong Insomnia GUIの機能の活用
translated: true
type: note
---

Kong Insomniaは、API開発を簡素化する堅牢なグラフィカルユーザーインターフェース（GUI）を提供します。以下は、Insomnia GUI内で **params**、**body**、**auth**、**cookies**、**certificates**、**settings**、**proxy** を使用する方法に関する詳細なガイドです。

---

#### 1. **Params (クエリパラメータ)**  
クエリパラメータは、通常GETリクエストでURLにデータを追加するために使用されます。

- **使用方法**:  
  - **Debugタブ**を開き、リクエスト（例: GET）を選択または作成します。  
  - URLフィールドの横にある**Query**タブをクリックします。  
  - クエリパラメータのキーと値のペアを追加します。例えば、`key`に「id」、`value`に「123」を入力すると、URLに `?id=123` が追加されます。  
  - 環境変数を使用するには、値フィールドに `{{variableName}}` と入力します（例: `{{userId}}`）。  
  - 各ペアの横にあるチェックボックスを切り替えて、特定のパラメータを有効または無効にします。

- **例**:  
  `https://api.example.com/users?id=123` のようなURLの場合、以下を追加します:  
  - キー: `id`  
  - 値: `123`  
  Insomniaは自動的にクエリ文字列を含むURLを整形します。

---

#### 2. **Body**  
ボディは、POSTやPUTなどのリクエストでデータを送信するために使用されます。

- **使用方法**:  
  - **Debugタブ**で、リクエスト（例: POSTまたはPUT）を選択します。  
  - URLフィールドの下にある**Body**タブに切り替えます。  
  - ドロップダウンからボディタイプを選択します:  
    - **JSON**: JSONデータを入力します（例: `{"name": "John", "age": 30}`）。  
    - **Form URL-Encoded**: クエリパラメータと同様に、キーと値のペアを追加します。  
    - **Multipart Form**: ファイル添付を含むフォーム用に、フィールドを追加したりファイルをアップロードしたりします。  
    - **Raw**: プレーンテキストやその他の形式（例: XML）を入力します。  
  - ボディコンテンツ内に `{{variableName}}` と入力して環境変数を使用します。

- **例**:  
  JSONを送信するPOSTリクエストの場合:  
  - ドロップダウンから**JSON**を選択します。  
  - 以下を入力: `{"name": "John", "age": "{{userAge}}"}`。  
  Insomniaは自動的に `Content-Type` ヘッダーを `application/json` に設定します。

---

#### 3. **Auth (認証)**  
認証設定を使用すると、リクエストに資格情報やトークンを含めることができます。

- **使用方法**:  
  - **Debugタブ**で、リクエストを選択します。  
  - **Auth**タブに移動します。  
  - ドロップダウンから認証タイプを選択します:  
    - **Basic Auth**: ユーザー名とパスワードを入力します。  
    - **Bearer Token**: トークン（例: JWT）を貼り付けます。  
    - **OAuth 2.0**: OAuthフロー用にクライアントID、シークレット、その他の詳細を設定します。  
    - **API Key**: キーと値のペアを追加します（例: キー: `Authorization`, 値: `your-api-key`）。  
  - Insomniaは認証の詳細をリクエストヘッダーに自動的に追加します。

- **例**:  
  Bearerトークンの場合:  
  - **Bearer Token**を選択します。  
  - トークン（例: `abc123xyz`）を貼り付けます。  
  リクエストヘッダーには `Authorization: Bearer abc123xyz` が含まれます。

---

#### 4. **Cookies**  
Cookieは自動的に管理されますが、手動で表示または編集できます。

- **使用方法**:  
  - Insomniaはサーバー応答から受信したCookieをワークスペースごとに保存します。  
  - Cookieを管理するには:  
    - **Preferences** (Ctrl + , または macOSでは Cmd + ,) に移動します。  
    - **Data** > **Cookie Jar**に移動します。  
    - 必要に応じてCookieを表示、編集、または削除します。  
  - Cookieは同じワークスペース内のリクエスト間で保持され、後続のリクエストで自動的に送信されます。

- **ヒント**:  
  特定のCookieでテストする必要がある場合は、関連するドメインの**Cookie Jar**で手動で追加します。

---

#### 5. **Certificates**  
クライアント証明書は、相互TLS認証を必要とするHTTPSリクエストに使用されます。

- **使用方法**:  
  - **Preferences** (Ctrl + , または Cmd + ,) に移動します。  
  - **Certificates**セクションを選択します。  
  - **Add Certificate**をクリックします:  
    - 証明書ファイル（例: `.pem`、`.crt`）を指定します。  
    - 秘密鍵ファイルと、必要に応じてオプションのパスフレーズを追加します。  
    - 証明書を特定のホスト（例: `api.example.com`）に関連付けます。  
  - Insomniaは指定されたホストへのリクエストにこの証明書を使用します。

- **例**:  
  証明書を必要とする `api.example.com` の場合:  
  - `client.crt` と `client.key` をアップロードします。  
  - ホストを `api.example.com` に設定します。  
  このドメインへのリクエストには証明書が含まれます。

---

#### 6. **Settings**  
設定を使用すると、Insomniaの動作をカスタマイズできます。

- **使用方法**:  
  - **Preferences** (Ctrl + , または Cmd + ,) からアクセスします。  
  - 主なオプションは次のとおりです:  
    - **Theme**: ライト、ダーク、またはシステムデフォルトを切り替えます。  
    - **Proxy**: プロキシ設定を構成します（後述）。  
    - **Plugins**: 追加機能（例: カスタムレスポンスフォーマッタ）をインストールします。  
    - **Data**: APIキーなどの機密データを安全に保存するためのLocal Vaultを管理します。  

- **ヒント**:  
  機密値（例: トークン）をハードコーディングする代わりに、**Local Vault**を使用して安全に保存します。

---

#### 7. **Proxy**  
プロキシは、指定されたサーバーを介してリクエストをルーティングします。デバッグや企業ネットワークに便利です。

- **使用方法**:  
  - **Preferences** > **Proxy**に移動します。  
  - プロキシを有効にし、プロキシサーバーの詳細（例: `http://proxy.example.com:8080`）を入力します。  
  - グローバルに使用する場合は、ここで保存します。  
  - リクエストごとのプロキシ設定の場合:  
    - **Debugタブ**でリクエスト名の横にある歯車アイコンをクリックします。  
    - リクエスト固有の設定でプロキシ設定を上書きします。  

- **例**:  
  企業プロキシを介してリクエストをルーティングする場合:  
  - **Preferences**でプロキシを有効にします。  
  - Proxy URLを `http://proxy.example.com:8080` に設定します。  
  上書きされない限り、すべてのリクエストがこのプロキシを使用します。

---

### まとめ  
Insomnia GUIでこれらの機能を使用する方法の簡単な復習です:  
- **Params**: GETリクエストの**Query**タブでクエリパラメータを追加します。  
- **Body**: POST/PUTリクエストで**Body**タブからデータを送信し、フォーマットを選択します。  
- **Auth**: 安全なリクエストのために**Auth**タブで認証を設定します。  
- **Cookies**: **Preferences** > **Cookie Jar**でCookieを管理します。  
- **Certificates**: HTTPS用に**Preferences** > **Certificates**でクライアント証明書を追加します。  
- **Settings**: **Preferences**でInsomniaをカスタマイズします（テーマ、プラグインなど）。  
- **Proxy**: **Preferences**またはリクエストごとにプロキシを構成します。  

これらの機能を活用することで、Kong InsomniaでAPIを効率的にテストおよびデバッグできます。各セクションを試して、ワークフローを調整してください！