---
audio: false
generated: true
image: false
lang: ja
layout: post
model: x-ai/grok-4-fast
title: WebSphere Application ServerにおけるJMSキュー
translated: true
type: note
---

### Java Message Service（JMS）概要
Java Message Service（JMS）は、Javaアプリケーション間でメッセージを送信するための標準APIであり、非同期通信を可能にします。2つの主要なメッセージングパターン、ポイントツーポイント（キューを使用）とパブリッシュ/サブスクライブ（トピックを使用）をサポートしています。IBM WebSphere Application Server（WAS）では、JMSが統合されてエンタープライズアプリケーション内のメッセージングを処理し、組み込みのデフォルトメッセージングプロバイダーやIBM MQなどの外部プロバイダーが使用されます。

### JMSにおけるキュー
JMSにおいて、**キュー**は**ポイントツーポイントメッセージング**に使用される宛先の一種です。以下に詳細を示します：
- **目的**：キューに送信されたメッセージは、正確に1つのコンシューマー（受信者）に配信されます。これは、タスク分散やリクエスト-レスポンスパターンなど、メッセージが単一のアプリケーションまたはコンポーネントによって処理される必要があるシナリオに理想的です。
- **主な特性**：
  - **FIFO（先入れ先出し）**：メッセージは通常、到着順に処理されますが、JMSでは優先順位付けも可能です。
  - **永続性**：メッセージは永続的（耐久性を持って保存）または非永続的にでき、障害発生時の信頼性を確保します。
  - **コンシューマー**：複数のコンシューマーをキューに接続できますが、各メッセージは1つのコンシューマーによってのみ消費されます。利用可能なコンシューマーがない場合、メッセージは処理されるまでキューに蓄積されます。
- **関連するコンポーネント**：
  - **キュー送信者/プロデューサー**：キューにメッセージを送信します。
  - **キュー受信者/コンシューマー**：キュー上のメッセージをポーリングまたはリッスンします。
  - **接続ファクトリー**：JMSプロバイダーへの接続を作成するために使用されます。

### IBM WebSphere Application Serverにおけるキュー
IBM WASでは、JMSキューはサーバーのメッセージングインフラストラクチャ内のリソースとして構成されます。WASは以下をサポートします：
- **デフォルトメッセージングプロバイダー**：軽量メッセージングのための組み込みJMSエンジン。
- **IBM MQとの統合**：より堅牢でスケーラブルなキューイングのため。

#### 構成の基本
WASでキューを使用するには：
1. **JMSバスの作成**：メッセージルーティングのためのサーバーの論理的なグループ化。
2. **バスメンバーの追加**：アプリケーションサーバーをバスに含めます。
3. **キュー宛先の作成**：キュー（例：名前、JNDIバインディング）を定義し、バスにリンクします。
4. **接続ファクトリーの設定**：プロデューサー/コンシューマーが接続するため。
5. **アクティベーション仕様**：メッセージ駆動型Bean（MDB）がキューから自動的に消費するため。

キューは、WAS管理コンソールを介して深度、経過時間、スループットを監視できます。例えば、コード内で検索するためのJNDI名`jms/queue/MyQueue`を持つ`MyApp.Queue`という名前のキューを作成する場合があります。

#### 使用例
銀行アプリケーションでは、キューがトランザクションリクエストを処理する可能性があります：フロントエンドがキューにメッセージを送信し、バックエンドのMDBがそれを1つずつ処理し、重複がないことを保証します。

詳細な設定については、IBMのドキュメントを参照してください。

### 参考文献
- [Configuring Java Message Service for WebSphere Application Server](https://www.ibm.com/docs/en/mfci/7.6.2?topic=clusters-configuring-jms-websphere-application-server)
- [Queue Collection in WebSphere Application Server](https://www.ibm.com/docs/en/was/8.5.5?topic=s-queue-collection)