---
audio: false
generated: true
image: false
lang: ja
layout: post
model: anthropic/claude-4.5-sonnet
title: TCPとUDPの接続の違い
translated: true
type: note
---

あなたの直感は正しいです！主な違いを明確にしましょう：

## TCPコネクション

TCPコネクションが（3ウェイハンドシェイクによって）**確立**されると、両側が互いについての**状態情報**を維持します：

**各側が保存する情報：**
- **リモートIPアドレスとポート**（誰と通信しているか？）
- **ローカルIPアドレスとポート**（自分のエンドポイント）
- **シーケンス番号**（順序制御と信頼性のため）
- **ウィンドウサイズ**（フロー制御のため）
- **コネクション状態**（ESTABLISHED、CLOSINGなど）

つまり、「接続されている」とは、クライアントとサーバーの両方がこの特定の通信を追跡するためにメモリとリソースを割り当てていることを意味します。彼らは互いについて認識しており、コネクションが閉じられるまでこの関係を維持します。

## UDP - コネクションレス

UDPは**コネクションレス**です。ハンドシェイクも保存された状態もありません：

- クライアントは単にIP:ポートにパケットを送信する
- サーバーはそれを受信して処理する
- **どちらの側も関係情報を一切維持しない**
- 各パケットは独立している
- 非常に軽量 - コネクションごとのメモリオーバーヘッドなし

## 主な違い

**TCP:** 「こんにちは、私はクライアントXです。話しましょう。こちらが私の情報です。あなたの情報も把握しました。これで接続されました。」→ **ステートフル**

**UDP:** 「アドレスY:ポートZへのパケットです」→ 送信して忘れる → **ステートレス**

UDPがはるかに軽量であるというあなたの認識はまったく正しいです。なぜなら、維持するコネクション状態も、管理するバッファも、追跡する確認応答もないからです。トレードオフとして、TCPは信頼性、順序制御、フロー制御を提供しますが、UDPは速度とシンプルさを提供します。