---
audio: false
generated: true
lang: ja
layout: post
title: AIはプログラミングスキルを代替できない
translated: true
type: note
---

https://weibo.com/6347862377/5183583601819943

---

最近网络上的虚假信息实在太多，说什么AI（LLM）多么擅长编程，不用写一行代码就能完成项目。根据我大量使用ChatGPT，Claude，Copilot和最近Cursor的实际经验，一个不会编程的人想用AI成功完成项目，几乎是一种幻想。

就算会编程，但如果没有很深的计算机科学功底，没有能力写出极其简单，逻辑严密的程序，那也不可能用AI写出“王垠水准”的代码。有人惊奇王垠也用AI？当然了，我为什么不用呢？我用得不少，而且比一般人用得更有效。去年CS5后期，我就给学生演示过用Copilot完成代码。但我并不建议班上的学生使用这些工具，因为他们缺乏辨别代码好坏的能力，使用AI会明显的阻碍他们的思考和进步。但我能控制它，所以我可以用。

过去一个月，Cursor为我生成了超过6万行代码。猜猜我接受的有多少？不到5千行。它经常跑偏，不理解抽象，反复重复同样的逻辑，甚至把我手工调整过的部分给“纠正”了，把之前纠正的错误又改回去。它写很多复杂的测试，它自己都看不懂，最后无法理解为什么测试“不通过……”

前几天我新建一个项目，耗费了我超过20个小时对它进行“讲解”，生成了超过2万行代码。最后它变得复杂到无法修复，我只好决定完全重来。它甚至欢呼“成功！”，还一条一条列出“成果”，完全无视那些根本性的，毫无意义的错误。我反复指出问题，它却一直回答“哦，我明白了！”，“这次我找到问题的根源了！”，然而全都是空话…… 因为无法纠正，就只能自欺欺人？

我使用的模型是最新的Claude 4 sonnet。GPT 4.1更差，几乎没法用来修改代码。Claude opus太贵太慢，而且我试用下来，似乎并不比sonnet好多少。有人提供Cursor配置“指南”，说只要把这些写进.cursorrules就行了。我当然试过了，没用的。它不满足你要求的任何东西，连我刚提出来的要求，有时候都可以无视。人们以为AI能看懂大量复杂的代码，然而一次又一次的经验告诉我，它不能。

没人能看懂混乱的代码，王垠也不能。你给AI几次指示，生成的代码组合起来，它就开始重复和混乱。AI无法理解这代码里的规律和相似性，它可能根本没看其中某些代码。所以它无法简化这样的代码，甚至看不出哪里可以简化。有几次我明确标记了行号，指出“这部分可以简化”。它回答：“是的！我来帮你简化！” 结果最后它的理解完全是另一回事，它跑去把本来正确的部分给“纠正”了，代码一点没简化。

别误会，用AI做事并不是总是失败，其实小规模经常成功。有时候它还真能把事情搞定，但你必须知道如何控制它。我举这个例子只是想说明，就算王垠用AI写代码也经常失败。它显然不像广告里说的那样，你只要告诉它做什么就行了。我描述的已经非常详细了，它还是做不好。王垠的描述能有多详细？看看王垠的文章就知道了。

有人说不要目标太高太快，要有策略。我当然知道了，我很有策略。你以为我之前的成功项目，没有智慧和策略能完成吗？所谓的策略，就是知道先做什么，后做什么，什么该做，什么不该做，什么暂时不该做。我可以说是这种策略的大师。很少人知道我是怎么做事的，他们只知道最后的结果。

我做了PySonar之后，Google一个团队花了两年时间，想做出超越PySonar的项目，结果最后什么也没做出来。为什么呢？因为他们的策略从一开始就错了。他们想用Prolog这样的逻辑编程语言来实现type inference。我一听就知道注定失败。我为什么知道呢？因为我已经试过了，我知道Hindley-Milner系统和Prolog的局限性。知道什么不该做，什么注定失败，其实是非常重要的智慧和策略。很多人缺乏这种智慧。

扯远了。总之我后来发现，我平时编程的策略，可以用来指导AI写代码，比如从最基本的小函数开始，逐步进展。这样指导它能做对吗？我发现它连小代码都写不好。有些小函数只有几行，却需要我纠正好几次，它才能写对。然后呢，不知道什么时候它又给纠正错了，所以你必须检查它修改过的每一个地方。你必须知道好的代码是什么样子，什么是垃圾。也就是说，你几乎得review它写的每一行代码，否则很容易失控。

如果你不会写代码，怎么可能review别人的代码呢？知道什么是好的，正确的代码，是最难的事情。没有深入的研究和大量的经验，是不可能辨别的。是的，AI现在已经成了码农，而我成了VP。可是一个不懂计算机科学的VP，带着一群码农写意大利面条代码，能做出什么好东西呢？呵呵，我理解很多公司的类似现象。他们不知道下属在做什么，谁是对的，下一步该怎么做。我知道多少VP在摸黑，坑蒙拐骗。

所以没有能力的人，有AI也做不了事，因为他们控制不了它。他们没资格做VP。因为世界上大部分代码都是平庸的意大利面条代码程序员写的，训练数据就是那样的，所以AI几乎不可能写出“王垠水准”的代码，这是意料之中的。我发现把我写好的代码交给AI，它确实能进行一些有用的分析和改进。但如果让它从零开始写，AI真的很吃力。几乎每个小函数，都需要我纠正好几次，才能达到我期望的那种简洁和可理解性。

我的计算机科学课里的代码，全都是极其深刻的，跟公司代码和开源项目完全不同。所以上我课的学生，基本别指望用AI来完成习题。因为数据量太小，没有训练数据，所以AI可能永远达不到这种深刻程度。当然了，毕业之后学生的水平，远远超过AI和那些作为AI训练数据来源的平庸程序员。这就是为什么我的课叫“计算机科学”，而不是“编程”。计算机科学家和程序员/软件工程师，有着天壤之别。

AI也许能替代普通程序员，但它永远不可能替代计算机科学家。它只能被计算机科学家作为工具使用。别误会，其实我觉得AI是个好东西，是真正伟大的发明。我发现LLM真的能理解人类的语言，而且似乎有很深的“思考”，这已经是很了不起的成就了。我之前对AI的评价，大部分都是正确的，比如“自动驾驶汽车”注定失败之类的预测。只是LLM的能力，有点超出了我的预期。

然而目前LLM的编程水平，显然远远低于我。使用AI的时候我发现，解决问题的速度提高了很多，因为很多繁琐的事情不需要我亲自动手，可以更专注于核心的部分。总之，我让它做我不想做的“脏活”，它毫无怨言。这就是为什么在这么多失败之后，我仍然继续使用它们，甚至付费使用。因为这世界上的脏活太多了，太多复杂而设计拙劣的文档，我需要这样一个工具来帮我应付。但核心的想法仍然必须来自我，AI在这方面无能为力。