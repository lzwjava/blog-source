---
audio: false
generated: true
lang: ja
layout: post
title: JekyllからJBakeへの移行
translated: true
type: note
---

Jekyll ブログを Java ベースのブログフレームワークに移行することは、静的サイトジェネレータのシンプルさを維持しながら Java のエコシステムを活用したい場合に、特に価値のある取り組みです。この移行に最も適した選択肢は **JBake** です。これは Jekyll と同様に、Markdown や AsciiDoc で書かれたコンテンツから静的 HTML を生成する Java ベースの静的サイトジェネレータです。以下では、この移行を可能な限りスムーズに行うための主要な手順と考慮事項について説明します。

### JBake を選ぶ理由
JBake が優れた選択肢である理由は以下の通りです：
- Jekyll と同様に**静的サイトジェネレータ**であり、データベースやサーバーサイド処理を必要とせず、どこでもホストできる静的 HTML ファイルを生成します。
- **Markdown** をサポートしているため、既存のコンテンツは最小限の変更で移行できるはずです。
- **Java ベース**であり、Java フレームワークへの切り替えというご要望に沿います。
- Freemarker、Groovy、Thymeleaf、Jade などの複数のテンプレートエンジンを柔軟にサポートしており、ご自身のニーズに合ったものを選択できます。

Apache Roller のような他の Java ベースのブログプラットフォームも存在しますが、これらは動的であり、Jekyll の静的性質に慣れ親しんでいる場合には不必要な複雑さを導入する可能性があります。JBake は物事をシンプルかつ効率的に保ち、移行に自然にフィットします。

### Jekyll から JBake への移行手順

#### 1. 新しい JBake プロジェクトをセットアップする
- **JBake のインストール**: [JBake のウェブサイト](https://jbake.org)の指示に従って、JBake をダウンロードしインストールします。
- **新しいプロジェクトの作成**: JBake のコマンドラインインターフェース (CLI) を使用してプロジェクトを初期化します：
  ```bash
  jbake -i
  ```
  これにより、コンテンツ、テンプレート、アセット用のディレクトリを含む基本的なプロジェクト構造が生成されます。

#### 2. テンプレートエンジンを選択する
- JBake は **Freemarker**、**Groovy**、**Thymeleaf**、**Jade** など、いくつかのテンプレートエンジンをサポートしています。使い慣れているもの、または Jekyll のテンプレートに最も適しているものを選択してください。
- これらに不慣れな場合は、**Freemarker** が広く使用されており、直感的な構文で親しみやすいと感じられるかもしれません。

#### 3. コンテンツを移行する
- **Markdown ファイルのコピー**: 投稿を Jekyll の `_posts` ディレクトリから JBake の `content` ディレクトリに転送します。
- **Front matter**: Jekyll は YAML front matter (例: `title`, `date`) を使用しますが、JBake は YAML、JSON、またはプロパティ形式をサポートしています。Front matter が YAML 形式であれば、変更なしで JBake でも動作するはずですが、すべてのメタデータフィールド (例: `tags`, `categories`) が認識されるか確認してください。
- **ファイル命名規則**: Jekyll は `YYYY-MM-DD-title.md` のようなファイル名を使用します。JBake はこの規則を扱うことができますが、URL 構造を維持するために設定を調整する必要があるかもしれません (ステップ 5 参照)。

#### 4. テンプレートを書き換えるか適応させる
- **Jekyll から JBake のテンプレートへ**: Jekyll は Liquid テンプレートを使用しますが、JBake は選択したテンプレートエンジンを使用します。テンプレートを、選択したエンジンの構文に合わせて書き換えてください。
- **テーマ**: Jekyll ブログがテーマを使用している場合、以下のことができます：
  - JBake 用の類似したテーマを探すか作成する。
  - Liquid テンプレートを新しいエンジンの構文に手動で変換する。
- このステップは、特にテンプレートに複雑なロジックが含まれている場合、時間がかかる可能性があります。新しいテンプレートの構文を学び、サイトのデザインと機能を複製する必要があります。

#### 5. サイトを設定する
- **設定ファイル**: Jekyll は `_config.yml` を使用しますが、JBake は `jbake.properties` を使用します。設定 (例: サイトタイトル、説明、ベース URL) を JBake の形式に変換します。例：
  ```
  site.title=My Blog
  site.description=A Java-powered blog
  ```
- **パーマリンク**: リンク切れを防ぐために、JBake のパーマリンク設定を Jekyll の URL 構造 (例: `/YYYY/MM/DD/title/`) に一致するように設定します。これには、パーマリンクパターンのカスタマイズや、URL に日付が含まれるようにすることが含まれる可能性があります。

#### 6. カスタム機能やプラグインを扱う
- **プラグイン**: Jekyll ブログがプラグイン (例: SEO、リダイレクト、シンタックスハイライト用) に依存している場合、JBake に同等の機能やプラグインがあるか確認してください。ない場合は、カスタムソリューションを実装する必要があるかもしれません。
- **下書き**: 未公開の投稿については、Jekyll は `_drafts` ディレクトリを使用します。JBake では、これらの投稿の front matter に `status=draft` を設定します。

#### 7. アセット (画像、CSS など) を移行する
- **アセットのコピー**: アセットディレクトリ (例: `images`, `css`, `js`) を Jekyll から JBake の対応するディレクトリ (通常は `assets`) に移動します。
- **CSS プリプロセッシング**: Jekyll で Sass や他のプリプロセッサを使用している場合、以下のいずれかを行います：
  - それらを CSS にプリコンパイルして JBake で使用する。
  - JBake は Sass をネイティブサポートしていませんが、Webpack や Gulp などの外部ツールを使用してアセットを処理し、JBake と統合することができます。

#### 8. サイトを生成してプレビューする
- **サイトのビルド**: 以下のコマンドで静的ファイルを生成します：
  ```bash
  jbake -b
  ```
- **ローカルでプレビュー**: ローカルサーバーを起動してサイトを確認します：
  ```bash
  jbake -s
  ```
- コンテンツ、テンプレート、アセットのパスに問題がないか確認し、必要に応じて調整します。

#### 9. サイトをデプロイする
- **最終ファイルの生成**: `jbake -b` を実行して静的 HTML ファイル (`build` ディレクトリ内に生成されます) を作成します。
- **ホスティング**: これらのファイルをホスティングサービスにデプロイします：
  - **GitHub Pages** の場合、生成された HTML ファイルをリポジトリにプッシュします (GitHub がサイトをビルドしてくれる Jekyll とは異なります)。
  - あるいは、Netlify、Vercel、または静的ファイルをホストする任意のウェブサーバーを使用します。

### 考えられる課題
- **テンプレート変換**: Liquid テンプレートを新しいエンジンに適応させることは、特に複雑なデザインやロジックの場合、時間がかかる可能性があります。
- **URL 構造**: 既存の URL を維持するには、リンク切れを防ぐためにパーマリンク設定を注意深く行う必要があります。
- **コンテンツの調整**: Markdown は簡単に転送できますが、front matter やファイル名を JBake の規則に合わせて調整する必要があるかもしれません。
- **学習曲線**: JBake のテンプレートエンジンと設定オプションに慣れる必要があります。

### 追加のヒント
- **自動化**: 大規模なブログの場合、移行中にファイル名や front matter を調整するスクリプトを書くことを検討してください。
- **ビルドツール**: Java エコシステムに慣れている場合は、JBake を Gradle や Maven と統合してビルドを自動化します。
- **リソース**: 詳細なガイダンスと例については、JBake の[ドキュメント](https://jbake.org/docs)とコミュニティフォーラムを参照してください。

### 結論
Jekyll から JBake への移行には、新しいプロジェクトのセットアップ、コンテンツとアセットの転送、テンプレートの書き換え、設定の構成、静的サイトのデプロイが含まれます。特にテンプレートに関しては努力を要しますが、Jekyll と JBake がどちらも静的サイトジェネレータであるという類似点により、プロセスは管理可能です。完了すれば、静的サイトのシンプルさとパフォーマンスを維持しながら、目標に沿った Java ベースのブログフレームワークを手に入れることができるでしょう。移行を楽しんでください！