---
audio: false
generated: true
lang: ja
layout: post
title: MINGW64のWindowsでのパスの扱い
translated: true
---

MINGW64は、MSYS2プロジェクトの一部であり、Windows上でUnix風の環境を提供し、bashシェルコマンドやUnixスタイルのツールを使用できるようにします。この環境で作業する際の重要なポイントは、特にWindowsとUnixシステムが異なる規約を使用するため、ファイルパスの扱いです。以下に、MINGW64でのパスの管理方法、例（スペースを含むケースを含む）、コマンドの絶対パスを使用するタイミングを説明します。

#### 1. **MINGW64のパス規約**
- **Windowsパス**: 通常、バックスラッシュを使用します（例：`C:\Users`）。
- **Unixパス**: フォワードスラッシュを使用します（例：`/usr/bin`）。MINGW64では、Windowsドライブは`/`の下にマウントされます。`C:\`は`/c/`、`D:\`は`/d/`となります。
- **一般的なルール**: MINGW64は、フォワードスラッシュを使用したUnixスタイルのパスを好みます。例えば、`C:\Program Files`は`/c/Program Files`と記述します。

#### 2. **スペースを含むパスの扱い**
Unix風のシェル（MINGW64のbashシェルなど）では、スペースは引数を区切る特別な文字です。パスにスペースが含まれる場合（例：`Program Files`）、シェルが誤解釈しないようにする必要があります。その方法は2つあります：

- **スペースをバックスラッシュでエスケープする**:
  - 例：`C:\Program Files`に移動するには：
    ```bash
    cd /c/Program\ Files
    ```
  - バックスラッシュは、スペースをパスの一部として扱うようにシェルに指示します。

- **パスをクォートで囲む**:
  - 例：ダブルクォートを使用する：
    ```bash
    cd "/c/Program Files"
    ```
  - 例：シングルクォートを使用する：
    ```bash
    cd '/c/Program Files'
    ```
  - クォートは、パス全体を1つのエンティティとして扱うようにします。ダブルクォートはより一般的で読みやすいですが、シングルクォートも機能します（特殊文字の扱いに若干の違いがあります）。

両方の方法はMINGW64で同等に機能します。クォートは、特に複数のスペースや複雑なパスがある場合に明確さを持たせるために好まれます。

#### 3. **コマンドの絶対パスの使用**
MINGW64では、コマンドを入力すると（例：`python`）、シェルは`PATH`環境変数にリストされているディレクトリでそれを検索します。しかし、以下のような場合には、コマンドの**絶対パス**を使用する必要があります：

- **複数のバージョンが存在する**: 特定のツールのバージョンを指定する（例：特定の`python.exe`）。
- **`PATH`にコマンドが含まれていない**: 実行ファイルが`PATH`にリストされているディレクトリにない。
- **曖昧さを避ける**: 意図したコマンドが正確に実行されるようにする。

コマンドの絶対パスを使用する際、特にスペースを含む場合は、上記のようにスペースを扱う必要があります。

#### 4. **例**
一般的なパスの扱い、パス内のスペース、コマンドの絶対パスをカバーする実用的な例を以下に示します：

##### **例1: ディレクトリの変更**
- **目標**: `C:\Program Files`に移動する。
- **コマンド**:
  ```bash
  cd "/c/Program Files"    # クォートを使用
  cd /c/Program\ Files     # エスケープを使用
  ```
- **説明**: 両方のコマンドは、"Program Files"内のスペースを正しく扱うために機能します。

##### **例2: 絶対パスでコマンドの実行**
- **目標**: `C:\Python39\python.exe`にある`python.exe`を`script.py`と一緒に実行する。
- **コマンド**:
  ```bash
  "/c/Python39/python.exe" script.py
  ```
- **説明**: 絶対パス`/c/Python39/python.exe`はクォートされています（スペースがないため必須ではありませんが）、特定のPython実行ファイルを実行します。

##### **例3: スペースを含むコマンドパス**
- **目標**: `C:\Program Files\Python39\python.exe`にある`python.exe`を実行する。
- **コマンド**:
  ```bash
  "/c/Program Files/Python39/python.exe" script.py
  ```
- **代替**:
  ```bash
  /c/Program\ Files/Python39/python.exe script.py
  ```
- **説明**: クォートまたはエスケープは、"Program Files"内のスペースがあるため必要です。これにより、シェルはその場所にある正確なPythonバージョンを実行します。

##### **例4: Windowsパス引数のコマンド**
- **目標**: `C:\Windows\notepad.exe`にある`notepad.exe`を使用して`C:\My Documents\note.txt`を開く。
- **コマンド**:
  ```bash
  "/c/Windows/notepad.exe" 'C:\My Documents\note.txt'
  ```
- **説明**:
  - コマンドパス`/c/Windows/notepad.exe`はUnixスタイルのスラッシュを使用し、クォートされています。
  - 引数`'C:\My Documents\note.txt'`はWindowsスタイルのバックスラッシュを使用しています。`notepad.exe`はネイティブなWindowsプログラムであり、Windowsパスを期待します。シングルクォートはシェルのバックスラッシュの解釈を避けます（ダブルクォートを使用する場合は、`C:\\My Documents\\note.txt`と記述する必要があります）。

#### 5. **追加の注意点**
- **引数のUnix vs. Windowsパス**:
  - MINGW64用にコンパイルされたコマンド（例：Unixツール）は通常、Unixパス（例：`/c/users/file.txt`）を期待します。
  - ネイティブなWindowsプログラム（例：`notepad.exe`）はWindowsパス（例：`C:\Users\file.txt`）を期待します。コマンドのドキュメントを確認するか、両方の形式をテストしてください。
- **`PATH`で簡略化**: コマンドが`PATH`に含まれている場合、絶対パスを省略できます（例：`notepad`の代わりに`/c/Windows/notepad.exe`）、ただし、絶対パスは正確性を確保します。
- **`cygpath`のようなツール**: MINGW64はMSYS2から`cygpath`を継承しており、パスを変換します（例：`cygpath -u "C:\Users"`は`/c/Users`を出力します）。しかし、基本的な使用にはほとんど必要ありません。

#### まとめ
- **MINGW64のパス**: Unixスタイルのパス（例：`C:\Users`の`/c/Users`）を使用します。
- **スペース**: クォート（`"/c/Program Files"`）またはスペースをエスケープします（`/c/Program\ Files`）。
- **コマンドの絶対パス**: 特定の実行ファイルを指定する際に使用し、スペースを含むパスをクォートします（例：`"/c/Program Files/app.exe"`）。
- **引数**: コマンドが期待するパススタイル（UnixまたはWindows）に一致させます。

これらのテクニックを使用すると、MINGW64で複雑なパスを含むコマンドを効果的に実行し、ナビゲートすることができます。