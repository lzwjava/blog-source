---
audio: false
lang: ja
layout: post
title: IPv6アドレスを使用したSSH接続
translated: true
---

Hetzner Cloudの機械にIPv6を使って接続しようとしています。`ssh 2a01:4f8:c17:2000::/64`は機能しませんが、`ssh root@2a01:4f8:c17:2000::1`は機能します。

IPv6アドレスはHetzner Cloudコンソールからコピーしました。

`~/.ssh/config`ファイルを構成して、IPv4アドレスとIPv6アドレスに異なるプロキシルールを適用できます。この設定により、IPv4アドレスのプロキシコマンドを指定しながら、IPv6アドレスを異なる方法で処理できます。

```bash
Host 192.168.1.*
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa 
Host *.*.*.*
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa
    ProxyCommand corkscrew localhost 7890 %h %p
Host *
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa   
```
