---
audio: false
generated: true
lang: es
layout: post
title: Cómo Funciona HTTPS
translated: true
type: note
---

Permíteme explicar cómo funciona HTTPS, incluyendo SSL, certificados, el proceso de cifrado y las diferencias entre TLS 1.2 y TLS 1.3, de una manera clara y paso a paso.

---

### **¿Qué es HTTPS?**
HTTPS significa **Hypertext Transfer Protocol Secure** (Protocolo Seguro de Transferencia de Hipertexto). Es la versión segura de HTTP, el protocolo utilizado para transferir datos entre tu navegador y un sitio web. La parte "segura" proviene de agregar una capa de cifrado y autenticación, proporcionada por **SSL (Secure Sockets Layer)** o su reemplazo moderno, **TLS (Transport Layer Security)**. Por lo tanto, HTTPS es esencialmente HTTP funcionando sobre TLS (o históricamente SSL) para mantener tus datos seguros.

---

### **¿Cómo funciona HTTPS? El Protocolo de Enlace TLS**
Cuando visitas un sitio web que utiliza HTTPS (por ejemplo, `https://example.com`), tu navegador y el servidor del sitio web establecen una conexión segura antes de intercambiar cualquier dato. Este proceso se llama **protocolo de enlace TLS** (TLS handshake). Así es como funciona en pasos simples:

1. **Client Hello (Saludo del Cliente)**:
   - Tu navegador envía un mensaje al servidor diciendo: "¡Hola! Aquí está la versión de TLS que admito (por ejemplo, TLS 1.3), los algoritmos de cifrado (suites de cifrado) que puedo usar y una cadena aleatoria de bytes (client random)".

2. **Server Hello (Saludo del Servidor)**:
   - El servidor responde: "¡Hola de vuelta! Usaré esta versión de TLS y esta suite de cifrado de tu lista. Aquí está mi cadena aleatoria (server random)".

3. **Certificado**:
   - El servidor envía su **certificado SSL**, que incluye su **clave pública** y está firmado por una **Autoridad Certificadora (CA)** de confianza. Este certificado prueba la identidad del servidor.

4. **Client Key Exchange (Intercambio de Claves del Cliente)**:
   - Tu navegador verifica el certificado para asegurarse de que es válido y está firmado por una CA de confianza. Si pasa la verificación, el navegador genera un **secreto pre-maestro** (pre-master secret), lo cifra con la clave pública del servidor y lo envía al servidor.

5. **Claves de Sesión**:
   - Tanto el navegador como el servidor utilizan el client random, el server random y el secreto pre-maestro para generar de forma independiente la misma **clave de sesión**. Esta clave se utiliza para cifrar y descifrar todos los datos durante la sesión.

6. **Finished (Finalizado)**:
   - Ambos lados envían un mensaje "finalizado", cifrado con la clave de sesión, para confirmar que la conexión segura está lista.

Una vez que el protocolo de enlace se completa, todos los datos (como páginas web, formularios o archivos) se cifran con la clave de sesión, lo que los hace ilegibles para cualquiera que pueda interceptarlos.

---

### **¿Qué son los Certificados SSL y Cómo Funcionan?**
Un **certificado SSL** es un documento digital que prueba la identidad de un sitio web y permite el cifrado. Esto es lo que necesitas saber:

- **Contenido**: El certificado incluye el nombre de dominio del sitio web, su clave pública y una firma digital de una **Autoridad Certificadora (CA)**.
- **Propósito**: Garantiza que el servidor es legítimo (por ejemplo, realmente te estás conectando a `example.com`, no a un sitio falso) y proporciona la clave pública para el cifrado.
- **Verificación**: Tu navegador verifica:
  1. ¿Es válido el certificado (no ha caducado o sido revocado)?
  2. ¿Está firmado por una CA de confianza? (Los navegadores tienen una lista integrada de CA de confianza, como DigiCert o Let’s Encrypt).
- Si las verificaciones son exitosas, el navegador confía en el servidor y procede con el protocolo de enlace.

La CA actúa como un tercero de confianza que avala el sitio web. Sin esto, los atacantes podrían hacerse pasar por cualquier sitio y robar tus datos.

---

### **El Algoritmo de Cifrado**
El cifrado en HTTPS se basa en una combinación de **criptografía asimétrica** y **criptografía simétrica**:

1. **Criptografía Asimétrica** (durante el protocolo de enlace):
   - Utiliza una **clave pública** (compartida abiertamente) y una **clave privada** (guardada en secreto por el servidor).
   - El navegador cifra el secreto pre-maestro con la clave pública del servidor. Solo el servidor, con su clave privada, puede descifrarlo.
   - Algoritmos de ejemplo: RSA o Elliptic Curve Cryptography (ECC).

2. **Criptografía Simétrica** (para la sesión):
   - Una vez que se crea la clave de sesión, ambas partes la utilizan para cifrar y descifrar los datos.
   - Esto es más rápido que el cifrado asimétrico e ideal para transferencias grandes de datos.
   - Algoritmo de ejemplo: AES (Advanced Encryption Standard).

El protocolo de enlace utiliza cifrado asimétrico para compartir de forma segura la clave de sesión, luego el cifrado simétrico se hace cargo por eficiencia.

---

### **Diferencias Entre TLS 1.2 y TLS 1.3**
**TLS 1.2** y **TLS 1.3** son versiones del protocolo TLS, siendo TLS 1.3 la versión más nueva y mejorada. Estas son las diferencias clave:

| **Característica**        | **TLS 1.2**                              | **TLS 1.3**                              |
|---------------------------|------------------------------------------|------------------------------------------|
| **Velocidad del Handshake** | Múltiples idas y vueltas entre cliente y servidor, lo que añade latencia. | Menos idas y vueltas, a menudo solo una, para conexiones más rápidas. Puede enviar datos inmediatamente ("0-RTT") en reconexiones. |
| **Suites de Cifrado**     | Admite algoritmos de cifrado antiguos y menos seguros (por ejemplo, SHA-1). | Elimina las suites de cifrado obsoletas, solo utiliza las modernas y seguras (por ejemplo, AES-GCM). |
| **Privacidad**            | Algunos datos del protocolo de enlace (como los certificados) se envían en texto plano. | Casi todo el protocolo de enlace está cifrado, ocultando más detalles de los espías. |
| **Reanudación 0-RTT**     | No disponible.                           | Permite el envío instantáneo de datos al reconectarse, pero conlleva riesgos de ataques de repetición si no se protege adecuadamente. |
| **Seguridad**             | Vulnerable a ciertos ataques debido a funciones antiguas. | Más fuerte por diseño, eliminando opciones débiles. |

En resumen, TLS 1.3 es **más rápido**, **más seguro** y **más privado** que TLS 1.2, lo que lo convierte en el estándar para el HTTPS moderno.

---

### **Resumiendo Todo**
HTTPS protege la comunicación web al:
1. Utilizar el **protocolo de enlace TLS** para establecer una conexión cifrada.
2. Basarse en **certificados SSL** de CA de confianza para verificar la identidad del servidor.
3. Combinar **criptografía asimétrica** (para el protocolo de enlace) y **criptografía simétrica** (para la transferencia de datos) para proteger tus datos.
4. Evolucionar con protocolos como **TLS 1.3**, que mejora a TLS 1.2 con mayor velocidad, seguridad y privacidad.

¡Esa es la esencia de cómo HTTPS mantiene tu navegación segura! Avísame si quieres que profundice en alguna parte.