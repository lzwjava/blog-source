---
audio: false
generated: true
lang: es
layout: post
title: Comprendiendo el Comando `find -exec`
translated: true
type: note
---

La opción `-exec` en el comando `find` es una característica poderosa en sistemas tipo Unix que te permite ejecutar un comando en cada archivo o directorio coincidente con los criterios de `find`. Tu ejemplo, `find . -name "*eclipse*" -exec rm {} \;`, busca archivos o directorios con "eclipse" en su nombre y los elimina usando `rm`. Exploremos cómo funciona `-exec`, patrones comunes y más ejemplos.

### Cómo funciona `-exec`
- La opción `-exec` toma un comando que se ejecutará para cada archivo coincidente.
- `{}` es un marcador de posición que representa el archivo o directorio actual encontrado por `find`.
- El comando debe terminar con `\;` (un punto y coma, escapado con una barra invertida) para indicar el final de la acción `-exec`.

### Patrones y Ejemplos Comunes

#### 1. Eliminar Archivos (`rm`)
Tu ejemplo:
```bash
find . -name "*eclipse*" -exec rm {} \;
```
- Elimina todos los archivos o directorios que coincidan con el patrón `*eclipse*` en el directorio actual y subdirectorios.
- **Variación**: Añade `-f` para forzar la eliminación sin preguntar:
```bash
find . -name "*eclipse*" -exec rm -f {} \;
```

#### 2. Mover Archivos (`mv`)
Mover todos los archivos `.txt` a un directorio específico:
```bash
find . -name "*.txt" -exec mv {} /directorio/destino \;
```
- Mueve cada archivo con extensión `.txt` a `/directorio/destino`.

#### 3. Copiar Archivos (`cp`)
Copiar todos los archivos `.jpg` a una carpeta de respaldo:
```bash
find . -type f -name "*.jpg" -exec cp {} /respaldo/imagenes \;
```
- `-type f` asegura que solo se coincidan archivos (no directorios).

#### 4. Cambiar Permisos (`chmod`)
Hacer que todos los scripts de shell sean ejecutables:
```bash
find . -name "*.sh" -exec chmod +x {} \;
```
- Añade permisos de ejecución a todos los archivos `.sh`.

#### 5. Listar Detalles (`ls -l`)
Mostrar información detallada sobre todos los archivos `.log`:
```bash
find . -name "*.log" -exec ls -l {} \;
```
- Ejecuta `ls -l` en cada archivo coincidente para mostrar permisos, tamaño, etc.

#### 6. Buscar Contenido (`grep`)
Buscar una cadena (ej. "error") en todos los archivos `.log`:
```bash
find . -name "*.log" -exec grep "error" {} \;
```
- Imprime las líneas que contienen "error" de cada archivo `.log`.

#### 7. Comprimir Archivos (`tar` o `gzip`)
Comprimir todos los archivos `.txt` individualmente:
```bash
find . -name "*.txt" -exec gzip {} \;
```
- Cada archivo `.txt` se convierte en un archivo comprimido `.txt.gz`.

#### 8. Ejecutar un Script Personalizado
Ejecutar un script en cada archivo coincidente:
```bash
find . -name "*.data" -exec ./procesar.sh {} \;
```
- Ejecuta `procesar.sh` con cada archivo `.data` como argumento.