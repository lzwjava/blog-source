---
audio: false
lang: es
layout: post
title: 'Ensamblaje en macOS: Hola Mundo'
translated: true
---

Este código crea un programa "¡Hola, Mundo!". Usa llamadas al sistema para escribir el mensaje en la consola y luego salir. La sección `.text` contiene las instrucciones ejecutables, comenzando en `_start`. Primero configura la llamada `sys_write` (imprimir en stdout) y luego la llamada `sys_exit` (salir limpiamente). La sección `.data` almacena el mensaje en sí y calcula su longitud.

```bash
.global _start
.text

_start:
    // Escribir "Hello, World!" a stdout
    mov x8, #64             // Número de llamada al sistema para write (sys_write)
    mov x0, #1              // Descriptor de archivo 1 (stdout)
    ldr x1, =msg            // Dirección del mensaje
    mov x2, #14             // Longitud del mensaje
    svc #0                  // Invocar llamada al sistema

    // Salir del programa
    mov x8, #93             // Número de llamada al sistema para exit (sys_exit)
    mov x0, #0              // Código de salida 0
    svc #0                  // Invocar llamada al sistema

.data
msg:
    .asciz "Hello, World!\n"
```

```bash
as -o hello.o hello.s

% clang -o hello hello.o -nostdlib -e _start -Wl,-platform_version,macos,15.0,15.0 -arch arm64

% ./hello
zsh: llamada al sistema inválida  ./hello
```
