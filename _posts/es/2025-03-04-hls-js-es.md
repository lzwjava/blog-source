---
audio: false
generated: true
lang: es
layout: post
title: Biblioteca de JavaScript para reproducir HLS
translated: true
---

Parece que estás preguntando cómo usar la biblioteca `hls.js`, específicamente la versión `^0.7.6`, que es una biblioteca de JavaScript para reproducir transmisiones de video HLS (HTTP Live Streaming) en navegadores. Proporcionaré una guía concisa sobre cómo configurarla y usarla basada en el conocimiento general de la biblioteca. Ten en cuenta que la versión `0.7.6` es bastante antigua (lanzada alrededor de 2017), por lo que algunas características o APIs pueden diferir de las versiones más recientes. Si necesitas detalles específicos relacionados con esa versión exacta, házmelo saber y puedo afinar la respuesta aún más.

### Pasos para usar `hls.js` (v0.7.6)

#### 1. **Instalar o incluir la biblioteca**
Puedes incluir `hls.js` en tu proyecto de una de estas maneras:

- **Vía npm** (si estás usando una herramienta de construcción como Webpack):
  ```bash
  npm install hls.js@^0.7.6
  ```
  Luego, impórtalo en tu JavaScript:
  ```javascript
  var Hls = require('hls.js');
  ```

- **Vía CDN** (si lo estás agregando directamente a un archivo HTML):
  ```html
  <script src="https://cdn.jsdelivr.net/npm/hls.js@0.7.6"></script>
  ```
  Esto hace que `Hls` esté disponible como una variable global.

#### 2. **Configurar tu HTML**
Necesitas un elemento `<video>` en tu HTML para adjuntar la transmisión HLS:
```html
<video id="video" controls></video>
```

#### 3. **Inicializar `hls.js`**
Aquí tienes un ejemplo básico de cómo usar `hls.js` para cargar y reproducir una transmisión HLS (por ejemplo, un archivo `.m3u8`):

```javascript
// Verificar si el navegador soporta HLS de manera nativa (por ejemplo, Safari)
// Si no, usa hls.js
var video = document.getElementById('video');
var videoSrc = 'https://example.com/playlist.m3u8'; // Reemplaza con tu URL HLS

if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, function () {
        video.play();
    });
} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    // Para navegadores con soporte HLS nativo (por ejemplo, Safari)
    video.src = videoSrc;
    video.addEventListener('loadedmetadata', function () {
        video.play();
    });
}
```

#### 4. **Conceptos clave**
- **`Hls.isSupported()`**: Verifica si el navegador necesita `hls.js` (devuelve `true` si las extensiones de Media Source son soportadas).
- **`loadSource(url)`**: Carga el manifiesto HLS (archivo `.m3u8`).
- **`attachMedia(video)`**: Adjunta el elemento de video a la instancia de `hls.js`.
- **`Hls.Events.MANIFEST_PARSED`**: Evento disparado cuando el manifiesto se carga, indicando que la transmisión está lista para reproducirse.

#### 5. **Ejemplo con manejo de errores**
Para hacerlo más robusto:
```javascript
var video = document.getElementById('video');
var videoSrc = 'https://example.com/playlist.m3u8';

if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, function () {
        video.play();
    });
    hls.on(Hls.Events.ERROR, function (event, data) {
        console.error('Error HLS:', data);
        if (data.fatal) {
            switch (data.type) {
                case Hls.ErrorTypes.NETWORK_ERROR:
                    console.log('Error de red, reintentando...');
                    hls.startLoad();
                    break;
                case Hls.ErrorTypes.MEDIA_ERROR:
                    console.log('Error de medios, recuperando...');
                    hls.recoverMediaError();
                    break;
                default:
                    hls.destroy();
                    break;
            }
        }
    });
} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = videoSrc;
}
```

#### Notas para la versión `^0.7.6`
- Esta versión es de 2017, por lo que carece de nuevas características como mejoras en la conmutación de bitrate adaptativo o soporte de HLS de baja latencia añadidas en versiones posteriores.
- La API principal (`loadSource`, `attachMedia`, eventos como `MANIFEST_PARSED`) debería funcionar como se muestra arriba.
- Consulta las [publicaciones oficiales de `hls.js` en GitHub](https://github.com/video-dev/hls.js/releases/tag/v0.7.6) para el registro de cambios exacto si necesitas detalles precisos.

#### 6. **Pruebas**
- Usa una transmisión HLS públicamente disponible para probar, como:
  ```
  https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8
  ```
- Abre las herramientas de desarrollo del navegador (F12) para depurar cualquier problema.

Si tienes un caso de uso específico o un problema (por ejemplo, integrar con un marco, manejar subtítulos, etc.), házmelo saber y adaptaré la respuesta aún más.