---
audio: false
generated: true
lang: es
layout: post
title: Biblioteca JavaScript para Reproducir HLS
translated: true
type: note
---

Parece que estás preguntando sobre cómo usar la librería `hls.js`, específicamente la versión `^0.7.6`, que es una librería JavaScript para reproducir transmisiones de video HLS (HTTP Live Streaming) en navegadores. Proporcionaré una guía concisa sobre cómo configurarla y usarla basándome en el conocimiento general de la librería. ¡Ten en cuenta que la versión `0.7.6` es bastante antigua (publicada alrededor de 2017), por lo que algunas características o APIs podrían diferir de las versiones más recientes. Si necesitas detalles específicos de esa versión exacta, házmelo saber y puedo ajustar la respuesta.

### Pasos para usar `hls.js` (v0.7.6)

#### 1. **Instalar o incluir la librería**
Puedes incluir `hls.js` en tu proyecto de una de estas maneras:

- **Via npm** (si estás usando una herramienta de construcción como Webpack):
  ```bash
  npm install hls.js@^0.7.6
  ```
  Luego impórtala en tu JavaScript:
  ```javascript
  var Hls = require('hls.js');
  ```

- **Via CDN** (si la estás añadiendo directamente a un archivo HTML):
  ```html
  <script src="https://cdn.jsdelivr.net/npm/hls.js@0.7.6"></script>
  ```
  Esto hace que `Hls` esté disponible como una variable global.

#### 2. **Configurar tu HTML**
Necesitas un elemento `<video>` en tu HTML para adjuntar la transmisión HLS:
```html
<video id="video" controls></video>
```

#### 3. **Inicializar `hls.js`**
Aquí tienes un ejemplo básico de cómo usar `hls.js` para cargar y reproducir una transmisión HLS (por ejemplo, un archivo `.m3u8`):

```javascript
// Verificar si el navegador soporta HLS de forma nativa (ej. Safari)
// Si no, usar hls.js
var video = document.getElementById('video');
var videoSrc = 'https://example.com/playlist.m3u8'; // Reemplaza con tu URL HLS

if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, function () {
        video.play();
    });
} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    // Para navegadores con soporte nativo para HLS (ej. Safari)
    video.src = videoSrc;
    video.addEventListener('loadedmetadata', function () {
        video.play();
    });
}
```

#### 4. **Conceptos Clave**
- **`Hls.isSupported()`**: Verifica si el navegador necesita `hls.js` (devuelve `true` si Media Source Extensions están soportadas).
- **`loadSource(url)`**: Carga el manifiesto HLS (archivo `.m3u8`).
- **`attachMedia(video)`**: Conecta el elemento de video a la instancia de `hls.js`.
- **`Hls.Events.MANIFEST_PARSED`**: Evento que se dispara cuando el manifiesto se carga, indicando que la transmisión está lista para reproducirse.

#### 5. **Ejemplo con Manejo de Errores**
Para hacerlo más robusto:
```javascript
var video = document.getElementById('video');
var videoSrc = 'https://example.com/playlist.m3u8';

if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, function () {
        video.play();
    });
    hls.on(Hls.Events.ERROR, function (event, data) {
        console.error('HLS Error:', data);
        if (data.fatal) {
            switch (data.type) {
                case Hls.ErrorTypes.NETWORK_ERROR:
                    console.log('Network error, retrying...');
                    hls.startLoad();
                    break;
                case Hls.ErrorTypes.MEDIA_ERROR:
                    console.log('Media error, recovering...');
                    hls.recoverMediaError();
                    break;
                default:
                    hls.destroy();
                    break;
            }
        }
    });
} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = videoSrc;
}
```

#### Notas para la Versión `^0.7.6`
- Esta versión es de 2017, por lo que carece de características más nuevas como mejoras en el cambio adaptativo de tasa de bits o soporte para HLS de baja latencia añadidos en versiones posteriores.
- La API principal (`loadSource`, `attachMedia`, eventos como `MANIFEST_PARSED`) debería funcionar como se muestra arriba.
- Consulta los [lanzamientos oficiales de `hls.js` en GitHub](https://github.com/video-dev/hls.js/releases/tag/v0.7.6) para el registro de cambios exacto si necesitas detalles precisos.

#### 6. **Pruebas**
- Usa una transmisión HLS disponible públicamente para probar, como:
  ```
  https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8
  ```
- Abre las herramientas de desarrollo de tu navegador (F12) para depurar cualquier problema.

Si tienes un caso de uso específico o un problema (por ejemplo, integrarlo con un framework, manejar subtítulos, etc.), házmelo saber y adaptaré la respuesta.