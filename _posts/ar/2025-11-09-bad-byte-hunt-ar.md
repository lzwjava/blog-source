---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: مطاردة البايت الخبيث
translated: true
type: note
---

### لماذا لم يعثر هذا على البايت المشبوه

نتيجة `hexdump` التي حصلت عليها تطابقت **مع إزاحة الملف** (`000008d0`)، وليس بايت `\x8D` في المحتوى الفعلي. أمر Grep يبحث نصيًا في السطر بأكمله، وتظهر "8d" في عنوان الـ hex (مثل `08d0`)، لذا سحب هذا السطر غير المرغوب فيه. وحدات البيانات هناك (`6f 67 20 ...`) هي مجرد ASCII عادي لـ `"og = og_images[i"`، ولا توجد مشاكل.

### طرق أفضل للبحث عن `\x8D`

جرب هذه الأوامر في دليل مشروعك (بجوار `_layouts/default.html`). سوف تفحص وحدات البايت في الملف مباشرة.

1.  **Hexdump محسّن (البحث عن البايت في البيانات)**:
    هذا يبحث عن ` 8d ` (بمسافات حولها لمطابقة وحدات الـ hex، وليس الإزاحات):
    ```
    hexdump -C _layouts/default.html | grep ' 8d '
    ```
    - إذا وجد شيئًا، سترى الإزاحة (العمود الأيسر) والبايتات المحيطة. لاحظ الإزاحة، ثم انتقل إلى هذا الموضع في محررك (مثال: VS Code: Ctrl+G > إزاحة البايت / 16 للوصول للسطر تقريبًا).
    - مثال على الناتج إذا وُجد: `00001234  ...  8d  20  61  62  ... |... ab...|`

2.  **استخدم `xxd` (غالبًا أفضل من Hexdump)**:
    نظام macOS يحتوي على `xxd` مدمج:
    ```
    xxd _layouts/default.html | grep 8d
    ```
    - مشابه: يطابق "8d" في وحدات الـ hex. إذا لم يكن هناك ناتج، فالبايت غير موجود هناك (نادر، لكن ممكن أن يكون في ملف آخر).

3.  **بحث Grep ثنائي (بحث مباشر عن البايت)**:
    ```
    grep -a -o -P '\x8d' _layouts/default.html | hexdump -C
    ```
    - هذا يستخرج المطابقات الدقيقة للبايت ويعرضها في شكل hex. إذا كان فارغًا، فلا يوجد `\x8D`.

4.  **سطر Ruby واحد (موضع دقيق)**:
    كما اقترحت سابقًا — شغّل هذا للحصول على فهرس البايت:
    ```
    ruby -e "File.open('_layouts/default.html', 'rb') { |f| f.read.each_byte.with_index { |b, i| puts \"Found at byte #{i}: #{b.chr(Encoding::ASCII_8BIT).inspect}\" if b == 0x8D } }"
    ```
    - يُخرج شيءًا مثل: `Found at byte 1234: "\x8D"`. ثم قم بالتعديل: افتح الملف، واذهب إلى الحرف تقريبًا 1234 (أو السطر = 1234/80 تقريبًا)، واحذف الحرف غير المرئي (قد يبدو كأنه لا شيء؛ حدد واحذف حوله).

### إذا لم توجد أي مطابقات؟

- قد يكون `\x8D` موجودًا في **ملف مختلف** (مثال: منشور في `_posts/` يتم عرضه عبر `{{ content }}` في التخطيط). افحص الموقع بأكمله:
  ```
  find . -name "*.md" -o -name "*.html" | xargs grep -l $'\x8D'
  ```
  (أو استخدم سكريبت Ruby على كل ملف مشبوه به).
- أو قد يكون BOM / حرف غير مرئي في بداية الملف: افتحه في المحرر، احذف السطر الأول إذا كان فارغًا، واحفظه مرة أخرى بصيغة UTF-8.

بمجرد أن تتخلص منه، شغّل `bundle exec jekyll serve --incremental` مرة أخرى. إذا ما زلت عالقًا، الصق الناتج من أحد هذه الأوامر (أو أمر Ruby)، وسنحدده.

[نصائح Hexdump للبحث عن البايتات](https://unix.stackexchange.com/questions/38331/finding-bad-characters-in-hex-dump)