---
audio: false
generated: true
lang: ar
layout: post
title: أخطاء أنجولار
translated: true
type: note
---

عند العمل مع Angular، غالبًا ما يواجه المطورون استثناءات وأخطاء محددة. فيما يلي قائمة مصنفة للمشكلات الشائعة وأسبابها وحلولها:

---

### **أخطاء القوالب وربط البيانات**
1. **`ExpressionChangedAfterItHasBeenCheckedError`**  
   - **السبب**: تغيير بيانات المكون بعد دورة اكتشاف التغيير في Angular (مثلًا في `ngAfterViewInit` أو `ngOnChanges`).  
   - **الحل**: استخدم `ChangeDetectorRef.detectChanges()` أو تأكد من أن تغييرات البيانات تتم قبل انتهاء دورة اكتشاف التغيير.

2. **`Cannot read property 'X' of undefined`**  
   - **السبب**: الوصول إلى خصائص كائن غير مهيأة في القوالب (مثل `{{ user.name }}` عندما يكون `user` بقيمة `null`).  
   - **الحل**: استخدم عامل الأمان (`{{ user?.name }}`) أو قم بتهيئة الكائنات بشكل صحيح.

3. **`Can't bind to 'X' since it isn't a known property of 'Y'`**  
   - **السبب**: إعلان مكون/توجيه مفقود أو خطأ مطبعي في اسم الخاصية.  
   - **الحل**: قم باستيراد التوجيه/المكون إلى الوحدة النمطية أو تحقق من الأخطاء المطبعية.

---

### **أخطاء حقن التبعية (DI)**
4. **`NullInjectorError: No provider for XService`**  
   - **السبب**: خدمة غير موفرة في الوحدة النمطية/المكون أو وجود تبعية دائرية.  
   - **الحل**: أضف الخدمة إلى مصفوفة `providers` الخاصة بالوحدة النمطية/المكون.

5. **`No value accessor for form control`**  
   - **السبب**: عنصر تحكم نموذج مخصص يفتقد تنفيذ `ControlValueAccessor` أو ربط `formControlName` غير صحيح.  
   - **الحل**: نفذ `ControlValueAccessor` لعناصر التحكم المخصصة أو تحقق من ارتباطات النموذج.

---

### **أخطاء TypeScript والبناء**
6. **`Type 'X' is not assignable to type 'Y'`**  
   - **السبب**: عدم تطابق في الأنواع (مثل تمرير نوع بيانات خاطئ إلى مكون).  
   - **الحل**: تأكد من تطابق الأنواع أو استخدم تأكيدات النوع (إذا كان مقصودًا).

7. **`ERROR in Cannot find module 'X'`**  
   - **السبب**: حزمة npm مفقودة أو مسار استيراد غير صحيح.  
   - **الحل**: قم بتثبيت الحزمة (`npm install X`) أو صحح مسار الاستيراد.

---

### **أخطاء المكونات والوحدات النمطية**
8. **`Component is not part of any NgModule`**  
   - **السبب**: مكون غير مُعلن في أي وحدة نمطية أو وحدة نمطية غير مستوردة.  
   - **الحل**: أضف المكون إلى `declarations` في وحدته النمطية أو قم باستيراد الوحدة النمطية.

9. **`ViewDestroyedError: Attempt to use a destroyed view`**  
   - **السبب**: اشتراكات أو عمليات غير متزامنة仍在 التشغيل بعد تدمير المكون.  
   - **الحل**: قم بإلغاء الاشتراك في `ngOnDestroy` أو استخدم `async` pipe.

---

### **أخطاء HTTP وواجهة برمجة التطبيقات (API)**
10. **`HttpClient provider not found`**  
    - **السبب**: استيراد `HttpClientModule` مفقود في الوحدة النمطية.  
    - **الحل**: قم باستيراد `HttpClientModule` في `AppModule`.

11. **مشكلات CORS**  
    - **السبب**: الخادم الخلفي لا يسمح بطلبات من مصدر الواجهة الأمامية.  
    - **الحل**: قم بتكوين CORS على الخادم أو استخدم خادم وكيل في Angular (`proxy.conf.json`).

---

### **أخطاء التوجيه**
12. **`Route not found`**  
    - **السبب**: تعريف مسار غير صحيح أو وحدة نمطية محملة بطريقة كسولة مفقودة.  
    - **الحل**: تحقق من مسارات المسارات وبناء الجملة للتحميل الكسول (`loadChildren: () => import(...)`).

---

### **أخطاء النماذج**
13. **`FormControl not found`**  
    - **السبب**: استخدام `formControlName` دون تضمينه داخل `[formGroup]`.  
    - **الحل**: تأكد من تهيئة مجموعة النموذج الأصلية وربطها.

---

### **متنوع**
14. **`Maximum call stack size exceeded`**  
    - **السبب**: دوال متكررة أو تبعيات دائرية.  
    - **الحل**: أعد هيكلة الكود للتخلص من التكرار/المراجع الدائرية.

15. **`Zone.js Promise rejection`**  
    - **السبب**: رفض وعود غير معالج.  
    - **الحل**: أضف `.catch()` أو استخدم `try/catch` مع `async/await`.

16. **أخطاء تجميع AOT**  
    - **السبب**: بناء جملة القالب غير متوافق مع التجميع المسبق (Ahead-of-Time).  
    - **الحل**: تجنب التعبيرات المعقدة في القوالب أو استخدم بناء جملة متوافق مع Angular.

---

### **أفضل الممارسات لتجنب الأخطاء**
- استخدم `async` pipe للمشاهدات للإلغاء التلقائي للاشتراك.
- مكن فحوصات TypeScript الصارمة (`strict: true` في `tsconfig.json`).
- شغل `ng lint` للكشف عن مشكلات جودة الكود.
- اختبر باستخدام علم `--prod` لمحاكاة بناءات AOT.

من خلال معالجة هذه المشكلات الشائعة بشكل منهجي، يمكنك تبسيط تطوير Angular وتقليل وقت التصحيح.