---
audio: false
generated: true
image: false
lang: ar
layout: post
title: تشغيل برنامج رست من المجلد
translated: true
type: note
---

لتشغيل برنامج Rust بسيط من هيكل الدليل الذي قدمته، يبدو أنك تعمل في مشروع Rust (`lzwjava.github.io/rust`) بمجلد `src` يحتوي على `main.rs` و `simple.rs`. إليك كيفية تشغيل برنامج Rust بسيط، بافتراض أنك تريد تنفيذ الكود الموجود في `main.rs` أو `simple.rs`.

### خطوات تشغيل برنامج Rust

1. **تحقق من هيكل المشروع**:
   - مشروعك يحتوي على ملف `Cargo.toml`، مما يشير إلى أنه مشروع Rust مُدار بواسطة Cargo، أداة البناء في Rust.
   - ملف `src/main.rs` هو نقطة الدخول الافتراضية لتطبيق ثنائي (binary) في Rust.
   - من المرجح أن ملف `simple.rs` هو وحدة (module) أو ملف مصدري آخر، لكنه لن يعمل مباشرة ما لم يتم الإشارة إليه في `main.rs` أو تكوينه كبرنامج ثنائي في `Cargo.toml`.

2. **شغل البرنامج باستخدام Cargo**:
   - إذا كنت تريد تشغيل الكود الموجود في `src/main.rs`، استخدم الأمر التالي من جذر المشروع (`~/projects/lzwjava.github.io/rust`):
     ```bash
     cargo run
     ```
     هذا الأمر:
     - يقوم بترجمة المشروع (حل التبعيات وبناء الكود).
     - ينفذ البرنامج الثنائي الناتج من `src/main.rs`.
     - سيظهر الناتج في الطرفية.

3. **إذا كنت تريد تشغيل `simple.rs`**:
   - افتراضيًا، يتوقع Cargo أن نقطة الدخول الرئيسية تكون في `src/main.rs`. إذا كان `simple.rs` عبارة عن وحدة، فأنت بحاجة إلى الإشارة إليه في `main.rs`. على سبيل المثال، في `src/main.rs`:
     ```rust
     mod simple; // يُعلن عن وحدة simple

     fn main() {
         simple::some_function(); // استدعاء دالة من simple.rs
     }
     ```
     ثم شغل `cargo run` كما هو مذكور أعلاه.
   - إذا كان `simple.rs` مُقصدًا به أن يكون برنامجًا ثنائيًا قائمًا بذاته، فأنت بحاجة إلى تكوينه في `Cargo.toml`. أضف ما يلي إلى `Cargo.toml`:
     ```toml
     [[bin]]
     name = "simple"
     path = "src/simple.rs"
     ```
     ثم شغل:
     ```bash
     cargo run --bin simple
     ```

4. **بديل: التشغيل بدون Cargo**:
   - إذا كنت تريد ترجمة وتشغيل ملف منفرد (مثل `simple.rs`) بدون Cargo، تأكد من أن لديه دالة `main` واستخدم المترجم `rustc`:
     ```bash
     rustc src/simple.rs
     ./simple
     ```
     يولد هذا ملفًا تنفيذيًا باسم `simple` في الدليل الحالي ويقوم بتشغيله. ملاحظة: هذه الطريقة لا تتعامل مع التبعيات، لذا فهي مناسبة فقط للبرامج البسيطة المستقلة.

5. **تحقق من الأخطاء**:
   - إذا واجهت أخطاء، تأكد من:
     - أن Rust و Cargo مثبتان (استخدم `rustc --version` و `cargo --version` للتحقق).
     - أن `Cargo.toml` مُكون بشكل صحيح مع التبعيات اللازمة.
     - أن الكود في `main.rs` أو `simple.rs` يحتوي على دالة `fn main()` صالحة.
   - شغل `cargo check` للتحقق من الكود دون بناء البرنامج الثنائي:
     ```bash
     cargo check
     ```

6. **مثال `simple.rs`**:
   إذا كان `simple.rs` يحتوي على شيء مثل:
   ```rust
   fn main() {
       println!("Hello from simple!");
   }
   ```
   وقمت بإضافته كبرنامج ثنائي في `Cargo.toml`، فإن تشغيل `cargo run --bin simple` سيطبع `Hello from simple!`.

### ملاحظات
- دليل `target/debug` يحتوي على القطع الأثرية المترجمة. يمكنك تشغيل البرنامج الثنائي مباشرة باستخدام `./target/debug/<project_name>` (استبدل `<project_name>` بالاسم الموجود في `Cargo.toml`)، لكن `cargo run` مُفضل لأنه يتعامل مع الترجمة والتنفيذ.
- إذا كان `simple.rs` عبارة عن وحدة، فتأكد من دمجه بشكل صحيح في `main.rs` باستخدام `mod simple;`.
- للإعدادات الأكثر تعقيدًا أو كود محدد في `simple.rs`، شارك محتويات `simple.rs` أو `Cargo.toml` للحصول على إرشادات مخصصة.

إذا كنت تقصد شيئًا محددًا بعبارة "run simple here" (مثل دالة محددة أو تكوين)، يرجى تقديم المزيد من التفاصيل، وسأقوم بتنقيح الإجابة!