---
audio: false
generated: true
lang: ar
layout: post
title: 'الجزء الخامس: الحافلات والتوسعة'
translated: true
type: note
---

### 1. معايير ناقل النظام

#### ما هو ناقل النظام؟

ناقل النظام هو مسار اتصال يربط وحدة المعالجة المركزية بالذاكرة والأجهزة الطرفية. فهو يسهل نقل البيانات، وإشارات العناوين، وإشارات التحكم بين هذه المكونات، مما يمكن وحدة المعالجة المركزية من التفاعل مع الأجزاء الأخرى لنظام الكمبيوتر بكفاءة[^3].

---

### 2. نظرة عامة على ناقل ISA

- **ISA (هندسة المعيار الصناعي)** هو أحد أوائل معايير ناقل النظام، تم تقديمه مع جهاز IBM PC AT في الثمانينيات.
- وهو ناقل 16 بت يعمل بتردد 4.77 ميجا هرتز، قادر على تحقيق معدلات نقل بيانات تصل إلى حوالي 9 ميجابايت/ثانية تقريبًا[^5].
- يدعم ISA بطاقات التوسعة المتعددة، لكل منها خط طلب المقاطعة الخاص بها، مما يمكن أجهزة مثل بطاقات الشبكة، والمنافذ التسلسلية، وبطاقات الفيديو من الاتصال.
- الناقل متوافق مع الإصدارات السابقة لأنظمة 8 بت PC XT القديمة ويستخدم موصلًا بـ 98 دبوسًا يجمع بين موصلين حافيين في فتحة واحدة.
- يستخدم ISA الإشارات غير المتزامنة وإتقان الناقل، لكنه يصل مباشرة فقط إلى أول 16 ميجابايت من الذاكرة الرئيسية[^5].
- نظرًا لقدمه، أصبح ISA قديمًا إلى حد كبير ولكنه مهم تاريخيًا كأساس لتصميمات الناقل اللاحقة.

---

### 3. نظرة عامة على ناقل PCI

- **PCI (التوصيل البيني للمكونات الطرفية)** هو معيار ناقل متوازي، متزامن، وأكثر حداثة مصمم للتغلب على قيود ISA[^1][^3].
- تعمل نواقل PCI بتردد 33 ميجا هرتز مع ناقل عناوين/بيانات متعدد الإرسال بعرض 32 بت، مما يوفر نطاقًا تردديًا أساسيًا يتراوح بين 44 إلى 66 ميجابايت/ثانية.
- للوصول المتسلسل للذاكرة، يمكن لـ PCI تحقيق ما يصل إلى 132 ميجابايت/ثانية عن طريق نقل كلمة واحدة 32 بت في كل دورة ساعة دون الحاجة إلى إعادة إرسال العناوين[^1].
- يستخدم PCI واجهة جسر للاتصال بناقل وحدة المعالجة المركزية، والتي تقوم بتبييض البيانات وتحسين الوصول إلى الذاكرة، مما يسمح لوحدة المعالجة المركزية بمتابعة التنفيذ دون حالات انتظار أثناء الاتصال الطرفي[^1].
- يدعم PCI إتقان الناقل و DMA (الوصول المباشر للذاكرة)، حيث يمكن للأجهزة السيطرة على الناقل لنقل البيانات مباشرة.
- هناك امتداد 64 بت لـ PCI لزيادة النطاق الترددي further.
- يتم التعرف على أجهزة PCI من خلال رقم الناقل، ورقم الجهاز، والوظيفة، مع سجلات التكوين التي تحدد البائع، ونوع الجهاز، وعناوين الذاكرة والإدخال/الإخراج، والمقاطعات[^3].
- تشمل معاملات PCI مراحل العناوين ومراحل البيانات، وتدعم أوامر متنوعة مثل قراءة/كتابة الذاكرة وقراءة/كتابة الإدخال/الإخراج[^3].

---

### 4. تقنيات الواجهات الحديثة

انتقل الاتصال الطرفي الحديث نحو الواجهات التسلسلية التي تكون أبسط وأكثر مرونة من النواقل المتوازية.

---

#### USB (الناقل التسلسلي العالمي)

- USB هو واجهة تسلسلية عالية السرعة مستخدمة على نطاق واسع مصممة لتوصيل الأجهزة الطرفية مثل لوحات المفاتيح، والفئران، وأجهزة التخزين، والمزيد.
- يدعم الإضافة والتشغيل والتبديل الساخن، مما يسمح بتوصيل الأجهزة وفصلها دون إيقاف التشغيل.
- يستخدم USB طوبولوجيا النجم المتدرج ويدعم معدلات بيانات تتراوح من 1.5 ميجابت/ثانية (السرعة المنخفضة) حتى 10 جيجابت/ثانية (USB 3.1 وما بعده).
- يوفر الطاقة للأجهزة ويدعم فئات أجهزة متعددة مع بروتوكولات قياسية.
- تتحكم وحدات تحكم USB في عمليات نقل البيانات باستخدام نقاط النهاية والأنابيب، مع أنواع نقل مختلفة مثل التحكم، والجملي، والمقاطعة، والنقل المتساوي.

---

#### SPI (الواجهة الطرفية التسلسلية)

- SPI هو ناقل اتصال تسلسلي متزامن شائع الاستخدام للاتصال لمسافات قصيرة مع الأجهزة الطرفية مثل أجهزة الاستشعار، وذاكرات EEPROM، والشاشات[^4].
- يستخدم أربع إشارات: SCLK (الساعة)، MOSI (خارج الرئيس إلى داخل التابع)، MISO (داخل الرئيس من خارج التابع)، و CS (تحديد الشريحة).
- SPI كامل الازدواج، مما يسمح بنقل البيانات واستقبالها في وقت واحد.
- إنه بسيط وسريع ولكنه يتطلب خط تحديد شريحة واحد لكل جهاز، مما قد يحد من قابلية التوسع.
- تتضمن إعدادات وضع SPI قطبية الساعة وطورها، والتي تحدد وقت أخذ عينات البيانات وتحويلها[^6].
- يُستخدم SPI عادةً في الأنظمة المدمجة وتطبيقات متحكمات الدقيقة.

---

#### I²C (دائرة متكاملة بينية)

- I²C هو ناقل تسلسلي مكون من سلكين يستخدم للاتصال بين متحكمات الدقيقة والأجهزة الطرفية مثل أجهزة الاستشعار وذاكرات EEPROM[^4].
- يستخدم خطين ثنائيي الاتجاه: SDA (البيانات) و SCL (الساعة).
- يدعم I²C عدة أجهزة رئيسية وتابعة على نفس الناقل، مع عنونة الأجهزة بعناوين فريدة 7 أو 10 بت.
- يدعم اتصال نصف ازدواج ويستخدم مخرجات مصدر مفتوح/جامع مفتوح مع مقاومات سحب لأعلى.
- I²C أبطأ من SPI ولكنه يتطلب عددًا أقل من المسارات ويدعم الاتصال متعدد الأجهزة مع أسلاك بسيطة.
- السرعات النموذجية هي 100 كيلو هرتز (الوضع القياسي)، و 400 كيلو هرتز (الوضع السريع)، وأعلى في المواصفات الأحدث.

---

### جدول الملخص: ISA مقابل PCI مقابل USB مقابل SPI مقابل I²C

| الميزة | ISA | PCI | USB | SPI | I²C |
| :-- | :-- | :-- | :-- | :-- | :-- |
| نوع الناقل | متوازي، غير متزامن | متوازي، متزامن | تسلسلي، غير متزامن | تسلسلي، متزامن | تسلسلي، متزامن |
| عرض البيانات | 8 أو 16 بت | 32 أو 64 بت متعدد الإرسال | تسلسلي (1 بت) | 1 بت لكل خط، كامل الازدواج | 1 بت لكل خط، نصف ازدواج |
| سرعة الساعة | 4.77 ميجا هرتز | 33 ميجا هرتز (PCI الأساسي) | حتى 10 جيجابت/ثانية (USB 3.1) | تصل عادةً إلى عدة ميجا هرتز | تصل عادةً إلى 400 كيلو هرتز+ |
| أقصى نطاق ترددي | ~9 ميجابايت/ثانية | 44-132 ميجابايت/ثانية | يختلف حسب إصدار USB | يعتمد على سرعة الساعة | أقل من SPI |
| عدد الأسلاك | العديد (عناوين، بيانات، تحكم) | العديد (خطوط متعددة الإرسال) | 4 (طاقة، أرضي، D+، D-) | 4 (SCLK، MOSI، MISO، CS) | 2 (SDA، SCL) |
| عنونة الجهاز | قائم على الفتحة | رقم الناقل/الجهاز/الوظيفة | تعداد الأجهزة | تحديد الشريحة لكل جهاز | أجهزة معنونة |
| حالات الاستخدام النموذجية | بطاقات توسعة قديمة | بطاقات توسعة حديثة | أجهزة طرفية خارجية | أجهزة طرفية مدمجة | أجهزة طرفية مدمجة |
| إتقان الناقل | نعم | نعم | يديره متحكم المضيف | رئيسي/تابع | مدعوم متعدد الرئيسية |

---

### ملاحظات عملية حول استخدام SPI و I²C

- على منصات مثل Raspberry Pi، لا يتم تمكين واجهات SPI و I²C افتراضيًا وتتطلب التكوين عبر إعدادات النظام (مثل `raspi-config`)[^4].
- توفر مكتبات مثل `wiringPi`، و `spidev` (لـ SPI)، و `smbus` (لـ I²C) واجهات برمجة بلغات C/C++ و Python للتواصل مع الأجهزة على هذه النواقل.
- يتضمن تكوين SPI ضبط الوضع (قطبية الساعة وطورها)، وترتيب البتات (MSB أو LSB أولاً)، وتحديد دبوس تحديد الشريحة الصحيح[^6].
- يتضمن اتصال I²C تحديد عناوين الأجهزة والتعامل مع شروط البدء/الإيقاف لنقل البيانات.

---

يحدد هذا البرنامج التعليمي المفاهيم الأساسية والجوانب العملية لنواقل النظام والواجهات الطرفية الحديثة، مما يوفر أساسًا متينًا لفهم بنى ناقل الحواسيب الدقيقة وتقنيات التوسعة.

<div style="text-align: center">⁂</div>

[^1]: https://people.ece.ubc.ca/~edc/464/lectures/lec17.pdf

[^2]: https://spotpear.com/wiki/USB-TO-UART-I2C-SPI-JTAG-Wiki.html

[^3]: https://home.mit.bme.hu/~rtamas/rendszerarchitekturak/eloadas/08_bus_introduction.pdf

[^4]: https://learn.sparkfun.com/tutorials/raspberry-pi-spi-and-i2c-tutorial/all

[^5]: https://www.techtarget.com/searchwindowsserver/definition/ISA-Industry-Standard-Architecture

[^6]: https://www.ratocsystems.com/english/download/pdffiles/usb61_e_10.pdf

[^7]: https://webstor.srmist.edu.in/web_assets/srm_mainsite/files/files/PCI.pdf

[^8]: https://www.infineon.com/dgdl/Infineon-USB-Serial_VCP_I2CSPI_API_Guide-Software-v01_00-EN.pdf?fileId=8ac78c8c7d0d8da4017d0f6a8b015fe6\&da=t

[^9]: https://network.nvidia.com/pdf/whitepapers/PCI_3GIO_IB_WP_120.pdf

[^10]: https://people.scs.carleton.ca/~sivarama/org_book/org_book_web/slides/chap_1_versions/ch5_1.pdf

[^11]: https://www.youtube.com/watch?v=BBobCtfOjbM

[^12]: https://www.sciencedirect.com/topics/engineering/peripheral-component-interconnect-bus

[^13]: http://mcatutorials.com/mca-tutorials-bus-standards-and-types.php

[^14]: https://www.youtube.com/watch?v=YRJ9gWaxfJY

[^15]: https://docs.nxp.com/bundle/UM12018/page/topics/connecting_to_a_target_through_a_usb-to-spi_or_usb.html

[^16]: https://www.i2ctools.com/Downloads/USBtoI2Cpro/USB-to-SPI_Software_Users_Manual.pdf

[^17]: https://www.youtube.com/watch?v=WIIR77fCHYc

[^18]: https://ftdichip.com/wp-content/uploads/2021/08/AN_255_USB-to-I2C-Example-using-the-FT232H-and-FT201X-devices.pdf

[^19]: https://www.youtube.com/watch?v=IyGwvGzrqp8