---
audio: false
generated: false
image: true
lang: ar
layout: post
title: '## ููุฏูุฉ ุฅูู ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ ูุงูุจูุงูุงุช ุงูุถุฎูุฉ'
translated: true
---

ุชุญุชูู ูุฐู ุงูุฏูุฑุฉ ุนูู ุงูููุงุถูุน ุงูุชุงููุฉ:

* Spark
* Hadoop
* Kubernetes
* Docker
* Flink
* MongoDB

(ููุงุญุธุฉ: ุงูุฃุณูุงุก ุงูุชูููุฉ ูุซู Spark ูHadoop ูKubernetes ูDocker ูFlink ูMongoDB ูุง ุชูุชุฑุฌู ุนุงุฏุฉู ูู ุงูุณูุงูุงุช ุงูุชูููุฉุ ูุฐุง ุชู ุชุฑููุง ููุง ูู.)

ุนูุฏ ุงูุญุฏูุซ ุนู ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉุ ูุจุฏู ุฃูู ูุง ูููู ุงูุงุณุชุบูุงุก ุนู ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ูุซู Hadoop ูHive ูHbase ูZooKeeper ูDocker ูKubernetes ูSpark ูKafka ูMongoDB ูFlink ูDruid ูPresto ูKylin ูElastic Search. ูู ุณูุนุช ุจูุง ุฌููุนูุงุ ุจุนุถ ูุฐู ุงูุฃุฏูุงุช ูุฌุฏุชูุง ูู ูุตู ูุธุงุฆู ูุซู `ูููุฏุณ ุงูุจูุงูุงุช ุงูุถุฎูุฉ` ู`ูููุฏุณ ุงูุฎูููุฉ ุงูููุฒุนุฉ`. ูุฐู ุงููุธุงุฆู ุชุชูุชุน ุจุฑูุงุชุจ ุนุงููุฉ. ุฏุนููุง ูุญุงูู ุชุซุจูุชูุง ุฌููุนูุง ูุงูุชูุงุนุจ ุจูุง ููููุงู.

## ุงุณุชูุดุงู Spark ุงูุฃููู

ุงููููุน ุงูุฑุณูู ูููู ุฅู `Spark` ูู ูุญุฑู ุชุญููู ูุณุชุฎุฏู ููุนุงูุฌุฉ ุงูุจูุงูุงุช ุงูุถุฎูุฉ. `Spark` ูู ูู ุงูุฃุณุงุณ ูุฌููุนุฉ ูู ุงูููุชุจุงุช. ูุจุฏู ุฃูู ูุง ูุชู ุชูุณููู ุฅูู ุฎุงุฏู ู ุนููู ูุซู `Redis`. `Spark` ููุณุชุฎุฏู ููุท ุนูู ุฌุงูุจ ุงูุนููู. ููุช ุจุชุญููู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ุงููููุน ุงูุฑุณููุ ููู `spark-3.1.1-bin-hadoop3.2.tar`.

```shell
$ tree . -L 1
.
โโโ LICENSE
โโโ NOTICE
โโโ R
โโโ README.md
โโโ RELEASE
โโโ bin
โโโ conf
โโโ data
โโโ examples
โโโ jars
โโโ kubernetes
โโโ licenses
โโโ python
โโโ sbin
โโโ yarn
```

11 ูุฌูุฏูุงุ 4 ูููุงุช
```

ูุจุฏู ุฃููุง ุนุจุงุฑุฉ ุนู ุจุนุถ ููุชุจุงุช ุงูุชุญููู ุงูููุชูุจุฉ ุจูุบุงุช ูุฎุชููุฉ.

ููุง ุฐูุฑ ุงููููุน ุงูุฑุณูู ุฃูู ูููู ุชุซุจูุช ููุชุจุงุช ุงูุชุจุนูุฉ ูุจุงุดุฑุฉ ูู Python ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู:  
`pip install pyspark`

```shell
$ pip install pyspark
ุฌูุน pyspark
  ุชูุฒูู pyspark-3.1.1.tar.gz (212.3 MB)
     |โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ| 212.3 MB 14 kB/s
ุฌูุน py4j==0.10.9
  ุชูุฒูู py4j-0.10.9-py2.py3-none-any.whl (198 kB)
     |โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ| 198 kB 145 kB/s
ุจูุงุก ุนุฌูุงุช ููุญุฒู ุงููุฌูุนุฉ: pyspark
  ุจูุงุก ุนุฌูุฉ ูู pyspark (setup.py) ... ุชู
  ุชู ุฅูุดุงุก ุนุฌูุฉ ูู pyspark: ุงุณู ุงูููู=pyspark-3.1.1-py2.py3-none-any.whl ุญุฌู=212767604 sha256=0b8079e82f3a5bcadad99179902d8c8ff9f8eccad928a469c11b97abdc960b72
  ุชู ุชุฎุฒูููุง ูู ุงูุฏููู: /Users/lzw/Library/Caches/pip/wheels/23/bf/e9/9f3500437422e2ab82246f25a51ee480a44d4efc6c27e50d33
ุชู ุจูุงุก pyspark ุจูุฌุงุญ
ุชุซุจูุช ุงูุญุฒู ุงููุฌูุนุฉ: py4j, pyspark
ุชู ุชุซุจูุช py4j-0.10.9 ู pyspark-3.1.1 ุจูุฌุงุญ
```

ุชู ุงูุชุซุจูุช ุจูุฌุงุญ.

ูุฐุง ุณูุธูุฑ ุนูู ุงููููุน ุงูุฑุณููุ ูููุงู ุจุนุถ ุงูุฃูุซูุฉ.

```shell
./bin/run-example SparkPi 10
```

ุฃููุ ูุจุฏู ุฃูู ูููู ุชุดุบูู ุงูุจุฑูุงูุฌ ุงูููุฌูุฏ ูู ุญุฒูุฉ ุงูุชุซุจูุช ุงูุชู ุชู ุชูุฒูููุง ููุชู. ููู ุญุฏุซ ุฎุทุฃ.

```shell
$ ./bin/run-example SparkPi 10
21/03/11 00:06:15 WARN NativeCodeLoader: ุบูุฑ ูุงุฏุฑ ุนูู ุชุญููู ููุชุจุฉ native-hadoop ูููุตุชู... ูุชู ุงุณุชุฎุฏุงู ุงููุฆุงุช ุงููุฏูุฌุฉ ูู ุฌุงูุง ุญูุซูุง ูุงู ุฐูู ููุงุณุจูุง
21/03/11 00:06:16 INFO ResourceUtils: ูู ูุชู ุชูููู ููุงุฑุฏ ูุฎุตุตุฉ ูู spark.driver.
21/03/11 00:06:16 WARN Utils: ุงูุฎุฏูุฉ 'sparkDriver' ูู ุชุชููู ูู ุงูุฑุจุท ุนูู ูููุฐ ุนุดูุงุฆู ูุฌุงูู. ูุฏ ุชุฑุบุจ ูู ุงูุชุญูู ููุง ุฅุฐุง ูุงู ูุชู ุชูููู ุนููุงู ุฑุจุท ููุงุณุจ.
```

> Spark ูู ูุญุฑู ูุนุงูุฌุฉ ุณุฑูุน ูุนุงู ูุชูุงูู ูุน ุจูุงูุงุช Hadoop. ููููู ุงูุนูู ูู ูุฌููุนุงุช Hadoop ูู ุฎูุงู YARN ุฃู ุงููุถุน ุงููุณุชูู ูู Sparkุ ูููููู ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูู HDFSุ HBaseุ Cassandraุ Hiveุ ูุฃู ุชูุณูู ุฅุฏุฎุงู ูู Hadoop. ุชู ุชุตูููู ูุฃุฏุงุก ูู ูู ุงููุนุงูุฌุฉ ุงูุฏูุนูุฉ (ูุดุงุจูุฉ ูู MapReduce) ูุฃุญูุงู ุงูุนูู ุงูุฌุฏูุฏุฉ ูุซู ุงูุจุซ ุงููุจุงุดุฑุ ุงูุงุณุชุนูุงูุงุช ุงูุชูุงุนููุฉุ ูุชุนูู ุงูุขูุฉ.

ุธูุฑุช ูููุฉ `hadoop` ุนุฏุฉ ูุฑุงุช. ุจุนุฏ ุงูุจุญุซ ุนูู Google ุนู `spark depends hadoop`ุ ูุฌุฏุช ูุฐุง ุงููุต. ูุจุฏู ุฃู ูุฐุง ูุนุชูุฏ ุนูู ุจูุงูุงุช ุจุชูุณูู `Hadoop`. ุฏุนููุง ูุฏุฑุณ `Hadoop` ุฃููุงู.

## Hadoop

ุจุนุฏ ุงูุงุทูุงุน ุงูุณุฑูุน ุนูู ุงููููุน ุงูุฑุณููุ ุฏุนูุง ูุจุฏุฃ ุจุงูุชุซุจูุช.

```shell
brew install hadoop
```

ุฃุซูุงุก ุนูููุฉ ุงูุชุซุจูุชุ ุฏุนููุง ูุชุนุฑู ุนูู ุงูุฃูุฑ.

> ููุชุจุฉ ุจุฑูุฌูุงุช Apache Hadoop ูู ุฅุทุงุฑ ุนูู ูุณูุญ ุจูุนุงูุฌุฉ ูุฌููุนุงุช ุงูุจูุงูุงุช ุงููุจูุฑุฉ ุจุดูู ููุฒุน ุนุจุฑ ูุฌููุนุงุช ูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุจุงุณุชุฎุฏุงู ููุงุฐุฌ ุจุฑูุฌูุฉ ุจุณูุทุฉ. ุชู ุชุตููููุง ูุชุชูุณุน ูู ุฎูุงุฏู ูุฑุฏูุฉ ุฅูู ุขูุงู ุงูุฃุฌูุฒุฉุ ุญูุซ ูููุฑ ูู ุฌูุงุฒ ุญุณุงุจูุง ูุญูููุง ูุชุฎุฒูููุง. ุจุฏููุง ูู ุงูุงุนุชูุงุฏ ุนูู ุงูุฃุฌูุฒุฉ ูุชูููุฑ ุงูุชููุฑ ุงูุนุงููุ ุชู ุชุตููู ุงูููุชุจุฉ ููุณูุง ูุงูุชุดุงู ูุงูุชุนุงูู ูุน ุงูุฃุนุทุงู ุนูู ูุณุชูู ุทุจูุฉ ุงูุชุทุจููุ ููุง ูููุฑ ุฎุฏูุฉ ุนุงููุฉ ุงูุชููุฑ ุนูู ูุฌููุนุฉ ูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑุ ุญูุซ ูุฏ ูููู ูู ุฌูุงุฒ ุนุฑุถุฉ ููุฃุนุทุงู.

ุจูุนูู ุขุฎุฑุ Hadoop ูู ุฅุทุงุฑ ุนูู ูุตูู ููุนุงูุฌุฉ ูุฌููุนุงุช ุงูุจูุงูุงุช ุงูููุฒุนุฉ. ูุฏ ุชููู ูุฐู ุงูุจูุงูุงุช ููุฒุนุฉ ุนูู ุงูุนุฏูุฏ ูู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ. ูุชู ุงูุชุนุงูู ูุนูุง ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุจุฑูุฌุฉ ุจุณูุท. ุชู ุชุตูููู ููุชูุฏุฏ ูู ุฎุงุฏู ูุงุญุฏ ุฅูู ุขูุงู ุงูุฃุฌูุฒุฉ. ุจุฏูุงู ูู ุงูุงุนุชูุงุฏ ุนูู ุชููุฑ ุงูุฃุฌูุฒุฉ ุงูุนุงููุฉุ ุชู ุชุตููู ูุฐู ุงูููุชุจุฉ ูููุดู ุนู ุงูุฃุฎุทุงุก ููุนุงูุฌุชูุง ุนูู ูุณุชูู ุงูุชุทุจูู. ูุจุงูุชุงููุ ูููู ูุดุฑ ุฎุฏูุงุช ุนุงููุฉ ุงูุชููุฑ ูู ุนูููุฏ (cluster)ุ ุนูู ุงูุฑุบู ูู ุฃู ูู ุฌูุงุฒ ูู ุงูุนูููุฏ ูุฏ ูููู ุนุฑุถุฉ ูููุดู.

```shell
$ brew install hadoop
ุฎุทุฃ:
  homebrew-core ูู ุงุณุชูุณุงุฎ ุถุญู.
  homebrew-cask ูู ุงุณุชูุณุงุฎ ุถุญู.
ูุชูููุฐ `brew update`ุ ูู ุฃููุงู ุจุชุดุบูู:
  git -C /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core fetch --unshallow
  git -C /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask fetch --unshallow
ูุฏ ุชุณุชุบุฑู ูุฐู ุงูุฃูุงูุฑ ุจุถุน ุฏูุงุฆู ููุชูููุฐ ุจุณุจุจ ุงูุญุฌู ุงููุจูุฑ ูููุณุชูุฏุนุงุช.
ุชู ูุฑุถ ูุฐุง ุงูููุฏ ุจูุงุกู ุนูู ุทูุจ GitHub ูุฃู ุชุญุฏูุซ ุงูุงุณุชูุณุงุฎุงุช ุงูุถุญูุฉ
ูู ุนูููุฉ ููููุฉ ููุบุงูุฉ ุจุณุจุจ ุชุฎุทูุท ุงูุดุฌุฑุฉ ูุญุฑูุฉ ุงููุฑูุฑ ูู
Homebrew/homebrew-core ู Homebrew/homebrew-cask. ูุญู ูุง ูููู ุจุฐูู ุชููุงุฆููุง
ูุชุฌูุจ ุชูููุฐ ุนูููุฉ ุฅูุบุงุก ุงูุงุณุชูุณุงุฎ ุงูุถุญูุฉ ุจุดูู ูุชูุฑุฑ ูู
ุฃูุธูุฉ CI (ูุงูุชู ูุฌุจ ุฅุตูุงุญูุง ุจุฏูุงู ูู ุฐูู ูุนุฏู ุงุณุชุฎุฏุงู ุงุณุชูุณุงุฎุงุช ุถุญูุฉ). ูุฃุณู ููุฅุฒุนุงุฌ!
==> ุชูุฒูู https://homebrew.bintray.com/bottles/openjdk-15.0.1.big_sur.bottle.tar.gz
ุชู ุงูุชูุฒูู ูุณุจููุง: /Users/lzw/Library/Caches/Homebrew/downloads/d1e3ece4af1d225bc2607eaa4ce85a873d2c6d43757ae4415d195751bc431962--openjdk-15.0.1.big_sur.bottle.tar.gz
==> ุชูุฒูู https://www.apache.org/dyn/closer.lua?path=hadoop/common/hadoop-3.3.0/hadoop-3.3.0.tar.gz
ุชู ุงูุชูุฒูู ูุณุจููุง: /Users/lzw/Library/Caches/Homebrew/downloads/764c6a0ea7352bb8bb505989feee1b36dc628c2dcd6b93fef1ca829d191b4e1e--hadoop-3.3.0.tar.gz
==> ุชุซุจูุช ุงูุชุจุนูุงุช ูู hadoop: openjdk
==> ุชุซุจูุช ุชุจุนูุฉ hadoop: openjdk
==> ุตุจ openjdk-15.0.1.big_sur.bottle.tar.gz
==> ููุงุญุธุงุช
ููู ุชุฌุฏ ุฃุบููุฉ Java ุงููุธุงููุฉ ูุฐุง JDKุ ูู ุจุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ุจุงุณุชุฎุฏุงู
  sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk
```

`openjdk` ูู keg-onlyุ ููุง ูุนูู ุฃูู ูู ูุชู ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ูู ูู `/usr/local`ุ  
ูุฃูู ูุชุนุงุฑุถ ูุน ุบูุงู `java` ุงูุฎุงุต ุจู macOS.

ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฃู ูููู `openjdk` ุฃูููุง ูู ูุณุงุฑ `PATH` ุงูุฎุงุต ุจูุ ูู ุจุชูููุฐ ุงูุฃูุฑ ุงูุชุงูู:

```bash
echo 'export PATH="/usr/local/opt/openjdk/bin:$PATH"' >> /Users/lzw/.bash_profile
```

ูุชูููู ุงููุชุฑุฌูุงุช ูู ุงูุนุซูุฑ ุนูู `openjdk`ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุชุนููู:
```bash
export CPPFLAGS="-I/usr/local/opt/openjdk/include"
```

==> ุงูููุฎุต
๐บ  /usr/local/Cellar/openjdk/15.0.1: 614 ููููุงุ 324.9 ููุฌุงุจุงูุช
==> ุชุซุจูุช Hadoop
๐บ  /usr/local/Cellar/hadoop/3.3.0: 21,819 ููููุงุ 954.7 ููุฌุงุจุงูุชุ ุชู ุงูุจูุงุก ูู ุฏูููุชูู ู15 ุซุงููุฉ
==> ุชุฑููุฉ ุชุจุนูุฉ ูุงุญุฏุฉ:
Maven 3.3.3 -> 3.6.3_1
==> ุชุฑููุฉ Maven 3.3.3 -> 3.6.3_1
==> ุชูุฒูู https://www.apache.org/dyn/closer.lua?path=maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz
==> ุงูุชูุฒูู ูู https://mirror.olnevhost.net/pub/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz
######################################################################## 100.0%
ุฎุทุฃ: ุฎุทูุฉ `brew link` ูู ุชูุชูู ุจูุฌุงุญ
ุชู ุจูุงุก ุงูุตูุบุฉุ ูููู ูู ูุชู ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ูู /usr/local
ุชุนุฐุฑ ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ูู bin/mvn
ุงููุฏู /usr/local/bin/mvn
ูู ุฑุงุจุท ุฑูุฒู ูุชุจุน ูู Maven. ููููู ุฅูุบุงุก ุงูุฑุจุท:
  brew unlink maven

ูุฅุฌุจุงุฑ ุงูุฑุจุท ูุงุณุชุจุฏุงู ุฌููุน ุงููููุงุช ุงููุชุถุงุฑุจุฉ:
  ```bash
  brew link --overwrite maven
  ```

ูุฅุฏุฑุงุฌ ุฌููุน ุงููููุงุช ุงูุชู ุณูุชู ุญุฐููุง:
  ```bash
  brew link --overwrite --dry-run maven
  ```

ุงููููุงุช ุงูุชู ูุฏ ุชููู ูุชุถุงุฑุจุฉ ูู:
/usr/local/bin/mvn -> /usr/local/Cellar/maven/3.3.3/bin/mvn
/usr/local/bin/mvnDebug -> /usr/local/Cellar/maven/3.3.3/bin/mvnDebug
/usr/local/bin/mvnyjp -> /usr/local/Cellar/maven/3.3.3/bin/mvnyjp
==> ุงูููุฎุต
๐บ  /usr/local/Cellar/maven/3.6.3_1: 87 ููููุงุ 10.7 ููุฌุงุจุงูุชุ ุชู ุจูุงุคูุง ูู 7 ุซูุงูู
ุฅุฒุงูุฉ: /usr/local/Cellar/maven/3.3.3... (92 ููููุงุ 9 ููุฌุงุจุงูุช)
==> ุงูุชุญูู ูู ุงูุชุจุนูุงุช ุงููุนุชูุฏุฉ ุนูู ุงูุตูุบ ุงููุญุฏุซุฉ...
==> ูู ูุชู ุงูุนุซูุฑ ุนูู ุชุจุนูุงุช ูุนุทูุฉ!
==> ุชุญุฐูุฑุงุช
==> openjdk
ููู ุชุชููู ุฃุบููุฉ Java ุงููุธุงููุฉ ูู ุงูุนุซูุฑ ุนูู ูุฐุง JDKุ ูู ุจุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ุจุงุณุชุฎุฏุงู
  sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk

`openjdk` ูู keg-onlyุ ููุง ูุนูู ุฃูู ูู ูุชู ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ูู ูู `/usr/local`ุ
ูุฃูู ูุชุนุงุฑุถ ูุน ุงูุบูุงู `java` ุงูุฎุงุต ุจู macOS.

ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฃู ูููู `openjdk` ุฃูููุง ูู ูุณุงุฑ `PATH` ุงูุฎุงุต ุจูุ ูู ุจุชูููุฐ ุงูุฃูุฑ ุงูุชุงูู:

```bash
echo 'export PATH="/usr/local/opt/openjdk/bin:$PATH"' >> /Users/lzw/.bash_profile
```

ูุฐุง ุงูุฃูุฑ ุณูุถูู ูุณุงุฑ `openjdk` ุฅูู ููู `.bash_profile` ุงูุฎุงุต ุจูุ ููุง ูุถูู ุฃู ูุชู ุชุญูููู ุฃูููุง ุนูุฏ ูุชุญ ุฃู ุทุฑููุฉ ุฌุฏูุฏุฉ.

ูุชูููู ุงููุชุฑุฌูุงุช ูู ุงูุนุซูุฑ ุนูู `openjdk`ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุชุนููู:
```bash
export CPPFLAGS="-I/usr/local/opt/openjdk/include"
```

ูุงุญุธุช ูู ุณุฌู ุฅุฎุฑุงุฌ `brew` ุฃู `maven` ูู ูุชู ุฑุจุทู ุจุดูู ุฌูุฏ. ุจุนุฏ ุฐููุ ููุช ุจุฅุฌุฑุงุก ุฑุจุท ุฅุฌุจุงุฑู ููุฅุตุฏุงุฑ `3.6.3_1`.

```shell
  brew link --overwrite maven
```

ุชู ุชุซุจูุช `Hadoop` ุจูุฌุงุญ.

> ## ุงููุญุฏุงุช
>
> ูุชุถูู ุงููุดุฑูุน ูุฐู ุงููุญุฏุงุช:
>
> - **Hadoop Common**: ุงูุฃุฏูุงุช ุงููุดุชุฑูุฉ ุงูุชู ุชุฏุนู ูุญุฏุงุช Hadoop ุงูุฃุฎุฑู.
> - **ูุธุงู ุงููููุงุช ุงูููุฒุน Hadoop (HDFSโข)**: ูุธุงู ูููุงุช ููุฒุน ูููุฑ ูุตูููุง ุนุงูู ุงูุฅูุชุงุฌูุฉ ูุจูุงูุงุช ุงูุชุทุจููุงุช.
> - **Hadoop YARN**: ุฅุทุงุฑ ุนูู ูุฌุฏููุฉ ุงูููุงู ูุฅุฏุงุฑุฉ ููุงุฑุฏ ุงูุนูููุฏูุฉ.
> - **Hadoop MapReduce**: ูุธุงู ูุนุชูุฏ ุนูู YARN ููุนุงูุฌุฉ ูุฌููุนุงุช ุงูุจูุงูุงุช ุงููุจูุฑุฉ ุจุดูู ูุชูุงุฒู.
> - **Hadoop Ozone**: ูุฎุฒู ูุงุฆูุงุช ูู Hadoop.

ูุจุฏู ุฃู ููุงู ูุญุฏุงุช ูุชุงุญุฉ. ุนูุฏ ูุชุงุจุฉ `hadoop`ุ ุณูุธูุฑ ุงูุชุงูู:

```shell
$ hadoop
ุงูุงุณุชุฎุฏุงู: hadoop [ุฎูุงุฑุงุช] ุฃูุฑ_ูุฑุนู [ุฎูุงุฑุงุช ุงูุฃูุฑ ุงููุฑุนู]
 ุฃู    hadoop [ุฎูุงุฑุงุช] ุงุณู_ุงูุตู [ุฎูุงุฑุงุช ุงุณู ุงูุตู]
  ุญูุซ ุงุณู_ุงูุตู ูู ุตู Java ููุฏู ูู ุงููุณุชุฎุฏู
```

  ุงูุฎูุงุฑุงุช ุฅูุง ูุง ุดูุก ุฃู ุฃู ูู:

--config dir                     ุฏููู ุชููุฆุฉ Hadoop
--debug                          ุชูุนูู ูุถุน ุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ุณูุฑูุจุช ุงูุดู
--help                           ูุนูููุงุช ุงูุงุณุชุฎุฏุงู
buildpaths                       ูุญุงููุฉ ุฅุถุงูุฉ ูููุงุช ุงููุฆุงุช ูู ุดุฌุฑุฉ ุงูุจูุงุก
hostnames list[,of,host,names]   ุงูุฃุณูุงุก ุงููุถููุฉ ููุงุณุชุฎุฏุงู ูู ูุถุน ุงูุนุจุฏ (slave mode)
hosts filename                   ูุงุฆูุฉ ุงูุฃุณูุงุก ุงููุถููุฉ ููุงุณุชุฎุฏุงู ูู ูุถุน ุงูุนุจุฏ (slave mode)
loglevel level                   ุชุนููู ูุณุชูู log4j ููุฐุง ุงูุฃูุฑ
workers                          ุชูุนูู ูุถุน ุงูุนุงูู (worker mode)

  SUBCOMMAND ูู ุฃุญุฏ ุงูุฃูุงูุฑ ุงูุชุงููุฉ:
    ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ:

daemonlog     ุงูุญุตูู ุนูู/ุชุนููู ูุณุชูู ุงูุณุฌู ููู ุฎุงุฏู (daemon)

    ุฃูุงูุฑ ุงูุนููู:

```plaintext
archive       ุฅูุดุงุก ุฃุฑุดูู Hadoop
checknative   ุงูุชุญูู ูู ุชููุฑ ููุชุจุงุช Hadoop ุงูุฃุตููุฉ ูุถุบุทูุง
classpath     ุทุจุงุนุฉ ูุณุงุฑ ุงููุฆุฉ ุงููุทููุจ ููุญุตูู ุนูู ููู Hadoop jar ูุงูููุชุจุงุช ุงููุทููุจุฉ
conftest      ุงูุชุญูู ูู ุตุญุฉ ูููุงุช ุงูุชูููู XML
credential    ุงูุชูุงุนู ูุน ูุฒูุฏู ุงูุงุนุชูุงุฏุงุช
distch        ุฃุฏุงุฉ ุชุบููุฑ ุงูุจูุงูุงุช ุงููุตููุฉ ุงูููุฒุนุฉ
distcp        ูุณุฎ ููู ุฃู ุฃุฏูุฉ ุจุดูู ูุชูุฑุฑ
dtutil        ุนูููุงุช ูุชุนููุฉ ุจุฑููุฒ ุงูุชูููุถ
envvars       ุนุฑุถ ูุชุบูุฑุงุช ุจูุฆุฉ Hadoop ุงููุญุณูุจุฉ
fs            ุชุดุบูู ุนููู ูุธุงู ูููุงุช ุนุงู
gridmix       ุฅุฑุณุงู ูุฒูุฌ ูู ุงููุธุงุฆู ุงูุงุตุทูุงุนูุฉุ ููุฐุฌุฉ ุญูู ูู ุฅูุชุงุฌ ูุณุจู
jar <jar>     ุชุดุบูู ููู jar. ููุงุญุธุฉ: ูุฑุฌู ุงุณุชุฎุฏุงู "yarn jar" ูุจุฏุก ุชุทุจููุงุช YARNุ ูููุณ ูุฐุง ุงูุฃูุฑ.
jnipath       ุทุจุงุนุฉ java.library.path
kdiag         ุชุดุฎูุต ูุดุงูู Kerberos
kerbname      ุนุฑุถ ุชุญููู ุงููุจุฏุฃ auth_to_local
key           ุฅุฏุงุฑุฉ ุงูููุงุชูุญ ุนุจุฑ KeyProvider
rumenfolder   ุชุญุฌูู ุฃุซุฑ ุฅุฏุฎุงู rumen
rumentrace    ุชุญููู ุงูุณุฌูุงุช ุฅูู ุฃุซุฑ rumen
s3guard       ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ุงููุตููุฉ ุนูู S3
trace         ุนุฑุถ ูุชุนุฏูู ุฅุนุฏุงุฏุงุช ุชุชุจุน Hadoop
version       ุทุจุงุนุฉ ุงูุฅุตุฏุงุฑ
```

ุงูุฃูุงูุฑ ุงูุฎููุฉ (Daemon Commands):

kms           ุชุดุบูู KMSุ ุฎุงุฏู ุฅุฏุงุฑุฉ ุงูููุงุชูุญ
registrydns   ุชุดุบูู ุฎุงุฏู DNS ููุณุฌู

ูุฏ ูุทุจุน SUBCOMMAND ุงููุณุงุนุฏุฉ ุนูุฏ ุงุณุชุฏุนุงุฆู ุจุฏูู ูุนุงููุงุช ุฃู ุจุงุณุชุฎุฏุงู -h.
```

ุงููููุน ุงูุฑุณูู ูุฏู ุจุนุถ ุงูุฃูุซูุฉ.

```shell
  $ mkdir input
  $ cp etc/hadoop/*.xml input
  $ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar grep input output 'dfs[a-z.]+'
  $ cat output/*
```

ูุงุญุธุช ูุฌูุฏ ููู `share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar`. ูุฐุง ูุนูู ุฃูู ุฑุจูุง ุชููู ููุงู ุจุนุถ ูููุงุช ุงูุฃูุซูุฉ ุงูุชู ูู ูุญุตู ุนูููุง. ุฃุชููุน ุฃู ุชุซุจูุช `Homebrew` ูุฏ ูุง ูุดูู ูุฐู ุงููููุงุช. ูุฐูู ูููุง ุจุชูุฒูู ุญุฒูุฉ ุงูุชุซุจูุช ูู ุงููููุน ุงูุฑุณูู.

```shell
$ tree . -L 1
.
โโโ LICENSE-binary
โโโ LICENSE.txt
โโโ NOTICE-binary
โโโ NOTICE.txt
โโโ README.txt
โโโ bin
โโโ etc
โโโ include
โโโ lib
โโโ libexec
โโโ licenses-binary
โโโ sbin
โโโ share
```

ุธูุฑ ุฏููู `share`. ูููู ูู ุญููุง `Homebrew` ูุง ูุญุชูู ุนูู ูุฐู ุงููููุงุช ุงูุฅุถุงููุฉุ ุงุจุญุซ ุนู ุฏููู ุชุซุจูุช `Homebrew`.

```shell
$ type hadoop
hadoop ูู /usr/local/bin/hadoop
$ ls -alrt /usr/local/bin/hadoop
lrwxr-xr-x  1 lzw  admin  33 Mar 11 00:48 /usr/local/bin/hadoop -> ../Cellar/hadoop/3.3.0/bin/hadoop
$ cd /usr/local/Cellar/hadoop/3.3.0
```

ูุฐุง ูู ุดุฌุฑุฉ ุงูุฏููู ุงููุทุจูุน ูู `/usr/local/Cellar/hadoop/3.3.0/libexec/share/hadoop`.

```shell
$ tree . -L 2
.
โโโ client
โ   โโโ hadoop-client-api-3.3.0.jar
โ   โโโ hadoop-client-minicluster-3.3.0.jar
โ   โโโ hadoop-client-runtime-3.3.0.jar
โโโ common
โ   โโโ hadoop-common-3.3.0-tests.jar
โ   โโโ hadoop-common-3.3.0.jar
โ   โโโ hadoop-kms-3.3.0.jar
โ   โโโ hadoop-nfs-3.3.0.jar
โ   โโโ hadoop-registry-3.3.0.jar
โ   โโโ jdiff
โ   โโโ lib
โ   โโโ sources
โ   โโโ webapps
โโโ hdfs
โ   โโโ hadoop-hdfs-3.3.0-tests.jar
โ   โโโ hadoop-hdfs-3.3.0.jar
โ   โโโ hadoop-hdfs-client-3.3.0-tests.jar
โ   โโโ hadoop-hdfs-client-3.3.0.jar
โ   โโโ hadoop-hdfs-httpfs-3.3.0.jar
โ   โโโ hadoop-hdfs-native-client-3.3.0-tests.jar
โ   โโโ hadoop-hdfs-native-client-3.3.0.jar
โ   โโโ hadoop-hdfs-nfs-3.3.0.jar
โ   โโโ hadoop-hdfs-rbf-3.3.0-tests.jar
โ   โโโ hadoop-hdfs-rbf-3.3.0.jar
โ   โโโ jdiff
โ   โโโ lib
โ   โโโ sources
โ   โโโ webapps
โโโ mapreduce
โ   โโโ hadoop-mapreduce-client-app-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-common-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-core-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-hs-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-hs-plugins-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-jobclient-3.3.0-tests.jar
โ   โโโ hadoop-mapreduce-client-jobclient-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-nativetask-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-shuffle-3.3.0.jar
โ   โโโ hadoop-mapreduce-client-uploader-3.3.0.jar
โ   โโโ hadoop-mapreduce-examples-3.3.0.jar
โ   โโโ jdiff
โ   โโโ lib-examples
โ   โโโ sources
โโโ tools
โ   โโโ dynamometer
โ   โโโ lib
โ   โโโ resourceestimator
โ   โโโ sls
โ   โโโ sources
โโโ yarn
    โโโ csi
    โโโ hadoop-yarn-api-3.3.0.jar
    โโโ hadoop-yarn-applications-catalog-webapp-3.3.0.war
    โโโ hadoop-yarn-applications-distributedshell-3.3.0.jar
    โโโ hadoop-yarn-applications-mawo-core-3.3.0.jar
    โโโ hadoop-yarn-applications-unmanaged-am-launcher-3.3.0.jar
    โโโ hadoop-yarn-client-3.3.0.jar
    โโโ hadoop-yarn-common-3.3.0.jar
    โโโ hadoop-yarn-registry-3.3.0.jar
    โโโ hadoop-yarn-server-applicationhistoryservice-3.3.0.jar
    โโโ hadoop-yarn-server-common-3.3.0.jar
    โโโ hadoop-yarn-server-nodemanager-3.3.0.jar
    โโโ hadoop-yarn-server-resourcemanager-3.3.0.jar
    โโโ hadoop-yarn-server-router-3.3.0.jar
    โโโ hadoop-yarn-server-sharedcachemanager-3.3.0.jar
    โโโ hadoop-yarn-server-tests-3.3.0.jar
    โโโ hadoop-yarn-server-timeline-pluginstorage-3.3.0.jar
    โโโ hadoop-yarn-server-web-proxy-3.3.0.jar
    โโโ hadoop-yarn-services-api-3.3.0.jar
    โโโ hadoop-yarn-services-core-3.3.0.jar
    โโโ lib
    โโโ sources
    โโโ test
    โโโ timelineservice
    โโโ webapps
    โโโ yarn-service-examples
```

ููููู ุฃู ุชุฑู ุงูุนุฏูุฏ ูู ุญุฒู `jar`.

```shell
$ mkdir input
$ ls
bin			hadoop-config.sh	hdfs-config.sh		libexec			sbin			yarn-config.sh
etc			hadoop-functions.sh	input			mapred-config.sh	share
$ cp etc/hadoop/*.xml input
$ cd input/
$ ls
capacity-scheduler.xml	hadoop-policy.xml	hdfs-site.xml		kms-acls.xml		mapred-site.xml
core-site.xml		hdfs-rbf-site.xml	httpfs-site.xml		kms-site.xml		yarn-site.xml
$ cd ..
$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar grep input output 'dfs[a-z.]+'
JAR ุบูุฑ ููุฌูุฏ ุฃู ููุณ ููููุง ุนุงุฏููุง: /usr/local/Cellar/hadoop/3.3.0/libexec/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar
$
$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.3.0.jar grep input output 'dfs[a-z.]+'
2021-03-11 01:54:30,791 WARN util.NativeCodeLoader: ุบูุฑ ูุงุฏุฑ ุนูู ุชุญููู ููุชุจุฉ native-hadoop ูููุตุชู... ูุชู ุงุณุชุฎุฏุงู ูุฆุงุช Java ุงููุฏูุฌุฉ ุญูุซูุง ูุงู ุฐูู ูููููุง
2021-03-11 01:54:31,115 INFO impl.MetricsConfig: ุชู ุชุญููู ุงูุฎุตุงุฆุต ูู hadoop-metrics2.properties
2021-03-11 01:54:31,232 INFO impl.MetricsSystemImpl: ุชู ุฌุฏููุฉ ูุชุฑุฉ ููุทุฉ ุงูููุงููุณ ูู 10 ุซุงููุฉ.
...
```

ุจุนุฏ ุงุชุจุงุน ุงููุซุงู ุงูููุฌูุฏ ุนูู ุงููููุน ุงูุฑุณููุ ูุงุญุธุช ุฃู ุงูุฃูุฑ `bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar grep input` ูุญุชูู ุนูู ุฑูู ุฅุตุฏุงุฑ ูุจู ุญุฒูุฉ `jar`. ูุฐููุ ูุฌุจ ุชุบููุฑ ูุฐุง ุงูุฑูู ุฅูู ุงูุฅุตุฏุงุฑ ุงูุฎุงุต ุจูุง ููู `3.3.0`.

ููุงูุฉ ุงูุณุฌู:

```shell
2021-03-11 01:54:35,374 INFO mapreduce.Job:  ุชู ุชูููุฐ ุงูุฎุฑูุทุฉ ุจูุณุจุฉ 100% ูุงูุงุฎุชุฒุงู ุจูุณุจุฉ 100%
2021-03-11 01:54:35,374 INFO mapreduce.Job: ุชู ุฅููุงู ุงููููุฉ job_local2087514596_0002 ุจูุฌุงุญ
2021-03-11 01:54:35,377 INFO mapreduce.Job: ุงูุนุฏุงุฏุงุช: 30
	ุนุฏุงุฏุงุช ูุธุงู ุงููููุงุช
		FILE: ุนุฏุฏ ุงูุจุงูุชุงุช ุงูููุฑูุกุฉ=1204316
		FILE: ุนุฏุฏ ุงูุจุงูุชุงุช ุงูููุชูุจุฉ=3565480
		FILE: ุนุฏุฏ ุนูููุงุช ุงููุฑุงุกุฉ=0
		FILE: ุนุฏุฏ ุนูููุงุช ุงููุฑุงุกุฉ ุงููุจูุฑุฉ=0
		FILE: ุนุฏุฏ ุนูููุงุช ุงููุชุงุจุฉ=0
	ุฅุทุงุฑ ุนูู Map-Reduce
		ุณุฌูุงุช ุงูุฅุฏุฎุงู ููุฎุฑูุทุฉ=1
		ุณุฌูุงุช ุงูุฅุฎุฑุงุฌ ููุฎุฑูุทุฉ=1
		ุจุงูุชุงุช ุงูุฅุฎุฑุงุฌ ููุฎุฑูุทุฉ=17
		ุจุงูุชุงุช ุงูุฅุฎุฑุงุฌ ุงููุงุฏูุฉ ููุฎุฑูุทุฉ=25
		ุจุงูุชุงุช ุชูุณูู ุงูุฅุฏุฎุงู=141
		ุณุฌูุงุช ุงูุฅุฏุฎุงู ููุฌูุน=0
		ุณุฌูุงุช ุงูุฅุฎุฑุงุฌ ููุฌูุน=0
		ูุฌููุนุงุช ุงูุฅุฏุฎุงู ููุงุฎุชุฒุงู=1
		ุจุงูุชุงุช ุงูุงุฎุชูุงุท ููุงุฎุชุฒุงู=25
		ุณุฌูุงุช ุงูุฅุฏุฎุงู ููุงุฎุชุฒุงู=1
		ุณุฌูุงุช ุงูุฅุฎุฑุงุฌ ููุงุฎุชุฒุงู=1
		ุงูุณุฌูุงุช ุงูููุณูุจุฉ=2
		ุงูุฎุฑุงุฆุท ุงููุฎุชูุทุฉ=1
		ุนูููุงุช ุงูุงุฎุชูุงุท ุงููุงุดูุฉ=0
		ูุฎุฑุฌุงุช ุงูุฎุฑุงุฆุท ุงููุฏูุฌุฉ=1
		ุงูููุช ุงููุณุชุบุฑู ูู ุฌูุน ุงูููุงูุฉ (ูููู ุซุงููุฉ)=57
		ุฅุฌูุงูู ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ (ุจุงูุช)=772800512
	ุฃุฎุทุงุก ุงูุงุฎุชูุงุท
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	ุนุฏุงุฏุงุช ุชูุณูู ุฅุฏุฎุงู ุงูููู
		ุงูุจุงูุชุงุช ุงูููุฑูุกุฉ=123
	ุนุฏุงุฏุงุช ุชูุณูู ุฅุฎุฑุงุฌ ุงูููู
		ุงูุจุงูุชุงุช ุงูููุชูุจุฉ=23
```

ุชุงุจุน ุงููุฑุงุกุฉ.

```shell
$ cat output/*
1	dfsadmin
```

**ููุงุญุธุฉ:** ุงููุต ุฃุนูุงู ูู ุฃูุฑ ูู ุณุทุฑ ุงูุฃูุงูุฑ (shell command) ูููู ุจุนุฑุถ ูุญุชููุงุช ุฌููุน ุงููููุงุช ูู ูุฌูุฏ `output/`. ุงููุชูุฌุฉ ุงููุนุฑูุถุฉ ูู `1	dfsadmin`. ูุง ููุฌุฏ ุญุงุฌุฉ ูุชุฑุฌูุฉ ุงูุฃูุงูุฑ ุฃู ุงููุฎุฑุฌุงุช ุงูุจุฑูุฌูุฉ.

ูุงุฐุง ูุนูู ูุฐุง ุจุงูุถุจุทุ ูุง ุจุฃุณุ ุนูู ุฃู ุญุงูุ ููุฏ ูููุง ุจุชุดุบูู `Hadoop` ุจูุฌุงุญ. ููููุง ุจุชุดุบูู ุฃูู ูุซุงู ุญุณุงุจู ุนูู ูุณุฎุฉ ูุณุชููุฉ.

## Spark

ุจุงูุนูุฏุฉ ุฅูู Spark. ููููู ูุธุฑุฉ ุนูู ูุซุงู.

```python
text_file = sc.textFile("hdfs://...")
counts = text_file.flatMap(lambda line: line.split(" ")) \
             .map(lambda word: (word, 1)) \
             .reduceByKey(lambda a, b: a + b)
counts.saveAsTextFile("hdfs://...")
```

ุธูุฑ ููุง ููู `hdfs`. ุจุนุฏ ุงูุจุญุซุ ุงูุชุดูุช ุฃูู ูููู ุฅูุดุงุก ููู `hdfs` ุจูุฐู ุงูุทุฑููุฉ:

```shell
hdfs dfs -mkdir /test
```

ุชู ุชุฑุฌูุฉ ุงูุฃูุฑ ุฅูู:

```shell
hdfs dfs -mkdir /test
```

ููุงุญุธุฉ: ุงูุฃูุฑ ููุณู ุจูู ููุง ูู ูุฃูู ุฃูุฑ ุจุฑูุฌู ููุง ูุชู ุชุฑุฌูุชู.

ููููู ูุธุฑุฉ ุนูู ุฃูุฑ `hdfs`.

```shell
$ hdfs
ุงูุงุณุชุฎุฏุงู: hdfs [ุฎูุงุฑุงุช] ุงูุฃูุฑ_ุงููุฑุนู [ุฎูุงุฑุงุช ุงูุฃูุฑ_ุงููุฑุนู]
```

`OPTIONS` ุฅูุง ูุง ุดูุก ุฃู ุฃู ูู:

--buildpaths                       ูุญุงููุฉ ุฅุถุงูุฉ ูููุงุช ุงููุฆุงุช ูู ุดุฌุฑุฉ ุงูุจูุงุก
--config dir                       ุฏููู ุชููุฆุฉ Hadoop
--daemon (start|status|stop)       ุชุดุบูู ุฃู ุงูุชุญูู ูู ุญุงูุฉ ุฃู ุฅููุงู ุงูุฎุฏูุฉ ุงูุฎูููุฉ
--debug                            ุชูุนูู ูุถุน ุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ุงูุจุฑูุงูุฌ ุงููุตู ูููุดุฑุฉ
--help                             ูุนูููุงุช ุงูุงุณุชุฎุฏุงู
--hostnames list[,of,host,names]   ุงูุฃุณูุงุก ุงููุถููุฉ ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ูู ูุถุน ุงูุนุงูู
--hosts filename                   ูุงุฆูุฉ ุงูุฃุณูุงุก ุงููุถููุฉ ุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ูู ูุถุน ุงูุนุงูู
--loglevel level                   ุชุนููู ูุณุชูู log4j ููุฐุง ุงูุฃูุฑ
--workers                          ุชูุนูู ูุถุน ุงูุนุงูู

  SUBCOMMAND ูู ูุงุญุฏ ูู:
    ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ:

cacheadmin           ุชูููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู HDFS
crypto               ุชูููู ููุงุทู ุงูุชุดููุฑ ูู HDFS
debug                ุชุดุบูู Debug Admin ูุชูููุฐ ุฃูุงูุฑ ุชุตุญูุญ HDFS
dfsadmin             ุชุดุบูู ุนููู ุฅุฏุงุฑุฉ DFS
dfsrouteradmin       ุฅุฏุงุฑุฉ ุงูุงุชุญุงุฏ ุงููุงุฆู ุนูู Router
ec                   ุชุดุบูู ูุงุฌูุฉ ุณุทุฑ ุฃูุงูุฑ ุงูุชุฑููุฒ ุงูุฅุถุงูู ูู HDFS
fsck                 ุชุดุบูู ุฃุฏุงุฉ ูุญุต ูุธุงู ูููุงุช DFS
haadmin              ุชุดุบูู ุนููู ุฅุฏุงุฑุฉ HA ูู DFS
jmxget               ุงูุญุตูู ุนูู ุงูููู ุงููุตุฏุฑุฉ ูู JMX ูู NameNode ุฃู DataNode
oev                  ุชุทุจูู ุนุงุฑุถ ุงูุชุนุฏููุงุช ุบูุฑ ุงููุชุตู ุนูู ููู ุงูุชุนุฏููุงุช
oiv                  ุชุทุจูู ุนุงุฑุถ ุตูุฑุฉ ูุธุงู ุงููููุงุช ุบูุฑ ุงููุชุตู ุนูู ุตูุฑุฉ ูุธุงู ุงููููุงุช
oiv_legacy           ุชุทุจูู ุนุงุฑุถ ุตูุฑุฉ ูุธุงู ุงููููุงุช ุบูุฑ ุงููุชุตู ุนูู ุตูุฑุฉ ูุธุงู ูููุงุช ูุฏููุฉ
storagepolicies      ุฅุฏุฑุงุฌ/ุงูุญุตูู/ุชุนููู/ุชุญููู ุณูุงุณุงุช ุชุฎุฒูู ุงููุชู

    ุฃูุงูุฑ ุงูุนููู:

```plaintext
classpath            ูุทุจุน ูุณุงุฑ ุงููุฆุฉ ุงููุทููุจ ููุญุตูู ุนูู ููู hadoop.jar ูุงูููุชุจุงุช ุงููุทููุจุฉ
dfs                  ุชุดุบูู ุฃูุฑ ูุธุงู ุงููููุงุช ุนูู ูุธุงู ุงููููุงุช
envvars              ุนุฑุถ ูุชุบูุฑุงุช ุจูุฆุฉ Hadoop ุงููุญุณูุจุฉ
fetchdt              ุฌูุจ ุฑูุฒ ุชูููุถ ูู NameNode
getconf              ุงูุญุตูู ุนูู ููู ุงูุชูููู ูู ุงูุฅุนุฏุงุฏุงุช
groups               ุงูุญุตูู ุนูู ุงููุฌููุนุงุช ุงูุชู ููุชูู ุฅูููุง ุงููุณุชุฎุฏููู
lsSnapshottableDir   ุณุฑุฏ ุฌููุน ุงูุฏูุงุฆู ุงููุงุจูุฉ ูุงูุชูุงุท ุงูููุทุงุช ูุงููููููุฉ ูููุณุชุฎุฏู ุงูุญุงูู
snapshotDiff         ููุงุฑูุฉ ููุทุชูู ูุฏููู ุฃู ููุงุฑูุฉ ูุญุชููุงุช ุงูุฏููู ุงูุญุงูู ูุน ููุทุฉ
version              ุทุจุงุนุฉ ุงูุฅุตุฏุงุฑ
```

    ุฃูุงูุฑ Daemon:

```plaintext
balancer             ุชุดุบูู ุฃุฏุงุฉ ููุงุฒูุฉ ุงููุชูุฉ
datanode             ุชุดุบูู ุนูุฏุฉ ุจูุงูุงุช DFS
dfsrouter            ุชุดุบูู ููุฌู DFS
diskbalancer         ุชูุฒูุน ุงูุจูุงูุงุช ุจุงูุชุณุงูู ุจูู ุงูุฃูุฑุงุต ุนูู ุนูุฏุฉ ูุนููุฉ
httpfs               ุชุดุบูู ุฎุงุฏู HttpFSุ ุจูุงุจุฉ HTTP ูู HDFS
journalnode          ุชุดุบูู ุนูุฏุฉ ุฏูุชุฑ ุงูููููุฉ ูู DFS
mover                ุชุดุบูู ุฃุฏุงุฉ ูููู ูุณุฎ ุงููุชู ุนุจุฑ ุฃููุงุน ุงูุชุฎุฒูู
namenode             ุชุดุบูู ุนูุฏุฉ ุงูุงุณู ูู DFS
nfs3                 ุชุดุบูู ุจูุงุจุฉ ุฅุตุฏุงุฑ 3 ูู NFS
portmap              ุชุดุบูู ุฎุฏูุฉ portmap
secondarynamenode    ุชุดุบูู ุนูุฏุฉ ุงูุงุณู ุงูุซุงูููุฉ ูู DFS
sps                  ุชุดุบูู ูุญูู ุณูุงุณุฉ ุงูุชุฎุฒูู ุงูุฎุงุฑุฌู
zkfc                 ุชุดุบูู ูุญุฏุฉ ุชุญูู ูุดู ZK
```

ูุฏ ูุทุจุน SUBCOMMAND ุงููุณุงุนุฏุฉ ุนูุฏ ุงุณุชุฏุนุงุฆู ุจุฏูู ูุนุงููุงุช ุฃู ุจุงุณุชุฎุฏุงู -h.
```

ุงุณุชูุฑ ูู ุชุนุฏูู ุงูููุฏ.

```python
from pyspark.sql import SparkSession
```

```python
spark = SparkSession.builder.master("local[*]")\
           .config('spark.driver.bindAddress', '127.0.0.1')\
           .getOrCreate()
sc = spark.sparkContext
```

```python
text_file = sc.textFile("a.txt")
counts = text_file.flatMap(lambda line: line.split(" ")) \
             .map(lambda word: (word, 1)) \
             .reduceByKey(lambda a, b: a + b)
counts.saveAsTextFile("b.txt")
```

ูู ุงูููู ููุงุญุธุฉ `.config('spark.driver.bindAddress', '127.0.0.1')`. ูุฅูุงุ ุณูุชู ุฅุฑุฌุงุน ุฎุทุฃ `Service 'sparkDriver' could not bind on a random free port. You may check whether configuring an appropriate binding address`.

ููุน ุฐููุ ุญุฏุซ ุฎุทุฃ ูุฑุฉ ุฃุฎุฑู.

```shell
Caused by: org.apache.spark.api.python.PythonException: Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/pyspark/python/lib/pyspark.zip/pyspark/worker.py", line 473, in main
    raise Exception(("Python in worker has different version %s than that in " +
Exception: Python ูู ุงูุนุงูู ูุฏูู ุฅุตุฏุงุฑ ูุฎุชูู 3.8 ุนู ุงูุฅุตุฏุงุฑ ูู ุงูุณุงุฆู 3.9ุ PySpark ูุง ูููู ุฃู ูุนูู ูุน ุฅุตุฏุงุฑุงุช ุซุงูููุฉ ูุฎุชููุฉ. ูุฑุฌู ุงูุชุญูู ูู ุฃู ูุชุบูุฑุงุช ุงูุจูุฆุฉ PYSPARK_PYTHON ู PYSPARK_DRIVER_PYTHON ูุถุจูุทุฉ ุจุดูู ุตุญูุญ.
```

ูุนูู ุชุดุบูู ุฅุตุฏุงุฑุงุช ูุฎุชููุฉ ูู `Python`.

ุชุนุฏูู ููู `.bash_profile`:

```shell
PYSPARK_PYTHON=/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3
PYSPARK_DRIVER_PYTHON=/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3
```

ููุน ุฐููุ ูุง ูุฒุงู ุงูุฎุทุฃ ููุณู ูุธูุฑ. ุจุนุฏ ุงูุจุญุซุ ุชุจูู ุฃู ุงูุณุจุจ ูุฏ ูููู ุฃู `spark` ูุง ูููู ุจุชุญููู ูุชุบูุฑ ุงูุจูุฆุฉ ูุฐุง ุนูุฏ ุงูุชุดุบููุ ููุง ูุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ูููุญุทุฉ ุงูุทุฑููุฉ.

ูุฌุจ ุชุนููู ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ ูู ุงูููุฏ:

```python
import os
```

# ุชุนููู ุจูุฆุงุช Spark
```python
os.environ['PYSPARK_PYTHON'] = '/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3'
os.environ['PYSPARK_DRIVER_PYTHON'] = '/usr/local/Cellar/python@3.9/3.9.1_6/bin/python3'
```

ูุฐุง ุณูุนูู.

```shell
$ python sc.py
21/03/11 02:54:52 WARN NativeCodeLoader: ุบูุฑ ูุงุฏุฑ ุนูู ุชุญููู ููุชุจุฉ native-hadoop ูููุตุชู... ูุชู ุงุณุชุฎุฏุงู ุงููุฆุงุช ุงููุฏูุฌุฉ ูู ุฌุงูุง ุญูุซูุง ููุทุจู ุฐูู
ูุชู ุงุณุชุฎุฏุงู ููู ุชุนุฑูู log4j ุงูุงูุชุฑุงุถู ูู Spark: org/apache/spark/log4j-defaults.properties
ุชู ุชุนููู ูุณุชูู ุชุณุฌูู ุงูุฏุฎูู ุงูุงูุชุฑุงุถู ุฅูู "WARN".
ูุถุจุท ูุณุชูู ุชุณุฌูู ุงูุฏุฎููุ ุงุณุชุฎุฏู sc.setLogLevel(newLevel). ุจุงููุณุจุฉ ูู SparkRุ ุงุณุชุฎุฏู setLogLevel(newLevel).
PythonRDD[6] at RDD at PythonRDD.scala:53
```

ุชู ุฅูุดุงุก ุงูููู `b.txt` ูู ูุฐู ุงููุฑุญูุฉ.

```shell
โโโ b.txt
โ   โโโ _SUCCESS
โ   โโโ part-00000
โ   โโโ part-00001
```

ุงูุชุญูุง.

```shell
$ cat b.txt/part-00000
('college', 1)
('two', 1)
('things', 2)
('worked', 1)
('on,', 1)
('of', 8)
('school,', 2)
('writing', 2)
('programming.', 1)
("didn't", 4)
('then,', 1)
('probably', 1)
('are:', 1)
('short', 1)
('awful.', 1)
('They', 1)
('plot,', 1)
('just', 1)
('characters', 1)
('them', 2)
...
```

ููุฏ ูุฌุญุช! ุฃููุณ ูุฐุง ูุฃููููุงุ ุฅูู ูุดุจู ุชูุงููุง ุงููุซุงู ูู `Hadoop`.

```shell
$ cat output/*
1	dfsadmin
```

ูุฐู ุงููููุงุช ุชูุณูู `HDFS`. ูููููุง ููุง ุงุณุชุฎุฏุงู `Spark` ูุญุณุงุจ ุนุฏุฏ ุงููููุงุช. ุจุจุถุน ุฌูู ุจุณูุทุฉุ ูุจุฏู ุงูุฃูุฑ ูุฑูุญูุง ููุบุงูุฉ.

## Kubernetes

ุจุนุฏ ุฐููุ ุณูุชุนุงูู ูุน `Kubernetes`ุ ุงููุนุฑูู ุฃูุถูุง ุจุงุณู `k8s`ุ ุญูุซ ูุชู ุงุฎุชุตุงุฑ ุงูุญุฑูู ุงูุซูุงููุฉ ูู ุงูููุชุตู ุฅูู ุงูุฑูู 8. ุฅูู ูุธุงู ููุชูุญ ุงููุตุฏุฑ ูุณุชุฎุฏู ูุฃุชูุชุฉ ูุดุฑ ูุชูุณูุน ูุฅุฏุงุฑุฉ ุชุทุจููุงุช ุงูุญุงููุงุช.

ุฃุฏุงุฉ ุณุทุฑ ุงูุฃูุงูุฑ `kubectl` ุชูุณุชุฎุฏู ูุชุดุบูู ุจุนุถ ุงูุฃูุงูุฑ ุนูู ุนูููุฏ (cluster) Kubernetes. ูููู ุงุณุชุฎุฏุงููุง ููุดุฑ ุงูุชุทุจููุงุชุ ูุนุฑุถ ูุฅุฏุงุฑุฉ ููุงุฑุฏ ุงูุนูููุฏุ ููุฐูู ูุนุฑุถ ุงูุณุฌูุงุช (logs).

ูููู ุฃูุถูุง ุชุซุจูุชู ุจุงุณุชุฎุฏุงู Homebrew.

```shell
brew install kubectl
```

```plaintext
ุฅุฎุฑุงุฌ ุงูุณุฌู:
```

```shell
==> ุชูุฒูู https://homebrew.bintray.com/bottles/kubernetes-cli-1.20.1.big_sur.bottle.tar.gz
==> ุงูุชูุฒูู ูู https://d29vzk4ow07wi7.cloudfront.net/0b4f08bd1d47cb913d7cd4571e3394c6747dfbad7ff114c5589c8396c1085ecf?response-content-disposition=a
######################################################################## 100.0%
==> ุตุจ kubernetes-cli-1.20.1.big_sur.bottle.tar.gz
==> ููุงุญุธุงุช
ุชู ุชุซุจูุช ุฅููุงู Bash ูู:
  /usr/local/etc/bash_completion.d
==> ููุฎุต
๐บ  /usr/local/Cellar/kubernetes-cli/1.20.1: 246 ููููุงุ 46.1 ููุฌุงุจุงูุช
```

ุชู ุงูุชุซุจูุช ุจูุฌุงุญ.

```shell
$ kubectl version --client
Client Version: version.Info{Major:"1", Minor:"20", GitVersion:"v1.20.1", GitCommit:"c4d752765b3bbac2237bf87cf0b1c2e307844666", GitTreeState:"clean", BuildDate:"2020-12-19T08:38:20Z", GoVersion:"go1.15.5", Compiler:"gc", Platform:"darwin/amd64"}
```

```shell
$ kubectl
kubectl ุชุชุญูู ูู ูุฏูุฑ ูุฌููุนุฉ Kubernetes.
```

ููููู ุงูุนุซูุฑ ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ูู ุงูุฑุงุจุท ุงูุชุงูู:  
https://kubernetes.io/docs/reference/kubectl/overview/

ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ (ูููุจุชุฏุฆูู):
  ุฅูุดุงุก        ุฅูุดุงุก ููุฑุฏ ูู ููู ุฃู ูู stdin.
  ูุดู          ุฃุฎุฐ ูุญุฏุฉ ุชุญูู ุชูุฑุงุฑ (replication controller)ุ ุฎุฏูุฉ (service)ุ ูุดุฑ (deployment) ุฃู ูุนุงุก (pod) ููุดููุง ูุฎุฏูุฉ ุฌุฏูุฏุฉ ูู Kubernetes
  ุชุดุบูู        ุชุดุบูู ุตูุฑุฉ ูุนููุฉ ุนูู ุงููุชูุฉ (cluster)
  ุชุนููู        ุชุนููู ููุฒุงุช ูุญุฏุฏุฉ ุนูู ุงููุงุฆูุงุช

ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ (ูุชูุณุทุฉ ุงููุณุชูู):
  explain       ุชูุซูู ุงูููุงุฑุฏ
  get           ุนุฑุถ ูุงุญุฏ ุฃู ุงูุนุฏูุฏ ูู ุงูููุงุฑุฏ
  edit          ุชุนุฏูู ููุฑุฏ ุนูู ุงูุฎุงุฏู
  delete        ุญุฐู ุงูููุงุฑุฏ ุนู ุทุฑูู ุฃุณูุงุก ุงููููุงุชุ stdinุ ุงูููุงุฑุฏ ูุงูุฃุณูุงุกุ ุฃู ุนู ุทุฑูู ุงูููุงุฑุฏ ููุญุฏุฏ ุงูุชุณููุฉ

ุฃูุงูุฑ ุงููุดุฑ:
  rollout       ุฅุฏุงุฑุฉ ุนูููุฉ ุงููุดุฑ ูููุฑุฏ
  scale         ุชุนููู ุญุฌู ุฌุฏูุฏ ููุดุฑ (Deployment)ุ ูุฌููุนุฉ ูุณุฎ (ReplicaSet)ุ ุฃู ูุญุฏุฉ ุชุญูู ุงููุณุฎ ุงููุชูุงุซู (Replication Controller)
  autoscale     ุงูุชุญูู ุงูุชููุงุฆู ูู ุงูุญุฌู ููุดุฑ (Deployment)ุ ูุฌููุนุฉ ูุณุฎ (ReplicaSet)ุ ุฃู ูุญุฏุฉ ุชุญูู ุงููุณุฎ ุงููุชูุงุซู (ReplicationController)

ุฃูุงูุฑ ุฅุฏุงุฑุฉ ุงููุชูุฉ (Cluster):
  certificate   ุชุนุฏูู ููุงุฑุฏ ุงูุดูุงุฏุงุช.
  cluster-info  ุนุฑุถ ูุนูููุงุช ุงููุชูุฉ.
  top           ุนุฑุถ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ (ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ/ุงูุฐุงูุฑุฉ/ุงูุชุฎุฒูู).
  cordon        ุชุนููู ุงูุนูุฏุฉ ุนูู ุฃููุง ุบูุฑ ูุงุจูุฉ ููุฌุฏููุฉ.
  uncordon      ุชุนููู ุงูุนูุฏุฉ ุนูู ุฃููุง ูุงุจูุฉ ููุฌุฏููุฉ.
  drain         ุฅูุฑุงุบ ุงูุนูุฏุฉ ุงุณุชุนุฏุงุฏูุง ููุตูุงูุฉ.
  taint         ุชุญุฏูุซ ุงูุนููุจ (Taints) ุนูู ุนูุฏุฉ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ.

ุฃูุงูุฑ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง:
  describe      ุนุฑุถ ุชูุงุตูู ููุฑุฏ ูุญุฏุฏ ุฃู ูุฌููุนุฉ ูู ุงูููุงุฑุฏ
  logs          ุทุจุงุนุฉ ุณุฌูุงุช (logs) ูุญุงููุฉ ูู pod
  attach        ุงูุงุชุตุงู ุจุญุงููุฉ ููุฏ ุงูุชุดุบูู
  exec          ุชูููุฐ ุฃูุฑ ูู ุญุงููุฉ
  port-forward  ุชูุฌูู ูููุฐ ุฃู ุฃูุซุฑ ูู ุงูููุงูุฐ ุงููุญููุฉ ุฅูู pod
  proxy         ุชุดุบูู ูููู (proxy) ูุฎุงุฏู Kubernetes API
  cp            ูุณุฎ ุงููููุงุช ูุงููุฌูุฏุงุช ูู ูุฅูู ุงูุญุงููุงุช
  auth          ูุญุต ุงูุชูููุถุงุช (authorization)
  debug         ุฅูุดุงุก ุฌูุณุงุช ุชุตุญูุญ (debugging) ูุงุณุชูุดุงู ุฃุฎุทุงุก ุงูุฃุนุจุงุก ุงูุนูููุฉ (workloads) ูุงูุนูุฏ (nodes)

ุงูุฃูุงูุฑ ุงููุชูุฏูุฉ:
  diff          ููุงุฑูุฉ ุงููุณุฎุฉ ุงูุญูุฉ ูุน ุงููุณุฎุฉ ุงูุชู ุณูุชู ุชุทุจูููุง
  apply         ุชุทุจูู ุงูุชูููู ุนูู ููุฑุฏ ูู ุฎูุงู ุงุณู ุงูููู ุฃู ุงููุฏุฎูุงุช ุงูููุงุณูุฉ
  patch         ุชุญุฏูุซ ุญูู ุฃู ุฃูุซุฑ ูู ููุฑุฏ
  replace       ุงุณุชุจุฏุงู ููุฑุฏ ูู ุฎูุงู ุงุณู ุงูููู ุฃู ุงููุฏุฎูุงุช ุงูููุงุณูุฉ
  wait          ุชุฌุฑูุจู: ุงูุชุธุงุฑ ุญุงูุฉ ูุญุฏุฏุฉ ุนูู ููุฑุฏ ูุงุญุฏ ุฃู ุนุฏุฉ ููุงุฑุฏ.
  kustomize     ุจูุงุก ูุฏู kustomization ูู ุฏููู ุฃู ุนููุงู URL ุจุนูุฏ.

ุฃูุงูุฑ ุงูุฅุนุฏุงุฏุงุช:
  label         ุชุญุฏูุซ ุงูุชุณููุงุช ุนูู ููุฑุฏ
  annotate      ุชุญุฏูุซ ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ุนูู ููุฑุฏ
  completion    ุฅุฎุฑุงุฌ ููุฏ ุฅููุงู shell ูู shell ูุญุฏุฏ (bash ุฃู zsh)

ุงูุฃูุงูุฑ ุงูุฃุฎุฑู:
  api-resources ุทุจุงุนุฉ ููุงุฑุฏ API ุงููุฏุนููุฉ ุนูู ุงูุฎุงุฏู
  api-versions  ุทุจุงุนุฉ ุฅุตุฏุงุฑุงุช API ุงููุฏุนููุฉ ุนูู ุงูุฎุงุฏูุ ูู ุดูู "group/version"
  config        ุชุนุฏูู ูููุงุช kubeconfig
  plugin        ูููุฑ ุฃุฏูุงุช ููุชูุงุนู ูุน ุงูุฅุถุงูุงุช.
  version       ุทุจุงุนุฉ ูุนูููุงุช ุฅุตุฏุงุฑ ุงูุนููู ูุงูุฎุงุฏู

ุงูุงุณุชุฎุฏุงู:
  kubectl [flags] [options]

ุงุณุชุฎุฏู "kubectl <command> --help" ููุญุตูู ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุฃูุฑ ูุนูู.  
ุงุณุชุฎุฏู "kubectl options" ููุญุตูู ุนูู ูุงุฆูุฉ ุจุฎูุงุฑุงุช ุณุทุฑ ุงูุฃูุงูุฑ ุงูุนุงูุฉ (ุชูุทุจู ุนูู ุฌููุน ุงูุฃูุงูุฑ).  
```

ูููู ุจุฅูุดุงุก ููู ุชูููู.

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
spec:
  selector:
    matchLabels:
      app: nginx
  minReadySeconds: 5
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:1.14.2
        ports:
        - containerPort: 80
```

```

```shell
$ kubectl apply -f simple_deployment.yaml
ุชู ุฑูุถ ุงูุงุชุตุงู ุจุงูุฎุงุฏู localhost:8080 - ูู ุญุฏุฏุช ุงููุถูู ุฃู ุงููููุฐ ุงูุตุญูุญุ
```

```shell
$ kubectl cluster-info
```

ูุชุตุญูุญ ุฃุฎุทุงุก ุงููุชูุฉ ูุชุดุฎูุต ุงููุดููุงุช ุจุดูู ุฃูุจุฑุ ุงุณุชุฎุฏู ุงูุฃูุฑ `kubectl cluster-info dump`.
ุชู ุฑูุถ ุงูุงุชุตุงู ุจุงูุฎุงุฏู localhost:8080 - ูู ุญุฏุฏุช ุงููุถูู ุฃู ุงููููุฐ ุงูุตุญูุญุ
```

ุนูุฏูุง ุฃุฌุฑุจ ุชุดุบููู ูู ุงูุทุฑููุฉ ุนูู ุงููููุน ุงูุฑุณูู.

```shell
$ start.sh
ุจุฏุก ุชุดุบูู Kubernetes...ุฅุตุฏุงุฑ minikube: v1.8.1
commit: cbda04cf6bbe65e987ae52bb393c10099ab62014
* minikube v1.8.1 ุนูู Ubuntu 18.04
* ุงุณุชุฎุฏุงู ุจุฑูุงูุฌ ุงูุชุดุบูู none ุจูุงุกู ุนูู ุชูููู ุงููุณุชุฎุฏู
* ุงูุชุดุบูู ุนูู localhost (CPUs=2, Memory=2460MB, Disk=145651MB) ...
* ุฅุตุฏุงุฑ ุงููุธุงู ูู Ubuntu 18.04.4 LTS
```

* ุชุฌููุฒ Kubernetes ุงูุฅุตุฏุงุฑ v1.17.3 ุนูู Docker ุงูุฅุตุฏุงุฑ 19.03.6 ...
  - kubelet.resolv-conf=/run/systemd/resolve/resolv.conf
* ุจุฏุก ุชุดุบูู Kubernetes ...
* ุชูููู ุงูุฅุถุงูุงุช: default-storageclass, storage-provisioner
* ุชููุฆุฉ ุจูุฆุฉ ุงููุถูู ุงููุญูู ...
* ุชู ุงูุงูุชูุงุก! ุชู ุชูููู kubectl ูุงุณุชุฎุฏุงู "minikube"
* ุชู ุชูููู ุฅุถุงูุฉ 'dashboard'
ุชู ุจุฏุก ุชุดุบูู Kubernetes
```

ููุนุฏ ุฅูู ุทุฑููุชูุง (Terminal).

```shell
$ kubectl version --client
Client Version: version.Info{Major:"1", Minor:"20", GitVersion:"v1.20.1", GitCommit:"c4d752765b3bbac2237bf87cf0b1c2e307844666", GitTreeState:"clean", BuildDate:"2020-12-19T08:38:20Z", GoVersion:"go1.15.5", Compiler:"gc", Platform:"darwin/amd64"}
$ kubectl version
Client Version: version.Info{Major:"1", Minor:"20", GitVersion:"v1.20.1", GitCommit:"c4d752765b3bbac2237bf87cf0b1c2e307844666", GitTreeState:"clean", BuildDate:"2020-12-19T08:38:20Z", GoVersion:"go1.15.5", Compiler:"gc", Platform:"darwin/amd64"}
ุชู ุฑูุถ ุงูุงุชุตุงู ุจุงูุฎุงุฏู localhost:8080 - ูู ุญุฏุฏุช ุงููุถูู ุฃู ุงููููุฐ ุงูุตุญูุญุ
```

ูู ุงููุซูุฑ ููุงูุชูุงู ุฃู ุฅุถุงูุฉ ุงูุฎูุงุฑ `--client` ูู ูุชุณุจุจ ูู ุญุฏูุซ ุฎุทุฃ.

ุชูุถุญ ุงููุซุงุฆู ุฃูู ูุฌุจ ุชุซุจูุช `Minikube` ุฃููุงู.

```shell
$ brew install minikube
==> ุชูุฒูู https://homebrew.bintray.com/bottles/minikube-1.16.0.big_sur.bottle.tar.gz
==> ุงูุชูุฒูู ูู https://d29vzk4ow07wi7.cloudfront.net/1b6d7d1b97b11b6b07e4fa531c2dc21770da290da9b2816f360fd923e00c85fc?response-content-disposition=a
######################################################################## 100.0%
==> ุตุจ minikube-1.16.0.big_sur.bottle.tar.gz
==> ููุงุญุธุงุช
ุชู ุชุซุจูุช ุฅููุงู Bash ูู:
  /usr/local/etc/bash_completion.d
==> ููุฎุต
๐บ  /usr/local/Cellar/minikube/1.16.0: 8 ูููุงุชุ 64.6MB
```

```shell
$ minikube start
๐  minikube ุงูุฅุตุฏุงุฑ v1.16.0 ุนูู ูุธุงู Darwin 11.2.2
๐  ุงูุฅุตุฏุงุฑ 1.18.1 ูู minikube ูุชุงุญ ุงูุขู! ูู ุจุชูุฒููู ูู: https://github.com/kubernetes/minikube/releases/tag/v1.18.1
๐ก  ูุชุนุทูู ูุฐู ุงูุฅุดุนุงุฑุงุชุ ูู ุจุชูููุฐ ุงูุฃูุฑ: 'minikube config set WantUpdateNotification false'
```

โจ ุชู ุงุฎุชูุงุฑ ุจุฑูุงูุฌ virtualbox ูุณุงุฆู ุชููุงุฆููุง
๐ฟ ูุชู ุชูุฒูู ุตูุฑุฉ ุชูููุฏ ุงูุฌูุงุฒ ุงูุธุงูุฑู ...
    > minikube-v1.16.0.iso.sha256: 65 ุจุงูุช / 65 ุจุงูุช [-------------] 100.00% ? ุจ/ุซ 0 ุซุงููุฉ
    > minikube-v1.16.0.iso: 212.62 ููุฌุงุจุงูุช / 212.62 ููุฌุงุจุงูุช [] 100.00% 5.32 ููุฌุงุจุงูุช/ุซุงููุฉ 40 ุซุงููุฉ
๐ ุจุฏุก ุชุดุบูู ุนูุฏุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ minikube ูู ุงููุชูุฉ minikube
๐พ ูุชู ุชูุฒูู Kubernetes v1.20.0 ูุณุจููุง ...
    > preloaded-images-k8s-v8-v1....: 491.00 ููุฌุงุจุงูุช / 491.00 ููุฌุงุจุงูุช  100.00% 7.52 ููุฌุงุจุงูุช
๐ฅ ูุชู ุฅูุดุงุก ุงูุฌูุงุฒ ุงูุธุงูุฑู virtualbox (ุงููุนุงูุฌุงุช=2ุ ุงูุฐุงูุฑุฉ=4000 ููุฌุงุจุงูุชุ ุงููุฑุต=20000 ููุฌุงุจุงูุช) ...
โ ููุงุฌู ูุฐุง ุงูุฌูุงุฒ ุงูุธุงูุฑู ูุดููุฉ ูู ุงููุตูู ุฅูู https://k8s.gcr.io
๐ก ูุณุญุจ ุตูุฑ ุฎุงุฑุฌูุฉ ุฌุฏูุฏุฉุ ูุฏ ุชุญุชุงุฌ ุฅูู ุชูููู ุฎุงุฏู ูููู: https://minikube.sigs.k8s.io/docs/reference/networking/proxy/
๐ณ ูุชู ุชุฌููุฒ Kubernetes v1.20.0 ุนูู Docker 20.10.0 ...
    โช ุฅูุดุงุก ุงูุดูุงุฏุงุช ูุงูููุงุชูุญ ...
    โช ุชุดุบูู ุนูุฏุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ ...
    โช ุชูููู ููุงุนุฏ RBAC ...
๐ ูุชู ุงูุชุญูู ูู ููููุงุช Kubernetes...
๐ ุชู ุชูููู ุงูุฅุถุงูุงุช: storage-provisioner, default-storageclass
๐ ุชู ุงูุงูุชูุงุก! ุชู ุชูููู kubectl ูุงุณุชุฎุฏุงู ุงููุชูุฉ "minikube" ููุณุงุญุฉ ุงูุงุณู "default" ุจุดูู ุงูุชุฑุงุถู
```

ูููู ุงูุขู ุจุงููุตูู ุฅูู ูุฐุง ุงููุชูุฉ (Cluster).

```shell
$ kubectl get po -A
NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE
kube-system   coredns-74ff55c5b-ndbcr            1/1     Running   0          60s
kube-system   etcd-minikube                      0/1     Running   0          74s
kube-system   kube-apiserver-minikube            1/1     Running   0          74s
kube-system   kube-controller-manager-minikube   1/1     Running   0          74s
kube-system   kube-proxy-g2296                   1/1     Running   0          60s
kube-system   kube-scheduler-minikube            0/1     Running   0          74s
kube-system   storage-provisioner                1/1     Running   1          74s
```

ูููุชุญ ููุญุฉ ุชุญูู `minikube`.

```shell
$ minikube dashboard
๐  ุชูููู ููุญุฉ ุงูุชุญูู ...
๐ค  ุงูุชุญูู ูู ุตุญุฉ ููุญุฉ ุงูุชุญูู ...
๐  ุชุดุบูู ุงููููู ...
๐ค  ุงูุชุญูู ูู ุตุญุฉ ุงููููู ...
๐  ูุชุญ http://127.0.0.1:50030/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ ูู ุงููุชุตูุญ ุงูุงูุชุฑุงุถู ุงูุฎุงุต ุจู...
```

![k8s](assets/images/distributed/k8s.png)

ููู ูููู ุฅููุงููุงุ

```shell
$ minikube
minikube ูููู ุจุชูููุฑ ูุฅุฏุงุฑุฉ ูุฌููุนุงุช Kubernetes ุงููุญููุฉ ุงูููุญุณููุฉ ูุณูุฑ ุนูู ุงูุชุทููุฑ.
```

ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ:
  start          ุจุฏุก ูุฌููุนุฉ Kubernetes ูุญููุฉ
  status         ุงูุญุตูู ุนูู ุญุงูุฉ ูุฌููุนุฉ Kubernetes ูุญููุฉ
  stop           ุฅููุงู ูุฌููุนุฉ Kubernetes ูุญููุฉ ููุฏ ุงูุชุดุบูู
  delete         ุญุฐู ูุฌููุนุฉ Kubernetes ูุญููุฉ
  dashboard      ุงููุตูู ุฅูู ููุญุฉ ุชุญูู Kubernetes ุงูุชู ุชุนูู ุฏุงุฎู ูุฌููุนุฉ minikube
  pause          ุฅููุงู Kubernetes ูุคูุชูุง
  unpause        ุงุณุชุฆูุงู Kubernetes ุจุนุฏ ุงูุฅููุงู ุงููุคูุช

ุฃูุงูุฑ ุงูุตูุฑ:
  docker-env     ุชููุฆุฉ ุงูุจูุฆุฉ ูุงุณุชุฎุฏุงู ุฎุงุฏู Docker ุงูุฎุงุต ุจู minikube
  podman-env     ุชููุฆุฉ ุงูุจูุฆุฉ ูุงุณุชุฎุฏุงู ุฎุฏูุฉ Podman ุงูุฎุงุตุฉ ุจู minikube
  cache          ุฅุถุงูุฉุ ุญุฐูุ ุฃู ุฏูุน ุตูุฑุฉ ูุญููุฉ ุฅูู minikube

ุฃูุงูุฑ ุงูุชูููู ูุงูุฅุฏุงุฑุฉ:
  addons         ุชูููู ุฃู ุชุนุทูู ุฅุถุงูุฉ minikube
  config         ุชุนุฏูู ููู ุงูุชูููู ุงูุฏุงุฆูุฉ
  profile        ุงูุญุตูู ุนูู ุฃู ุนุฑุถ ุงููููุงุช ุงูุดุฎุตูุฉ ุงูุญุงููุฉ (ุงูุชุฌูุนุงุช)
  update-context ุชุญุฏูุซ kubeconfig ูู ุญุงูุฉ ุชุบููุฑ ุนููุงู IP ุฃู ุงููููุฐ

ุฃูุงูุฑ ุงูุดุจูุงุช ูุงูุงุชุตุงู:
  service        ููุฑุฌุน ุนููุงู URL ููุงุชุตุงู ุจุฎุฏูุฉ
  tunnel         ุงูุงุชุตุงู ุจุฎุฏูุงุช LoadBalancer

ุงูุฃูุงูุฑ ุงููุชูุฏูุฉ:
  mount          ูููู ุจุชุซุจูุช ุงูุฏููู ุงููุญุฏุฏ ูู minikube
  ssh            ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุจูุฆุฉ minikube (ูุฃุบุฑุงุถ ุงูุชุตุญูุญ)
  kubectl        ุชุดุบูู ุฅุตุฏุงุฑ kubectl ุงูุฐู ูุชุทุงุจู ูุน ุฅุตุฏุงุฑ ุงููุชูุฉ
  node           ุฅุถุงูุฉ ุฃู ุฅุฒุงูุฉ ุฃู ุนุฑุถ ุงูุนูุฏ ุงูุฅุถุงููุฉ

ุฃูุงูุฑ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง:
  ssh-key        ุงุณุชุฑุฌุงุน ูุณุงุฑ ููุชุงุญ ูููุฉ SSH ููุนูุฏุฉ ุงููุญุฏุฏุฉ
  ssh-host       ุงุณุชุฑุฌุงุน ููุชุงุญ ูุถูู SSH ููุนูุฏุฉ ุงููุญุฏุฏุฉ
  ip             ุงุณุชุฑุฌุงุน ุนููุงู IP ููุนูุฏุฉ ุงููุญุฏุฏุฉ
  logs           ุฅุฑุฌุงุน ุงูุณุฌูุงุช ูุชุตุญูุญ ูุฌููุนุฉ Kubernetes ุงููุญููุฉ
  update-check   ุทุจุงุนุฉ ุฑูู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูุงูุฃุญุฏุซ
  version        ุทุจุงุนุฉ ุฅุตุฏุงุฑ minikube

ุงูุฃูุงูุฑ ุงูุฃุฎุฑู:
  completion     ุฅูุดุงุก ุฅููุงู ุงูุฃูุงูุฑ ูู shell

ุงุณุชุฎุฏู "minikube <command> --help" ููุญุตูู ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุฃูุฑ ูุนูู.
```

ูุจุฏู ุฃูู `minikube stop`.

ุจุงูุนูุฏุฉ ุฅูู `kubernetes`ุ ุงูุขู ูุนูู ุจุดูู ุตุญูุญ.

```shell
$ kubectl cluster-info
ููุญุฉ ุชุญูู Kubernetes ุชุนูู ุนูู https://192.168.99.100:8443
KubeDNS ุชุนูู ุนูู https://192.168.99.100:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
```

ููุฒูุฏ ูู ุชุตุญูุญ ุงูุฃุฎุทุงุก ูุชุดุฎูุต ูุดุงูู ุงููุชูุฉ (cluster)ุ ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู:
```bash
kubectl cluster-info dump
```

ุนูุฏูุง ููุชุญ ุงูุฑุงุจุท `https://192.168.99.100:8443`ุ ูุนุฑุถ ุงููุชุตูุญ:

```json
{
  "kind": "Status",
  "apiVersion": "v1",
  "metadata": {
    
  },
  "status": "Failure",
  "message": "ููููุน: ุงููุณุชุฎุฏู \"system:anonymous\" ูุง ููููู ุงููุตูู ุฅูู ุงููุณุงุฑ \"/\"",
  "reason": "Forbidden",
  "details": {
    
  },
  "code": 403
}
```

ูู ุจุฒูุงุฑุฉ ุงูุฑุงุจุท ุงูุชุงูู: `https://192.168.99.100:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy`

```json
{
  "kind": "Status",
  "apiVersion": "v1",
  "metadata": {
    
  },
  "status": "Failure",
  "message": "ุงูุฎุฏูุงุช \"kube-dns:dns\" ููููุนุฉ: ุงููุณุชุฎุฏู \"system:anonymous\" ูุง ููููู ุงูุญุตูู ุนูู ุงูููุฑุฏ \"services/proxy\" ูู ูุฌููุนุฉ API \"\" ูู ูุณุงุญุฉ ุงูุงุณู \"kube-system\"",
  "reason": "ููููุน",
  "details": {
    "name": "kube-dns:dns",
    "kind": "services"
  },
  "code": 403
}
```

ุฌุฑุจ ุงูุฅุนุฏุงุฏุงุช ุงูุชู ูููุง ุจูุง ููุชู.

```shell
$ kubectl apply -f simple_deployment.yaml
deployment.apps/nginx-deployment created
```

ููุงู ุจุนุถ ุงููุดุงูู. ููุน ุฐููุ ุญุชู ุงูุขูุ ูููุง ุจุชุดุบูู `kubernetes`. ุฏุนููุง ูููููุง ููุง ูููุนุจ ุจูุง ูุงุญููุง.

```shell
$ minikube stop
โ  ุฅููุงู ุงูุนูุฏุฉ "minikube"  ...
๐  ุชู ุฅููุงู ุนูุฏุฉ ูุงุญุฏุฉ.
```

ุชุญูู ููุง ุฅุฐุง ุงูุชูู.

```shell
w$ minikube dashboard
๐คท  ูุฌุจ ุฃู ุชููู ุนูุฏุฉ ููุญุฉ ุงูุชุญูู ููุฏ ุงูุชุดุบูู ููุฐุง ุงูุฃูุฑ
๐  ูุจุฏุก ุงููุชูุฉุ ูู ุจุชุดุบูู: "minikube start"
```

## Docker

`Docker` ูู ุฃูุถูุง ููุตุฉ ุญุงููุงุช ุชุณุงุนุฏ ูู ุชุณุฑูุน ุฅูุดุงุก ููุดุงุฑูุฉ ูุชุดุบูู ุงูุชุทุจููุงุช ุงูุญุฏูุซุฉ. ููููู ุชูุฒูู ุงูุชุทุจูู ูู ุงููููุน ุงูุฑุณูู.

![docker](assets/images/distributed/docker.png)

ุงุณุชุฎุฏุงู ุงูุนููู ูุงู ุจุทูุฆูุง ุจุนุถ ุงูุดูุก. ุฏุนูุง ูุณุชุฎุฏู ุณุทุฑ ุงูุฃูุงูุฑ.

```docker
$ docker
```

ุงูุงุณุชุฎุฏุงู:  docker [OPTIONS] COMMAND

ุจูุฆุฉ ุชุดุบูู ุฐุงุชูุฉ ุงูุงูุชูุงุก ููุญุงููุงุช

ุงูุฎูุงุฑุงุช:
      --config string      ูููุน ูููุงุช ุชูููู ุงูุนููู (ุงูุงูุชุฑุงุถู "/Users/lzw/.docker")
  -c, --context string     ุงุณู ุงูุณูุงู ุงูุฐู ุณูุชู ุงุณุชุฎุฏุงูู ููุงุชุตุงู ุจุงูุฎุงุฏู (ูุชุฌุงูุฒ ูุชุบูุฑ ุงูุจูุฆุฉ DOCKER_HOST ูุงูุณูุงู ุงูุงูุชุฑุงุถู ุงููุญุฏุฏ ุจุงุณุชุฎุฏุงู "docker context use")
  -D, --debug              ุชูููู ูุถุน ุงูุชุตุญูุญ
  -H, --host list          ููุจุณ (ููุงุจุณ) ุงูุฎุงุฏู ููุงุชุตุงู ุจู
  -l, --log-level string   ุชุนููู ูุณุชูู ุงูุชุณุฌูู ("debug"|"info"|"warn"|"error"|"fatal") (ุงูุงูุชุฑุงุถู "info")
      --tls                ุงุณุชุฎุฏุงู TLS; ูุชู ุชุถูููู ุชููุงุฆููุง ูุน --tlsverify
      --tlscacert string   ุงูุซูุฉ ูู ุงูุดูุงุฏุงุช ุงููููุนุฉ ููุท ูู ูุจู ูุฐุง ุงููุฑูุฒ (ุงูุงูุชุฑุงุถู "/Users/lzw/.docker/ca.pem")
      --tlscert string     ูุณุงุฑ ููู ุดูุงุฏุฉ TLS (ุงูุงูุชุฑุงุถู "/Users/lzw/.docker/cert.pem")
      --tlskey string      ูุณุงุฑ ููู ููุชุงุญ TLS (ุงูุงูุชุฑุงุถู "/Users/lzw/.docker/key.pem")
      --tlsverify          ุงุณุชุฎุฏุงู TLS ูุงูุชุญูู ูู ุงูุทุฑู ุงูุจุนูุฏ
  -v, --version            ุทุจุงุนุฉ ูุนูููุงุช ุงูุฅุตุฏุงุฑ ูุงูุฎุฑูุฌ

ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ:
  app*        Docker App (Docker Inc., v0.9.1-beta3)
  builder     ุฅุฏุงุฑุฉ ุนูููุงุช ุงูุจูุงุก
  buildx*     ุงูุจูุงุก ุจุงุณุชุฎุฏุงู BuildKit (Docker Inc., v0.5.1-docker)
  config      ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช Docker
  container   ุฅุฏุงุฑุฉ ุงูุญุงููุงุช
  context     ุฅุฏุงุฑุฉ ุงูุณูุงูุงุช
  image       ุฅุฏุงุฑุฉ ุงูุตูุฑ
  manifest    ุฅุฏุงุฑุฉ ููุงุฆู ูุตูุฑ Docker
  network     ุฅุฏุงุฑุฉ ุงูุดุจูุงุช
  node        ุฅุฏุงุฑุฉ ุนูุฏ Swarm
  plugin      ุฅุฏุงุฑุฉ ุงูุฅุถุงูุงุช
  scan*       Docker Scan (Docker Inc., v0.5.0)
  secret      ุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ ูู Docker
  service     ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช
  stack       ุฅุฏุงุฑุฉ ูุฌููุนุงุช Docker
  swarm       ุฅุฏุงุฑุฉ Swarm
  system      ุฅุฏุงุฑุฉ Docker
  trust       ุฅุฏุงุฑุฉ ุงูุซูุฉ ูู ุตูุฑ Docker
  volume      ุฅุฏุงุฑุฉ ุงูุฃุญุฌุงู

ุงูุฃูุงูุฑ:
  attach      ุฑุจุท ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช ูุชูุงุฑุงุช ุงูุฃุฎุทุงุก ุงููุญููุฉ ุจุฌุฑูุงู ุญุงููุฉ ููุฏ ุงูุชุดุบูู
  build       ุจูุงุก ุตูุฑุฉ ูู Dockerfile
  commit      ุฅูุดุงุก ุตูุฑุฉ ุฌุฏูุฏุฉ ูู ุชุบููุฑุงุช ุงูุญุงููุฉ
  cp          ูุณุฎ ุงููููุงุช/ุงููุฌูุฏุงุช ุจูู ุงูุญุงููุฉ ููุธุงู ุงููููุงุช ุงููุญูู
  create      ุฅูุดุงุก ุญุงููุฉ ุฌุฏูุฏุฉ
  diff        ูุญุต ุงูุชุบููุฑุงุช ุนูู ุงููููุงุช ุฃู ุงูุฏูุงุฆู ูู ูุธุงู ูููุงุช ุงูุญุงููุฉ
  events      ุงูุญุตูู ุนูู ุงูุฃุญุฏุงุซ ูู ุงูููุช ุงููุนูู ูู ุงูุฎุงุฏู
  exec        ุชูููุฐ ุฃูุฑ ูู ุญุงููุฉ ููุฏ ุงูุชุดุบูู
  export      ุชุตุฏูุฑ ูุธุงู ูููุงุช ุงูุญุงููุฉ ูุฃุฑุดูู tar
  history     ุนุฑุถ ุชุงุฑูุฎ ุงูุตูุฑุฉ
  images      ุนุฑุถ ูุงุฆูุฉ ุงูุตูุฑ
  import      ุงุณุชูุฑุงุฏ ูุญุชููุงุช ูู ุฃุฑุดูู tarball ูุฅูุดุงุก ุตูุฑุฉ ูุธุงู ูููุงุช
  info        ุนุฑุถ ูุนูููุงุช ุงููุธุงู ุนูู ูุทุงู ูุงุณุน
  inspect     ุฅุฑุฌุงุน ูุนูููุงุช ููุฎูุถุฉ ุงููุณุชูู ุนู ูุงุฆูุงุช Docker
  kill        ุฅููุงุก ุชุดุบูู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช ุงูุฌุงุฑูุฉ
  load        ุชุญููู ุตูุฑุฉ ูู ุฃุฑุดูู tar ุฃู STDIN
  login       ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุณุฌู Docker
  logout      ุชุณุฌูู ุงูุฎุฑูุฌ ูู ุณุฌู Docker
  logs        ุฌูุจ ุณุฌูุงุช ุงูุญุงููุฉ
  pause       ุฅููุงู ุฌููุน ุงูุนูููุงุช ุฏุงุฎู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช ูุคูุชูุง
  port        ุนุฑุถ ุชุนูููุงุช ุงูููุงูุฐ ุฃู ุชุนููู ูุญุฏุฏ ููุญุงููุฉ
  ps          ุนุฑุถ ูุงุฆูุฉ ุงูุญุงููุงุช
  pull        ุณุญุจ ุตูุฑุฉ ุฃู ูุณุชูุฏุน ูู ุงูุณุฌู
  push        ุฏูุน ุตูุฑุฉ ุฃู ูุณุชูุฏุน ุฅูู ุงูุณุฌู
  rename      ุฅุนุงุฏุฉ ุชุณููุฉ ุญุงููุฉ
  restart     ุฅุนุงุฏุฉ ุชุดุบูู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช
  rm          ุฅุฒุงูุฉ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช
  rmi         ุฅุฒุงูุฉ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุตูุฑ
  run         ุชูููุฐ ุฃูุฑ ูู ุญุงููุฉ ุฌุฏูุฏุฉ
  save        ุญูุธ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุตูุฑ ูู ุฃุฑุดูู tar (ูุชู ุฅุฑุณุงููุง ุฅูู STDOUT ุงูุชุฑุงุถููุง)
  search      ุงูุจุญุซ ูู Docker Hub ุนู ุงูุตูุฑ
  start       ุจุฏุก ุชุดุบูู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช ุงููุชูููุฉ
  stats       ุนุฑุถ ุจุซ ูุจุงุดุฑ ูุฅุญุตุงุฆูุงุช ุงุณุชุฎุฏุงู ููุงุฑุฏ ุงูุญุงููุฉ (ุงูุญุงููุงุช)
  stop        ุฅููุงู ุชุดุบูู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช ุงูุฌุงุฑูุฉ
  tag         ุฅูุดุงุก ุนูุงูุฉ TARGET_IMAGE ุชุดูุฑ ุฅูู SOURCE_IMAGE
  top         ุนุฑุถ ุงูุนูููุงุช ุงูุฌุงุฑูุฉ ูู ุงูุญุงููุฉ
  unpause     ุงุณุชุฆูุงู ุฌููุน ุงูุนูููุงุช ุฏุงุฎู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช
  update      ุชุญุฏูุซ ุชูููู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุช
  version     ุนุฑุถ ูุนูููุงุช ุฅุตุฏุงุฑ Docker
  wait        ุงูุงูุชุธุงุฑ ุญุชู ุชุชููู ูุงุญุฏุฉ ุฃู ุฃูุซุฑ ูู ุงูุญุงููุงุชุ ุซู ุทุจุงุนุฉ ุฃููุงุฏ ุงูุฎุฑูุฌ ุงูุฎุงุตุฉ ุจูุง

ูู ุจุชุดุบูู ุงูุฃูุฑ 'docker COMMAND --help' ููุญุตูู ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุญูู ุฃูุฑ ูุนูู.

ููุญุตูู ุนูู ุงููุฒูุฏ ูู ุงููุณุงุนุฏุฉ ุญูู Dockerุ ููููู ุงูุงุทูุงุน ุนูู ุฃุฏูุชูุง ุนูู ุงูุฑุงุจุท ุงูุชุงูู: https://docs.docker.com/go/guides/
```

ุฌุฑุจ ุงุชุจุงุน ุงูุจุฑูุงูุฌ ุงูุชุนูููู.

```shell
$ docker run -d -p 80:80 docker/getting-started
Unable to find image 'docker/getting-started:latest' locally
latest: Pulling from docker/getting-started
aad63a933944: ุชู ุณุญุจูุง ุจุงููุงูู
b14da7a62044: ุชู ุณุญุจูุง ุจุงููุงูู
343784d40d66: ุชู ุณุญุจูุง ุจุงููุงูู
6f617e610986: ุชู ุณุญุจูุง ุจุงููุงูู
Digest: sha256:d2c4fb0641519ea208f20ab03dc40ec2a5a53fdfbccca90bef14f870158ed577
Status: ุชู ุชูุฒูู ุตูุฑุฉ ุฃุญุฏุซ ูู docker/getting-started:latest
815f13fc8f99f6185257980f74c349e182842ca572fe60ff62cbb15641199eaf
docker: ุงุณุชุฌุงุจุฉ ุฎุทุฃ ูู daemon: ุงูููุงูุฐ ุบูุฑ ูุชุงุญุฉ: ุงูุงุณุชูุงุน ุฅูู tcp 0.0.0.0:80: bind: ุงูุนููุงู ููุฏ ุงูุงุณุชุฎุฏุงู ุจุงููุนู.
```

ุบููุฑ ุงููููุฐ.

```shell
$ docker run -d -p 8080:80 docker/getting-started
45bb95fa1ae80adc05cc498a1f4f339c45c51f7a8ae1be17f5b704853a5513a5
```

![docker_run](assets/images/distributed/docker_run.png)

ูุชุญ ุงููุชุตูุญ ูุฏู ุนูู ุฃููุง ูุฌุญูุง ูู ุชุดุบูู `docker`.

![ูุชุตูุญ](assets/images/distributed/browser.png)

ุฃููู ุงูุญุงููุฉ. ุงุณุชุฎุฏู `ID` ุงูุฐู ุชู ุฅุฑุฌุงุนู ูุณุจููุง.

```shell
$ docker stop 45bb95fa1ae80adc05cc498a1f4f339c45c51f7a8ae1be17f5b704853a5513a5
45bb95fa1ae80adc05cc498a1f4f339c45c51f7a8ae1be17f5b704853a5513a5
```

ูู ูุฐู ุงููุญุธุฉ ูู ูุนุฏ ุจุงูุฅููุงู ูุชุญ ุงููููุน.

ูุฐุง ูุดูุฑ ุฅูู ุฃู `docker` ูุดุจู ุงูุขูุฉ ุงูุงูุชุฑุงุถูุฉ.

## Flink

ุงูุชุญ ุงููููุน ุงูุฑุณูู.

![ุฑุณู-ุจูุงูู-ูู-flink](assets/images/distributed/flink-home-graphic.png)

`Flink` ูุชุญุฏุซ ุนู ุงูุญูุณุจุฉ ุฐุงุช ุงูุญุงูุฉ (`Stateful`) ูุชุฏููุงุช ุงูุจูุงูุงุช. ูุงุฐุง ุชุนูู `Stateful`ุ ูุง ุฃููููุง ุจุนุฏ. ุงูุตูุฑุฉ ุฃุนูุงู ูุซูุฑุฉ ููุงูุชูุงู. ุฏุนููุง ูุฌุฑุจูุง.

ููุงู ุฃูู ูุญุชุงุฌ ุฅูู ุจูุฆุฉ Java.

```shell
$ java -version
java version "1.8.0_151"
Java(TM) SE Runtime Environment (build 1.8.0_151-b12)
Java HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)
```

ูู ุจุชูุฒูู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ุงููููุน ุงูุฑุณูู `flink-1.12.2-bin-scala_2.11.tar`.

```shell
$ ./bin/start-cluster.sh
ุจุฏุก ุชุดุบูู ุงููุชูุฉ.
ุจุฏุก ุชุดุบูู daemon standalonesession ุนูู ุงููุถูู lzwjava.
ุจุฏุก ุชุดุบูู daemon taskexecutor ุนูู ุงููุถูู lzwjava.
```

```shell
$ ./bin/flink run examples/streaming/WordCount.jar
ุชูููุฐ ูุซุงู WordCount ูุน ูุฌููุนุฉ ุจูุงูุงุช ุงูุฅุฏุฎุงู ุงูุงูุชุฑุงุถูุฉ.
ุงุณุชุฎุฏู --input ูุชุญุฏูุฏ ููู ุงูุฅุฏุฎุงู.
ูุชู ุทุจุงุนุฉ ุงููุชูุฌุฉ ุฅูู stdout. ุงุณุชุฎุฏู --output ูุชุญุฏูุฏ ูุณุงุฑ ุงูุฅุฎุฑุงุฌ.
ุชู ุชูุฏูู ุงููููุฉ ูุน JobID 60f37647c20c2a6654359bd34edab807
ุงูุชูู ุชูููุฐ ุงูุจุฑูุงูุฌ
ุงููููุฉ ุฐุงุช JobID 60f37647c20c2a6654359bd34edab807 ูุฏ ุงูุชูุช.
ููุช ุชุดุบูู ุงููููุฉ: 757 ูููู ุซุงููุฉ
```

```shell
$ tail log/flink-*-taskexecutor-*.out
(nymph,1)
(in,3)
(thy,1)
(orisons,1)
(be,4)
(all,2)
(my,1)
(sins,1)
(remember,1)
(d,4)
```

```shell
$ ./bin/stop-cluster.sh
ุฅููุงู ุจุฑูุงูุฌ taskexecutor ุงูุฎูู (ูุนุฑู ุงูุนูููุฉ: 41812) ุนูู ุงููุถูู lzwjava.
```

ูุนูุ ููุฏ ูุฌุญุช ูู ุงูุจุฏุก. ูููู ููุงุญุธุฉ ุฃู ูุฐุง ูุดุจู ุฅูู ุญุฏ ูุจูุฑ `Spark`.

## ูุงูููู

ุงูุชูู ุฅูู ุงููููุน ุงูุฑุณูู.

> Apache Kylinโข ูู ูุณุชูุฏุน ุจูุงูุงุช ุชุญูููู ููุฒุน ููุชูุญ ุงููุตุฏุฑ ูุฎุตุต ููุจูุงูุงุช ุงูุถุฎูุฉุ ุชู ุชุตูููู ูุชูููุฑ ูุฏุฑุฉ OLAP (ูุนุงูุฌุฉ ุชุญููููุฉ ุนุจุฑ ุงูุฅูุชุฑูุช) ูู ุนุตุฑ ุงูุจูุงูุงุช ุงูุถุฎูุฉ. ูู ุฎูุงู ุฅุนุงุฏุฉ ุงุจุชูุงุฑ ุชูููุฉ ุงูููุนุจ ูุชุนุฏุฏ ุงูุฃุจุนุงุฏ ูุงูุญุณุงุจ ุงููุณุจู ุนูู Hadoop ูSparkุ ูุชููู Kylin ูู ุชุญููู ุณุฑุนุฉ ุงุณุชุนูุงู ุดุจู ุซุงุจุชุฉ ุจุบุถ ุงููุธุฑ ุนู ุญุฌู ุงูุจูุงูุงุช ุงููุชุฒุงูุฏ ุจุงุณุชูุฑุงุฑ. ุจุชูููู ุฒูู ุงูุงุณุชุฌุงุจุฉ ูู ุฏูุงุฆู ุฅูู ุฃุฌุฒุงุก ูู ุงูุซุงููุฉุ ูุนูุฏ Kylin ุงูุชุญูููุงุช ุนุจุฑ ุงูุฅูุชุฑูุช ุฅูู ุนุงูู ุงูุจูุงูุงุช ุงูุถุฎูุฉ.

> Apache Kylinโข ูุชูุญ ูู ุงุณุชุนูุงู ูููุงุฑุงุช ุงูุตููู ุจุฒูู ุงุณุชุฌุงุจุฉ ุฃูู ูู ุซุงููุฉ ูู 3 ุฎุทูุงุช.
>
> 1. ุชุญุฏูุฏ ูุฎุทุท ูุฌูู ุฃู ุซูุฌู (Star/Snowflake Schema) ุนูู Hadoop.
> 2. ุจูุงุก ููุนุจ (Cube) ูู ุงูุฌุฏุงูู ุงููุญุฏุฏุฉ.
> 3. ุงูุงุณุชุนูุงู ุจุงุณุชุฎุฏุงู ANSI-SQL ูุงูุญุตูู ุนูู ุงููุชุงุฆุฌ ูู ุฃูู ูู ุซุงููุฉุ ุนุจุฑ ODBCุ JDBC ุฃู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช RESTful.

![kylin_diagram](assets/images/distributed/kylin_diagram.png)

ุจุดูู ุนุงูุ ูู ุทุจูุฉ ูุชุญููู ุงูุจูุงูุงุช ุงูุถุฎูุฉ. ูููู ุงุณุชุฎุฏุงูู ููุจุญุซ ุจุณุฑุนุฉ ูุจูุฑุฉ. ูุนูู ูุฌุณุฑ.

ููุฃุณูุ ูููู ุญุงูููุง ุงุณุชุฎุฏุงูู ููุท ูู ุจูุฆุฉ `Linux`. ุณุฃุนูุฏ ูุงุญููุง ููุชุนุงูู ูุนู.

## MongoDB

ูุฐู ุฃูุถูุง ูุงุนุฏุฉ ุจูุงูุงุช. ุฌุฑุจ ุชุซุจูุชูุง.

```shell
$ brew tap mongodb/brew
==> ุชุซุจูุช mongodb/brew
ุฌุงุฑู ุงูุงุณุชูุณุงุฎ ุฅูู '/usr/local/Homebrew/Library/Taps/mongodb/homebrew-brew'...
remote: ุชุนุฏุงุฏ ุงููุงุฆูุงุช: 63ุ ุชู.
remote: ุนุฏ ุงููุงุฆูุงุช: 100% (63/63)ุ ุชู.
remote: ุถุบุท ุงููุงุฆูุงุช: 100% (62/62)ุ ุชู.
remote: ุฅุฌูุงูู 566 (ุฏูุชุง 21)ุ ุชู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู 6 (ุฏูุชุง 1)ุ ุชู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุญุฒูุฉ 503
ุฌุงุฑู ุงุณุชูุจุงู ุงููุงุฆูุงุช: 100% (566/566)ุ 121.78 ููููุจุงูุช | 335.00 ููููุจุงูุช/ุซุงููุฉุ ุชู.
ุฌุงุฑู ุญู ุงูุฏูุชุง: 100% (259/259)ุ ุชู.
ุชู ุชุซุจูุช 11 ุตูุบุฉ (39 ููููุงุ 196.2 ููููุจุงูุช).
```

```shell
$ brew install mongodb-community@4.4
==> ุชุซุจูุช mongodb-community ูู mongodb/brew
==> ุชูุฒูู https://fastdl.mongodb.org/tools/db/mongodb-database-tools-macos-x86_64-100.3.0.zip
######################################################################## 100.0%
==> ุชูุฒูู https://fastdl.mongodb.org/osx/mongodb-macos-x86_64-4.4.3.tgz
######################################################################## 100.0%
==> ุชุซุจูุช ุงูุชุจุนูุงุช ูู mongodb/brew/mongodb-community: mongodb-database-tools
==> ุชุซุจูุช ุชุจุนูุฉ mongodb/brew/mongodb-community: mongodb-database-tools
ุฎุทุฃ: ุฎุทูุฉ `brew link` ูู ุชูุชูู ุจูุฌุงุญ
ุชู ุจูุงุก ุงูุตูุบุฉุ ูููู ูู ูุชู ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ุฅูู /usr/local
ุชุนุฐุฑ ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ูู bin/bsondump
ุงููุฏู /usr/local/bin/bsondump
ูู ุฑุงุจุท ุฑูุฒู ูุชุจุน ูู mongodb. ููููู ุฅูุบุงุก ุฑุจุทู:
  brew unlink mongodb
```

ูุฅุฌุจุงุฑ ุงูุฑุจุท ูุงุณุชุจุฏุงู ุฌููุน ุงููููุงุช ุงููุชุถุงุฑุจุฉ:
  brew link --overwrite mongodb-database-tools

ูุฅุฏุฑุงุฌ ุฌููุน ุงููููุงุช ุงูุชู ุณูุชู ุญุฐููุง:
  ```bash
  brew link --overwrite --dry-run mongodb-database-tools
  ```

ุงููููุงุช ุงูุชู ูุฏ ุชููู ูุชุถุงุฑุจุฉ ูู:
/usr/local/bin/bsondump -> /usr/local/Cellar/mongodb/3.0.7/bin/bsondump
/usr/local/bin/mongodump -> /usr/local/Cellar/mongodb/3.0.7/bin/mongodump
/usr/local/bin/mongoexport -> /usr/local/Cellar/mongodb/3.0.7/bin/mongoexport
/usr/local/bin/mongofiles -> /usr/local/Cellar/mongodb/3.0.7/bin/mongofiles
/usr/local/bin/mongoimport -> /usr/local/Cellar/mongodb/3.0.7/bin/mongoimport
/usr/local/bin/mongorestore -> /usr/local/Cellar/mongodb/3.0.7/bin/mongorestore
/usr/local/bin/mongostat -> /usr/local/Cellar/mongodb/3.0.7/bin/mongostat
/usr/local/bin/mongotop -> /usr/local/Cellar/mongodb/3.0.7/bin/mongotop
==> ุงูููุฎุต
๐บ  /usr/local/Cellar/mongodb-database-tools/100.3.0: 13 ููููุงุ 154 ููุฌุงุจุงูุชุ ุชู ุจูุงุคู ูู 11 ุซุงููุฉ
==> ุชุซุจูุช mongodb/brew/mongodb-community
ุฎุทุฃ: ุฎุทูุฉ `brew link` ูู ุชูุชูู ุจูุฌุงุญ
ุชู ุจูุงุก ุงูุตูุบุฉุ ูููู ูู ูุชู ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ููุง ูู /usr/local
ุชุนุฐุฑ ุฅูุดุงุก ุฑุงุจุท ุฑูุฒู ูู bin/mongo
ุงููุฏู /usr/local/bin/mongo
ูู ุฑุงุจุท ุฑูุฒู ูุชุจุน ูู mongodb. ููููู ุฅูุบุงุก ุงูุฑุจุท:
  brew unlink mongodb

ูุฅุฌุจุงุฑ ุงูุฑุจุท ูุงุณุชุจุฏุงู ุฌููุน ุงููููุงุช ุงููุชุถุงุฑุจุฉ:
  brew link --overwrite mongodb-community

ูุฅุฏุฑุงุฌ ุฌููุน ุงููููุงุช ุงูุชู ุณูุชู ุญุฐููุง:
  ```bash
  brew link --overwrite --dry-run mongodb-community
  ```

ุงููููุงุช ุงูุชู ูุฏ ุชููู ูุชุถุงุฑุจุฉ ูู:
/usr/local/bin/mongo -> /usr/local/Cellar/mongodb/3.0.7/bin/mongo
/usr/local/bin/mongod -> /usr/local/Cellar/mongodb/3.0.7/bin/mongod
/usr/local/bin/mongos -> /usr/local/Cellar/mongodb/3.0.7/bin/mongos
==> ููุงุญุธุงุช
ูุจุฏุก mongodb/brew/mongodb-community ุงูุขู ูุฅุนุงุฏุฉ ุงูุชุดุบูู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู launchd:
  brew services start mongodb/brew/mongodb-community
ุฃูุ ุฅุฐุง ููุช ูุง ุชุฑูุฏ/ุชุญุชุงุฌ ุฅูู ุฎุฏูุฉ ุฎูููุฉุ ููููู ููุท ุชุดุบูู:
  mongod --config /usr/local/etc/mongod.conf
==> ููุฎุต
๐บ  /usr/local/Cellar/mongodb-community/4.4.3: 11 ููููุงุ 156.8 ููุฌุงุจุงูุชุ ุชู ุจูุงุคูุง ูู 10 ุซูุงูู
==> ููุงุญุธุงุช
==> mongodb-community
ูุจุฏุก mongodb/brew/mongodb-community ุงูุขู ูุฅุนุงุฏุฉ ุงูุชุดุบูู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู launchd:
  brew services start mongodb/brew/mongodb-community
ุฃูุ ุฅุฐุง ููุช ูุง ุชุฑูุฏ/ุชุญุชุงุฌ ุฅูู ุฎุฏูุฉ ุฎูููุฉุ ููููู ููุท ุชุดุบูู:
  mongod --config /usr/local/etc/mongod.conf
```

ูู ุงูุณุงุจู ููุช ุจุชุซุจูุช ุฅุตุฏุงุฑ ูุฏูู. ุณุฃููู ุจุฅุฒุงูุฉ ุงูุฑูุงุจุท ุงูุชุงููุฉ.

```shell
$ brew unlink mongodb
ุฅูุบุงุก ุงูุฑุจุท /usr/local/Cellar/mongodb/3.0.7... ุชูุช ุฅุฒุงูุฉ 11 ุฑุงุจุทูุง ุฑูุฒููุง
```

```shell
$ mongod --version
ุฅุตุฏุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช v4.4.3
ูุนูููุงุช ุงูุจูุงุก: {
    "version": "4.4.3",
    "gitVersion": "913d6b62acfbb344dde1b116f4161360acd8fd13",
    "modules": [],
    "allocator": "system",
    "environment": {
        "distarch": "x86_64",
        "target_arch": "x86_64"
    }
}
```

ุจุนุฏ ุฐููุ ูู ุจุชุดุบูู `mongod` ูุจุฏุก ุฎุงุฏู ูุงุนุฏุฉ ุจูุงูุงุช mongo. ููุน ุฐููุ ุนูุฏ ุงูุชุดุบูู ุงูุฃููุ ุชู ุงูุฅุจูุงุบ ุจุฃู `/data/db` ุบูุฑ ููุฌูุฏ. ูููุง ุจุฅูุดุงุก ุฏูููุ `~/mongodb`ุ ููุง ูุญูุธ ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช.

```shell
$ mongod --dbpath ~/mongodb
```

ุงูุฅุฎุฑุงุฌ ูู:

```json
{"t":{"$date":"2021-03-11T18:17:32.838+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"ุชู ุชุนุทูู TLS 1.0 ุชููุงุฆููุงุ ูุชูููู TLS 1.0 ูุณุฑูุง ุญุฏุฏ --sslDisabledProtocols 'none'"}
{"t":{"$date":"2021-03-11T18:17:32.842+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"ูู ูุชู ุชูููู TransportLayer ุฃุซูุงุก ุจุฏุก ุชุดุบูู NetworkInterface"}
{"t":{"$date":"2021-03-11T18:17:32.842+08:00"},"s":"I",  "c":"NETWORK",  "id":4648602, "ctx":"main","msg":"ุชู ุงุณุชุฎุฏุงู TCP FastOpen ุถููููุง."}
{"t":{"$date":"2021-03-11T18:17:32.842+08:00"},"s":"I",  "c":"STORAGE",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB ูุจุฏุฃ ุงูุชุดุบูู","attr":{"pid":46256,"port":27017,"dbPath":"/Users/lzw/mongodb","architecture":"64-bit","host":"lzwjava"}}
{"t":{"$date":"2021-03-11T18:17:32.842+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"ูุนูููุงุช ุงูุจูุงุก","attr":{"buildInfo":{"version":"4.4.3","gitVersion":"913d6b62acfbb344dde1b116f4161360acd8fd13","modules":[],"allocator":"system","environment":{"distarch":"x86_64","target_arch":"x86_64"}}}}
{"t":{"$date":"2021-03-11T18:17:32.843+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"ูุธุงู ุงูุชุดุบูู","attr":{"os":{"name":"Mac OS X","version":"20.3.0"}}}
...
```

ูููู ููุงุญุธุฉ ุฃู ุฌููุนูุง ุจุชูุณูู `JSON`. MongoDB ูุญูุธ ุฌููุน ูููุงุช ุงูุจูุงูุงุช ุจุชูุณูู `JSON`. ุจุนุฏ ุฐููุ ุงูุชุญ ุนูุงูุฉ ุชุจููุจ ุทุฑููุฉ ุฃุฎุฑู.

```shell
$ mongo
ุฅุตุฏุงุฑ shell MongoDB: v4.4.3
ุงูุงุชุตุงู ุจู: mongodb://127.0.0.1:27017/?compressors=disabled&gssapiServiceName=mongodb
ุงูุฌูุณุฉ ุงูุถูููุฉ: session { "id" : UUID("4f55c561-70d3-4289-938d-4b90a284891f") }
ุฅุตุฏุงุฑ ุฎุงุฏู MongoDB: 4.4.3
---
ูุงู ุงูุฎุงุฏู ุจุฅูุดุงุก ูุฐู ุงูุชุญุฐูุฑุงุช ุนูุฏ ุจุฏุก ุงูุชุดุบูู:
        2021-03-11T18:17:33.743+08:00: ุงูุชุญูู ูู ุงููุตูู ุบูุฑ ููุนู ููุงุนุฏุฉ ุงูุจูุงูุงุช. ุงููุตูู ูููุฑุงุกุฉ ูุงููุชุงุจุฉ ููุจูุงูุงุช ูุงูุฅุนุฏุงุฏุงุช ุบูุฑ ูููุฏ
        2021-03-11T18:17:33.743+08:00: ูุฐุง ุงูุฎุงุฏู ูุฑุชุจุท ุจู localhost. ุงูุฃูุธูุฉ ุงูุจุนูุฏุฉ ูู ุชููู ูุงุฏุฑุฉ ุนูู ุงูุงุชุตุงู ุจูุฐุง ุงูุฎุงุฏู. ุงุจุฏุฃ ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู --bind_ip <ุนููุงู> ูุชุญุฏูุฏ ุนูุงููู IP ุงูุชู ูุฌุจ ุฃู ูุณุชุฌูุจ ูููุงุ ุฃู ุจุงุณุชุฎุฏุงู --bind_ip_all ููุฑุจุท ุจุฌููุน ุงููุงุฌูุงุช. ุฅุฐุง ูุงู ูุฐุง ุงูุณููู ูุฑุบูุจูุงุ ุงุจุฏุฃ ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู --bind_ip 127.0.0.1 ูุชุนุทูู ูุฐุง ุงูุชุญุฐูุฑ
        2021-03-11T18:17:33.743+08:00: ุญุฏูุฏ ุงูุจุฑุงูุฌ ุงููุงุนูุฉ ููุฎูุถุฉ ุฌุฏูุง
        2021-03-11T18:17:33.743+08:00:         ุงููููุฉ ุงูุญุงููุฉ: 4864
        2021-03-11T18:17:33.743+08:00:         ุงูุญุฏ ุงูุฃุฏูู ุงูููุตู ุจู: 64000
---
---
        ูู ุจุชูููู ุฎุฏูุฉ ุงููุฑุงูุจุฉ ุงูุณุญุงุจูุฉ ุงููุฌุงููุฉ ูู MongoDBุ ูุงูุชู ุณุชุณุชูุจู ูุชุนุฑุถ
        ููุงููุณ ุญูู ูุดุฑู (ุงุณุชุฎุฏุงู ุงููุฑุตุ CPUุ ุฅุญุตุงุฆูุงุช ุงูุนูููุงุชุ ุฅูุฎ).

        ุณุชููู ุจูุงูุงุช ุงููุฑุงูุจุฉ ูุชุงุญุฉ ุนูู ูููุน MongoDB ุจุนููุงู URL ูุฑูุฏ ููููู ุงููุตูู ุฅููู  
        ูุฃู ุดุฎุต ุชุดุงุฑู ูุนู ุงูุฑุงุจุท. ูุฏ ุชุณุชุฎุฏู MongoDB ูุฐู ุงููุนูููุงุช ูุฅุฌุฑุงุก ุชุญุณููุงุช ุนูู ุงูููุชุฌ  
        ููุงูุชุฑุงุญ ููุชุฌุงุช MongoDB ูุฎูุงุฑุงุช ุงููุดุฑ ุงูููุงุณุจุฉ ูู.

ูุชูููู ุงููุฑุงูุจุฉ ุงููุฌุงููุฉุ ูู ุจุชูููุฐ ุงูุฃูุฑ ุงูุชุงูู:  
```javascript
db.enableFreeMonitoring()
```

ูุชุนุทูู ูุฐุง ุงูุชุฐููุฑ ุจุดูู ุฏุงุฆูุ ูู ุจุชูููุฐ ุงูุฃูุฑ ุงูุชุงูู:  
```javascript
db.disableFreeMonitoring()
```

ุจุนุฏ ุฐููุ ููููู ูุญุงููุฉ ุฅุฏุฎุงู ุงูุจูุงูุงุช ูุงูุงุณุชุนูุงู ุนููุง.

```shell
> db.inventory.insertOne(
...    { item: "canvas", qty: 100, tags: ["cotton"], size: { h: 28, w: 35.5, uom: "cm" } }
... )
{
	"acknowledged" : true,
	"insertedId" : ObjectId("6049ef91b653541cf355facb")
}
>
> db.inventory.find()
{ "_id" : ObjectId("6049ef91b653541cf355facb"), "item" : "canvas", "qty" : 100, "tags" : [ "cotton" ], "size" : { "h" : 28, "w" : 35.5, "uom" : "cm" } }
```

## ุงูุฎุชุงู

ูููุชูู ุจูุฐุง ุงูุขู. ุณูุชุนุงูู ูุน ุฃุฏูุงุช ุฃุฎุฑู ูุงุญููุง. ูุง ุงููุฏู ูู ูู ูุฐุงุ ุฑุจูุง ูููู ุงูุญุตูู ุนูู ููุฑุฉ ุนุงูุฉ ุฃููุงู. ุงูุจุฏุงูุฉ ุฏุงุฆููุง ุตุนุจุฉุ ููุฏ ูููุง ุจุชุฌุฑุจุฉ ูู ูุฐู ุงูุฃุดูุงุก ุฏูุนุฉ ูุงุญุฏุฉ. ูุฐุง ูุนุทููุง ุซูุฉุ ูุจุนุฏ ุฐููุ ุณูููู ุจุชุฌุฑุจุฉ ุงููุฒูุฏ ูู ูุฐู ุงูุจุฑุงูุฌ.

## ุงูุชูุฑูู

* ูุฌุจ ุนูู ุงูุทูุงุจ ุงุณุชูุดุงู ุงูููุถูุน ุจุดูู ูุดุงุจู ููุง ูุฑุฏ ุฃุนูุงู.