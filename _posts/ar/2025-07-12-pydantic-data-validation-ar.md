---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-code-fast-1
title: نظرة عامة على التحقق من صحة البيانات باستخدام بايدانتيك
translated: true
type: note
---

### مكتبة Pydantic
Pydantic هي مكتبة بايثون مفتوحة المصدر شائعة للتحقق من البيانات وتحليلها. تستفيد من تلميحات النوع في بايثون للتحقق تلقائيًا من بيانات الإدخال (مثل JSON أو القواميس) مقابل المخططات المُعرَّفة، مع إجبار تحويل الأنواع حيثما أمكن ورفع أخطاء واضحة عند عدم التطابق. على سبيل المثال، تضمن ألا يتم تمرير حقل عدد صحيح كسلسلة نصية إلا إذا تم التحديد بذلك. تُستخدم على نطاق واسع في أطر عمل الويب مثل FastAPI لمعالجة طلبات واستجابات واجهة برمجة التطبيقات (API).

- **الميزات الرئيسية**: تدعم أنواعًا معقدة (مثل التعدادات، والاتحادات)، والمدققات المخصصة، والتسلسل وإلغاء التسلسل.
- **التثبيت والاستخدام**: ثبّت عبر `pip install pydantic`. مثال أساسي:
  ```python
  from pydantic import BaseModel

  class User(BaseModel):
      id: int
      name: str

  user = User(id='123', name='Alice')  # يحول '123' إلى int
  print(user.dict())  # الناتج: {'id': 123, 'name': 'Alice'}
  ```

### Pydantic-Core
Pydantic-core هو محرك الأداء العالي الأساسي لـ Pydantic. كُتب بلغة Rust (عبر روابط PyO3) لتوفير تحقق سريع من البيانات، أسرع بكثير من التطبيقات النقية بلغة بايثون. ليس المقصود أن يستخدمه المستخدمون مباشرة—بدلاً من ذلك، يتم استدعاؤه تلقائيًا بواسطة Pydantic. يسمح هذا الفصل بين المكونات بصيانة أسهل وتحسينات، مثل معالجة الحالات المتطرفة في إجبار تحويل الأنواع دون إبطاء المكتبة الرئيسية.

- **العلاقة مع Pydantic**: فكر في Pydantic كغلاف واجهة برمجة تطبيقات (API) سهل الاستخدام يحيط بـ Pydantic-core. تؤدي التحديثات في Pydantic-core إلى تحسين الأداء دون تغيير واجهات برمجة التطبيقات العامة.
- **سبب أهميته**: تظهر اختبارات الأداء أن Pydantic-core يجعل عملية التحقق أسرع بمقدار 10-100 مرة من البدائل مثل Marshmallow أو Django Forms.

### نظام الكتابة (Typing) في بايثون
وحدة `typing` هي جزء من المكتبة القياسية لبايثون (تمت إضافتها في بايثون 3.5+ عبر PEP 484) وتوفر أدوات لإضافة تلميحات النوع إلى الكود. هذه التلميحات لا تفرض قواعد في وقت التشغيل ولكنها تحسن قابلية قراءة الكود، وتمكن دعم بيئة التطوير المتكاملة (مثل الإكمال التلقائي، واكتشاف الأخطاء)، وتسمح لمدققي النوع الثابت مثل mypy باكتشاف الأخطاء مبكرًا.

- **المكونات الشائعة**: تتضمن `List[str]` للقوائم التي تحتوي على سلاسل نصية، و `Union[int, str]` لأنواع متعددة، و `Optional[int]` لـ `int | None`، وأنواع عامة مثل `Dict[str, Any]`.
- **العلاقة مع Pydantic**: تبني Pydantic مباشرة على شرح annotations وحدة `typing`. يستخدم نموذج مثل `class Model(BaseModel): x: int` وحدة `typing` لتعريف التوقعات، وتقوم Pydantic بالتحقق وفقًا لذلك. بدون `typing`، لا يمكن لـ Pydantic أن تعمل لأن تحققها القائم على النوع يعتمد على هذه التلميحات.

### كيف تترابط هذه المكونات
تدمج Pydantic تلميحات `typing` مع سرعة Pydantic-core للتحقق من البيانات بطريقة تصريحية (declarative). على سبيل المثال، قد تستخدم نقطة نهاية لواجهة برمجة تطبيقات (API endpoint) نماذج Pydantic مُعلَّمة بأنواع `typing`، مع الاعتماد على Pydantic-core للتحقق الفعال. يدعم هذا النظام البيئي أنماط بايثون الحديثة مثل فئات البيانات (dataclasses) وأطر العمل غير المتزامنة (async)، مما يجعله ركيزة أساسية للمعالجة الآمنة للبيانات حسب النوع. للحصول على تفاصيل متقدمة، راجع وثائق Pydantic الرسمية أو GitHub.