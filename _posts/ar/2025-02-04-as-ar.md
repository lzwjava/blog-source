---
audio: false
lang: ar
layout: post
title: 'التجميع في macOS: مرحباً بالعالم'
translated: true
---

هذا الكود يُنشئ برنامجًا يُطبع "Hello, World!".  يستخدم نداءات النظام لكتابة الرسالة إلى وحدة التحكم ثم الخروج.  يحتوي قسم `.text` على التعليمات القابلة للتنفيذ، بدءًا من `_start`.  يقوم أولاً بإعداد نداء `sys_write` (الطباعة إلى stdout) ثم نداء `sys_exit` (الخروج بشكل نظيف).  يخزن قسم `.data` الرسالة نفسها ويُحسب طولها.

```bash
.global _start
.text

_start:
    // كتابة "Hello, World!" إلى stdout
    mov x8, #64             // رقم نداء النظام للكتابة (sys_write)
    mov x0, #1              // مُعرّف الملف 1 (stdout)
    ldr x1, =msg            // عنوان الرسالة
    mov x2, #14             // طول الرسالة
    svc #0                  // استدعاء نداء النظام

    // إنهاء البرنامج
    mov x8, #93             // رقم نداء النظام للخروج (sys_exit)
    mov x0, #0              // رمز الخروج 0
    svc #0                  // استدعاء نداء النظام

.data
msg:
    .asciz "Hello, World!\n"
```

```bash
as -o hello.o hello.s

% clang -o hello hello.o -nostdlib -e _start -Wl,-platform_version,macos,15.0,15.0 -arch arm64

% ./hello
zsh: نداء نظام غير صالح  ./hello
```
