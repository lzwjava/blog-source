---
audio: false
generated: true
lang: ar
layout: post
title: التحقق من تحليل الشبكة باستخدام الأردوينو
translated: true
type: note
---

يتضمن التحقق من تحليل الشبكة باستخدام Arduino بناء دائرة ذات حلقات متعددة، وتطبيق تحليل الشبكة نظريًا للتنبؤ بالتيارات، ثم استخدام Arduino لقياس الفولتية عبر المقاومات لحساب التيارات الفعلية للمقارنة. تحليل الشبكة هو طريقة في نظرية الدوائر حيث تقوم بتعيين تيارات حلقة لكل حلقة مستقلة واستخدام قانون كيرشوف للجهد (KVL) لوضع المعادلات. سيساعدك Arduino في قياس سلوك العالم الحقيقي لتأكيد حساباتك.

أدناه، سأرشدك خلال تصميم دائرة شبكة بسيطة ذات حلقتين، وأداء تحليل الشبكة يدويًا، واستخدام Arduino للتحقق من النتائج عن طريق قياس الفولتية واستنتاج التيارات (نظرًا لأن Arduino لا يمكنه قياس التيار مباشرة، سنستخدم قانون أوم: \\( I = V/R \\)).

---

### **الخطوة 1: تصميم دائرة ذات حلقتين**

#### **وصف الدائرة**
- **المكونات:**
  - Arduino (مثل Uno)
  - 3 مقاومات (مثل R1 = 330Ω، R2 = 470Ω، R3 = 680Ω)
  - لوحة تجارب (Breadboard) وأسلاك توصيل
  - مصدر طاقة (دبوس 5V في Arduino)
- **التوصيل:**
  - وصل 5V إلى العقدة A.
  - من العقدة A، وصل R1 إلى العقدة B.
  - من العقدة B، وصل R2 إلى العقدة C (GND).
  - من العقدة A، وصل R3 إلى العقدة C (GND).
- **الطوبولوجيا (الهيكل):**
  - الشبكة 1: 5V → R1 → R2 → GND (الحلقة اليسرى).
  - الشبكة 2: 5V → R3 → GND (الحلقة اليمنى).
  - R1 في الشبكة 1 فقط، R3 في الشبكة 2 فقط، و R2 مشترك بين كلتا الشبكتين.
- **نقاط القياس:**
  - A0: الجهد عبر R1 (من العقدة A إلى العقدة B).
  - A1: الجهد عبر R2 (من العقدة B إلى العقدة C).
  - A2: الجهد عبر R3 (من العقدة A إلى العقدة C).

#### **مخطط مفهومي**
```
5V ---- Node A ---- R1 ---- Node B ---- R2 ---- Node C (GND)
       |                        |
       +--------- R3 -----------+
```

---

### **الخطوة 2: إجراء تحليل الشبكة نظريًا**

#### **تحديد تيارات الشبكة**
- \\( I_1 \\): التيار في الشبكة 1 (باتجاه عقارب الساعة عبر 5V، R1، R2، GND).
- \\( I_2 \\): التيار في الشبكة 2 (باتجاه عقارب الساعة عبر 5V، R3، GND).

#### **تطبيق KVL على كل شبكة**
1. **الشبكة 1 (5V → R1 → R2 → GND):**
   - مصدر الجهد: +5V (من GND إلى 5V في اتجاه الحلقة).
   - هبوط الجهد عبر R1: \\( -R1 \cdot I_1 \\).
   - هبوط الجهد عبر R2: \\( -R2 \cdot (I_1 - I_2) \\) (التيار عبر R2 هو \\( I_1 - I_2 \\)).
   - المعادلة: \\( 5 - R1 \cdot I_1 - R2 \cdot (I_1 - I_2) = 0 \\).

2. **الشبكة 2 (5V → R3 → GND):**
   - مصدر الجهد: +5V.
   - هبوط الجهد عبر R3: \\( -R3 \cdot I_2 \\).
   - هبوط الجهد عبر R2 (الاتجاه المعاكس): \\( +R2 \cdot (I_1 - I_2) \\) (التيار عبر R2 هو \\( I_1 - I_2 \\)).
   - المعادلة: \\( 5 - R3 \cdot I_2 + R2 \cdot (I_1 - I_2) = 0 \\).

#### **تعويض القيم**
- R1 = 330Ω، R2 = 470Ω، R3 = 680Ω.
- الشبكة 1: \\( 5 - 330 I_1 - 470 (I_1 - I_2) = 0 \\)
  - التبسيط: \\( 5 - 330 I_1 - 470 I_1 + 470 I_2 = 0 \\)
  - \\( 5 - 800 I_1 + 470 I_2 = 0 \\) → (1)
- الشبكة 2: \\( 5 - 680 I_2 + 470 (I_1 - I_2) = 0 \\)
  - التبسيط: \\( 5 + 470 I_1 - 680 I_2 - 470 I_2 = 0 \\)
  - \\( 5 + 470 I_1 - 1150 I_2 = 0 \\) → (2)

#### **حل المعادلات**
- من (1): \\( 5 = 800 I_1 - 470 I_2 \\) → \\( I_1 = \frac{5 + 470 I_2}{800} \\).
- التعويض في (2): \\( 5 + 470 \left( \frac{5 + 470 I_2}{800} \right) - 1150 I_2 = 0 \\).
- الضرب في 800 لإزالة الكسر:
  - \\( 4000 + 470 (5 + 470 I_2) - 1150 \cdot 800 I_2 = 0 \\)
  - \\( 4000 + 2350 + 220900 I_2 - 920000 I_2 = 0 \\)
  - \\( 6350 - 699100 I_2 = 0 \\)
  - \\( I_2 = \frac{6350}{699100} \approx 0.00908 \, \text{A} = 9.08 \, \text{mA} \\).
- التعويض الخلفي: \\( I_1 = \frac{5 + 470 \cdot 0.00908}{800} = \frac{5 + 4.2676}{800} \approx 0.01158 \, \text{A} = 11.58 \, \text{mA} \\).

#### **حساب الفولتية**
- \\( V_{R1} = R1 \cdot I_1 = 330 \cdot 0.01158 \approx 3.82 \, \text{V} \\).
- \\( V_{R2} = R2 \cdot (I_1 - I_2) = 470 \cdot (0.01158 - 0.00908) \approx 1.18 \, \text{V} \\).
- \\( V_{R3} = R3 \cdot I_2 = 680 \cdot 0.00908 \approx 6.17 \, \text{V} \\) (ولكن محدود بـ 5V بسبب المصدر).

---

### **الخطوة 3: التحقق باستخدام Arduino**

#### **كود Arduino**
```cpp
void setup() {
  Serial.begin(9600); // Start serial communication
}

void loop() {
  // Read voltages (0-1023 maps to 0-5V)
  int sensorValueR1 = analogRead(A0); // Across R1
  int sensorValueR2 = analogRead(A1); // Across R2
  int sensorValueR3 = analogRead(A2); // Across R3

  // Convert to voltage
  float VR1 = sensorValueR1 * (5.0 / 1023.0);
  float VR2 = sensorValueR2 * (5.0 / 1023.0);
  float VR3 = sensorValueR3 * (5.0 / 1023.0);

  // Resistor values
  float R1 = 330.0;
  float R2 = 470.0;
  float R3 = 680.0;

  // Calculate currents (I = V/R)
  float I1 = VR1 / R1;              // Mesh 1 current through R1
  float I2 = VR3 / R3;              // Mesh 2 current through R3
  float IR2 = VR2 / R2;             // Current through R2 (I1 - I2)

  // Output results
  Serial.println("Measured Values:");
  Serial.print("VR1 (V): "); Serial.println(VR1);
  Serial.print("VR2 (V): "); Serial.println(VR2);
  Serial.print("VR3 (V): "); Serial.println(VR3);
  Serial.print("I1 (mA): "); Serial.println(I1 * 1000);
  Serial.print("I2 (mA): "); Serial.println(I2 * 1000);
  Serial.print("I1 - I2 (mA): "); Serial.println((I1 - I2) * 1000);
  Serial.println("---");

  delay(2000); // Wait 2 seconds
}
```

#### **ملاحظات التوصيل**
- وصل A0 بين العقدة A (5V) والعقدة B.
- وصل A1 بين العقدة B والعقدة C (GND).
- وصل A2 بين العقدة A (5V) والعقدة C (GND).
- تأكد من أن جميع أطراف الأرضي (GND) مشتركة مع Arduino GND.

---

### **الخطوة 4: مقارنة النتائج**

#### **المتوقع مقابل المقاس**
- **نظري (من تحليل الشبكة):**
  - \\( I_1 \approx 11.58 \, \text{mA} \\)
  - \\( I_2 \approx 9.08 \, \text{mA} \\)
  - \\( I_1 - I_2 \approx 2.50 \, \text{mA} \\)
  - \\( V_{R1} \approx 3.82 \, \text{V} \\)، \\( V_{R2} \approx 1.18 \, \text{V} \\)، \\( V_{R3} \approx 5 \, \text{V} \\) (محدود).
- **مقاس:** افتح Serial Monitor (بسرعة 9600 باود) وقارن مخرجات Arduino بهذه القيم.

#### **التحقق**
- تحقق مما إذا كان \\( V_{R1} + V_{R2} \approx 5V \\) (حلقة الشبكة 1).
- تحقق مما إذا كان \\( V_{R3} \approx 5V \\) (حلقة الشبكة 2).
- تأكد من أن \\( I_1 - I_2 \\) يطابق التيار عبر R2.

---

### **نصائح واستكشاف الأخطاء وإصلاحها**
- **الدقة:** محول ADC في Arduino لديه دقة حوالي 4.9mV، وقد تسبب تفاوتات المقاومات انحرافات طفيفة. استخدم مقياس متعدد للتحقق الدقيق.
- **التعديلات:** إذا تجاوزت الفولتية 5V (غير محتمل هنا)، استخدم مقسم جهد لتقليلها.
- **التوسعات:** أضف شبكات أو مكونات أكثر لزيادة التعقيد، ولكن ضع في اعتبارك حدود المسامير (A0–A5).

هذا الإعداد يؤكد تحليل الشبكة من خلال مواءمة التيارات النظرية مع المقاسة. أعلمني إذا كنت بحاجة إلى مساعدة في تحسين الدائرة، أو تصحيح الأخطاء، أو إضافة المزيد من الشبكات!