---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: التشفير والتوقيع باستخدام GPG موضحان
translated: true
type: note
---

### أساسيات GPG: التشفير مقابل التوقيع

أنت تخلط بين مفهومين هنا—GPG (GNU Privacy Guard) يمكنه القيام بـ **التشفير** (لحماية محتويات الملف) و **التوقيع** (للتحقق من الهوية وسلامة البيانات)—لكنهما ميزتان منفصلتان. سأقوم بشرحها خطوة بخطوة، والتأكد من نقاطك، وتوضيح أماكن التداخل أو الاختلاف. هذا يعتمد على الاستخدام القياسي لـ GPG (والذي لم يتغير كثيرًا اعتبارًا من 2025).

#### 1. **إنشاء المفاتيح ومعلوماتك (الاسم/البريد الإلكتروني)**
   - عند إعداد GPG لأول مرة، تقوم بإنشاء **زوج من المفاتيح**: مفتاح خاص (يُحفظ سرًا) ومفتاح عام (يُشارك مع الآخرين).
   - أثناء عملية الإنشاء، تقوم بتقديم **اسمك وبريدك الإلكتروني** كجزء من "معرف المستخدم" للمفتاح (مثل `gpg --gen-key`). هذا يربط المفتاح بهويتك.
   - تقوم أيضًا بتعيين **عبارة مرور** لحماية مفتاحك الخاص. **لا** تُستخدم عبارة المرور هذه لتشفير الملفات—إنها فقط لفتح مفتاحك الخاص عند الحاجة.
   - مثال على الأمر:
     ```
     gpg --gen-key
     ```
     اتبع المطالبات لـ RSA/RSA، وحجم المفتاح، وتاريخ الانتهاء، واسمك/بريدك الإلكتروني.

#### 2. **تشفير ملف**
   - **باستخدام كلمة مرور (تشفير متماثل)**: هذا لا يتضمن مفاتيح أو هويتك—إنه سريع لمشاركة ملف بشكل آمن. يستخدم GPG عبارة المرور لإنشاء مفتاح واحد للتشفير.
     - الأمر: `gpg -c filename.txt` (يطلب عبارة المرور، يُخرج `filename.txt.gpg`).
     - أي شخص لديه عبارة المرور يمكنه فك التشفير: `gpg -d filename.txt.gpg`.
     - لا توجد مفاتيح عامة/خاصة هنا؛ لا يوجد تحقق من الهوية.
   - **باستخدام المفاتيح العامة (تشفير غير متماثل)**: لتشفير ملف لشخص معين، استخدم مفتاحه العام. لا يرتبط اسمك/بريدك الإلكتروني مباشرة بناتج التشفير.
     - الأمر: `gpg -e -r recipient@example.com filename.txt` (يُخرج `filename.txt.gpg`).
     - فقط المفتاح الخاص للمستلم يمكنه فك تشفيره.
   - ناتج التشفير هو ملف `.gpg`، لكنه **ليس توقيعًا**—إنه مجرد بيانات مشفرة. لا يوجد "توقيع GPG" من التشفير وحده.

#### 3. **توقيع ملف (ما تصفه)**
   - يرفق التوقيع **توقيعًا رقميًا** بالملف (أو بصمة التجزئة الخاصة به) لإثبات أنه جاء منك ولم يتم العبث به. هذا هو المكان الذي يأتي فيه دور **مفتاحك الخاص** وهويتك.
   - **نعم، يجب عليك استخدام مفتاحك الخاص لإنشاء التوقيع.** يقوم GPG بفتحه باستخدام عبارة المرور الخاصة بك.
     - الأمر للتوقيع المنفصل: `gpg --detach-sign filename.txt` (يُخرج `filename.txt.sig`).
     - أو مضمنًا (يوقع ويشفر في مرة واحدة): `gpg -s filename.txt` (يُخرج `filename.txt.gpg` مع التوقيع المضمن).
   - التوقيع هو "قيمة" تشفيرية (مثل بصمة تجزئة موقعة بمفتاحك الخاص) تتضمن معرف مفتاحك ومعرف المستخدم (الاسم/البريد الإلكتروني).
   - **الآخرون يتحققون باستخدام مفتاحك العام**: يستوردون مفتاحك العام (مثلًا من خادم مفاتيح: `gpg --keyserver keys.openpgp.org --recv-keys YOUR_KEY_ID`)، ثم يشغلون `gpg --verify filename.txt.sig filename.txt`.
     - إذا تطابق، يقول شيئًا مثل "توقيع جيد من 'اسمك <البريد الإلكتروني>'".
   - **نعم، هذا يطابق الهوية ويبني الثقة**:
     - يثبت التوقيع أن الملف جاء من صاحب المفتاح (أنت).
     - إذا شاركت مفتاحك العام عبر قناة موثوقة (مثل موقعك على الويب) وتم توقيع المفتاح من قبل آخرين تثق بهم، يمكنك "الوثوق" بالسلسلة.
     - لا يشفر الملف—بل يتحقق منه فقط. ادمجه مع التشفير لأمان كامل (وقّع ثم شفر).

#### الاختلافات الرئيسية وأسئلتك

| الميزة | التشفير (كلمة المرور) | التشفير (المفتاح العام) | التوقيع |
|---------|-----------------------|--------------------------|---------|
| **يستخدم عبارة مرور؟** | نعم، للمفتاح المتماثل | لا (يستخدم المفتاح العام للمستلم) | نعم، لفتح مفتاحك الخاص |
| **يتضمن اسمك/بريدك الإلكتروني؟** | لا | بشكل غير مباشر (عبر مفتاحك لاستجابة فك التشفير) | نعم، مضمن في التوقيع |
| **الناتج** | ملف `.gpg` (بيانات مشفرة) | ملف `.gpg` (بيانات مشفرة) | `.sig` أو مضمن في `.gpg` (قيمة التوقيع) |
| **هل المفتاح الخاص مطلوب؟** | لا | لا (لتشفير الملفات للآخرين) | نعم، للتوليد |
| **التحقق** | عبارة المرور لفك التشفير | المفتاح الخاص للمستلم | أي شخص لديه مفتاحك العام |
| **الغرض** | إخفاء المحتويات | مشاركة آمنة | إثبات الهوية/السلامة |

- **صحيح بخصوص المفتاح الخاص**: نعم، **يجب** عليك استخدام مفتاحك الخاص (الذي يتم فتحه بعبارة المرور) للتوقيع. لا تشاركه أبدًا!
- **صحيح بخصوص الثقة**: تمامًا—إذا تحقق التوقيع مقابل مفتاحك العام، وكنت تثق بأن هذا المفتاح يخص المؤلف المزعوم (عبر الاسم/البريد الإلكتروني وشبكة الثقة)، فيمكنك الوثوق بأن الملف أصلي ولم يتم التلاعب به. إنه مثل كاتب عدل رقمي.

#### نصائح
- احتفظ دائمًا بنسخة احتياطية من مفاتيحك: `gpg --export-secret-keys --armor > private.asc` (قم بتخزينها بشكل آمن).
- لكلمات المرور فقط (بدون مفاتيح)، أدوات مثل `age` أو `openssl` بدائل أبسط، لكن GPG رائع للأمور المرتبطة بالهوية.
- خطأ شائع: نسيان تصدير/مشاركة مفتاحك العام يعني أن الآخرين لا يستطيعون التحقق.

إذا كنت تقصد أمرًا محددًا أو سيناريو معينًا (مثل التشفير *و* التوقيع معًا)، شارك المزيد من التفاصيل!

**المراجع**  
[توثيق GPG: التشفير والتوقيع](https://www.gnupg.org/documentation/manuals/gnupg/)  
[دليل البدء السريع لـ GPG](https://www.gnupg.org/documentation/manuals/gnupg/GnuPG-basics.html)