---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-code-fast-1
title: فهم علمية --legacy-peer-deps في npm
translated: true
type: note
---

### نظرة عامة
العلامة `--legacy-peer-deps` هي خيار يُستخدم مع npm (مدير حزم Node) للتحكم في كيفية معالجة تبعات الأقران أثناء تثبيت الحزمة. تبعات الأقران هي تبعات تتوقع حزمة معينة أن توفرها حزمة أخرى، ولكنها لا تُثبَّت تلقائيًا في إصدارات npm الأحدث.

### السلوك
- **npm القياسي (الإصدار 7 فما فوق)**: بشكل افتراضي، يفرض متطلبات تبعات الأقران بشكل صارم. إذا أعلنت حزمة عن تبع أقران لم يتم تلبيته، يحذّر npm أو يفشل عملية التثبيت لمنع التعارضات.
- **مع --legacy-peer-deps**: يعود إلى السلوك القديم (من npm الإصدار 3 إلى 6)، حيث يتم تثبيت تبعات الأقران المفقودة تلقائيًا، حتى لو أدى ذلك إلى تكرارات أو عدم تطابق. يمكن أن يحل هذا بعض مشاكل الحزم القديمة ولكنه قد يتسبب في أخطاء.

### مثال للاستخدام
في الطرفية، يمكنك تنفيذ الأمر:
```
npm install some-package --legacy-peer-deps
```
يُستخدم هذا غالبًا في المشاريع التي تعتمد على مكتبات قديمة لم تقم بتحديث إعلانات تبعات الأقران الخاصة بها، كما هو الحال في العديد من إعدادات React أو Angular قبل التعامل الصارم لـ npm مع تبعات الأقران.

### متى تستخدمه
استخدمه بحذر، لأنه يتجاوز آليات الحماية وقد يؤدي إلى فوضى التبعات. يُفضّل تحديث الحزم أو استخدام `--force` / `--save-dev` كبدائل أفضل. للحصول على التفاصيل الكاملة، راجع الوثائق الرسمية لـ npm حول تبعات الأقران.