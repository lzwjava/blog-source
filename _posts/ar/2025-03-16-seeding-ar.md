---
audio: false
generated: true
lang: ar
layout: post
title: تهيئة qBittorrent للبذر والإدارة التلقائية للملفات
translated: true
type: note
---

يبدو أنك تريد تكوين qBittorrent لمواصلة توزيع ملفات التورنت (seeding) تلقائيًا مع نقل ملفات `.mkv` المكتملة إلى `/var/www/movies` لعرضها على خادم. أدناه، سأرشدك عبر الخطوات لتحقيق ذلك، بافتراض أنك تستخدم qBittorrent على نظام حيث `/var/www/movies` هو دليل صالح (مثل خادم Linux مع خادم ويب مثل Apache أو Nginx). إليك كيفية الإعداد:

---

### دليل خطوة بخطوة

#### 1. **فهم إدارة الملفات في qBittorrent**
   - يمكن لـ qBittorrent نقل الملفات تلقائيًا بعد اكتمال التنزيل مع الاستمرار في توزيعها، طالما أنك تستخدم ميزات "تعيين الموقع" أو "نقل" المدمجة بشكل صحيح. إن نقل الملفات يدويًا خارج qBittorrent (على سبيل المثال، عبر مستكشف الملفات) سيكسر عملية التوزيع ما لم تقم بإعادة توجيه qBittorrent إلى الموقع الجديد.

#### 2. **تكوين إعدادات qBittorrent**
   - افتح qBittorrent.
   - انتقل إلى **Tools > Options** (أو اضغط `Alt + O`).

   ##### أ) **تعيين موقع التنزيل الافتراضي**
   - تحت علامة التبويب **Downloads**:
     - عيّن **Default Save Path** إلى دليل مؤقت حيث سيتم تنزيل الملفات في البداية (مثال: `/home/user/downloads` أو wherever you have space). هذا هو المكان الذي سيخزن فيه qBittorrent الملفات أثناء التنزيل والتوزيع حتى يتم نقلها.
     - تأكد من أن **Keep incomplete files in** معيّن إلى نفس الدليل أو دليل مختلف إذا كنت تفضل (اختياري).

   ##### ب) **تمكين النقل التلقائي للملفات**
   - انتقل لأسفل إلى **When Torrent Finishes**:
     - حدد المربع الخاص بـ **Automatically move completed downloads to**.
     - عيّن المسار إلى `/var/www/movies`. هذا يخبر qBittorrent بنقل ملفات `.mkv` إلى `/var/www/movies` بمجرد اكتمال التنزيل.
   - مهم: سيستمر qBittorrent في التوزيع من الموقع الجديد (`/var/www/movies`) بعد النقل، لذا لا داعي للقلق بشأن فقدان قدرة التوزيع.

   ##### ج) **اختياري: تصفية ملفات .mkv فقط**
   - إذا كنت تريد نقل ملفات `.mkv` فقط إلى `/var/www/movies` (وليس أنواع ملفات أخرى مثل `.txt` أو `.nfo`)، يمكنك استخدام ميزة **Run External Program** في qBittorrent (انظر الخطوة 3 أدناه) بدلاً من خيار النقل التلقائي.

   ##### د) **حدود التوزيع (Seeding)**
   - تحت علامة التبويب **BitTorrent** أو **Downloads**:
     - عيّن حدود التوزيع إذا أردت (مثال: التوزيع حتى نسبة ratio أو وقت محدد). للتوزيع غير المحدود، عيّن **Ratio** و **Time** على `0` أو ألغِ تحديد الحدود.
     - يضمن هذا استمرار qBittorrent في رفع (upload) ملفاتك الموزعة بشكل غير محدود من `/var/www/movies`.

   - انقر على **Apply** ثم **OK** لحفظ الإعدادات.

#### 3. **بديل: استخدام "Run External Program" لمزيد من التحكم**
   - إذا كنت تحتاج إلى تخصيص أكثر (مثال: نقل ملفات `.mkv` فقط وترك الملفات الأخرى تتوزع من الموقع الأصلي)، استخدم هذا:
     - في **Options > Downloads**، انتقل إلى **Run External Program**.
     - حدد **Run external program on torrent completion**.
     - أدخل أمرًا مثل:
       ```
       mv "%F"/*.mkv /var/www/movies/
       ```
       - `%F` هو عنصر نائب في qBittorrent لمسار مجلد المحتوى. هذا الأمر ينقل فقط ملفات `.mkv` إلى `/var/www/movies`.
     - ملاحظة: سيستمر qBittorrent في توزيع ملفات `.mkv` من `/var/www/movies` بعد النقل، لكن الملفات الأخرى (مثل `.torrent` أو `.nfo`) ستبقى في الموقع الأصلي وتستمر في التوزيع من هناك ما لم تقم بإجراء المزيد من التعديلات.

#### 4. **التحقق من الأذونات (Permissions)**
   - تأكد من أن qBittorrent لديه أذونات الكتابة إلى `/var/www/movies`:
     - على Linux، شغّل:
       ```
       sudo chown -R <qbittorrent-user>:<qbittorrent-group> /var/www/movies
       sudo chmod -R 775 /var/www/movies
       ```
       استبدل `<qbittorrent-user>` و `<qbittorrent-group>` باسم المستخدم والمجموعة التي يعمل تحتهما qBittorrent (مثال: اسم المستخدم الخاص بك أو `qbittorrent` إذا كانت تعمل كخدمة).
   - بدون الأذونات المناسبة، لن يتمكن qBittorrent من نقل الملفات إلى هذا الدليل.

#### 5. **اختبار الإعداد**
   - أضف تورنت يحتوي على ملفات `.mkv` إلى qBittorrent.
   - انتظر حتى ينتهي التنزيل.
   - تحقق من:
     - أن ملفات `.mkv` انتقلت إلى `/var/www/movies`.
     - أن حالة التورنت في qBittorrent تغيرت إلى **Seeding**، وأن سرعة الرفع (upload speed) تشير إلى أنه لا يزال يشارك الملفات.
   - قم بزيارة `/var/www/movies` لتأكيد وجود الملفات وإمكانية الوصول إليها (على سبيل المثال، عبر خادم الويب الخاص بك على `http://<server-ip>/movies`).

#### 6. **نقل الملفات الحالية يدويًا (إذا لزم الأمر)**
   - بالنسبة للتورنتات التي قمت بتنزيلها مسبقًا وتريد نقلها إلى `/var/www/movies` دون كسر عملية التوزيع:
     - في qBittorrent، انقر بزر الماوس الأيمن على التورنت.
     - اختر **Set Location**.
     - اختر `/var/www/movies` واترك qBittorrent ينقل الملفات.
     - بعد النقل، سيعود qBittorrent إلى التوزيع من الموقع الجديد.

#### 7. **تحسين إعدادات الرفع (Upload)**
   - لزيادة فعالية التوزيع إلى أقصى حد:
     - انتقل إلى **Options > Speed**:
       - عيّن **Upload** على `0` (غير محدود) أو قيمة عالية (مثال: 80% من أقصى سرعة رفع لديك).
     - انتقل إلى **Options > Connection**:
       - تأكد من تحديد **Enable UPnP / NAT-PMP port forwarding** (إذا كان جهاز التوجيه الخاص بك يدعمه) أو قم بتوجيه منفذ (port) يدويًا لتحسين الاتصال.
       - زِد **Global maximum number of upload slots** (مثال: إلى 50 أو 100) للسماح للمزيد من الأقران (peers) بالاتصال.

---

### ملاحظات رئيسية
- **استمرارية التوزيع**: طالما أنك تسمح لـ qBittorrent بالتعامل مع نقل الملفات (عبر النقل التلقائي أو "Set Location")، فسيقوم بتحديث التتبع الداخلي الخاص به والاستمرار في التوزيع من `/var/www/movies`.
- **الوصول إلى خادم الويب**: تأكد من تكوين خادم الويب الخاص بك (مثل Apache/Nginx) لعرض الملفات من `/var/www/movies`. هذا خارج نطاق qBittorrent ولكنه بالغ الأهمية لهدفك المتمثل في الخادم.
- **التخزين**: تأكد من أن `/var/www/movies` لديه مساحة كافية لملفاتك.

إذا واجهت مشاكل (مثل عدم نقل الملفات أو توقف التوزيع)، فأخبرني بتفاصيل إعدادك (نظام التشغيل، إصدار qBittorrent، إلخ)، وسأقوم بتعديل الحل!