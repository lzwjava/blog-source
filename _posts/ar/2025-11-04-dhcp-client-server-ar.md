---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: دور عميل وخادم DHCP
translated: true
type: note
---

لا، هذا خلط شائع، لكن لا يحتاج DHCP إلى "تشغيل" نفس الشيء على كل من العميل والموجه — فهو بروتوكول عميل-خادم بأدوار مميزة لكل جانب. دعني أوضح الأمر ببساطة.

### نظرة سريعة على DHCP
بروتوكول DHCP (Dynamic Host Configuration Protocol) يقوم بأتمتة تعيين عناوين IP والإعدادات الأخرى للشبكة (مثل قناع الشبكة الفرعية، والبوابة الافتراضية، وخوادم DNS) للأجهزة على الشبكة. فهو يلغي الحاجة إلى التكوين اليدوي.

### الأدوار في الإعداد النموذجي
- **الموجه (أو خادم DHCP)**: يشغل برنامج **خادم DHCP**. هذا هو "الرئيس" الذي يقوم بتوزيع عناوين IP من مجموعة يديرها. معظم أجهزة التوجيه المنزلية أو لمكاتب العمل الصغيرة (مثل تلك من TP-Link أو Netgear) تحتوي على هذه الميزة مدمجة ومفعلة افتراضيًا.
- **العميل (مثل الكمبيوتر المحمول، الهاتف، الكمبيوتر الشخصي)**: يشغل **عميل DHCP** (مدمج في نظام التشغيل، مثل `dhclient` على Linux أو الإعداد التلقائي لـ IP في Windows). هذا يطلب عنوان IP من الخادم ولكنه لا يوزع عناوين IP على الآخرين.

كلا الجانبين أساسيان لعملية المصافحة، لكنهما لا يشغلان عمليات "DHCP" متطابقة — أحدهما يخدم والآخر يطلب.

### كيف يعمل (التدفق الأساسي)
1. **العميل يبث رسالة "DISCOVER"**: جهاز جديد ينضم إلى الشبكة ويصرخ، "مرحبًا، هل لدى أحد عنوان IP لي؟"
2. **الخادم (الموجه) يعرض "OFFER"**: "بالتأكيد، هاك عنوان IP متاح وإعداداته."
3. **العميل يطلب "REQUEST"**: "سآخذ هذا العنوان، من فضلك."
4. **الخادم يؤكد "ACK"**: "تم — استخدمه."

إذا كان خادم DHCP في الموجه معطلاً، فقد تحتاج الأجهزة إلى عناوين IP ثابتة أو خادم آخر (مثل خادم على Pi-hole أو في إعدادات المؤسسات).

### السيناريوهات الشائعة

| الإعداد | موقع خادم DHCP | سلوك العميل |
|-------|----------------------|-----------------|
| **شبكة منزلية** | الموجه (مفعل) | يقوم بتكوين كل شيء تلقائيًا |
| **بدون DHCP في الموجه** | عناوين IP يدوية/ثابتة أو خادم خارجي | يتراجع العميل إلى APIPA (169.254.x.x) إذا لم توجد استجابة |
| **شبكة مؤسسة** | خادم DHCP مخصص (ليس الموجه) | نفس عملية طلب العميل |

إذا كنت تحاول حل مشكلة محددة (مثل، "جهازي لا يحصل على عنوان IP")، شارك المزيد من التفاصيل — يمكنني المساعدة في التشخيص! للقراءة المتعمقة، راجع الوثيقة الرسمية RFC: [RFC 2131: Dynamic Host Configuration Protocol](https://datatracker.ietf.org/doc/html/rfc2131).