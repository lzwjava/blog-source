---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: أساسيات الشبكة الافتراضية في Azure
translated: true
type: note
---

### أساسيات الشبكة الافتراضية في Azure

تقدم Azure بيئة شبكية قابلة للتوسيع وآمنة من خلال خدمة **الشبكة الافتراضية (VNet)**، والتي تعادل أساسًا AWS VPC. تقوم بإنشاء مساحة خاصة ومعزولة في سحابة Azure لمواردك مثل الأجهزة الظاهرية (VMs) وخدمات التطبيقات (App Services) أو مجموعات Kubernetes. أدناه، سأشرح المكونات الرئيسية (الشبكة الافتراضية، البوابات، الشبكات الفرعية، إلخ) مع أوجه التشابه والاختلاف مع AWS، وذلك بهيكلية مماثلة لتسهيل المقارنة.

#### الشبكة الافتراضية (VNet)
- **ما هي**: الشبكة المعزولة الأساسية في Azure، التي تمتد عبر منطقة واحدة وتسمح للموارد بالتواصل بشكل خاص. تقوم بتحديد نطاق عناوينها باستخدام كتل CIDR (مثال: 10.0.0.0/16).
- **الميزات الرئيسية**:
  - وصول افتراضي صادر إلى الإنترنت للموارد (على عكس AWS، حيث يكون اختياريًا).
  - يدعم IPv4 و IPv6؛ ومعزول بشكل افتراضي.
  - لا توجد تكلفة للشبكة الافتراضية نفسها—تدفع مقابل الموارد المرفقة مثل البوابات.
- **مشابه لـ AWS VPC**: كلاهما عبارة عن سحابات خاصة لعزل الموارد، والتوسع، والاتصال. شبكات Azure VNet تمتد تلقائيًا عبر مناطق التوفر (AZs)؛ بينما تتطلب AWS VPCs إعدادًا صريحًا لمناطق التوفر.
- **لماذا تستخدمها؟**: لتأمين الاتصال بين الموارد، والوصول إلى الإنترنت، والروابط مع الشبكات المحلية. كل اشتراك في Azure لديه إمكانية الوصول، ولكنك تقوم بإنشاء شبكات VNet مخصصة للتحكم.
- **مثال**: مثل AWS VPC، هي "ملكيتك الخاصة" في السحابة—أنت تحدد الحدود، ولكن Azure تتعامل مع بعض الإعدادات الافتراضية مثل الاتصال الصادر بالإنترنت.

#### الشبكات الفرعية (Subnets)
- **ما هي**: أقسام من نطاق عناوين الشبكة الافتراضية، حيث يتم نشر الموارد. كل شبكة فرعية مقيدة بالشبكة الافتراضية ويمكن أن تمتد عبر جميع مناطق التوفر في المنطقة.
- **الأنواع**:
  - **شبكة فرعية عامة**: يمكن أن تحتوي الموارد على عناوين IP عامة للوصول إلى الإنترنت وارد/صادر (عبر موازن حمل Azure أو نقاط النهاية العامة).
  - **شبكة فرعية خاصة**: لا يوجد وصول عام مباشر؛ مثالية لقواعد البيانات أو التطبيقات الداخلية.
- **الميزات الرئيسية**:
  - محددة بـ CIDR (مثال: 10.0.1.0/24).
  - يمكن إنشاء عدة شبكات فرعية داخل شبكة VNet للتقسيم؛ يمكن تصفية حركة المرور بينها.
- **مشابه لشبكات AWS الفرعية**: كلاهما يقسم الشبكات للأمان والتنظيم. امتداد شبكات Azure الفرعية التلقائي عبر مناطق التوفر يبسط التوفير العالي (HA)؛ بينما تربط AWS الشبكات الفرعية بمناطق توفر محددة.
- **لماذا تستخدمها؟**: لعزل أحمال العمل—مثال: واجهات المستخدم في شبكات فرعية عامة، والخلفيات في شبكات فرعية خاصة.
- **مثال**: الشبكات الفرعية هي "أحياء" في مدينة VNet الخاصة بك: العامة منها لها وصول إلى الشارع (الإنترنت)، والخاصة منها خلف الجدران.

#### البوابات (Gateways)
تتعامل البوابات في Azure مع الاتصال الخارجي، ولكن مع بعض الإعدادات الافتراضية التي تختلف عن AWS.

- **ما يعادل بوابة الإنترنت (Internet Gateway)**:
  - **ما هي**: لا يوجد IGW مباشر؛ الاتصال الصادر بالإنترنت مفعل بشكل افتراضي لموارد VNet. يتطلب الاتصال الوارد عنوان IP عام أو موازن حمل (Load Balancer).
  - **كيف تعمل**: يتم توجيه حركة المرور عبر مسارات نظام Azure (0.0.0.0/0 إلى الإنترنت). استخدم عناوين IP عامة للوصول ثنائي الاتجاه.
  - **مشابه لـ AWS IGW**: كلاهما يمكن الوصول العام إلى الإنترنت، ولكن Azure يكون الاتصال الصادر "دائم التشغيل" بشكل أكبر؛ بينما تتطلب AWS إرفاقًا صريحًا وتعيين مسارات.
  - **لماذا تستخدمها؟**: لعرض التطبيبات على الإنترنت بشكل بسيط. مجاني للتوجيه الأساسي.

- **بوابة NAT (NAT Gateway)**:
  - **ما هي**: خدمة مُدارة في شبكة فرعية عامة للاتصال الصادر فقط بالإنترنت من الشبكات الفرعية الخاصة (مثال: تحديثات الأجهزة الظاهرية).
  - **كيف تعمل**: تشارك عنوان IP مرن (Elastic IP) للترجمة؛ عالية التوفر عبر مناطق التوفر.
  - **مشابه لـ AWS NAT Gateway**: كلاهما يوفر اتصالاً صادرًا آمنًا دون تعرض وارد. بوابة Azure أكثر تكاملاً وقابلية للتوسع بشكل افتراضي.
  - **لماذا تستخدمها؟**: لحماية الموارد الخاصة مع السماح بالوصول أحادي الاتجاه. التكلفة ~0.045 دولار/ساعة + بيانات.

- **بوابات أخرى**:
  - **بوابة VPN (VPN Gateway)**: للاتصالات من موقع لموقع (site-to-site) أو من نقطة لموقع (point-to-site) مع الشبكات المحلية (مثل AWS VGW).
  - **بوابة ExpressRoute (ExpressRoute Gateway)**: روابط خاصة عالية النطاق مع الشبكات المحلية (مثل AWS Direct Connect).

#### مكونات أخرى ذات صلة ("إلخ")
- **جداول المسار (Route Tables)**: تتحكم في تدفق حركة مرور الشبكة الفرعية (مثال: إلى الإنترنت أو إلى شبكات VNet متصلة). توجد إعدادات افتراضية للنظام؛ يمكن لتلك المخصصة تجاوزها لمسارات محددة. مشابهة لجداول مسار AWS، ولكن Azure تنشر مسارات BGP ديناميكيًا من الشبكات المحلية.
- **مجموعات أمان الشبكة (NSGs)**: جدران حماية stateful للشبكات الفرعية أو الموارد، مع قواعد تعتمد على IP/المنفذ/البروتوكول. تشبه مزيجًا من مجموعات أمان AWS (على مستوى المثيل، stateful) و NACLs (على مستوى الشبكة الفرعية، ولكن مجموعات أمان Azure هي stateful). استخدم مجموعات أمان التطبيقات (Application Security Groups) للوسم المنطقي.
- **ربط VNet (VNet Peering)**: يربط شبكات VNet (في نفس المنطقة/مناطق مختلفة/حسابات مختلفة) لحركة المرور الخاصة، مثل ربط VPC في AWS.
- **نقاط نهاية الخدمة/الرابط الخاص (Service Endpoints/Private Link)**: وصول خاص آمن لخدمات Azure (مثال: التخزين) دون الحاجة للإنترنت، على غرار نقاط نهاية VPC في AWS.
- **أجهزة الشبكة الافتراضية (Network Virtual Appliances)**: جدران حماية أو موجهات قائمة على الأجهزة الظاهرية في VNet، مشابهة لـ Network Firewall في AWS.

#### كيف تتكامل كل هذه المكونات معًا
1.  قم بإنشاء VNet باستخدام CIDR.
2.  أضف شبكات فرعية (عامة/خاصة) تمتد عبر مناطق التوفر.
3.  تحصل الموارد على اتصال صادر افتراضي بالإنترنت؛ أضف عناوين IP عامة/موازنات حمل للاتصال الوارد.
4.  استخدم بوابة NAT للاتصال الصادر من الشبكات الخاصة.
5.  طبق جداول المسار ومجموعات أمان الشبكة للتحكم في حركة المرور.
6.  قم بربط شبكات VNet أو إضافة بوابات للإعدادات الهجينة.

يركز نموذج Azure على الإعدادات الافتراضية (مثال: الاتصال الصادر بالإنترنت) للإعداد الأسرع، بينما تقدم AWS خيارات أكثر تفصيلاً وقائمة على الاشتراك. كلاهما يعطي الأولوية للأمان والمرونة.

للحصول على تجربة عملية، جرب معالج VNet في بوابة Azure.

[نظرة عامة على الشبكة الافتراضية في Azure](https://learn.microsoft.com/en-us/azure/virtual-network/virtual-networks-overview)