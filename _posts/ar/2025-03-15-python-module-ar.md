---
audio: false
generated: true
lang: ar
layout: post
title: كيف تعمل الوحدات في بايثون
translated: true
type: note
---

في بايثون، **الوحدة النمطية** (module) هي ملف يحتوي على كود بايثون — مثل الدوال، والفئات، والمتغيرات — يمكنك استيراده واستخدامه في نصوص بايثون أخرى. تُعد الوحدات النمطية ميزة أساسية في بايثون تساعدك في تنظيم الكود، وتعزيز إعادة الاستخدام، وتجنب التكرار. دعنا نستكشف كيفية عملها وكيف يمكنك استخدام ملفات أو وحدات نمطية أخرى من بايثون في مشاريعك.

---

#### ما هي الوحدة النمطية؟
الوحدة النمطية هي ببساطة ملف `.py` يحتوي على كود بايثون. عند استيراد وحدة نمطية إلى نص برمجي آخر، ينفذ بايثون الكود في ذلك الملف ويجعل محتوياته (الدوال، الفئات، المتغيرات، إلخ) متاحة لك لاستخدامها. تأتي بايثون مع مكتبة قياسية غنية بالوحدات النمطية المدمجة (مثل `math`، `os`، `sys`)، ويمكنك أيضًا إنشاء وحداتك النمطية المخصصة.

على سبيل المثال، إذا كان لديك ملف باسم `greetings.py` يحتوي على الكود التالي:
```python
def say_hello(name):
    print(f"Hello, {name}!")
```
فإن هذا الملف هو وحدة نمطية باسم `greetings`. يمكنك استيراده إلى نص برمجي آخر لاستخدام دالة `say_hello`.

---

#### كيفية استخدام ملفات أو وحدات بايثون أخرى
لاستخدام الكود من ملف بايثون آخر (وحدة نمطية)، تستخدم عبارة `import`. إليك كيفية عملها خطوة بخطوة:

1. **الاستيراد الأساسي**
   - إذا كانت الوحدة النمطية في نفس دليل النص البرمجي الخاص بك، يمكنك استيرادها باسمها (بدون امتداد `.py`).
   - مثال: في ملف باسم `main.py`، يمكنك كتابة:
     ```python
     import greetings
     greetings.say_hello("Alice")
     ```
   - تشغيل `main.py` سيعطي الناتج: `Hello, Alice!`
   - استخدم الترميز النقطي (`module_name.item_name`) للوصول إلى محتويات الوحدة النمطية.

2. **استيراد عناصر محددة**
   - إذا كنت تحتاج فقط إلى دوال أو متغيرات محددة من وحدة نمطية، استخدم الصيغة `from ... import ...`.
   - مثال:
     ```python
     from greetings import say_hello
     say_hello("Bob")
     ```
   - هذا يعطي الناتج: `Hello, Bob!`
   - يمكنك الآن استخدام `say_hello` مباشرة دون الحاجة إلى إضافة بادئة اسم الوحدة النمطية.

3. **الاستيراد باستخدام أسماء مستعارة**
   - يمكنك إعطاء الوحدة النمطية اسمًا أقصر (اسم مستعار) باستخدام `as` لتسهيل الاستخدام.
   - مثال:
     ```python
     import greetings as g
     g.say_hello("Charlie")
     ```
   - الناتج: `Hello, Charlie!`

4. **استيراد كل المحتويات**
   - يمكنك استيراد جميع محتويات الوحدة النمطية باستخدام `from module_name import *`، ولكن هذا بشكل عام غير موصى به لأنه يمكن أن يسبب فوضى في نطاق الأسماء (namespace) ويؤدي إلى تعارض في التسمية.
   - مثال:
     ```python
     from greetings import *
     say_hello("Dana")
     ```
   - الناتج: `Hello, Dana!`

---

#### أين يبحث بايثون عن الوحدات النمطية؟
يبحث بايثون عن الوحدات النمطية في قائمة الأدلة المحددة في `sys.path`. وهذا يشمل:
- دليل النص البرمجي الذي تقوم بتشغيله (الدليل الحالي).
- الأدلة المدرجة في متغير البيئة `PYTHONPATH` (إذا تم تعيينه).
- المواقع الافتراضية حيث يتم تثبيت مكتبة بايثون القياسية.

إذا كانت وحدتك النمطية في دليل مختلف، يمكنك:
- نقلها إلى نفس دليل النص البرمجي الخاص بك.
- إضافة دليلها إلى `sys.path` برمجيًا:
  ```python
  import sys
  sys.path.append('/path/to/directory')
  import mymodule
  ```

---

#### الوحدات النمطية المدمجة
توفر مكتبة بايثون القياسية العديد من الوحدات النمطية المفيدة التي يمكنك استيرادها دون الحاجة إلى إنشائها بنفسك. على سبيل المثال:
- `import math` تتيح لك استخدام `math.sqrt(16)` (تُرجع `4.0`) أو `math.pi` (تُرجع `3.14159...`).
- `import os` توفر دوال للتفاعل مع نظام التشغيل.

---

#### الحزم (Packages)
**الحزمة** (package) هي دليل يحتوي على وحدات نمطية متعددة وملف خاص `__init__.py` (الذي يمكن أن يكون فارغًا). على سبيل المثال، إذا كان لديك:
```
mypackage/
    __init__.py
    greetings.py
```
يمكنك استيراد الوحدة النمطية `greetings` هكذا:
```python
import mypackage.greetings
mypackage.greetings.say_hello("Eve")
```
أو:
```python
from mypackage.greetings import say_hello
say_hello("Eve")
```

---

#### كيف يتم تنفيذ الوحدات النمطية
عند استيراد وحدة نمطية، يشغل بايثون جميع الأكواد في تلك الوحدة النمطية مرة واحدة ويخزنها في ذاكرة التخزين المؤقت (cache). عمليات الاستيراد اللاحقة تعيد استخدام النسخة المخزنة مؤقتًا. إذا كانت الوحدة النمطية تحتوي على كود عالي المستوى (مثل عبارة `print`)، فسيتم تنفيذها أثناء الاستيراد. على سبيل المثال:
```python
# mymodule.py
print("Module is being imported!")
def my_function():
    print("Function called!")
```
```python
# main.py
import mymodule
```
تشغيل `main.py` يعطي الناتج: `Module is being imported!`

لتضمين كود يعمل فقط عند تنفيذ الوحدة النمطية مباشرة (وليس عند استيرادها)، استخدم:
```python
if __name__ == "__main__":
    print("This runs only if the module is run directly!")
```
هذا مفيد للاختبار أو لتحديد نقطة دخول رئيسية للوحدة النمطية.

---

#### مثال
إليك مثالًا كاملًا:
1. أنشئ `math_utils.py`:
   ```python
   def add(a, b):
       return a + b
   ```
2. أنشئ `main.py` في نفس الدليل:
   ```python
   import math_utils
   result = math_utils.add(3, 4)
   print(result)  # الناتج: 7
   ```
3. بدلاً من ذلك:
   ```python
   from math_utils import add
   print(add(3, 4))  # الناتج: 7
   ```

---

#### النقاط الرئيسية
- الوحدات النمطية هي ملفات بايثون يمكنك استيرادها لإعادة استخدام الكود.
- استخدم `import module_name` للوصول إلى المحتويات باستخدام الترميز النقطي، أو `from module_name import item` للوصول المباشر.
- يمكن أن تكون الوحدات النمطية ملفات مخصصة، أو وحدات نمطية من المكتبة المدمجة، أو جزءًا من حزم.
- يجد بايثون الوحدات النمطية باستخدام `sys.path`، ويمكنك تنظيم المشاريع الأكبر باستخدام الحزم.

يغطي هذا الأساسيات حول كيفية عمل الوحدات النمطية في بايثون وكيفية استخدام ملفات أو وحدات بايثون أخرى في نصوصك البرمجية!