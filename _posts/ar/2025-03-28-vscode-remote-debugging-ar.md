---
audio: false
generated: true
lang: ar
layout: post
title: تصحيح أخطاء VScode عن بُعد
translated: true
type: note
---

لتنفيذ التصحيح عن بُعد في Visual Studio Code (VSCode) لخادم WebSphere Liberty الذي يعمل في وضع التصحيح، يمكنك استخدام ميزات التصحيح المضمنة في Java داخل VSCode. فيما يلي الخطوات التفصيلية لإعداد هذا دون تثبيت أي إضافات خاصة بـ WebSphere Liberty، بافتراض أن لديك حزمة **Java Extension Pack** القياسية (والتي تتضمن أداة **Debugger for Java**) مثبتة مسبقًا.

---

### الخطوة 1: بدء تشغيل خادم WebSphere Liberty في وضع التصحيح
1. افتح طرفية أو موجه أوامر.
2. انتقل إلى دليل تثبيت WebSphere Liberty الخاص بك.
3. شغِّل الأمر التالي لبدء تشغيل الخادم في وضع التصحيح:
   ```
   server debug default
   ```
   - استبدل `default` باسم خادمك إذا كان مختلفًا.
4. سيبدأ الخادم التشغيل مع تمكين التصحيح، عادةً وهو يستمع على المنفذ **7777**.
5. تحقق من ناتج console الخادم أو السجلات بحثًا عن رسالة مثل:
   ```
   Listening for transport dt_socket at address: 7777
   ```
   - يؤكد هذا منفذ التصحيح. إذا كان المنفذ مختلفًا (بسبب تعارض، على سبيل المثال)، لاحظ الرقم المعروض.

---

### الخطوة 2: تكوين التصحيح عن بُعد في VSCode
1. **افتح مشروعك في VSCode**:
   - تأكد من أن مشروع Java الخاص بك (الذي يحتوي على الكود المصدري المُنشَر على الخادم) مفتوح في VSCode. يسمح هذا لأداة التصحيح بتعيين نقاط التوقف إلى الكود قيد التشغيل.

2. **الوصول إلى عرض Run and Debug**:
   - انقر على أيقونة **Run and Debug** في الشريط الجانبي الأيسر (زر التشغيل مع رمز الخلل) أو اضغط على `Ctrl+Shift+D` (في Windows/Linux) أو `Cmd+Shift+D` (في Mac).

3. **إنشاء أو تعديل ملف `launch.json`**:
   - في عرض **Run and Debug**، انقر على **أيقونة الترس** بجوار القائمة المنسدلة للتكوينات.
   - إذا طُلب منك تحديد بيئة، اختر **Java**. سيؤدي هذا إلى إنشاء ملف `launch.json` في مجلد `.vscode` في مساحة العمل الخاصة بك.
   - إذا كان الملف موجودًا بالفعل، فسيتم فتحه للتعديل.

4. **أضف تكوين تصحيح**:
   - في ملف `launch.json`، تأكد من احتوائه على تكوين للربط بـ JVM عن بُعد. إليك مثال:
     ```json
     {
         "version": "0.2.0",
         "configurations": [
             {
                 "type": "java",
                 "name": "Attach to WebSphere Liberty",
                 "request": "attach",
                 "hostName": "localhost",
                 "port": 7777
             }
         ]
     }
     ```
   - **شرح الحقول**:
     - `"type": "java"`: يحدد أداة تصحيح Java.
     - `"name": "Attach to WebSphere Liberty"`: اسم وصفي لهذا التكوين.
     - `"request": "attach"`: يشير إلى أن VSCode سيربط بعملية JVM موجودة مسبقًا.
     - `"hostName": "localhost"`: اسم المضيف للجهاز الذي يعمل عليه الخادم. استخدم عنوان IP الخادم أو اسم المضيف إذا كان على جهاز مختلف.
     - `"port": 7777`: منفذ التصحيح من الخطوة 1. قم بتحديث هذا إذا كان الخادم يستخدم منفذًا مختلفًا.

5. **احفظ الملف**:
   - احفظ ملف `launch.json` بعد إضافة التكوين أو تعديله.

---

### الخطوة 3: بدء جلسة التصحيح
1. **تأكد من أن الخادم قيد التشغيل**:
   - تحقق من أن خادم WebSphere Liberty لا يزال يعمل في وضع التصحيح من الخطوة 1.

2. **حدد التكوين**:
   - في عرض **Run and Debug**، حدد **"Attach to WebSphere Liberty"** من القائمة المنسدلة في الأعلى.

3. **شغِّل أداة التصحيح**:
   - انقر على **زر التشغيل الأخضر** أو اضغط على `F5`. سيقوم VSCode بالاتصال بعملية JVM الخاصة بالخادم.

4. **عيِّن نقاط التوقف**:
   - افتح ملفات الكود المصدري Java الخاصة بك في VSCode.
   - انقر في الهامش (على يسار أرقام الأسطر) لتعيين نقاط التوقف حيث تريد إيقاف التنفيذ مؤقتًا.

5. **تفاعل مع التطبيق**:
   - استخدم تطبيقك (على سبيل المثال، أرسل طلبات HTTP) لتفعيل مسارات الكود التي تحتوي على نقاط توقف. عندما يتم الوصول إلى نقطة توقف، سيقوم VSCode بإيقاف التنفيذ مؤقتًا، مما يسمح لك بفحص المتغيرات، وتنفيذ الكود خطوة بخطوة، وتصحيح الأخطاء.

---

### ملاحظات إضافية
- **الخادم المحلي مقابل الخادم البعيد**:
  - إذا كان الخادم يعمل على جهاز مختلف، فاستبدل `"localhost"` باسم مضيف الخادم أو عنوان IP في ملف `launch.json`. تأكد من إمكانية الوصول إلى منفذ التصحيح عبر الشبكة (على سبيل المثال، ليس محظورًا بواسطة جدار حماية).

- **تأكيد منفذ التصحيح**:
  - إذا لم تكن متأكدًا من المنفذ، فتحقق دائمًا من ناتج الخادم بعد تشغيل `server debug default`. سوف يذكر بشكل صريح المنفذ الذي يستمع عليه.

- **مطابقة الكود المصدري**:
  - يجب أن يطابق الكود المصدري في VSCode الكود قيد التشغيل على الخادم حتى تعمل نقاط التوقف بشكل صحيح. تأكد من أن مشروعك محدث ومُترجم مع معلومات التصحيح (الإعداد الافتراضي في معظم بناءات Java).

- **سلوك الخادم**:
  - مع `server debug default`، يبدأ الخادم التشغيل فورًا (دون انتظار أداة تصحيح). يمكنك ربط VSCode في أي وقت أثناء تشغيله.

- **المتطلبات الأساسية**:
  - يجب تثبيت **Java Extension Pack** (أو على الأقل إضافة **Debugger for Java**) في VSCode. هذه أداة قياسية لتطوير Java وتوفر إمكانيات التصحيح اللازمة.

---

باتباع هذه الخطوات، يمكنك تصحيح خادم WebSphere Liberty الخاص بك عن بُعد بشكل فعال باستخدام الميزات المضمنة في VSCode، دون الحاجة إلى إضافات إضافية خاصة بـ WebSphere.