---
audio: false
date: 2025-09-14
generated: true
image: false
lang: ar
layout: post
model: openai/gpt-5
title: ุชุญููู ุฎุฏูุฉ LibreChat ุจุงุณุชุฎุฏุงู Docker Compose
translated: true
type: note
---

ูุง ูุตูุชู ูู ุฅุนุฏุงุฏ `docker-compose.yaml` ูุชุดุบูู **LibreChat** ูุน ุชุจุนูุงุชู. ุฏุนูู ุฃูุถุญู ูู ุจุดูู ููุตู:

---

## ูุธุฑุฉ ุนุงูุฉ

ููุนุฑููู ุงูุฅุนุฏุงุฏ **6 ุฎุฏูุงุช (ุญุงููุงุช)** ุชุนูู ูุนูุง:

1.  **ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช/ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู LibreChat (`api`)**
2.  **MongoDB (`mongodb`)**
3.  **Meilisearch (`meilisearch`)**
4.  **Postgres ูุน pgvector (`vectordb`)**
5.  **ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RAG (`rag_api`)**
6.  **ูุฌูุฏุงุช Volumes ููุชุฎุฒูู ุงูุฏุงุฆู**

ูุชู ุฑุจุท ูู ูุฐู ุงูุฎุฏูุงุช ูุนูุง ุจุงุณุชุฎุฏุงู Docker Compose ุจุญูุซ ููููู ุชุดุบูู ูู ุดูุก ุจุฃูุฑ ูุงุญุฏ `docker-compose up`.

---

## ุดุฑุญ ุงูุฎุฏูุงุช

### 1. ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช LibreChat (`api`)

*   **ุงุณู ุงูุญุงููุฉ:** `LibreChat`
*   **ุงูุตูุฑุฉ:** `ghcr.io/danny-avila/librechat-dev:latest` (ูุณุฎุฉ ุงูุชุทููุฑ ูู LibreChat)
*   **ุงูููุงูุฐ:** ุชุนุฑุถ `${PORT}` ูู ููู `.env` ูุฌูุงุฒู ุงููุถูู.
*   **ุงูุชุจุนูุงุช:** ุชูุชุธุฑ ุจุฏุก `mongodb` ู `rag_api` ูุจู ุฃู ุชุจุฏุฃ.
*   **ูุชุบูุฑุงุช ุงูุจูุฆุฉ:**
    *   `MONGO_URI`: ุณูุณูุฉ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช MongoDB.
    *   `MEILI_HOST`: ูุดูุฑ ุฅูู ุฎุฏูุฉ Meilisearch.
    *   `RAG_API_URL`: ูุชุตู ุจุญุงููุฉ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RAG ุงููุญููุฉ.
*   **ุงููุฌูุฏุงุช Volumes:**
    *   ูุชู ุชุญููู ููู `.env` ุฏุงุฎู ุงูุญุงููุฉ.
    *   ูุชู ุงูุญูุงุธ ุนูู `images` ู `uploads` ู `logs` ูุญูููุง ุญุชู ูุง ุชููุฏูุง ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุญุงููุฉ.

๐ ูุฐุง ูู ุงูุชุทุจูู ุงูุฑุฆูุณู ุงูุฐู ุชุชูุงุนู ูุนู (ุฎุฏูุฉ ุงูููุจ/ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูู LibreChat).

---

### 2. ูุงุนุฏุฉ ุจูุงูุงุช MongoDB (`mongodb`)

*   **ุงุณู ุงูุญุงููุฉ:** `chat-mongodb`
*   **ุงูุตูุฑุฉ:** `mongo` (ุงูุตูุฑุฉ ุงูุฑุณููุฉ ูู MongoDB).
*   **ุงูุบุฑุถ:** ุชุฎุฒูู ุจูุงูุงุช ุงูุฏุฑุฏุดุฉุ ุฌูุณุงุช ุงููุณุชุฎุฏูุ ุงูุฅุนุฏุงุฏุงุชุ ุฅูุฎ.
*   **ุงูุฃูุฑ:** ูุดุบู `mongod --noauth` (ุจุฏูู ูุตุงุฏูุฉ).
*   **ุงููุฌูุฏุงุช Volumes:** `./data-node:/data/db` ุญุชู ุชุณุชูุฑ ูุงุนุฏุฉ ุจูุงูุงุชู ุฎุงุฑุฌ ุงูุญุงููุฉ.

---

### 3. ูุญุฑู ุงูุจุญุซ Meilisearch (`meilisearch`)

*   **ุงุณู ุงูุญุงููุฉ:** `chat-meilisearch`
*   **ุงูุตูุฑุฉ:** `getmeili/meilisearch:v1.12.3`
*   **ุงูุบุฑุถ:** ูููุฑ ุฅููุงููุงุช **ุจุญุซ ูุตู ูุงูู ุณุฑูุน** ูู LibreChat.
*   **ูุชุบูุฑุงุช ุงูุจูุฆุฉ:**
    *   `MEILI_NO_ANALYTICS=true` (ููุฎุตูุตูุฉ).
    *   `MEILI_MASTER_KEY` ูุชู ุฌูุจูุง ูู ููู `.env`.
*   **ุงููุฌูุฏุงุช Volumes:** `./meili_data_v1.12:/meili_data` ููุชุฎุฒูู ุงูุฏุงุฆู.

---

### 4. ูุงุนุฏุฉ ุจูุงูุงุช ุงููุชุฌูุงุช (`vectordb`)

*   **ุงุณู ุงูุญุงููุฉ:** `vectordb`
*   **ุงูุตูุฑุฉ:** `pgvector/pgvector:0.8.0-pg15-trixie` (Postgres ูุน ุฅุถุงูุฉ pgvector).
*   **ุงูุบุฑุถ:** ุชุฎุฒูู ุงูู embeddings ูู RAG (ุงูุงุณุชุฑุฌุงุน ุงููุนุฒุฒ ุจุงูุชูููุฏ).
*   **ุงูุจูุฆุฉ:**
    *   `POSTGRES_DB`, `POSTGRES_USER`, `POSTGRES_PASSWORD`.
*   **ุงููุฌูุฏุงุช Volumes:** `pgdata2:/var/lib/postgresql/data` ููุชุฎุฒูู ุงูุฏุงุฆู.

---

### 5. ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RAG (`rag_api`)

*   **ุงุณู ุงูุญุงููุฉ:** `rag_api`
*   **ุงูุตูุฑุฉ:** `ghcr.io/danny-avila/librechat-rag-api-dev-lite:latest`
*   **ุงูุบุฑุถ:** ูุฏูุฑ ุนูููุงุช ุณูุฑ ุนูู RAG โ ุงุณุชุฑุฌุงุน ุงููุณุชูุฏุงุช ูุชุนุฒูุฒ ุงุณุชุฌุงุจุงุช ุงููููุฐุฌ ุจุงููุนุฑูุฉ ุงูุฎุงุฑุฌูุฉ.
*   **ุงูุจูุฆุฉ:**
    *   `DB_HOST=vectordb` (ูุชุตู ุจูุงุนุฏุฉ ุจูุงูุงุช ุงููุชุฌูุงุช Postgres).
    *   `RAG_PORT` ุงูุชุฑุงุถููุง `8000`.
*   **ุชุนุชูุฏ ุนูู:** `vectordb`.
*   **ููู ุงูุจูุฆุฉ:** ูุนูุฏ ุงุณุชุฎุฏุงู ููู `.env` ุงูุฎุงุต ุจู.

---

### 6. ูุฌูุฏุงุช ุงูุชุฎุฒูู Volumes

*   **`pgdata2`** โ ุจูุงูุงุช ุฏุงุฆูุฉ ูู Postgres/pgvector.
*   ุชุถูู ูุฌูุฏุงุช Volumes ุงูุฃุฎุฑู ูุซู `./meili_data_v1.12` ู `./data-node` ูุงููุฌูุฏุงุช ุงููุญููุฉ (`images`ุ `uploads`ุ `logs`) ุจูุงุก ุจูุงูุงุชู ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู.

---

## ููู ุชุนูู ูุนูุง

1.  **LibreChat (ูุงุฌูุฉ ุงููุณุชุฎุฏู/ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช)** ูู ุงูุฎุฏูุฉ ุงููุฑูุฒูุฉ ุงูุชู ุชุชูุงุนู ูุนูุง.
2.  ุชููู ุจุชุฎุฒูู **ุจูุงูุงุช ุงูุฏุฑุฏุดุฉ/ุงูุฌูุณุงุช ูู MongoDB**.
3.  ุชุณุชุนูู ุนู **Meilisearch** ููุญุตูู ุนูู ููุฒุงุช ุงูุจุญุซ ุงููุตู.
4.  ุจุงููุณุจุฉ ูู RAG (ุงุณุชุฑุฌุงุน ุงููุณุชูุฏุงุช)ุ ุชุณุชุฏุนู LibreChat **rag\_api**.
5.  ุชููู **ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RAG** ุจุฌูุจ ุงูู embeddings ุงููุชุฌููุฉ ูู **vectordb (Postgres + pgvector)**.
6.  ูู ุดูุก ููุฎุฒู ูู ูุฌูุฏุงุช Volumes ูุญููุฉุ ูุฐูู ูุง ุชุถูุน ุงูุจูุงูุงุช ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุญุงููุงุช.

---

โ ุจุงุฎุชุตุงุฑ:

*   **MongoDB** โ ุจูุงูุงุช ุงูุฏุฑุฏุดุฉ/ุงููุณุชุฎุฏู
*   **Meilisearch** โ ุจุญุซ ูููุงุช ููุชุงุญูุฉ ุณุฑูุน
*   **Postgres+pgvector** โ embeddings ูุชุฌููุฉ ูู RAG
*   **ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RAG** โ ุทุจูุฉ ุงูุงุณุชุฑุฌุงุน ุงููุนุฒุฒ
*   **LibreChat** โ ุงูุชุทุจูู ุงูุฐู ูุฑุจุท ูู ูุฐู ุงูููููุงุช ูุนูุง

---

ูู ุชุฑูุฏ ููู ุฃูุถูุง ุฃู ุฃุฑูู **ูุฎุทุท ุงูุณูุงุจู (ูุตู)** ููุถุญ ููููุฉ ุงูุชูุงู ุงูุทูุจุงุช ุนุจุฑ ูุฐู ุงูุญุงููุงุช (ููู โ LibreChat โ ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช RAG โ ูุงุนุฏุฉ ุจูุงูุงุช ุงููุชุฌูุงุช)ุ ูุฏ ูุฌุนู ุฐูู ุงูุตูุฑุฉ ุฃูุซุฑ ูุถูุญูุง.