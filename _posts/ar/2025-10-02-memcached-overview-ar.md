---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-code-fast-1
title: نظرة عامة على نظام التخزين المؤقت في الذاكرة ميم كاشد
translated: true
type: note
---

### ما هو Memcached؟

Memcached هو نظام تخزين مؤقت للكائنات في الذاكرة، موزع وعالي الأداء ومفتوح المصدر. يُستخدم أساسًا لتسريع تطبيقات الويب الديناميكية (مثل تلك المبنية بإطار عمل PHP مثل CodeIgniter) عن طريق تخزين نتائج استعلامات قاعدة البيانات وردود API أو البيانات الأخرى مكلفة الحساب في ذاكرة الوصول العشوائي. هذا يقلل الحمل على قواعد البيانات ويحسن أوقات استجابة التطبيق. إنه ليس قاعدة بيانات كاملة ولكنه مخزن بسيط للمفتاح والقيمة مصمم لتخزين البيانات المؤقت.

### كيف يعمل Memcached؟

يعمل Memcached كبرنامج خفي (عملية خلفية) يعمل على خادم واحد أو أكثر، ويُبدأ عادةً بأوامر مثل `memcached -p 11211 -m 64` (تحدد المنفذ وحد الذاكرة). إليك نظرة مبسطة:

1.  **التخزين في الذاكرة**: يقوم بتخزين البيانات كأزواج مفتاح-قيمة بالكامل في ذاكرة الوصول العشوائي للوصول السريع. يمكن أن تصل كل قيمة إلى 1 ميجابايت، والمفاتيح هي سلاسل نصية يصل طولها إلى 250 حرفًا. البيانات متقلبة — إذا أعيد تشغيل الخادم، فسيتم فقدان البيانات المخزنة مؤقتًا.

2.  **نموذج العميل-الخادم**: تتصل التطبيقات (العملاء) بـ Memcached عبر بروتوكولات TCP أو UDP. يوضح snippet التكوين المقدم لـ CodeIgniter إعداد PHP يتصل بنسخة Memcached محلية:
    *   **اسم المضيف**: '127.0.0.1' (localhost، أي نفس الخادم الذي يعمل عليه تطبيقك).
    *   **المنفذ**: '11211' (المنفذ الافتراضي لـ Memcached).
    *   **الوزن**: '1' (يحدد أولوية الخادم في الكتلة؛ القيم الأعلى تعني حملًا أكبر).

3.  **العمليات**:
    *   Set: تخزين زوج مفتاح-قيمة مع وقت انتهاء اختياري (مثل `set app_name 0 3600 13\n"cached_data"` عبر telnet).
    *   Get: استرداد قيمة بواسطة المفتاح.
    *   Delete: الإزالة بواسطة المفتاح.
    يستخدم خوارزمية تجزئة بسيطة لتوزيع المفاتيح عبر الخوادم في إعداد الكتلة (مثل التجزئة المتسقة للتعامل مع إضافة/إزالة الخوادم).

4.  **الإخلاء والتحجيم**: إذا امتلأت الذاكرة، فإنه يستخدم سياسة LRU (الأقل استخدامًا مؤخرًا) لإخلاء البيانات القديمة. يتضمن التحجيم تشغيل عدة نسخ من الخادم، غالبًا ما يتم اكتشافها تلقائيًا عبر أدوات مثل moxi أو التقسيم الخارجي.

يصل الأداء إلى ذروته عند ملايين العمليات في الثانية، لكنه مُحسّن لأحمال العمل الثقيلة القراءة. يمكن لأدوات المراقبة مثل memcached-top تتبع الاستخدام.

### المقارنة مع Redis

بينما يُعد كل من Memcached وRedis مخازن بيانات في الذاكرة من نوع مفتاح-قيمة تُستخدم للتخزين المؤقت والوصول السريع إلى البيانات، إلا أنهما يختلفان في الميزات والهيكل وحالات الاستخدام:

| الجانب          | Memcached                              | Redis                                                  |
|-----------------|----------------------------------------|--------------------------------------------------------|
| **أنواع البيانات** | سلاسل نصية بسيطة (مفاتيح وقيم فقط).     | يدعم السلاسل النصية، الهاش، القوائم، المجموعات، المجموعات المرتبة، الخرائط البتية، الـ hyperloglogs، والمزيد. يسمح بهياكل بيانات معقدة (مثل كائنات JSON أو العدادات). |
| **الثبات**| لا يوجد — البيانات في الذاكرة فقط؛ تُفقد عند إعادة التشغيل. | ثبات اختياري (AOF أو لقطات RDB) على القرص، مما يتيح استعادة البيانات. |
| **الإخلاء**   | LRU فقط.                             | LRU، أو LFU (الأقل استخدامًا على الإطلاق)، أو إخلاء يعتمد على TTL للمتغيرات. |
| **العمليات** | عمليات أساسية set/get/delete/multiget.         | الآلاف من الأوامر (مثل pub/sub، المعاملات، البرمجة النصية Lua، استعلامات جيوسباتيال). يدعم العمليات الذرية مثل الزيادة. |
| **الأداء**| أسرع قليلاً في القراءة/الكتابة البسيطة (multigets تساعد). | ممتاز بشكل عام، ولكن به حمل زائد طفيف للهياكل المعقدة. تظهر المقاييس تفوق Memcached في حالات التخزين المؤقت البحتة ذات التعقيد المنخفض. |
| **التحجيم والتجميع** | مدمج عبر التجزئة المتسقة؛ لا يوجد تجميع أصلي (استخدم التقسيم الخارجي). | يدعم التجميع الأصلي، والنسخ المتماثل (سيد-عبد)، و Redis Cluster للتقسيم التلقائي. |
| **حالات الاستخدام** | مثالي للتخزين المؤقت لتطبيقات الويب (مثل تخزين الجلسات أو استعلامات التخزين المؤقت)، كما في إعدادات CodeIgniter. بسيط وخفيف الوزن. | أوسع: التخزين المؤقت، تخزين الجلسات، قوائم انتظار الرسائل، التحليلات في الوقت الفعلي، أو حتى كبديل كامل لقاعدة البيانات. |
| **كفاءة الذاكرة** | فعال للبيانات ذات الحجم الثابت؛ لا يوجد ضغط. | أفضل لمجموعات البيانات الكبيرة مع خيارات الضغط (Redis 5+). |
| **البروتوكول**   | بروتوكولات نصية/ثنائية مخصصة.         | RESP (بروتوكول التسلسل Redis) مع معالجة أفضل للأخطاء. |
| **الترخيص والنظام البيئي** | مفتوح المصدر (BSD)، مستخدم على نطاق واسع في حزم LAMP. | مفتوح المصدر (BSD)، مجتمع أكبر مع أدوات مثل RedisInsight. |

باختصار، اختر Memcached من أجل البساطة والسرعة في التخزين المؤقت الأساسي (كما هو موضح في إعداد CodeIgniter الخاص بك). اختر Redis إذا كنت بحاجة إلى الثبات، أو أنواع بيانات متقدمة، أو ميزات مثل المراسلة pub/sub. إذا كنت تقوم بالهجرة من Memcached، فإن مشاريع مثل redis-memcached تقدم طبقات توافق، ولكن Redis غالبًا ما يحل محل Memcached بسبب تنوعه. بالنسبة لـ CodeIgniter تحديدًا، يسمح التكوين بالتبادل السلس بين السواقات.