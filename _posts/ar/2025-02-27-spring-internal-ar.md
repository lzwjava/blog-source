---
audio: false
generated: true
lang: ar
layout: post
title: العملات الداخلية للربيع
translated: true
---

دعونا نغوص في Spring وعملياتها الداخلية. Spring هو إطار قوي لبناء تطبيقات Java، وسأقوم بملء كل جزء من استفسارك خطوة بخطوة مع شرح واضح.

### كيف يعمل Spring؟
يعمل Spring على مبدأ **إعاقة التحكم (IoC)**. وهذا يعني أن بدلاً من أن يكون كود التطبيق يسيطر على إنشاء وإدارة الكائنات، فإن Spring يتولى ذلك. ويقوم بذلك من خلال مكون يسمى **محتوى IoC**. ومحتوى IoC مسؤول عن:

- **إنشاء** الكائنات (المعروفة باسم الفاصوليات في Spring).
- **تكوينها** بناءً على مواصفاتك.
- **تجميعها** من خلال إدارة الاعتماديات.

يقلل هذا النهج من الارتباط القوي في كودك، مما يجعله أكثر تماسكًا وسهولة في الصيانة.

### كيف يدير Spring الفاصوليات؟
في Spring، **الفاصوليات** هي الكائنات التي يديرها محتوى IoC. إليك كيفية معالجة Spring لها:

1. **التعريف**: تعرّف الفاصوليات إما في:
   - **ملفات التكوين XML**.
   - **التكوين القائم على Java** باستخدام التسميات مثل `@Bean`, `@Component`, `@Service`، إلخ.
2. **الإنشاء**: عند بدء التطبيق، يقرأ محتوى IoC هذه التعريفات ويخلق الفاصوليات.
3. **إدخال الاعتماديات (DI)**: يقوم Spring بإدخال الاعتماديات (الفاصوليات الأخرى) تلقائيًا في الفاصوليات حيث يكون ذلك ضروريًا، باستخدام:
   - **إدخال المبدئ**.
   - **إدخال المحدد**.
   - **إدخال الحقل** (من خلال `@Autowired`).

يدير المحتوى دورة حياة هذه الفاصوليات بالكامل—من الإنشاء إلى التدمير—ويضمن توفرها عند الحاجة.

### الفرق بين خدمة وController
في سياق **Spring MVC** (إطار الويب لـ Spring)، تعمل هذه المكونات على أهداف مختلفة:

- **Controller**:
  - يدير **طلبات HTTP** من المستخدمين.
  - يعالج الإدخال، يدعو منطق الأعمال، ويقرر أي **عرض** (مثل صفحة ويب) للعودة.
  - يتم تسميته بـ `@Controller` أو `@RestController`.
  - يعيش في **طبقة الويب**.

- **Service**:
  - يغطي **منطق الأعمال** للتطبيق.
  - يقوم بمهام مثل الحسابات، معالجة البيانات، أو التفاعل مع قواعد البيانات.
  - يتم تسميته بـ `@Service`.
  - يعيش في **طبقة الأعمال**.

**مثال**:
- قد يتلقى Controller طلبًا لعرض ملف تعريف المستخدم ويدعو خدمة للحصول على بيانات المستخدم.
- تجلب الخدمة البيانات من قاعدة البيانات وتعيدها إلى Controller، الذي يرسلها إلى العرض.

في الختام: **Controllers** يدير التفاعلات الويب، بينما **Services** تتعامل مع الوظائف الأساسية.

### ما يقدمه Spring؟
Spring هو إطار شامل يقدم مجموعة واسعة من الأدوات للتطبيقات التجارية. تشمل الميزات الرئيسية:

- **إدخال الاعتماديات**: يسهل إدارة الاعتماديات بين الكائنات.
- **برمجة الموجهات (AOP)**: يضيف قضايا متقاطعة مثل السجل أو الأمان.
- **إدارة المعاملات**: يضمن Consistency البيانات عبر العمليات.
- **Spring MVC**: يبني تطبيقات الويب قوية.
- **Spring Boot**: يسهل الإعداد مع الإعدادات المسبق والتطبيقات المضمنة.
- **Spring Data**: يسهل الوصول إلى قاعدة البيانات.
- **الأمان**: يقدم أدوات التحقق من الهوية والتأهيل.

يتيح تصميم Spring الموديولي لك اختيار الميزات التي تحتاجها فقط.

### كيف يبحث Spring عن الكائنات أو الفاصوليات؟
عند بدء تطبيق Spring:

1. **يبدأ محتوى IoC**.
2. **يبحث عن تعريفات الفاصوليات في**:
   - ملفات XML.
   - الفئات المسماة (مثل `@Component`, `@Bean`).
3. **يخلق المحتوى الفاصوليات ويخزنها في خريطة**، مع فهرسة الاسم أو النوع.
4. **عندما تكون الفاصولية مطلوبة** (مثلًا، لإدخال أو استرجاع مباشر)، يوفر المحتوى إياها باستخدام:
   - **البحث باسم**.
   - **البحث بالنوع** (مثلًا، من خلال `@Autowired`).

يضمن هذا العملية أن تكون الفاصوليات متاحة في جميع أنحاء التطبيق.

### كيف استخدام Tomcat أو Netty كخادم؟
Spring Boot، امتداد لـ Spring، يسهل إعداد الخادم من خلال تضمين الخادمات مباشرة في تطبيقك. إليك كيفية عمله مع **Tomcat** و **Netty**:

- **Tomcat** (مستند على Servlet):
  - الخادم الافتراضي في `spring-boot-starter-web` لـ Spring Boot.
  - أضف هذا إلى `pom.xml`:
    ```xml
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    ```
  - Spring Boot يضمن Tomcat، وتعمل تطبيقك كملف JAR قابل للتنفيذ بشكل مستقل.

- **Netty** (غير مستند على Servlet):
  - يستخدم في تطبيقات الويب التفاعلية (مثلًا، مع Spring WebFlux).
  - استبدل Tomcat من خلال إقصائه وإضافة Netty:
    ```xml
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-webflux</artifactId>
    </dependency>
    ```
  - Spring Boot يضمن Netty بدلاً من ذلك، يدعم الإدخال/الإخراج غير المتلازم، غير المتلازم.

تكوين الخادم عبر `application.properties` (مثلًا، تعيين الميناء بـ `server.port=8080`). لا تحتاج إلى نشر خادم خارجي—Spring Boot يدير كل شيء.

### ملخص
- **مكونات Spring الأساسية**: يستخدم محتوى IoC لإدارة الكائنات.
- **إدارة الفاصوليات**: يتم تعريفها عبر XML أو التسميات، مع إدخال الاعتماديات تلقائيًا.
- **Service مقابل Controller**: الخدمات تتعامل مع منطق الأعمال؛ Controllers يدير طلبات الويب.
- **الميزات**: يقدم DI، AOP، دعم الويب، وما إلى ذلك.
- **بحث الفاصوليات**: المحتوى يبحث عن الفاصوليات ويوفرها من التكوين.
- **الخادمات**: Spring Boot يضمن Tomcat أو Netty مع تغييرات بسيطة في الاعتماديات.