---
audio: false
generated: false
lang: ar
layout: post
title: مشاكل حل مشكلة تحميل curl
translated: true
---

عندما تحاول تنزيل ملف ZIP من Eclipse من eclipse.org باستخدام `curl -O`، قد تواجه مشكلة حيث يتم تنزيل ملف HTML بدلاً من الملف ZIP المرغوب فيه، مع خطأ "301 Moved Permanently". يحدث ذلك لأن الرابط الذي تستخدمه يوجه إلى مكان آخر، و `curl` لا يتبع هذا الإعادة تلقائيًا إلى الملف الفعلي. إليك كيفية حل هذه المشكلة:

### فهم المشكلة

- **301 Moved Permanently**: هذا رمز حالة HTTP يعني أن المورد (الملف ZIP) قد انتقل بشكل دائم إلى URL جديد. غالبًا ما يستخدم الخوادم الإعادة لتوجيه روابط التنزيل إلى مواقع مرآة أو مواقع محدثة.
- **سلوك `curl -O`**: خيار `-O` يوجه `curl` لحفظ المحتوى المنزّل في ملف يحمل اسم الملف عن بُعد. ومع ذلك، بدون معالجة الإعادة بشكل صريح، قد يحفظ `curl` محتوى الرد الإعادة (غالبًا صفحة HTML) بدلاً من تتبعها إلى الملف ZIP.

### الحل

لتأكد من أن `curl` يتبع الإعادة وينزّل ملف Eclipse ZIP، استخدم خيار `-L` مع `-O`. يوجه خيار `-L` `curl` لتتبع أي إعادة حتى يصل إلى الوجهة النهائية.

#### الأمر

```bash
curl -L -O <URL>
```

- **`-L`**: يتبع الإعادة، مثل الإعادة 301، إلى الموقع الجديد.
- **`-O`**: يحفظ الملف باسم الأصلي من URL النهائي.
- **`<URL>`**: استبدل هذا بالURL الخاص بتنزيل Eclipse، مثل `https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2023-03/R/eclipse-java-2023-03-R-win32-x86_64.zip`.

### تعليمات خطوة بخطوة

1. **إيجاد URL الصحيح**:
   - زور موقع Eclipse (مثل `https://www.eclipse.org/downloads/`).
   - اختر الحزمة المرغوبة (مثل Eclipse IDE for Java Developers).
   - انقر بزر اليمين على رابط التنزيل أو الزر، وقم بنسخ URL. أو استخدم أدوات التطوير في المتصفح (F12، علامة التبويب Network) لتسجيل URL الدقيق عند النقر على تنزيل.

2. **تنفيذ الأمر**:
   - افتح نافذة الترمينال.
   - قم بتنفيذ أمر `curl` مع خيارين `-L` و `-O`، باستخدام URL الذي قمت بنسخه:
     ```bash
     curl -L -O https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2023-03/R/eclipse-java-2023-03-R-win32-x86_64.zip
     ```
   - هذا يجب أن ينزّل ملف ZIP (مثل `eclipse-java-2023-03-R-win32-x86_64.zip`) إلى مجلدك الحالي.

### حل المشاكل

إذا كنت لا تزال تواجه مشاكل، حاول هذه الخطوات الإضافية:

- **تحقق من الإعادة باستخدام إخراج مفصل**:
  - استخدم خيار `-v` لرؤية معلومات مفصلة حول الطلب والإعادة:
    ```bash
    curl -v -L -O <URL>
    ```
  - انظر إلى رأس `Location` في الرد 301 لرؤية أين يتم الإعادة. إذا كان يشير إلى صفحة HTML بدلاً من ملف ZIP، فقد لا يكون URL هو رابط التنزيل المباشر.

- **تحقق من URL**:
  - Eclipse يستخدم غالبًا `download.php` الذي قد يوجه إلى مرآة. تأكد من أن URL هو إما رابط مباشر إلى ملف ZIP أو رابط إعادة يحل إلى الملف. على سبيل المثال، قد يبدو رابط مرآة مباشر مثل:
    ```bash
    curl -L -O https://mirror.its.dal.ca/eclipse/technology/epp/downloads/release/2023-03/R/eclipse-java-2023-03-R-win32-x86_64.zip
    ```

- **إعداد رأس User-Agent**:
  - قد يتصرف الخادم بشكل مختلف بناءً على العميل. إذا كان الخادم يعيد HTML لأنه يكتشف `curl`، قم بتقليد المتصفح بإضافة User-Agent:
    ```bash
    curl -L -O -A "Mozilla/5.0" <URL>
    ```

### لماذا يعمل هذا

قد يوجه موقع Eclipse طلبات التنزيل إلى مرآة أو URL محدث. بدون `-L`، `curl -O` يحفظ الرد الإعادة (صفحة HTML) بدلاً من تتبعها. إضافة `-L` تأكد من أن `curl` يتبع الإعادة 301 إلى الملف ZIP الفعلي، مما يحل المشكلة.

بالتتبع لهذه الخطوات، يجب أن تنجح في تنزيل ملف Eclipse ZIP من eclipse.org باستخدام `curl`.