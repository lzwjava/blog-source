---
audio: false
generated: true
lang: ar
layout: post
title: دليل مخصص في طرفية جنوم
translated: true
type: note
---

لتخصيص عنوان علامة تبويب GNOME Terminal لعرض المجلد الحالي فقط (مثل `blog-server`) بدلاً من التنسيق الافتراضي (مثل `lzw@lzw-MS:~/Projects/blog-server`)، يمكنك تعديل إعدادات موجه الأوامر أو العنوان في الطرفية. إليك كيفية تحقيق ذلك:

### خطوات تعيين عنوان علامة تبويب GNOME Terminal لعرض المجلد الحالي فقط

1. **تحرير ملف تكوين Bash**:
   يستخدم GNOME Terminal shell Bash افتراضيًا، ويتم اشتقاق عنوان علامة التبويب غالبًا من `PS1` (موجه الأوامر) أو أمر محدد لتعيين العنوان. لتخصيص العنوان، يمكنك تعديل ملف `~/.bashrc`.

2. **تعديل عنوان الطرفية**:
   أضف أمرًا لتعيين عنوان الطرفية إلى المجلد الحالي في ملف `~/.bashrc`. افتح الملف في محرر نصوص:

   ```bash
   nano ~/.bashrc
   ```

   أضف الأسطر التالية في نهاية الملف:

   ```bash
   # Set terminal tab title to current directory
   case "$TERM" in
   xterm*|rxvt*)
       PS1="\[\e]0;\W\a\]$PS1"
       ;;
   *)
       ;;
   esac
   ```

   **الشرح**:
   - `\e]0;...` يعين عنوان الطرفية.
   - `\W` يمثل الاسم الأساسي للمجلد الحالي (مثل `blog-server` بدلاً من المسار الكامل `~/Projects/blog-server`).
   - `\a` هو حرف جرس لإنهاء سلسلة العنوان.
   - يتحقق هذا الكود مما إذا كانت الطرفية متوافقة مع `xterm` (وهو ما ينطبق على GNOME Terminal) قبل تطبيق التغيير.

3. **تطبيق التغييرات**:
   احفظ الملف وأعد تحميل تكوين Bash:

   ```bash
   source ~/.bashrc
   ```

   بدلاً من ذلك، يمكنك إغلاق الطرفية وإعادة فتحها لتطبيق التغييرات.

4. **التحقق من النتيجة**:
   انتقل إلى مجلد (مثل `cd ~/Projects/blog-server`)، ويجب أن يعرض عنوان علامة التبويب الآن `blog-server` فقط.

### بديل: تعديل إعدادات ملف تعريف GNOME Terminal
إذا كنت تريد تخصيص العنوان بشكل أكبر أو تجنب تحرير `~/.bashrc`، يمكنك استخدام إعدادات ملف تعريف GNOME Terminal:

1. افتح GNOME Terminal.
2. انتقل إلى **Edit** > **Preferences** (أو **Terminal** > **Preferences**، اعتمادًا على إصدارك).
3. حدد ملف التعريف الذي تستخدمه (مثل "Unnamed" أو ملف تعريف مخصص).
4. انتقل إلى علامة التبويب **Command**.
5. ضمن **Title and Command**، عيّن:
   - **Initial title**: اتركه فارغًا أو عيّنه على شيء عام.
   - **When command exits**: اختر **Keep initial title** أو **Replace with command output**.
6. في قسم **Command**، فعّل **Run a custom command instead of my shell** وعيّن الأمر على:

   ```bash
   bash --rcfile <(echo '. ~/.bashrc; PS1="\[\e]0;\W\a\]$PS1"')
   ```

   يضمن هذا استخدام الطرفية لموجه أوامر مخصص يعين العنوان على المجلد الحالي.

7. أغلق الحوار واختبر عن طريق فتح علامة تبويب جديدة أو الانتقال إلى مجلد.

### ملاحظات
- إذا كنت تستخدم shell غير Bash (مثل Zsh)، فستحتاج إلى تعديل ملف التكوين المكافئ (مثل `~/.zshrc`) وتعديل الصيغة وفقًا لذلك. بالنسبة لـ Zsh، يمكنك إضافة:

  ```zsh
  precmd() { echo -ne "\e]0;${PWD##*/}\a" }
  ```

- إذا لم يتم تحديث العنوان كما هو متوقع، فتأكد من أن محاكي الطرفية الخاص بك متوافق مع `xterm` وأنه لا توجد نصوص برمجية أخرى (مثل إعدادات `PS1` مخصصة في `~/.bashrc`) تتجاوز العنوان.
- للتغييرات الدائمة عبر جميع الطرفيات، تأكد من وجود التكوين في ملف تعريف shell للمستخدم أو في إعدادات GNOME Terminal.

يجب أن يمنحك هذا عنوان علامة تبويب يعرض اسم المجلد الحالي فقط، مثل `blog-server`. دعني أعلم إذا كنت بحاجة إلى مزيد من التوضيح!