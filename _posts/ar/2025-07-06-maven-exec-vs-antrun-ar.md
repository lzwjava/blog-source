---
audio: false
generated: true
lang: ar
layout: post
title: إجرائي مافن مقابل إضافة أنتران
translated: true
type: note
---

`maven-exec-plugin` و `maven-antrun-plugin` كلاهما إضافات Maven تسمح لك بتنفيذ أوامر أو نصوص برمجية خارجية خلال دورة حياة البناء. بينما يتشاركان في هذه القدرة العامة، إلا أنهما مصممان لحالات استخدام مختلفة ويقدمان ميزات مميزة.

إليك مقارنة:

## maven-exec-plugin

**الغرض:**
تم تصميم `maven-exec-plugin` أساسًا لتنفيذ تطبيقات Java أو أوامر/نصوص برمجية خارجية للنظام. يقدم هدفين رئيسيين:
* `exec:java`: ينفذ فئة Java الرئيسية داخل نفس JVM الذي يعمل عليه Maven. هذا مفيد لتشغيل الأدوات المساعدة، أو مولدات الأكواد، أو تطبيقات Java البسيطة مباشرة كجزء من عملية البناء دون الحاجة إلى إنشاء ملف JAR أولاً.
* `exec:exec`: ينفذ برنامجًا أو نصًا برمجيًا خارجيًا (مثل نص shell، أو نص Python، أو أي ملف قابل للتنفيذ في مسار PATH الخاص بالنظام) في عملية منفصلة.

**الميزات الرئيسية:**
* **تنفيذ Java:** تشغيل فئات Java الرئيسية بسهولة مع مسار الفئة (classpath) قابل للتكوين، والوسائط (arguments)، وخصائص النظام (system properties).
* **تنفيذ الأوامر الخارجية:** تشغيل أي أمر من سطر الأوامر قابل للتنفيذ.
* **متغيرات البيئة:** تكوين متغيرات البيئة للعملية المنفذة.
* **التنفيذ غير المتزامن:** يدعم تشغيل العمليات بشكل غير متزامن، مما يسمح لبناء Maven بالمتابعة بالتوازي.
* **المهلة:** يمكن تكوينه لإنهاء البرنامج المنفذ بشكل قسري إذا لم ينتهِ خلال وقت محدد.
* **التحكم في مسار الفئة (Classpath):** يقدم خيارات لإدارة مسار الفئة لتنفيذ Java، بما في ذلك إضافة تبعيات المشروع.

**متى تستخدم `maven-exec-plugin`:**
* تحتاج إلى تشغيل فئة Java رئيسية كجزء من عملية البناء الخاصة بك (مثل مولد أكواد مخصص مكتوب بلغة Java، أو أداة مساعدة لإعداد البيانات، أو مشغل اختبارات صغير).
* تحتاج إلى تنفيذ أمر أو نص برمجي خارجي متوفر بسهولة على النظام الذي يتم فيه التشغيل (مثل `npm install`، `python your_script.py`، `sh cleanup.sh`).
* تريد دمج أمر بسيط أو تطبيق Java في مرحلة محددة من دورة حياة Maven.
* تحتاج إلى تحكم دقيق في مسار الفئة (classpath) لتنفيذ Java أو في الوسائط (arguments) للأوامر الخارجية.

## maven-antrun-plugin

**الغرض:**
تسمح لك `maven-antrun-plugin` بتشغيل مهام Ant مباشرة من ملف POM الخاص بـ Maven. هذا مفيد بشكل خاص عندما يكون لديك منطق بناء Ant موجود مسبقًا تريد إعادة استخدامه داخل مشروع Maven، أو عندما لا تدعم إمكانيات Maven الأصلية خطوة بناء محددة يمكن لـ Ant معالجتها بسهولة.

**الميزات الرئيسية:**
* **التكامل مع Ant:** تضمين مهام Ant مباشرة داخل ملف `pom.xml` الخاص بك أو الإشارة إلى ملفات `build.xml` الموجودة.
* **مكتبة مهام غنية:** الوصول إلى مكتبة مهام Ant الواسعة، والتي تتضمن مهامًا لمعالجة الملفات (نسخ، حذف، نقل)، وإنشاء المجلدات، والأرشفة (zip، jar)، وتنفيذ الأوامر، والترجمة (compiling)، والمزيد.
* **المرونة:** توفر الطبيعة التقريرية لـ Ant ومجموعة المهام الواسعة مرونة كبيرة لعمليات البناء المعقدة.
* **الخصائص ومسار الفئة (Classpath):** يمكن لمهام Ant الوصول إلى خصائص مشروع Maven ومسار الفئة (classpath) الخاص بالمشروع (نطاقات الترجمة، وقت التشغيل، الاختبار، الإضافات).

**متى تستخدم `maven-antrun-plugin`:**
* تقوم بترحيل مشروع قديم من Ant إلى Maven وتريد دمج منطق بناء Ant الموجود تدريجيًا دون إعادة كتابة كاملة.
* تحتاج إلى إجراء عمليات معقدة على نظام الملفات (مثل نسخ الملفات بدقة، أو التصفية، أو الحذف بناءً على أنماط) يصعب تحقيقها باستخدام إضافات Maven القياسية.
* تحتاج إلى خطوة بناء محددة يسهل إنجازها باستخدام مهمة Ant ولكن لا يوجد ما يعادلها مباشرة في Maven أو تكون مدعومة بشكل ضعيف بواسطة إضافات Maven الأخرى.
* تريد الاستفادة من مكتبة مهام Ant القوية والمعروفة لخطوات بناء مخصصة للغاية.

## ملخص الاختلافات الرئيسية

| الميزة/الوجه           | `maven-exec-plugin`                                   | `maven-antrun-plugin`                                      |
| :--------------------- | :---------------------------------------------------- | :--------------------------------------------------------- |
| **حالة الاستخدام الأساسية** | تشغيل برامج Java أو أوامر النظام المباشرة.           | تنفيذ مهام Ant والاستفادة من إمكانيات Ant.                |
| **سياق التنفيذ** | يمكنه تشغيل Java في نفس JVM، أو البرامج الخارجية في عملية منفصلة. | يقوم بتشغيل مهام Ant، والتي قد تقوم بدورها بتنفيذ أوامر خارجية. |
| **أسلوب التكوين**| تكوين XML خاص بـ Maven للملفات القابلة للتنفيذ، الوسائط، إلخ. | بناء جملة XML الخاص بـ Ant مضمن داخل `pom.xml` الخاص بـ Maven (أو `build.xml` خارجي). |
| **المرونة** | جيد للتنفيذ المباشر، أقل مرونة لمنطق البناء المعقد. | مرن للغاية بسبب مكتبة مهام Ant الغنية.                    |
| **التبعيات** | يدير مسار الفئة (classpath) لـ Java لـ `exec:java`.   | يمكنه استخدام تبعيات مشروع Maven داخل مهام Ant.           |
| **منحنى التعلم** | بسيط نسبيًا إذا كنت تعرف كيفية تنفيذ الأوامر من سطر الأوامر. | يتطلب الإلمام ببناء جملة Ant ومهامه.                       |
| **السيناريوهات النموذجية** | تشغيل دالة `main`، استدعاء نصوص `node` أو `python`، تشغيل اختبارات التكامل. | نسخ الملفات بأنماط محددة، إنشاء المجلدات، تشغيل عمليات تنظيف معقدة، تكامل مع أنظمة قديمة. |

في جوهر الأمر، إذا كنت بحاجة إلى **تشغيل ملف قابل للتنفيذ محدد أو فئة Java مباشرة**، فإن `maven-exec-plugin` هو غالبًا الخيار الأكثر بساطة. إذا كنت بحاجة إلى **إجراء عمليات بناء معقدة أو دمج منطق Ant موجود**، فإن `maven-antrun-plugin` يوفر حلاً قويًا ومرنًا من خلال جلب القوة الكاملة لـ Ant إلى بناء Maven الخاص بك.