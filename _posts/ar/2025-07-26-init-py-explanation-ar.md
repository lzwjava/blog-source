---
audio: false
generated: true
lang: ar
layout: post
title: لماذا يحتاج بايثون إلى `__init__.py`
translated: true
type: note
---

### تصحيح الخطأ المطبعي
يبدو أنك تقصد `__init__.py` (حيث "init" اختصار لـ "initialization") وليس `__int__.py`. إذا لم يكن هذا هو المقصود، فلا تتردد في التوضيح! بافتراض أن المقصود هو `__init__.py`، إليك الشرح.

### لماذا تحتاج بايثون إلى ملف `__init__.py` في الدليل
في بايثون، لا يتم التعامل مع الدليل تلقائيًا كوحدة نمطية module أو حزمة package لمجرد أنه يحتوي على ملفات بايثون. لتنظيم الكود في حزم قابلة لإعادة الاستخدام (وهي في الأساس أدلة تحتوي على وحدات نمطية مرتبطة)، تتطلب بايثون وجود ملف `__init__.py` في ذلك الدليل. إليك السبب:

- **وضع علامة على الدليل كحزمة**: وجود ملف `__init__.py` يخبر بايثون أنه يجب اعتبار الدليل كحزمة. هذا يسمح لك باستيراد الوحدات النمطية منه باستخدام الترميز المنقط، مثل `import mypackage.mymodule`. بدونه (في الحالات القياسية)، ستعامل بايثون الدليل كمجلد عادي ولن تسمح باستيراد الوحدات النمطية منه.

- **منع تعارض الأسماء**: يتجنب إخفاء الوحدات النمطية عن طريق الخطأ. على سبيل المثال، إذا كان لديك دليل باسم `string` (اسم شائع)، بدون `__init__.py`، قد يحجب عن غير قصد الوحدة النمطية المضمنة في بايثون `string` في مسار الاستيراد.

- **التهيئة والتخصيص**: يمكن أن يكون الملف فارغًا (وهو شائع للحزم البسيطة)، ولكن يمكنه أيضًا أن يحتوي على كود يتم تنفيذه عند استيراد الحزمة. هذا مفهم لمهام الإعداد، مثل استيراد الوحدات النمطية الفرعية تلقائيًا. بالإضافة إلى ذلك، يمكنك تعريف متغير خاص يسمى `__all__` في `__init__.py` للتحكم في ما يتم استيراده عندما يقوم شخص ما بـ `from mypackage import *` (على سبيل المثال، `__all__ = ['module1', 'module2']`).

### السياق التاريخي والسياق الخاص بالإصدارات
- كان هذا المطلب جزءًا من بايثون منذ أيامها الأولى للحفاظ على نظام الوحدات النمطية صريحًا ومنظمًا.
- بدءًا من بايثون 3.3، تم تقديم "حزم مساحة الاسماء namespace packages"، والتي لا تتطلب `__init__.py`. تسمح هذه الحزم بتقسيم الحزم عبر أدلة متعددة (على سبيل المثال، لأغراض التوزيع) دون الحاجة إلى الملف، باستخدام أدوات مثل `pkgutil` أو `importlib`. ومع ذلك، تعتبر هذه ميزة متقدمة، ومعظم حالات الاستخدام اليومية، لا يزال `__init__.py` موصى به ومستخدمًا على نطاق واسع للحزم العادية.

إذا كنت تعمل مع بايثون 3.3 أو إصدار أحدث، يمكنك تجربة حزم مساحة الأسماء، ولكن الالتزام باستخدام `__init__.py` هو أبسط وأكثر وضوحًا للمبتدئين.

[برنامج تعليمي عن بايثون: الوحدات النمطية](https://docs.python.org/3/tutorial/modules.html#packages)