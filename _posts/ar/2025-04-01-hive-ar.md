---
audio: false
generated: true
lang: ar
layout: post
title: أباتشي هايف
translated: true
type: note
---

Apache Hive هو نظام مستودع بيانات مفتوح المصدر قوي مبني على قمة Hadoop. يوفر واجهة تشبه SQL تسمى Hive Query Language (HQL) لاستعلام وتحليل مجموعات البيانات الكبيرة الموجودة في أنظمة التخزين الموزعة مثل Hadoop Distributed File System (HDFS) أو مخازن الكائنات السحابية. تقوم Hive بترجمة استعلامات HQL هذه إلى MapReduce أو أطر تنفيذ أخرى مثل Tez أو Spark، مما يمكّن معالجة البيانات القابلة للتوسع.

إليك دليل شامل لـ Apache Hive:

**1. مقدمة إلى Hive:**

*   **الغرض:** يبسط Hive عملية الاستعلام وتحليل مجموعات البيانات الضخمة من خلال توفير واجهة مألوفة تشبه SQL. إنه يتجنب تعقيدات أطر معالجة البيانات الموزعة الأساسية.
*   Schema on Read: على عكس قواعد البيانات العلائقية التقليدية التي تفرض مخططًا عند الكتابة، يعمل Hive على مبدأ "المخطط عند القراءة". هذا يعني أنك تحدد هيكل بياناتك عند الاستعلام عنها، مما يوفر مرونة في التعامل مع مجموعات البيانات المتنوعة والمتطورة.
*   **نظام مستودع البيانات:** تم تصميم Hive لأحمال عمل المعالجة التحليلية عبر الإنترنت (OLAP)، حيث يركز على تلخيص البيانات وتجميعها وتحليلها بدلاً من العمليات المعاملية (OLTP).
*   **القدرة على التوسع وتحمل الأخطاء:** بُني Hive على Hadoop، ورث قدراته في التوسع وتحمل الأخطاء، مما يسمح له بمعالجة البيتابايتات من البيانات عبر مجموعات كبيرة من أجهزة السلع الأساسية.

**2. بنية Hive ومكوناته:**

*   **عملاء Hive:** هذه هي الواجهات التي يتفاعل من خلالها المستخدمون مع Hive. تشمل العملاء الشائعين:
    *   **Beeline:** واجهة سطر أوامر (CLI) لتنفيذ استعلامات HQL. يوصى به على واجهة Hive CLI القديمة، خاصة لـ HiveServer2.
    *   **HiveServer2:** خادم يسمح للعديد من العملاء (JDBC, ODBC, Thrift) بالاتصال وتنفيذ الاستعلامات في وقت واحد. يوفر أمانًا أفضل ويدعم ميزات أكثر تقدمًا من سابقه، HiveServer1.
    *   **WebHCat:** واجهة برمجة تطبيقات (REST API) للوصول إلى Hive metastore وتنفيذ استعلامات Hive.
*   **خدمات Hive:** هذه هي المكونات الأساسية التي تمكن وظائف Hive:
    *   **Metastore:** مستودع مركزي يخزن البيانات الوصفية حول جداول Hive، مثل مخططها (أسماء الأعمدة وأنواع البيانات) وموقعها في HDFS وخصائص أخرى. يستخدم عادة قاعدة بيانات علائقية (مثل MySQL, PostgreSQL) للحفاظ على هذه البيانات الوصفية.
    *   **المشغل (Driver):** يستقبل استعلامات HQL من العملاء، ويحللها، ويبدأ عملية التجميع والتنفيذ.
    *   **المجمع (Compiler):** يحلل استعلام HQL، ويقوم بإجراء فحوصات دلالية، وينشئ خطة تنفيذ (رسم بياني دوري موجه للمهام).
    *   **محسن الأداء (Optimizer):** يحسن خطة التنفيذ لأداء أفضل من خلال تطبيق تحويلات مختلفة، مثل إعادة ترتيب الـ Joins واختيار استراتيجيات الـ Join المناسبة والمزيد. تستخدم تحسينات قائمة على التكلفة (CBO) إحصائيات حول البيانات