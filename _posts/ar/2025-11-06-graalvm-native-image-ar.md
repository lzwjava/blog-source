---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: نظرة عامة على صورة جرال في إم الأصلية
translated: true
type: note
---

### ما هي الصورة الأصلية (Native Image) في GraalVM؟

في سياق مقدمة GraalVM، تشير **الصورة الأصلية (Native Image)** إلى ميزة تقوم بترجمة تطبيقات جافا (أو التطبيقات القائمة على JVM الأخرى) مسبقًا (AOT) إلى ثنائيات قابلة للتنفيذ أصلية وقائمة بذاتها. تعمل هذه الملفات القابلة للتنفيذ مباشرة على الجهاز المضيف دون الحاجة إلى آلة جافا الافتراضية (JVM) في وقت التشغيل. إنها في الأساس طريقة لتحويل كود جافا الخاص بك إلى شيء مشابه للثنائي الأصلي المكتوب بلغة C/C++، ولكن يتم بناؤه من لغات عالية المستوى مثل جافا، أو Kotlin، أو Scala.

#### التقنية الأساسية وراءها
- **مترجم GraalVM**: تستفيد الصورة الأصلية من مترجم GraalVM (وهو مترجم متقدم يحسن الأداء لـ JVM) لإجراء التحليل الثابت والترجمة المسبقة (AOT). أثناء عملية البناء:
  1. **التحليل الثابت**: يقوم بمسح تطبيقك بالكامل (بما في ذلك التبعيات) لتحديد جميع مسارات الكود التي يمكن الوصول إليها، والفئات، والطرق، والموارد. هذا يخلق افتراض "عالم مغلق"، يحل السلوكيات الديناميكية في وقت البناء.
  2. **التقييم الجزئي**: يقوم المترجم بتقييم أجزاء من الكود بشكل رمزي (مثل الانعكاس (reflection)، أو تحميل الفئات الديناميكي) مسبقًا، واستبدالها بكود آلي مُحسّن.
  3. **توليد الكود**: يولد ملفًا قابلًا للتنفيذ أصليًا باستخدام آلة افتراضية منخفضة المستوى (LLVM) أو SubstrateVM (الآلة الافتراضية المضمنة في GraalVM) لإنتاج ثنائيات خاصة بالمنصة (مثل لينكس، أو ويندوز، أو macOS، أو حتى الأنظمة المضمنة).

- **SubstrateVM**: هذه هي نواة وقت التشغيل الأساسية التي تعمل تحت غطاء الصورة الأصلية. إنها آلة افتراضية خفيفة الوزن وقابلة للدمج تتخلص من ميزات JVM غير الضرورية للترجمة المسبقة (مثل الترجمة في اللحظة الأخيرة Just-in-time) وتشمل فقط ما يتم ربطه بشكل ثابت من تطبيقك.

النتيجة هي ثنائي مستقل — لا حاجة إلى JVM خارجي، ولا حاجة إلى تثبيت JRE. تتولى أدوات مثل واجهة سطر الأوامر `native-image` أو إضافات Maven/Gradle عملية البناء.

#### المزايا والعيوب
- **الإيجابيات**:
  - **بدء تشغيل فوري**: ميلي ثوانٍ بدلاً من ثوانٍ (ممتاز لتطبيقات الخوادم متناهية الصغر/والخدمات المصغرة).
  - **استهلاك منخفض للذاكرة**: غالبًا ما يكون 1/10 من استهلاك JVM.
  - **حجم نشر أصغر**: ملف واحد، دون متاعب مسار الفئات (classpath).
- **السلبيات**:
  - **وقت البناء**: قد يستغرق دقائق إلى ساعات للتطبيقات الكبيرة بسبب عملية التحليل.
  - **ميزات ديناميكية محدودة**: تحتاج أشياء مثل الوكائل الديناميكية (dynamic proxies) أو الانعكاس ذو الربط المتأخر (late-bound reflection) إلى تكوين صريح (عبر ملفات البيانات الوصفية).
  - **خاص بالمنصة**: الثنائيات مرتبطة بنظام التشغيل/والهيكل الخاص بجهاز البناء.

هذه التقنية شائعة للتطبيقات السحابية الأصلية، والحاويات (مثل صور Docker التي تقل عن 50 ميجابايت)، والحوسبة الطرفية.

لمزيد من التفاصيل، راجع وثائق GraalVM الرسمية: [دليل الصورة الأصلية في GraalVM](https://www.graalvm.org/latest/reference-manual/native-image/).