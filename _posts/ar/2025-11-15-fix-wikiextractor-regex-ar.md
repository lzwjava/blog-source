---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: إصلاح خطأ التعبير النمطي في ويكيإكستراكتور بايثون ٣.١٣
translated: true
type: note
---

الخطأ الذي تواجهه ناتج عن مشكلة توافق في حزمة `wikiextractor` مع التعامل الأكثر صرامة في Python 3.13 مع علامات التعبير العادي المضمنة. تحديدًا، يتم تفسير العلامة `(?i)` في نمط التعبير العادي كعلامة عامة، لكنها ليست في بداية التعبير تمامًا، مما يؤدي إلى `re.PatternError`.

لإصلاح هذا، قم بتحرير الملف `/home/lzw/.local/lib/python3.13/site-packages/wikiextractor/extract.py` وقم بتعديل السطر 378 (أو تعريف `ExtLinkBracketedRegex` المجاور) على النحو التالي:

-   الأصل: `'\\[(((?i)' + '|'.join(wgUrlProtocols) + ')' + EXT_LINK_URL_CLASS + r'+)\s*([^\\]\x00-\x08\x0a-\x1F]*?)\\]',`
-   المُحدَّث: `'\\[(((?i:' + '|'.join(wgUrlProtocols) + ')' + EXT_LINK_URL_CLASS + r'+)\s*([^\\]\x00-\x08\x0a-\x1F]*?)\\]',`

هذا يضيف `:` بعد `(?i`، ليحولها إلى علامة محلية مضمنة `(?i:...)` تنطبق فقط على مجموعة مطابقة البروتوكول، مما يحل خطأ التحليل.

بالإضافة إلى ذلك، تحذيرات `SyntaxWarning: invalid escape sequence '\\['` تأتي من سلاسل نصية غير خام تحتوي على أحرف هروب تتعامل معها Python 3.13 بشكل أكثر صرامة (على الرغم من أنها لا تسبب الفشل الرئيسي). يمكنك تجاهلها الآن، أو تحديث تلك السلاسل النصية إلى سلاسل خام (مثل `r'\\['`) في نفس الملف إذا كانت تزعجك.

بعد التحرير، أعد تشغيل `wikiextractor *.bz2`. إذا كانت الحزمة قديمة، ففكر في التحقق من وجود تحديثات عبر `pip install --upgrade wikiextractor` أو استخدام بيئة افتراضية بإصدار أقدم من Python (مثل 3.10) كحل بديل.