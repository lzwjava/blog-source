---
audio: false
lang: ar
layout: post
title: مشاكل اتصال ديمون دوكر
translated: true
---

### النقاط الرئيسية
- يبدو أن ديمون الدوكر لا يعمل، بناءً على رسالة الخطأ.
- تشير الأبحاث إلى التحقق من فتح تطبيق ديسكتوب الدوكر، حيث يستخدم بشكل شائع على macOS.
- يشير الدليل إلى التحقق من مسار المرفق، والذي قد يكون مكوّنًا بشكل غير صحيح إلى موقع مخصص مثل /Users/lzwjava/.docker/run docker sock.

### التأكد من تشغيل ديسكتوب الدوكر
أولًا، تأكد من أن تطبيق ديسكتوب الدوكر مرفق ومشغل. يمكنك العثور عليه في مجلد التطبيقات أو البحث عن أيقونه في شريط القائمة. إذا لم يكن يعمل، افتحه وانتظر حتى يبدأ. هذا يجب أن يحل المشكلة إذا كنت تستخدم الإعداد القياسي.

### التحقق من مسار المرفق ودوكر هوست
يذكر الخطأ مسار المرفق في /Users/lzwjava/.docker/run docker sock، وهو غير عادي بسبب الفاصل. من الممكن أن يكون هذا خطأ طباعة، وأن المسار المقصود هو /Users/lzwjava/.docker/run/dockersock. تحقق من وجود هذا الملف عن طريق تشغيل `ls /Users/lzwjava/.docker/run/dockersock` في المصفح. أيضًا، قم بإجراء `echo $DOCKER_HOST` لرؤية إذا كان محددًا إلى مسار مخصص؛ إذا كان كذلك، قم بإلغائه باستخدام `unset DOCKER_HOST` لاستخدام المرفق الافتراضي /var/run/dockersock.

### معالجة التثبيتات المخصصة
إذا كنت لا تستخدم ديسكتوب الدوكر، فقد لديك تثبيت مخصص (مثل colima). تأكد من أن محرك الدوكر يعمل، على سبيل المثال، باستخدام `colima start` لـ colima، وحدد DOCKER_HOST بشكل مناسب. تحقق من الإذن باستخدام `ls -l /var/run/dockersock` إذا كان المرفق موجودًا، وعدل إذا لزم الأمر.

---

### ملاحظة الاستطلاع: تحليل مفصل لأخطاء اتصال ديمون الدوكر على macOS

يقدم هذا القسم استكشافًا شاملًا للخطأ "لا يمكن الاتصال بديمون الدوكر في unix://Users/lzwjava/.docker/run docker sock. هل ديمون الدوكر يعمل؟" على macOS، مع معالجة الأسباب المحتملة، خطوات التشخيص، والتعليقات على التثبيات القياسية والمخصصة. يعتمد التحليل على الفهم أن الدوكر على macOS يعتمد عادةً على تطبيق ديسكتوب الدوكر، والذي يعمل محرك الدوكر في آلة افتراضية لينكس (VM)، ويستكشف الانحرافات مثل التكوينات المخصصة.

#### الخلفية والسياق
الدوكر هو منصة لتطوير، شحن، وتشغيل التطبيقات في حاويات، باستخدام افتراضية على مستوى نظام التشغيل. على macOS، بسبب غياب الميزات الأصلية لنواة لينكس مثل cgroups و namespaces، يتطلب الدوكر VM للعمل على محرك الدوكر. الطريقة الرسمية هي عبر ديسكتوب الدوكر، الذي يعرض ديمون الدوكر عبر مرفق يونكس في /var/run/dockersock بشكل افتراضي. ومع ذلك، يشير رسالة الخطأ إلى محاولة الاتصال بمسار مخصص، /Users/lzwjava/.docker/run docker sock، مما يشير إما إلى خطأ في التكوين أو تثبيت غير قياسي.

يحدث الخطأ "لا يمكن الاتصال بديمون الدوكر" عادةً عندما لا يمكن للعميل الدوكر التواصل مع ديمون الدوكر، غالبًا بسبب عدم تشغيل الديمون، أو مسار المرفق غير صحيح، أو مشاكل الإذن. مع العلم أن الوقت الحالي هو 03:57 صباحًا PST في الخميس، 27 فبراير 2025، واعتبارًا من الممارسات القياسية، سنستكشف التثبيت القياسي لديسكتوب الدوكر والتكوينات المخصصة المحتملة.

#### التثبيت القياسي لديسكتوب الدوكر
للمستخدمين الذين يستخدمون الدوكر ديسكتوب الرسمي لـ macOS، يعمل محرك الدوكر داخل VM HyperKit، ويعرض المرفق في /var/run/dockersock. لحل المشكلة:

- **تأكد من تشغيل ديسكتوب الدوكر:** افتح تطبيق ديسكتوب الدوكر من /Applications/Docker.app أو تحقق من أيقونه في شريط القائمة. إذا لم يكن مرفقًا، قم بتنزيله من [الموقع الرسمي للدوكر](https://www.docker.com/products/container-platform). بعد تشغيله، يجب أن يبدأ VM والمحرك الدوكر، مما يجعل المرفق متاحًا.

- **تحقق من متغير بيئة DOCKER_HOST:** قم بإجراء `echo $DOCKER_HOST` في المصفح للتحقق من تعيينه. إذا كان محددًا إلى "unix://Users/lzwjava/.docker/run docker sock"، فهذا يفسر الخطأ، حيث يغير المسار الافتراضي. قم بإلغائه باستخدام `unset DOCKER_HOST` لإعادة تعيينه إلى /var/run/dockersock.

- **تحقق من ملف المرفق:** قم بإجراء `ls /var/run/dockersock` للتحقق من وجود المرفق. إذا كان موجودًا، تحقق من الإذن باستخدام `ls -l /var/run/dockersock` لضمان أن المستخدم لديه الوصول. يدير ديسكتوب الدوكر الإذن عادةً، ولكن تشغيل `docker ps` مع sudo قد يعوض المشاكل إذا لزم الأمر.

#### التثبيت المخصص وتحليل مسار المرفق
يشير مسار رسالة الخطأ، /Users/lzwjava/.docker/run docker sock، إلى تكوين مخصص، حيث إنه ليس /var/run/dockersock القياسي. الفاصل في "run docker sock" غير عادي، مما يشير إلى احتمال خطأ طباعة؛ من المحتمل أن يكون المقصود هو /Users/lzwjava/.docker/run/dockersock. يتوافق هذا المسار مع بعض التثبيات المخصصة، مثل تلك التي تستخدم أدوات مثل colima، والتي تضع المرفق في /Users/<username>/.colima/run/dockersock، ولكن هنا هو .docker، وليس .colima.

- **تحقق من وجود ملف المرفق:** قم بإجراء `ls /Users/lzwjava/.docker/run/dockersock` (مع افتراض أن الفاصل هو خطأ طباعة). إذا كان موجودًا، قد تكون المشكلة في عدم تشغيل الديمون أو الإذن. إذا لم يكن موجودًا، لم يتم تهيئة الديمون لإنشاء المرفق هناك.

- **ابدأ محرك الدوكر للتثبيات المخصصة:** إذا لم تستخدم ديسكتوب الدوكر، حدد طريقة التثبيت. لـ colima، قم بإجراء `colima start` لإطلاق VM والمحرك الدوكر. للتثبيات المخصصة الأخرى، استشير الوثائق الخاصة بها، حيث لا يمكن تثبيت محرك الدوكر مباشرة على macOS بدون VM.

- **حدد DOCKER_HOST:** إذا كنت تستخدم مسارًا مخصصًا، تأكد من تعيين DOCKER_HOST بشكل صحيح، على سبيل المثال، `export DOCKER_HOST=unix://Users/lzwjava/.docker/run/dockersock`. تحقق من ملفات تكوين القشرة مثل .bashrc أو .zshrc للاعدادات الدائمة.

#### الإذن والتشخيص والتعليقات
يمكن أن تسبب الإذن مشاكل الاتصال. إذا كان ملف المرفق موجودًا ولكن الوصول مرفوض، تحقق باستخدام `ls -l` واطمئن من أن المستخدم لديه إذن القراءة والكتابة. على macOS مع ديسكتوب الدوكر، يدير الإذن عادةً، ولكن للتثبيات المخصصة، قد يكون إضافة المستخدم إلى مجموعة الدوكر (إذا لزم الأمر) أو استخدام sudo ضروريًا.

إذا استمرت المشكلة، فكر في إعادة تعيين ديسكتوب الدوكر عبر قائمة تشخيصه أو التحقق من السجلات بحثًا عن أخطاء. للتثبيات المخصصة، استشير المنتديات المجتمعية أو الوثائق، حيث قد تختلف التثبيت.

#### تحليل المقارنة: المسارات القياسية مقابل المخصصة
لتنظيم المسارات المحتملة والأفعال، فكر في الجدول التالي:

| **نوع التثبيت** | **مسار المرفق المتوقع**          | **العملية لإطلاق الديمون**         | **تحقق من DOCKER_HOST**                     |
|-----------------------|------------------------------------|------------------------------------|-------------------------------------------|
| ديسكتوب الدوكر        | /var/run/dockersock               | افتح تطبيق ديسكتوب الدوكر    | تأكد من إلغاء تعيينه أو تعيينه إلى unix://var/run/dockersock |
| مخصص (مثل Colima) | /Users/<username>/.colima/run/dockersock | قم بإجراء `colima start`                 | قم بإعداده إلى مسار مخصص إذا لزم الأمر، على سبيل المثال، unix://Users/lzwjava/.colima/run/dockersock |
| مخصص (مسار المستخدم)  | /Users/lzwjava/.docker/run/dockersock | يعتمد على التثبيت، تحقق من الوثائق       | قم بإعداده إلى unix://Users/lzwjava/.docker/run/dockersock إذا كان الملف موجودًا |

يوضح هذا الجدول أن مسار المستخدم لا يتوافق مع مسار Colima الافتراضي، مما يشير إلى تهيئة مخصصة فريدة. يبقى الفاصل في المسار ممكنًا خطأ طباعة، وتأكيده باستخدام أوامر `ls` هو حاسم.

#### التفاصيل غير المتوقعة: مسارات المرفق المخصصة في مجلد المستخدم
تفصيل غير متوقع هو إمكانية وجود المرفق في مجلد المستخدم، كما هو موضح في رسالة الخطأ. بينما /var/run/dockersock هو القياسي لديسكتوب الدوكر، يمكن أن تضع الأدوات المخصصة أو التكوينات المرفق في مكان آخر، مثل /Users/<username>/.docker/run/dockersock، مما يتطلب من المستخدم تعديل DOCKER_HOST بشكل مناسب. هذا أقل شيوعًا ويشير إلى تثبيت غير قياسي، مما يضيف تعقيدًا إلى التشخيص.

#### الخاتمة
تعود المشكلة إلى عدم تشغيل ديمون الدوكر أو DOCKER_HOST المكوّن بشكل غير صحيح إلى /Users/lzwjava/.docker/run docker sock، وهو ربما خطأ طباعة لـ /Users/lzwjava/.docker/run/dockersock. ابدأ بتأكد من تشغيل ديسكتوب الدوكر، إلغاء تعيين DOCKER_HOST، وتأكيد ملف المرفق. للتثبيات المخصصة، حدد طريقة التثبيت وإطلاق المحرك بشكل مناسب. إذا لم يتم حل المشكلة، استشير الدعم المجتمعي للحصول على تشخيص إضافي.

### المراجع الرئيسية
- [دليل تثبيت ديسكتوب Mac Docker](https://docs.docker.com/desktop/install/mac-install/)
- [استخدام ديسكتوب الدوكر وإطلاق الديمون](https://docs.docker.com/desktop/usage/#start-the-docker-daemon)
- [ديسكتوب الدوكر: الاتصال بمحرك API الدوكر](https://docs.docker.com/desktop/usage/#connect-to-the-docker-engine-api)