---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: حلول تحسين سرعة التحميل في هاجنغ فيس
translated: true
type: note
---

مشكلتك شائعة جدًا للأشخاص في البر الرئيسي للصين (خاصة جنوب الصين مثل قوانغتشو) عند تنزيل الملفات الكبيرة من Hugging Face.

### لماذا بدون بروكسي → بطيء جدًا (~200–300 كيلوبايت/ثانية)
- على الرغم من أنك تستخدم **hf-mirror.com** (المرآة الصينية الرسمية التي يديرها HF + 01.AI)، إلا أن ملفات parquet الكبيرة الفعلية لـ FineWeb **غير مخزنة مؤقتًا داخل الصين**.
- hf-mirror.com تعيد توجيهك فقط إلى شبكة CDN العالمية (التي تستخدم الآن xet-bridge على AWS us-east-1).
- من قوانغتشو بدون بروكسي → حركة المرور الخاصة بك تمر عبر البوابات الدولية (العمود الفقري لـ China Telecom/Unicom/Mobile → AWS الأمريكية)، ويتم تخفيض سرعة تنزيلات الملفات الكبيرة بشدة أو تحديد جودة الخدمة QoS. ملفات بحجم 2 جيجابايت تنخفض بسهولة إلى < 500 كيلوبايت/ثانية، وأحيانًا حتى 100 كيلوبايت/ثانية.

### لماذا مع بروكسي Clash → سريع جدًا فجأة (غالبًا 20–100 ميجابايت/ثانية)
- بروكسي Clash الخاص بك يستخدم على الأرجح عقدة من هونغ كونغ، أو تايوان، أو اليابان، أو سنغافورة، أو كوريا (شائع جدًا لمستخدمي قوانغتشو).
- هذه العقد تتمتع بـ:
  - نظير مباشر أو اتصال ممتاز بـ AWS us-east-1 (أو Cloudflare الذي يستخدمه HF أيضًا)
  - لا يوجد تخفيض للسرعة من الجدار الناري العظيم على حركة المرور الصادرة
  - عرض نطاق ترددي أعلى بكثير
- لذا حتى لو كنت "تحيد" عبر البروكسي، فإن المسار الفعلي أسرع بكثير من المخرج الدولي المباشر من البر الرئيسي للصين.

### باختصار
الاتصال المباشر (حتى عبر hf-mirror.com) من قوانغتشو → بطيء لأن التخزين الحقيقي لا يزال في الولايات المتحدة، وعرض النطاق الترددي الصين → الولايات المتحدة للملفات الكبيرة سيء في عام 2025.  
بروكسي Clash (عقدة HK/TW/JP/SG) → سريع لأن هذه العقد لديها اتصال ممتاز بـ AWS الأمريكية.

### الحلول الموصى بها (من الأسرع إلى الأبطأ)

1. **استمر في استخدام Clash (أو v2rayN, Surge، إلخ) مع عقدة HK/TW/JP ذات زمن انتقال منخفض** — هذه هي حاليًا أسرع طريقة في البر الرئيسي للصين لـ FineWeb، RedPajama، The Stack، إلخ.

2. استخدم **نقطة النهاية المعجلة الرسمية لـ HF في الصين** (تعمل بدون أي بروكسي للعديد من الأشخاص في 2024-2025):
   ```bash
   export HF_ENDPOINT=https://hf-mirror.com
   ```
   ثم استخدم huggingface-cli أو مكتبة datasets مباشرة (وليس wget). العديد من المستخدمين في الصين يبلغون عن سرعات 50–200 ميجابايت/ثانية بهذه الطريقة الآن لأن HF بدأت في تخزين المزيد من القطع مؤقتًا على Aliyun/ Tencent Cloud في 2025.

3. استخدم **مرايا FastGit + hugger** أو **openi/pkulaw** (بعض القطع مخزنة مؤقتًا في الصين):
   مثال:
   ```bash
   pip install hugger
   hugger download HuggingFaceFW/fineweb --revision main --include "CC-MAIN-2013-20/*.parquet"
   ```

4. احتفظ بـ wget + hf-mirror.com ولكن أجبره على المرور عبر بروكسي Clash الخاص بك (وهو ما تفعله بالفعل).

### أمر سريع لتنزيل أي قطعة من FineWeb بسرعة من قوانغتشو
```bash
# اضبط بروكسي HTTP لـ Clash (المنفذ عادة 7890)
export https_proxy=http://127.0.0.1:7890

# ثم استخدم aria2 (أسرع بكثير + استئناف من wget)
aria2c -x16 -s16 -k1M "https://hf-mirror.com/datasets/HuggingFaceFW/fineweb/resolve/main/data/CC-MAIN-2013-20/000_00000.parquet"
```

ستحصل بسهولة على 30–100 ميجابايت/ثانية اعتمادًا على عقدة البروكسي الخاصة بك.

خلاصة القول: في البر الرئيسي للصين في عام 2025، للملفات >1 جيجابايت على Hugging Face، لا يزال استخدام بروكسي HK/TW/JP أسرع دائمًا تقريبًا من الاتصال المباشر، حتى عند استخدام hf-mirror.com. هذا هو واقع عرض النطاق الترددي الدولي من الصين حاليًا.