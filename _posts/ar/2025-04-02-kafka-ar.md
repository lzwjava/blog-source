---
audio: false
generated: true
lang: ar
layout: post
title: أباتشي كافكا
translated: true
type: note
---

يبدو أن هناك سوء فهم في طلبك. بناءً على سؤالك السابق حول Redis وسياق هذا السؤال، أفترض أنك تطلب دليلاً شاملاً حول **Apache Kafka**، منصة تدفق الأحداث الموزعة، وليس فرانز كافكا، المؤلف. إذا أسأت الفهم وقصدت شيئًا آخر، يرجى التوضيح! في الوقت الحالي، إليك دليل مفصل حول Apache Kafka.

---

### ما هو Apache Kafka؟
Apache Kafka هو منصة مفتوحة المصدر لتدفق الأحداث الموزعة، مصممة لمعالجة البيانات عالية الإنتاجية، المتسامحة مع الأخطاء، والقابلة للتطوير في الوقت الفعلي. تم تطويرها في الأصل من قبل LinkedIn في عام 2010 وتم التبرع بها لاحقًا إلى مؤسسة Apache Software في عام 2011. كافكا مكتوبة بلغة Java و Scala. تُستخدم على نطاق واسع لبناء أنابيب البيانات في الوقت الفعلي، وتطبيقات البث، وهندسة القائمة على الأحداث.

الخصائص الرئيسية:
- **موزعة**: تعمل كعنقود عبر خوادم متعددة.
- **قائمة على الأحداث**: تعالج تدفقات الأحداث في الوقت الفعلي.
- **دائمة**: تخزن البيانات بشكل دائم على القرص مع إمكانية الاحتفاظ بها بشكل قابل للتكوين.
- **قابلة للتطوير**: تتعامل مع تريليونات الأحداث يوميًا.

---

### لماذا تستخدم Kafka؟
تتفوق Kafka في السيناريوهات التي تتطلب معالجة بيانات في الوقت الفعلي وقابلية عالية للتطوير. حالات الاستخدام الشائعة تشمل:
1. **المراسلة**: تحل محل وسطاء المراسلة التقليديين (مثل RabbitMQ) مع إنتاجية أفضل وتسامح أعلى مع الأخطاء.
2. **تتبع النشاط**: يتتبع إجراءات المستخدم (مثل النقرات، تسجيلات الدخول) في الوقت الفعلي.
3. **تجميع السجلات**: يجمع السجلات من مصادر متعددة للمعالجة المركزية.
4. **معالجة التدفق**: يدعم التحليلات أو التحويلات في الوقت الفعلي.
5. **Event Sourcing**: يسجل تغييرات الحالة للتطبيقات.
6. **جمع المقاييس**: يراقب أنظمة أو أجهزة IoT.

---

### الميزات الرئيسية
1. **المكونات الأساسية**:
   - **Topics**: الفئات التي يتم فيها نشر الرسائل (الأحداث).
   - **Partitions**: أقسام فرعية من Topics لتحقيق التوازي والتوسع.
   - **Producers**: التطبيقات التي ترسل الرسائل إلى Topics.
   - **Consumers**: التطبيقات التي تقرأ الرسائل من Topics.
   - **Brokers**: الخوادم في عنقود Kafka التي تخزن وتدير البيانات.

2. **التكرار**: يضمن التسامح مع الأخطاء من خلال نسخ البيانات عبر الـ Brokers.
3. **الاحتفاظ**: الاحتفاظ بالبيانات قابل للتكوين (مستند إلى الوقت أو الحجم).
4. **Kafka Connect**: يتكامل مع الأنظمة الخارجية (مثل قواعد البيانات، الملفات).
5. **Kafka Streams**: مكتبة لمعالجة تدفق البيانات في الوقت الفعلي.
6. **إنتاجية عالية**: تعالج ملايين الرسائل في الثانية مع زمن انتقال منخفض (مثال: 2 مللي ثانية).

---

### البنية
تم بناء بنية Kafka حول سجل ارتكاب موزع:
- **العنقود**: مجموعة من الـ Brokers تعمل معًا.
- **الموضوعات والأقسام**: يتم كتابة الرسائل إلى Topics، والتي يتم تقسيمها إلى Partitions لتحقيق موازنة الحمل والتوسع. كل Partition هو سجل مرتب وغير قابل للتغيير.
- **التكرار**: كل Partition لديه قائد ونسخ مكررة؛ إذا فشل القائد، تتحول إحدى النسخ المكررة إلى قائد.
- **الإزاحات**: معرفات فريدة للرسائل داخل Partition، تسمح للمستهلكين بتتبع موقعهم.
- **ZooKeeper (أو KRaft)**: تقليديًا، يدير ZooKeeper بيانات وصفية للعنقود化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化化