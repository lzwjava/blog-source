---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: جيه إم إس في ويب سبير التطبيقات الخادم
translated: true
type: note
---

### كيفية عمل JMS في IBM WebSphere Application Server (WAS)

JMS (خدمة رسائل جافا) هو واجهة برمجة تطبيقات (API) قياسية لإرسال الرسائل واستقبالها بين تطبيقات جافا بطريقة غير مقترنة وغير متزامنة. في WAS، يتم تنفيذ JMS من خلال **موفر المراسلة الافتراضي**، والذي يستخدم **ناقل تكامل الخدمة (SIBus)** كمحرك مراسلة أساسي. SIBus هو ناقل مدمج وقابل للتوسيع يتولى معالجة توجيه الرسائل وطابورتها وتسليمها دون الحاجة إلى برامج خارجية.

#### المكونات الرئيسية وتدفق العمل
1. **ناقل تكامل الخدمة (SIBus)**: هذا هو البنية الأساسية. إنه يشبه شبكة افتراضية حيث تعالج محركات المراسلة (واحد لكل خادم أو كتلة) الرسائل. تقوم بإنشاء ناقل، وإضافة الخوادم كأعضاء، وتحديد الوجهات (طوابير أو مواضيع) عليه.

2. **مصنع الاتصال (Connection Factory)**: يعمل كنقطة الدخول. تطبيق الجافا الخاص بك يبحث عن هذا عبر JNDI (مثل `jms/MyConnectionFactory`) لإنشاء اتصال JMS إلى SIBus.

3. **الوجهات (الطوابير/المواضيع)**: الطوابير مخصصة للمراسلة من نقطة إلى نقطة (مرسل واحد، مستقبل واحد). بمجرد إنشاؤها وربطها بالناقل، فإنها تخزن الرسائل بشكل دائم (باستخدام مخازن ملفات أو قواعد بيانات، ويمكن تكوين ذلك).

4. **كيفية تدفق الرسائل**:
   - **الإرسال**: ينشئ التطبيق جلسة JMS عبر مصنع الاتصال، يحصل على مرجع للطابور عبر JNDI، ويرسل رسالة (مثل `TextMessage`). يقوم SIBus بتوجيهها إلى محرك المراسلة الهدف، الذي يضعها في الطابور.
   - **الاستقبال**: يصل المستهلك (مثل تطبيق آخر أو Message-Driven Bean) بطريقة مماثلة ويقوم بالاستطلاع أو الاستماع للرسائل. يقوم SIBus بتسليمها بشكل موثوق، معالجا إعادة المحاولات، والإقرارات، والمعاملات.
   - يدعم SIBus التجميع (Clustering) للحصول على高 التوفر، موازنة الحمل، وروابط الناقل الأجنبية للتكامل مع الأنظمة الأخرى.

تقوم WAS بإدارة دورة الحياة: بدء/إيقاف المحركات، مراقبة الطوابير، وضمان المتانة بناءً على التكوين الخاص بك (مثل الرسائل الدائمة مقابل غير الدائمة).

#### هل يؤدي إنشاء طابور JMS إلى تمكين تطبيقات جافا من إرسال/استقبال الرسائل؟
نعم، تمامًا. بعد الإعداد (كما هو موضح سابقًا: الناقل، العضو، مصنع الاتصال، الطابور)، يمكن لتطبيق الجافا الخاص بك:
- استخدام واجهات برمجة تطبيقات JMS القياسية (`javax.jms.*`) للإرسال/الاستقبال.
- البحث عن الموارد عبر JNDI في سياق خادم التطبيق.
- مثال مقتطف برمجي للإرسال:
  ```java
  InitialContext ctx = new InitialContext();
  QueueConnectionFactory qcf = (QueueConnectionFactory) ctx.lookup("jms/MyConnectionFactory");
  Queue queue = (Queue) ctx.lookup("jms/MyQueue");
  QueueConnection conn = qcf.createQueueConnection();
  QueueSession session = conn.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);
  QueueSender sender = session.createSender(queue);
  TextMessage msg = session.createTextMessage("Hello JMS!");
  sender.send(msg);
  // إغلاق الموارد...
  ```
يعمل الاستقبال بشكل مشابه باستخدام `QueueReceiver` أو MDBs. لا حاجة لكتابة كود مخصص للناقل—فكل شيء مجرد.

#### هل تتعامل WAS مع الطابور بشكل صحيح؟
بالتأكيد. يتولى SIBus:
- **المتانة (Persistence)**: تبقى الرسائل بعد إعادة التشغيل (مخزن ملفات/قاعدة بيانات).
- **الموثوقية (Reliability)**: تسليم مضمون، طوابير الرسائل الميتة (dead-letter queues) للفشل.
- **القابلية للتوسع (Scalability)**: يتعامل مع معدل نقل عالٍ، والتجميع (clustering).
- **المراقبة (Monitoring)**: عرض الإحصائيات في وحدة التحكم الإدارية (مثل عدد الرسائل، التراكمالخلفي).
إذا ظهرت مشاكل (مثل طابور ممتلئ)، فإن السجلات والتنبيهات متاحة. إنه جاهز للإنتاج للاستخدام على مستوى المؤسسات.

#### هل نحتاج إلى إضافات إضافية مثل Kafka؟
لا، لا حاجة لأي شيء مثل Kafka—فـ SIBus مدمج بالكامل في WAS (لا يوجد تثبيت منفصل أو ترخيص يتجاوز WAS نفسه). Kafka هو منصة تدفق موزعة مختلفة؛ بينما SIBus مخصص لـ JMS وهو أبسط لتطبيقات WAS. إذا كنت بحاجة إلى ميزات تشبه Kafka (مثل التدفقات)، فيمكنك التكامل عبر روابط الناقل الأجنبية، ولكن لطابور JMS القياسي، التزم بموفر الخدمة الافتراضي.

للحصول على معلومات أعمق، راجع وثائق IBM حول [إدارة المراسلة مع موفر المراسلة الافتراضي](https://www.ibm.com/docs/en/was/9.0.5?topic=resources-managing-messaging-default-messaging-provider) و [كيف تتصل تطبيقات JMS بمحرك مراسلة على ناقل](https://www.ibm.com/docs/en/was-nd/8.5.5?topic=messaging-how-jms-applications-connect-engine-bus).