---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: شرح تبديل عناوين الشبكة بإيجاز
translated: true
type: note
---

### ما هو NAT (ترجمة عنوان الشبكة)؟

NAT هي تقنية شبكية تُستخدم لتعديل عناوين IP (وأحيانًا أرقام المنافذ) في رؤوس الحزم أثناء مرورها عبر موجه أو جدار حماية. الهدف الرئيسي منها هو السماح لأجهزة متعددة على شبكة خاصة (محلية) بمشاركة عنوان IP عام واحد عند الاتصال بالإنترنت. يساعد ذلك في الحفاظ على عناوين IP العامة، وتحسين الأمان من خلال إخفاء تفاصيل الشبكة الداخلية، وتمكين الشبكات الخاصة من التواصل مع الإنترنت العام.

هناك بعض الأنواع الشائعة من NAT:
- **‎Source NAT (SNAT)‎**: تترجم عنوان IP المصدر للحزم الصادرة (مثال: من عنوان IP خاص إلى عنوان IP عام).
- **‎Destination NAT (DNAT)‎**: تترجم عنوان IP الوجهة للحزم الواردة (مثال: لتوجيه حركة المرور إلى خادم داخلي محدد).
- **‎Port Address Translation (PAT)‎**: نوع فرعي من SNAT يعيد أيضًا تعيين المنافذ، مما يسمح للعديد من الأجهزة الخاصة بمشاركة عنوان IP عام واحد.

يتم تنفيذ NAT عادةً على الموجهات أو جدران الحماية أو البوابات.

### هل تقوم NAT بترجمة العناوين المحلية (مثل 192.168.0.x) إلى شبكة فرعية أخرى؟

نعم، بالضبط — هذه إحدى وظائفها الأساسية. نطاقات IP الخاصة مثل 192.168.0.x (أو 10.0.0.x، 172.16-31.x.x) لا يمكن توجيهها على الإنترنت العام (وفقًا لـ RFC 1918). عندما يرسل جهاز على شبكتك المحلية LAN في المنزل/المكتب (مثل 192.168.0.10) حركة مرور صادرة:

1.  يغير جهاز NAT (مثل الموجه الخاص بك) عنوان IP المصدر من العنوان الخاص (192.168.0.10) إلى عنوانه العام الخاص (مثل 203.0.113.5 في شبكة فرعية مختلفة).
2.  يتعقب أيضًا مجموعة IP/المنفذ الأصلية لإعادة كتابة الردود الواردة بشكل صحيح.
3.  تحدث هذه "الترجمة" ديناميكيًا لحركة المرور الصادرة، مما يجعل جميع أجهزتك تبدو وكأنها قادمة من عنوان عام واحد.

أما بالنسبة لحركة المرور الواردة (مثال: استضافة خادم)، فستحتاج إلى إعداد إضافي مثل توجيه المنافذ (شكل من أشكال DNAT) لتعيين عنوان IP العام مرة أخرى إلى عنوان IP خاص محدد.

### NAT في Windows XP

أنت محق — تضمنت Windows XP دعمًا مدمجًا لـ NAT عبر **‎Internet Connection Sharing (ICS)‎**. هذا سمح لك بمشاركة اتصال الإنترنت من جهاز كمبيوتر واحد (يعمل كبوابة) مع أجهزة أخرى على شبكة محلية. استخدمت ICS تقنية NAT لترجمة عناوين IP الخاصة (مثل تلك القادمة من الشبكة المشتركة) إلى عنوان IP العام لجهاز الكمبيوتر المضيف. كانت طريقة بسيطة لإعداد شبكة منزلية صغيرة قبل أن تصبح الموجهات الاستهلاكية شائعة الانتشار. يمكنك تمكينها في إعدادات "اتصالات الشبكة"، وكانت تقوم حتى بتعيين عناوين IP عبر DHCP مثل 192.168.0.x تلقائيًا.

### برنامج "Huasheng Ke" في الصين (كشف الخوادم المحلية)

أعتقد أنك تشير إلى **花生壳 (Huāshēngké)**، المعروف شائعًا باسم **Peanut Shell** — وهو خدمة DNS ديناميكي (DDNS) شائعة في الصين (وعالميًا). إنه ليس NAT بحد ذاته، ولكنه يعمل *مع* NAT لحل مشكلة "كشف الكمبيوتر المحلي كخادم" التي ذكرتها.

-   خلف NAT (مثال: على موجه منزلي)، خادمك المحلي (لنقل، خادم ويب على 192.168.0.50:80) ليس قابلًا للوصول مباشرة من الإنترنت بسبب عنوان IP الخاص.
-   يوفر Peanut Shell اسم نطاق (مثال: yourserver.peanuthull.com) يتم تحديثه ديناميكيًا للإشارة إلى عنوان IP العام الخاص بك. بالاقتران مع توجيه المنافذ على الموجه الخاص بك، فإنه "يخترق" NAT لجعل جهازك المحلي يعمل كخادم عام (للمواقع الإلكترونية، والألعاب، ومشاركة الملفات، إلخ).
-   إنه مفيد بشكل خاص في المناطق التي تحتوي على عناوين IP عامة ديناميكية أو إعدادات NAT صارمة، وقد كان موجودًا منذ أوائل العقد الأول من القرن الحادي والعشرين، يشبه خدمات مثل No-IP أو DynDNS.

إذا لم يكن هذا هو البرنامج الدقيق الذي تقصده، فلا تتردد في التوضيح!

### NAT في AWS

تستخدم AWS NAT على نطاق واسع لشبكات السحابة:
-   **‎NAT Gateway‎**: خدمة مُدارة في شبكة فرعية عامة تسمح للنُزل في الشبكات الفرعية الخاصة (مثل تلك التي تحتوي على عناوين IP خاصة مثل 10.0.1.x) ببدء الوصول إلى الإنترنت الصادر (مثال: لتحديثات البرامج) دون تعريضها مباشرة. تقوم بترجمة عناوين IP المصدر الخاصة إلى عنوان IP المرن العام للبوابة.
-   **‎NAT Instance‎**: بديل "اصنعه بنفسك" باستخدام نسخة EC2 كموجه NAT (أقل شيوعًا الآن).
-   هذا يحافظ على أمان مواردك الخاصة مع تمكين حركة المرور الصادرة أحادية الاتجاه — مثالي لـ VPCs (السحابات الخاصة الافتراضية).

باختصار، NAT موجود في كل مكان في الشبكات الحديثة لربط العالمين الخاص والعام بكفاءة. إذا كان لديك إعداد أو سيناريو محدد في ذهنك (مثال: استكشاف الأخطاء وإصلاحها)، يمكنني الخوض في تفاصيل أكثر!