---
audio: false
date: 2025-09-09
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-3
title: نظرة عامة على بروتوكول تصحيح أخطاء جافا
translated: true
type: note
---

JDWP (Java Debug Wire Protocol) هو بروتوكول يُستخدم في جافا لتصحيح الأخطاء والتواصل بين مصحح الأخطاء (debugger) وآلة جافا الافتراضية (JVM). عند استخدامه مع الخيار `-agentlib:jdwp` في جافا، فإنه يمكّن من تصحيح أخطاء التطبيقات عن بُعد. إليك تفصيل لأسئلتك:

### ما هو JDWP في `-agentlib:jdwp`؟
- **JDWP** هو بروتوكول قياسي تحدده هندسة تصحيح أخطاء منصة جافا (JPDA) لتسهيل عملية التصحيح. يسمح لمصحح الأخطاء (مثل IntelliJ IDEA أو Eclipse أو jdb) بالاتصال بـ JVM قيد التشغيل، وفحص حالتها، وتعيين نقاط التوقف، والتدرج خلال الكود، والمزيد.
- يتم تمرير الخيار `-agentlib:jdwp` إلى JVM عند بدء التشغيل لتمكين وكيل JDWP، والذي يُجهز JVM لعملية التصحيح.
- مثال على الصيغة: `-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:7777`
  - `transport=dt_socket`: يحدد آلية النقل (عادة مقابس TCP/IP للتصحيح عن بُعد).
  - `server=y`: يشير إلى أن JVM تعمل كخادم، تستمع لاتصالات مصحح الأخطاء.
  - `suspend=n`: يحدد ما إذا كان يجب على JVM التوقف عند بدء التشغيل (`n` تعمل فورًا؛ `y` تنتظر حتى يتصل مصحح الأخطاء).
  - `address=*:7777`: يحدد عنوان الشبكة والمنفذ (مثل 7777) حيث تستمع JVM لاتصالات مصحح الأخطاء.

### هل العنوان 7777؟
- العنوان `7777` ليس افتراضيًا ولكنه منفذ محدد من قبل المستخدم في معلمة `address` في تكوين `-agentlib:jdwp`. على سبيل المثال، `address=*:7777` تعني أن JVM تستمع على المنفذ 7777 لاتصالات مصحح الأخطاء الواردة.
- رقم المنفذ (مثل 7777) اختياري ويمكن أن يكون أي منفذ متاح على النظام. من الخيارات الشائعة 5005 أو 8000 أو 7777، ولكن يمكنك اختيار أي منفذ غير مستخدم.
- البادئة `*:` (مثل `*:7777`) تعني أن JVM تستمع على جميع واجهات الشبكة، مما يسمح لمصححي الأخطاء البعيدين بالاتصال من أجهزة أخرى. بدلاً من ذلك، `localhost:7777` تقصر الاتصالات على الجهاز المحلي.

### هل يُستخدم للتصحيح عن بُعد؟
- نعم، يُستخدم JDWP بشكل أساسي لل**تصحيح عن بُعد**. يسمح لمصحح الأخطاء الذي يعمل على جهاز واحد (مثل بيئة التطوير المتكاملة للمطور) بالاتصال بـ JVM تعمل على جهاز آخر (مثل خادم إنتاج أو بيئة تطوير مختلفة).
- التصحيح عن بُعد مفيد لـ:
  - تصحيح التطبيقات التي تعمل في بيئات مثل الخوادم أو الحاويات أو مثيلات السحابة.
  - فحص المشكلات التي تحدث فقط في بيئات محددة.
  - التدرج خلال الكود، ومراقبة المتغيرات، وتحليل تتبع المكدس عن بُعد.
- يدعم وكيل JDWP كلاً من التصحيح المحلي وعن بُعد، ولكن التصحيح عن بُعد هو حالته الاستخدام الأكثر شيوعًا عند التكوين بعنوان شبكة ومنفذ.

### ملاحظة أمنية
- تمكين JDWP مع منفذ يمكن الوصول إليه عبر الشبكة (مثل `*:7777`) قد يعرض JVM للوصول غير المصرح به إذا لم يتم تأمينها بشكل صحيح. في بيئة الإنتاج، تأكد من:
  - أن الجدران النارية تقيد الوصول إلى منفذ JDWP.
  - استخدام شبكات آمنة أو شبكات VPN للتصحيح عن بُعد.
  - تجنب ترك JDWP مُمكّنًا دون داع.

### مثال على الأمر
لبدء تشغيل تطبيق جافا مع JDWP للتصحيح عن بُعد على المنفذ 7777:
```bash
java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:7777 -jar MyApp.jar
```
يمكن بعدها لمصحح الأخطاء الاتصال بـ `hostname:7777` (على سبيل المثال، عبر تكوين التصحيح عن بُعد في بيئة التطوير المتكاملة).

إذا كان لديك المزيد من الأسئلة حول تكوين JDWP أو التصحيح، دعني أعلم!