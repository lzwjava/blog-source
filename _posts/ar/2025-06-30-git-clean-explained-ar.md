---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-code-fast-1
title: شرح أمر Git Clean
translated: true
type: note
---

### ما يفعله الأمر
الأمر `git clean -f -d` (بافتراض أن "clean clean" هو خطأ مطبعي وقصدت `git clean`) يزيل الملفات والمجلدات غير المُتتبعة من دليل العمل الخاص بـ Git. تتلخص الخيارات كالتالي:
- `-f` (force): مطلوب لحذف الملفات فعليًا، لأن Git لن يزيلها افتراضيًا لتجنب فقدان البيانات accidental.
- `-d` (directories): يوسع عملية التنظيف لتشمل المجلدات غير المُتتبعة، وليس فقط الملفات.

لقد كتبت `-fd -f`، والذي يجمع بين `-f -d -f`. بما أن `-f` ظهر مرتين، فهذا تكرار غير ضار — يمكن تكرار الخيارات دون مشكلة. إذا كنت تقصد شيئًا آخر، فضحّ!

### كيف يعمل
يعمل Git clean على شجرة العمل (ملفاتك المحلية)، وليس على الـ repository نفسه. إليك تفصيلًا لسلوكه خطوة بخطوة:

1. **مسح دليل العمل**: يحدد العناصر "غير المُتتبعة" — الملفات/المجلدات غير الموجودة في فهرس Git أو التي لا تتتبعها أي commits. أمثلة: الملفات المؤقتة مثل `*.log`، ونتائج البناء (build artifacts)، أو المجلدات الفارغة من الفروع المُزالَة.

2. **تطبيق الخيارات**:
   - بدون `-f`، يعرض فقط ما سيتم حذفه (وضع dry-run). مع `-f`، ينتقل إلى الحذف.
   - بدون `-d`، يتخطى المجلدات. مع `-d`، يزيل المجلدات الفارغة أو المجلدات الفارغة بشكل متكرر والتي تحتوي على ملفات غير مُتتبعة.
   - يحترم ملف `.gitignore` افتراضيًا: تبقى الملفات المُتجاهَلة دون مساس ما لم تُضِف `-x` (استثناء من قواعد ignore) أو `-X` (تنظيف الملفات المُتجاهَلة فقط).

3. **إجراءات السلامة**: يحذّر Git إذا لم يتم استخدام `-f`. لن يزيل الملفات في المجلدات المُتجاهَلة إلا إذا طُلب منه ذلك صراحةً. شغِّل `git clean --dry-run -f -d` أولاً للمعاينة.

4. **مثال للاستخدام**:
   - للتنظيف التفاعلي: `git clean -i` (يسأل عن كل عنصر).
   - سير العمل النموذجي: بعد `git reset`، استخدم هذا لمطابقة آخر commit الخاص بك تمامًا.

### محاذير وإثبات
- **المخاطرة**: حذف الملفات لا يمكن عكسه بدون نسخ احتياطية أو `git reflog`. احرص دائمًا على عمل commit لأي عمل مهم أولاً.
- **دليل من وثائق Git**: تؤكد وثائق Git الرسمية (مثل `man git-clean` أو docs.git-scm.com) هذا: `-f` يُجبر على الإزالة، `-d` يشمل المجلدات. يستخدم عمليات نظام الملفات مثل `unlink` و `rmdir`، ولكن فقط على العناصر غير المُتتبعة لتجنب إتلاف البيانات المُتتبعة.
- **نصيحة للاختبار**: في repository تجريبي، أنشئ ملفًا ومجلدًا غير مُتتبعين، ثم شغِّل الأمر — لاحظ الناتج والتغييرات في نظام الملفات.

إذا كان هذا لا يتطابق مع ما تقصده، فقدم المزيد من السياق!