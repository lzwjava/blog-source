---
audio: false
generated: true
lang: ar
layout: post
title: إعادة استخدام جلسات tmux الحالية
translated: true
type: note
---

لاستخدام جلسات tmux الحالية (مثل الجلسة `1` أو `8` في حالتك) بدلاً من إنشاء جلسات جديدة، يمكنك الالتحاق بجلسة موجودة عند بدء تشغيل tmux. إليك كيف يمكنك القيام بذلك:

### الحل
1. **عرض الجلسات الحالية**:
   قم بتشغيل `tmux list-sessions` (أو `tmux ls`) لرؤية جميع الجلسات النشطة:
   ```
   tmux list-sessions
   ```
   الناتج (من مثالك):
   ```
   1: 1 windows (created Thu Jul 10 03:03:47 2025)
   8: 1 windows (created Thu Jul 24 02:11:07 2025)
   ```

2. **الالتحاق بجلسة محددة**:
   بدلاً من تشغيل `tmux` (والذي ينشئ جلسة جديدة)، استخدم أمر `attach-session` (أو `attach`) للاتصال بجلسة موجودة. على سبيل المثال:
   - للالتحاق بالجلسة `1`:
     ```
     tmux attach-session -t 1
     ```
   - للالتحاق بالجلسة `8`:
     ```
     tmux attach-session -t 8
     ```

   يمكنك اختصار `attach-session` إلى `attach`:
   ```
   tmux attach -t 1
   ```

3. **التحقق مما إذا كان tmux قيد التشغيل بالفعل**:
   إذا حاولت الالتحاق بجلسة غير موجودة، فسوف يظهر tmux خطأ. لتجنب إنشاء جلسة جديدة عن طريق الخطأ، يمكنك التحقق مما إذا كان tmux قيد التشغيل قبل بدئه. على سبيل المثال، أضف هذا إلى سيناريو shell أو سير العمل الخاص بك:
   ```
   tmux has-session -t 1 && tmux attach -t 1 || tmux new-session -s 1
   ```
   يتحقق هذا مما إذا كانت الجلسة `1` موجودة؛ إذا كانت موجودة، فإنه يلتحق بها، وإلا فإنه ينشئ جلسة جديدة باسم `1`.

4. **اجعله مريحًا**:
   - **اسم مستعار للراحة**: أضف اسمًا مستعارًا إلى تكوين shell الخاص بك (مثل `~/.zshrc` أو `~/.bashrc`) للالتحاق دائمًا بجلسة محددة:
     ```
     alias tmux1='tmux attach -t 1 || tmux new-session -s 1'
     ```
     بعد ذلك، سيؤدي تشغيل `tmux1` إلى الالتحاق بالجلسة `1` إذا كانت موجودة أو إنشاؤها إذا لم تكن موجودة.
   - **الجلسة الافتراضية**: إذا كنت تريد دائمًا استخدام جلسة محددة (مثل `1`)، يمكنك إنشاء سيناريو أو تكوين `.tmux.conf` الخاص بك لأتمتة هذا.

5. **منع إنشاء جلسات جديدة**:
   لتجنب إنشاء جلسات جديدة افتراضيًا عند تشغيل `tmux`، يمكنك تكوين سير العمل الخاص بك للتحقق دائمًا من الجلسات الحالية. على سبيل المثال، عدّل shell الخاص بك لتشغيل:
   ```
   tmux attach -t 1 2>/dev/null || tmux new-session -s 1
   ```
   يحاول هذا الالتحاق بالجلسة `1` وقمع الأخطاء إذا لم تكن موجودة، وإنشاؤها فقط إذا لزم الأمر.

6. **اختياري: تسمية الجلسات من أجل الوضوح**:
   بدلاً من الاعتماد على معرفات الجلسات الرقمية (`1`, `8`, إلخ)، يمكنك تسمية الجلسات لتسهيل إدارتها. على سبيل المثال:
   ```
   tmux new-session -s mywork
   ```
   ثم الالتحاق بها لاحقًا باستخدام:
   ```
   tmux attach -t mywork
   ```

### لماذا يحدث هذا
عند تشغيل `tmux` بدون وسيطات، فإنه ينشئ جلسة جديدة بمعرف تزايدي تلقائي (مثل `1`, `8`). لمنع زيادة رقم الجلسة، يجب أن تعلق صراحةً على جلسة موجودة باستخدام `tmux attach -t <session>`.

### مثال على سير العمل
لاستخدام الجلسة `1` دائمًا:
1. قم بتشغيل `tmux list-sessions` للتحقق مما إذا كانت الجلسة `1` موجودة.
2. إذا كانت موجودة، قم بتشغيل `tmux attach -t 1`.
3. إذا لم تكن موجودة، قم بتشغيل `tmux new-session -s 1`.

يمكنك أتمتة هذا في shell الخاص بك:
```bash
if tmux has-session -t 1 2>/dev/null; then
  tmux attach -t 1
else
  tmux new-session -s 1
fi
```

### ملاحظات
- إذا كانت الجلسة ملتحقًا بها بالفعل في مكان آخر، فقد تحتاج إلى فصلها أولاً (`tmux detach`) أو الإلتحاق قسريًا باستخدام `tmux attach -t 1 -d` لفصل العملاء الآخرين.
- لتنظيف الجلسات غير المستخدمة، يمكنك إنهاؤها باستخدام `tmux kill-session -t <session>` (مثل `tmux kill-session -t 8`).

يضمن هذا النهج إعادة استخدامك لجلسات مثل `1` أو `2` دون زيادة عدد الجلسات.

[دليل tmux](https://man.openbsd.org/tmux.1)