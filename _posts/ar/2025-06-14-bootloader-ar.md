---
audio: false
generated: true
lang: ar
layout: post
title: حرق مُحمِّل الإقلاع
translated: true
type: note
---

حرق مُحمِّل الإقلاع (bootloader) على لوحة Arduino Uno R3 يكون ضرورياً إذا كانت الشريحة الدقيقة (ATmega328P) فارغة، أو تالفة، أو تحتاج إلى استبدال. هذه العملية تبرمج الشريحة بالبرنامج الثابت (firmware) المطلوب للتواصل مع بيئة تطوير Arduino وتشغيل الاسكتشات (sketches). فيما يلي دليل خطوة بخطوة لحرق مُحمِّل الإقلاع باستخدام الطرق الشائعة.

---

### **المتطلبات**
- **لوحة Arduino Uno R3** (اللوحة الهدف التي تحتوي على شريحة ATmega328P المراد برمجتها).
- **مبرمِج (Programmer)**: أحد الخيارات التالية:
  - لوحة Arduino أخرى عاملة (مثل لوحة Uno R3 أخرى) لاستخدامها كـ "Arduino as ISP".
  - مبرمِج مخصص مثل **USBasp**، أو **AVRISP mkII**، أو **Atmel-ICE**.
- **بيئة تطوير Arduino (Arduino IDE)** (يمكن تنزيلها من [arduino.cc](https://www.arduino.cc/en/software)).
- **أسلاك توصيل (Jumper wires)** (في حالة استخدام Arduino كمبرمِج).
- **كابل USB** (لتوصيل المبرمِج أو لوحة Arduino بالكمبيوتر).

---

### **الطريقة 1: استخدام لوحة Arduino أخرى (Arduino as ISP)**

تستخدم هذه الطريقة لوحة Arduino ثانية (مثل لوحة Uno R3 أخرى) كمبرمِج في النظام (In-System Programmer - ISP) لحرق مُحمِّل الإقلاع.

#### **الخطوات**
1. **تحضير لوحة Arduino المبرمِجة**:
   - قم بتوصيل لوحة Arduino الثانية (المبرمِجة) بجهاز الكمبيوتر عبر كابل USB.
   - افتح برنامج Arduino IDE، واذهب إلى **File > Examples > 11.ArduinoISP > ArduinoISP**، وقم برفع هذا الاسكتش (sketch) إلى لوحة Arduino المبرمِجة. هذا يحولها إلى مبرمِج ISP.

2. **توصيل اللوحتين**:
   - قم بتوصيل لوحة Arduino المبرمِجة بلوحة Arduino Uno R3 الهدف (التي تحتاج إلى مُحمّل الإقلاع) على النحو التالي:
     - **لوحة Arduino المبرمِجة** → **لوحة Arduino Uno R3 الهدف**:
       - 5V → 5V
       - GND → GND
       - Pin 10 → Reset
       - Pin 11 → Pin 11 (MOSI)
       - Pin 12 → Pin 12 (MISO)
       - Pin 13 → Pin 13 (SCK)
   - بدلاً من ذلك، إذا كانت لوحة Uno R3 الهدف تحتوي على **رأس ICSP**، فقم بتوصيل المسارات المقابلة لـ ICSP (MOSI, MISO, SCK, VCC, GND, Reset) مباشرة باستخدام أسلاك التوصيل.

3. **إعداد برنامج Arduino IDE**:
   - في برنامج Arduino IDE، اذهب إلى **Tools > Board** واختر **Arduino Uno** (لللوحة الهدف Uno R3).
   - اذهب إلى **Tools > Programmer** واختر **Arduino as ISP**.
   - تأكد من تحديد المنفذ (Port) الصحيح للوحة Arduino المبرمِجة تحت **Tools > Port**.

4. **حرق مُحمِّل الإقلاع**:
   - اذهب إلى **Tools > Burn Bootloader**.
   - سيقوم برنامج IDE باستخدام لوحة Arduino المبرمِجة لبرمجة مُحمّل الإقلاع على شريحة ATmega328P في اللوحة الهدف Uno R3. قد تستغرق هذه العملية دقيقة تقريباً.
   - إذا نجحت العملية، ستظهر رسالة "Done burning bootloader". إذا ظهر خطأ، فقم بمراجعة التوصيات مرة أخرى وتأكد من أن لوحة Arduino المبرمِجة تشغل اسكتش ArduinoISP.

5. **اختبار اللوحة الهدف**:
   - افصل لوحة Arduino المبرمِجة وأسلاك التوصيل.
   - قم بتوصيل لوحة Uno R3 الهدف بجهاز الكمبيوتر via USB.
   - قم برفع اسكتش بسيط (مثل مثال Blink من **File > Examples > 01.Basics > Blink**) للتأكد من عمل مُحمّل الإقلاع.

---

### **الطريقة 2: استخدام مبرمِج ISP مخصص (مثل USBasp)**

إذا كان لديك مبرمِج مخصص مثل USBasp، فإن العملية تكون أكثر بساطة وغالباً ما تكون أكثر موثوقية.

#### **الخطوات**
1. **توصيل المبرمِج**:
   - قم بتوصيل مبرمِج USBasp (أو مبرمِج مشابه) بجهاز الكمبيوتر via USB.
   - قم بتوصيل المبرمِج بـ **رأس ICSP** الموجود على لوحة Arduino Uno R3 الهدف باستخدام كابل ICSP ذو 6 مسارات. تأكد من الاتجاه الصحيح (عادةً ما تكون المسار 1 محددة بنقطة أو شق على رأس ICSP).

2. **إعداد برنامج Arduino IDE**:
   - افتح برنامج Arduino IDE.
   - اذهب إلى **Tools > Board** واختر **Arduino Uno**.
   - اذهب إلى **Tools > Programmer** واختر المبرمِج الخاص بك (مثل **USBasp** أو **AVRISP mkII**).
   - حدد المنفذ (Port) الصحيح تحت **Tools > Port** (إذا كان ذلك ينطبق، بعض المبرمجات لا تتطلب تحديد منفذ).

3. **حرق مُحمِّل الإقلاع**:
   - اذهب إلى **Tools > Burn Bootloader**.
   - سيقوم برنامج IDE باستخدام المبرمِج لبرمجة مُحمّل الإقلاع. تستغرق هذه العملية حوالي 10-30 ثانية.
   - تشير رسالة "Done burning bootloader" إلى النجاح. إذا فشلت، فتحقق من التوصيلات وتأكد من أن الكمبيوتر يتعرف على المبرمِج.

4. **اختبار اللوحة**:
   - افصل المبرمِج.
   - قم بتوصيل لوحة Uno R3 بجهاز الكمبيوتر via USB وقم برفع اسكتش اختباري (مثل Blink) للتحقق من وظائفها.

---

### **نصائح لاستكشاف الأخطاء وإصلاحها**
- **رسائل الخطأ**: إذا ظهرت لك أخطاء مثل "avrdude: stk500_getsync()" أو "not in sync"، فتحقق من:
  - جميع التوصيلات (الأسلاك أو كابل ICSP).
  - أن لوحة Arduino المبرمِجة تشغل اسكتش ArduinoISP (في الطريقة 1).
  - أن المبرمِج الصحيح محدد في برنامج IDE.
- **مشاكل التعريفات (Drivers)**: لمبرمِج USBasp أو غيره، تأكد من تثبيت التعريفات المطلوبة (مثل استخدام برنامج Zadig لـ USBasp على Windows).
- **شريحة دقيقة فارغة**: إذا كانت شريحة ATmega328P جديدة أو فارغة، فقد تحتاج إلى بلورة (crystal) خارجية بتردد 16 MHz ومكثفين سعة 22 بيكوفاراد موصولين بالمسارين 9 و 10 (XTAL1/XTAL2) إذا لم يكونا موجودين مسبقاً على لوحة Uno R3.
- **مصدر الطاقة**: تأكد من أن اللوحة الهدف موصولة بالطاقة (عبر USB أو VIN) أثناء عملية البرمجة.

---

### **ملاحظات إضافية**
- **لماذا نحرق مُحمّل الإقلاع؟**: يسمح مُحمّل الإقلاع للوحة Arduino Uno R3 بالتواصل مع برنامج Arduino IDE عبر USB لرفع الاسكتشات. بدونه، لن تستجيب اللوحة لعمليات الرفع عبر USB.
- **نوع مُحمّل الإقلاع**: تستخدم لوحة Uno R3 مُحمّل الإقلاع **Optiboot**، وهو مضغوط ويدعم عمليات رفع أسرع مقارنة بمُحمّلات الإقلاع الأقدم.
- **استبدال الشريحة الدقيقة**: إذا كنت تقوم باستبدال شريحة ATmega328P، فتأكد من أنها من نوع ATmega328P-PU (عبوة DIP) لتتناسب مع مقبس لوحة Uno R3. بينما تتطلب النسخ ذات العبوة السطحية (SMD) لحاماً متقدماً.
- **أدوات بديلة**: يمكنك أيضاً استخدام **AVRDUDE** أو **PlatformIO** لحرق مُحمّل الإقلاع، لكن يظل برنامج Arduino IDE هو الأسهل للمبتدئين.

إذا كنت تحتاج إلى توضيح أي خطوة أو مساعدة بخصوص مبرمِج معين، فأخبرني!