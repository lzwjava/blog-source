---
audio: false
generated: true
lang: ar
layout: post
title: تجميع Maven قبل الالتزام في Git
translated: true
type: note
---

نعم، يمكنك تشغيل `mvn compile` في مستودع Git المحلي قبل تنفيذ `git commit`. إليك شرحًا موجزًا والخطوات:

1. **تأكد من تثبيت Maven**: تأكد من تثبيت Maven وتكوينه على نظامك (استخدم `mvn -version` للتحقق).

2. **انتقل إلى مستودع Git الخاص بك**: استخدم `cd المسار/إلى/مستودعك` للانتقال إلى مستودع Git المحلي الخاص بك الذي يحتوي على مشروع Maven (بوجود ملف `pom.xml`).

3. **شغّل Maven Compile**: نفّذ `mvn compile` لترميز كود Java الخاص بك. سيقوم هذا بما يلي:
   - ترميز الكود المصدري في `src/main/java`.
   - وضع الفئات المرمزة في `target/classes`.
   - الإبلاغ عن أي أخطاء في الترجمة.

4. **تحقق من حالة الترجمة**:
   - إذا نجح `mvn compile` (ينتهي بـ `BUILD SUCCESS`)، يمكنك المتابعة مع عمليات Git.
   - إذا فشل (على سبيل المثال، بسبب أخطاء في الصيغة)، أصلح الكود قبل الالتزام.

5. **سير عمل Git**:
   - ضع التغييرات في مرحلة الانتظار: `git add .` (أو ملفات محددة).
   - التزم بالتغييرات: `git commit -m "رسالة الالتزام الخاصة بك"`.

### اختياري: أتمتة باستخدام خطاطيف Git
لضمان تشغيل `mvn compile` قبل كل `git commit`، يمكنك استخدام خطاف Git pre-commit:
1. انتقل إلى `.git/hooks` في مستودعك.
2. أنشئ أو حرر الملف `pre-commit` (بدون امتداد ملف).
3. أضف نصًا برمجيًا مثل:
   ```bash
   #!/bin/sh
   mvn compile
   if [ $? -ne 0 ]; then
       echo "فشلت الترجمة، تم إلغاء الالتزام."
       exit 1
   fi
   ```
4. اجعله قابلاً للتنفيذ: `chmod +x .git/hooks/pre-commit`.
   - الآن، سيمضي `git commit` قدمًا فقط إذا نجح `mvn compile`.

### ملاحظات
- **التبعيات**: تأكد من تكوين `pom.xml` بشكل صحيح، وأن التبعيات قد تم تنزيلها (استخدم `mvn dependency:resolve` إذا لزم الأمر).
- **الأداء**: يضمن تشغيل `mvn compile` قبل كل التزام جودة الكود ولكن قد يبطئ سير العمل الخاص بك للمشاريع الكبيرة.
- **أوامر بديلة**: إذا كنت تريد تضمين الاختبارات، استخدم `mvn test` بدلاً من `mvn compile` لترميز وتشغيل اختبارات الوحدة.

هذا النهج يضمن نجاح ترجمة الكود الخاص بك قبل الالتزام به في مستودع Git.