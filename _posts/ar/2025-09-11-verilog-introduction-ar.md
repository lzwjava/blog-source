---
audio: false
date: 2025-09-11
generated: true
image: false
lang: ar
layout: post
model: google/gemini-2.5-flash
title: 'فيريلوج: مقدمة في لغة وصف العتاد'
translated: true
type: note
---

فيريلوج، التي يُشار إليها غالبًا باسم **فيريلوج HDL (لغة وصف العتاد)**، هي لغة قوية ومستخدمة على نطاق واسع لوصف وتصميم ومحاكاة وتوليف الدوائر والأنظمة الإلكترونية الرقمية. إنها أداة أساسية في أتمتة التصميم الإلكتروني الحديث (EDA).

إليك مقدمة شاملة عن فيريلوج:

---

### 1. ما هي فيريلوج؟

في جوهرها، فيريلوج هي **لغة وصف العتاد (HDL)**. على عكس لغات برمجة البرامج التقليدية (مثل C++ أو Python) التي يتم تنفيذها بشكل تسلسلي على معالج، تم تصميم فيريلوج خصيصًا لوصف **هيكل وسلوك دوائر العتاد**. هذا يعني أنها يمكنها نمذجة:

*   **التزامن:** تعمل مكونات العتاد بالتوازي. تدعم فيريلوج هذا المفهوم بشكل أصيل.
*   **الزمن:** التأخيرات، دورات الساعة، والعلاقات الزمنية هي أساسية في العتاد، ويمكن لفيريلوج نمذجة هذه الأشياء بشكل صريح.
*   **التسلسل الهرمي:** يتم بناء الدوائر المعقدة من دوائر فرعية أصغر مترابطة. تسمح فيريلوج بالتصميم المعياري والهرمي.

### 2. لماذا فيريلوج؟ (المشكلة التي تحلها)

قبل ظهور لغات وصف العتاد، تم تصميم الدوائر الرقمية في المقام الأول باستخدام **التقاط التخطيطات** (رسم البوابات والأسلاك يدويًا) أو عن طريق كتابة قوائم توصيل منخفضة المستوى للغاية. أصبح هذا النهج غير قابل للإدارة للتصاميم المعقدة بسبب:

*   **التعقيد:** الرقاقات الحديثة تحتوي على مليارات الترانزستورات. التصميم اليدوي عرضة للأخطاء ويستغرق وقتًا طويلاً.
*   **التجريد:** احتاج المصممون إلى مستوى أعلى من التجريد لت conceptualize والتحقق من الوظيفة قبل الانتقال إلى التخطيط المادي.
*   **إعادة الاستخدام:** من الصعب تعديل مكونات التخطيطات وإعادة استخدامها عبر المشاريع.
*   **التحقق:** كان اختبار وظيفة التصاميم التخطيطية الكبيرة صعبًا للغاية.

تعالج فيريلوج هذه التحديات من خلال توفير **تجريد عالي المستوى قائم على النص** يسمح للمهندسين بـ:

*   **وصف المنطق المعقد بكفاءة:** بدلاً من رسم البوابات، تكتب كودًا.
*   **محاكاة السلوك:** التحقق من صحة التصميم قبل التصنيع.
*   **توليف العتاد:** ترجمة الوصف عالي المستوى تلقائيًا إلى قائمة توصيل على مستوى البوابة المادية.
*   **إدارة التعقيد:** استخدام النمطية والتسلسل الهرمي.
*   **تعزيز إعادة الاستخدام:** يمكن إنشاء كتل التصميم وإعادة استخدامها بسهولة.

### 3. الخصائص والمفاهيم الرئيسية

#### أ. الطبيعة المتزامنة
التمييز الأكثر أهمية عن برمجة البرامج. جميع كتل `always` وعبارات `assign` في فيريلوج (التي تصف سلوك العتاد) يتم تنفيذها بشكل مفهوم **بالتوازي**. يتم دفع تدفق التنفيذ بواسطة الأحداث (مثل حواف الساعة، التغييرات في إشارات الإدخال)، وليس بواسطة عداد برنامج تسلسلي من أعلى إلى أسفل.

#### ب. مستويات التجريد

تدعم فيريلوج مستويات مختلفة من التجريد، مما يسمح للمصممين بالانتقال من الأوصاف الوظيفية عالية المستوى إلى التطبيقات على مستوى البوابة:

*   **المستوى السلوكي:** يصف وظيفة الدائرة باستخدام الخوارزميات والعبارات التسلسلية وتدفق البيانات. يركز على *ماذا* تفعل الدائرة، دون بالضرورة التفصيل في هيكلها المادي الدقيق.
    *   *مثال:* كتلة `always` تصف منطق زيادة عداد أو انتقالات حالة آلة الحالات المحدودة (FSM).
*   **مستوى نقل التسجيل (RTL):** المستوى الأكثر شيوعًا لتصميم الدوائر الرقمية. يصف تدفق البيانات بين المسجلات وكيف يحول المنطق التوافقي تلك البيانات. إنه يعني مكونات عتاد محددة (مسجلات، موالف متعدد، دوالج جمع) دون تحديد تطبيقها الدقيق للبوابة.
    *   *مثال:* `always @(posedge clk) begin if (reset) count <= 0; else count <= count + 1; end`
*   **المستوى الهيكلي:** يصف الدائرة كترابط بين البوابات و/أو الوحدات المعرفة مسبقًا. يشبه بناء دائرة عن طريق توصيل مكونات جاهزة.
    *   *مثال:* إنشاء بوابة AND وتوصيل مدخلاتها ومخرجاتها.
*   **مستوى البوابة:** المستوى الأدنى، يصف الدائرة باستخدام البوابات الأولية (AND, OR, NOT, XOR, NAND, NOR, XNOR) المقدمة من فيريلوج. غالبًا ما يستخدم لتعيين التكنولوجيا بعد التوليف.
    *   *مثال:* `and (out, in1, in2);`

#### ج. الوحدات (Modules)

لبنة البناء الأساسية في فيريلوج. ت encapsulate الوحدة قطعة من العتاد، مع تعريف مدخلاتها ومخرجاتها ومنطقها الداخلي. يتم إنشاء تصاميم معقدة عن طريق إنشاء وحدات متعددة وتوصيلها.

*   **المنافذ (Ports):** المدخلات، والمخرجات، والمداخل/المخارج التي تتواصل من خلالها الوحدة مع العالم الخارجي.

#### د. أنواع البيانات

تمتلك فيريلوج أنواع بيانات محددة لتمثيل إشارات العتاد:

*   **الشبكات (`wire`, `tri`):** تمثل الاتصالات المادية بين المكونات. لا تقوم بتخزين القيم؛ يتم دفع قيمتها بشكل مستمر بواسطة شيء ما (عبارة `assign`، مخرج وحدة). تستخدم في المقام الأول للمنطق التوافقي.
*   **المسجلات (`reg`):** تمثل عناصر تخزين البيانات. يمكنها الاحتفاظ بقيمة حتى يتم تغييرها بشكل صريح. تُستخدم داخل كتل `initial` و `always`. ملاحظة: لا يعني `reg` بالضرورة مسجلًا ماديًا بعد التوليف؛ إنه يعني فقط أنه يحمل قيمة في المحاكاة. يتم استنتاج المسجل المادي (قلاب) عندما يتم تحديث `reg` بشكل متزامن مع حافة الساعة.
*   **المعاملات (Parameters):** ثوابت تُستخدم للتكوين (مثل عرض البت، أحجام الذاكرة).

#### هـ. عبارات التعيين

*   **التعيينات المستمرة (`assign`):** تُستخدم للمنطق التوافقي. يتم تحديث المخرج باستمرار كلما تغير أي مدخل، يشبه إلى حد كبير السلك المادي.
    *   *مثال:* `assign sum = a ^ b ^ carry_in;`
*   **التعيينات الإجرائية:** تحدث داخل كتل `initial` أو `always`.
    *   **التعيين الحاجز (`=`):** يتصرف مثل التعيين التقليدي في البرامج؛ يقوم بالتقييم والتعيين فورًا. يمكن أن يؤدي إلى ظروف تنافسية إذا لم يتم استخدامه بحذر في كتل `always`.
    *   **التعيين غير الحاجز (`<=`):** يتم تقييم جميع تعابير الطرف الأيمن في بداية الخطوة الزمنية، ويتم إجراء التعيينات في النهاية. أمر بالغ الأهمية لنمذجة العتاد المتزامن (المزود بالساعة) مثل القلابات، لأنه يتجنب ظروف التنافس ويعكس بدقة نقل البيانات المتوازي.

#### و. الكتل الإجرائية

*   **كتلة `always`:** تصف السلوك الذي يتكرر بمرور الوقت أو على أحداث محددة. تُستخدم لكل من المنطق التوافقي (حساس لجميع المدخلات) والمنطق التسلسلي (حساس لحواف الساعة، إشارات إعادة التعيين).
*   **كتلة `initial`:** يتم تنفيذها مرة واحدة فقط في بداية المحاكاة. تُستخدم في المقام الأول لـ testbenches (لتطبيق المحفزات) أو لتهيئة الذاكرة/المسجلات.

### 4. التكامل مع سير عمل التصميم

تلعب فيريلوج دورًا حاسمًا خلال سير العمل النموذجي لتصميم الدوائر المتكاملة/FPGA:

1.  **المواصفات:** تحديد متطلبات الدائرة.
2.  **التصميم (ترميز RTL):** كتابة كود فيريلوج لوصف سلوك وهيكل الدائرة على مستوى نقل التسجيل.
3.  **المحاكاة والتحقق:** استخدام testbenches فيريلوج (وحدات منفصلة توفر المدخلات وتتحقق من المخرجات) ومحاكيات EDA للتحقق من أن تصميم RTL يعمل بشكل صحيح. هذه عملية تكرارية.
4.  **التوليف:** ترجمة كود فيريلوج السلوكي/RTL إلى قائمة توصيل على مستوى البوابة (وصف للدائرة باستخدام البوابات الأولية وترابطاتها) خاص بتكنولوجيا مستهدفة (مثل FPGA أو مكتبة ASIC).
5.  **الوضع والتوجيه:** ترتيب البوابات فعليًا على الرقاقة وتوصيلها بأسلاك.
6.  **المحاكاة/تحليل التوقيت بعد التخطيط:** إعادة التحقق من التصميم مع التأخيرات المادية الفعلية.
7.  **التصنيع (لـ ASICs) / البرمجة (لـ FPGAs).**

### 5. التطبيقات

تُستخدم فيريلوج على نطاق واسع في تصميم:

*   **FPGAs (مصفوفات البوابات القابلة للبرمجة ميدانيًا):** للنماذج الأولية السريعة، والإنتاج ذو الحجم المنخفض إلى المتوسط، والحوسبة قابلة لإعادة التكوين.
*   **ASICs (الدوائر المتكاملة الخاصة بالتطبيق):** للإنتاج ذو الحجم الكبير، وأقصى أداء، واستهلاك منخفض للطاقة.
*   **المعالجات الدقيقة ومتحكمات**
*   **معالجات الإشارات الرقمية (DSPs)**
*   **أنظمة الاتصالات (الشبكات، اللاسلكية)**
*   **معالجات الرسومات**
*   **الأنظمة المدمجة**

### 6. مزايا فيريلوج

*   **معيار صناعي:** معياري من قبل IEEE (IEEE 1364)، مما يضمن التشغيل البيني عبر أدوات وبائعي EDA مختلفين.
*   **التجريد:** يسمح للمصممين بالعمل على مستويات أعلى، وإدارة التعقيد.
*   **نمذجة التزامن:** يدعم بشكل طبيعي الطبيعة المتوازية للعتاد.
*   **نمذجة الزمن:** يمكن من محاكاة دقيقة للسلوك الزمني.
*   **دعم الأدوات:** مدعوم من قبل جميع أدوات EDA الرئيسية تقريبًا للمحاكاة، والتوليف، والتحقق الشكلي، إلخ.
*   **القابلية للقراءة والصيانة:** الكود القائم على النص أسهل في القراءة والتعديل والتوثيق من التخطيطات المعقدة.
*   **إعادة الاستخدام:** يمكن إعادة استخدام كتل التصميم بسهولة في المشاريع المستقبلية.
*   **الاعتماد الواسع:** مجتمع ضخم وموارد واسعة النطاق متاحة.

### 7. التطور: SystemVerilog

بينما فيريلوج قوية بشكل لا يصدق، كانت قدراتها لمهام التحقق المعقدة محدودة. أدى هذا إلى تطوير **SystemVerilog**، وهو امتداد ومجموعة شاملة لفيريلوج HDL. يدمج SystemVerilog:

*   **أنواع بيانات متقدمة:** أنواع enumerated، وهياكل، واتحادات، وفئات (للتحقق).
*   **نمذجة سلوكية محسنة:** التأكيدات، وواجهات، وإنشاءات إجرائية جديدة.
*   **إنشاءات البرمجة كائنية التوجه (OOP):** خصيصًا لبناء testbenches قوية وقابلة لإعادة الاستخدام (غالبًا باستخدام UVM - منهجية التحقق العالمية).
*   **التغطية الوظيفية والعشوائية:** أساسية للتحقق الحديث.

SystemVerilog هو الآن لغة وصف العتاد المهيمنة لكل من التصميم والتحقق في الصناعة، على الرغم من أن فيريلوج العادية لا تزال مستخدمة على نطاق واسع، خاصة للكود القديم والتصاميم الأبسط.

---

باختصار، فيريلوج هي أكثر من مجرد لغة برمجة؛ إنها نموذج تصميم يربط الفجوة بين الأفكار المجردة والدوائر الإلكترونية المادية، مما يجعل إنشاء أنظمة رقمية معقدة بشكل لا يصدق ممكنًا اليوم.