---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: توجيه الموجه الأساسي المباشر موضح
translated: true
type: note
---

نعم، أنت على المسار الصحيح مع تلك النظرة المبسطة للتوجيه — إنها طريقة رائعة للتفكير في الأساسيات! دعني أوضحها خطوة بخطوة للتأكيد والتوسع فيها.

### الحالة البسيطة: التوجيه المباشر (المتصل)
في إعداد جهاز التوجيه الأساسي، خاصة للشبكات المتصلة مباشرة بمنافذ (واجهات) جهاز التوجيه، يمكن أن يكون التوجيه مباشرًا كما وصفت:
- **نطاقات عناوين المنافذ (الشبكات الفرعية)**: يتم تكوين كل واجهة موجه بشبكة فرعية (على سبيل المثال، المنفذ 1 يتعامل مع 192.168.1.0/24، والمنفذ 2 يتعامل مع 10.0.0.0/24). يعرف الموجه هذه لأنها مُكونة بشكل ثابت أو يتم اكتشافها تلقائيًا.
- **الاتجاه الصاعد مقابل الاتجاه الهابط**: هذا يتعلق بشكل أساسي بالاتجاهية. تربط المنافذ الهابطة الشبكات المحلية (مثل أجزاء شبكة LAN)، بينما قد يشير المنفذ الصاعد إلى بوابة أو موفر خدمة إنترنت (مثلًا للوصول إلى الإنترنت). لا يحتاج الموجه إلى منطق معقد هنا — فهو ببساطة يطابق IP الوجهة للحزمة مع الشبكة الفرعية الصحيحة.
- **التكرار والتوجيه**: عندما تصل حزمة، يقوم الموجه بما يلي:
  1. ينظر إلى عنوان IP الوجهة.
  2. يتحقق من جدول التوجيه الخاص به (أو يتكرر مباشرة عبر الشبكات الفرعية المتصلة إذا كان الجدول بسيطًا).
  3. يجد الواجهة المطابقة (مثلًا، "عنوان IP هذا يقع ضمن النطاق 192.168.1.0/24 → أرسله عبر المنفذ 1").
  4. يوجه الحزمة عبر ذلك المنفذ.

يُسمى هذا **التوجيه المتصل** أو **التوجيه المباشر**، وتتعامل معه آلية التوجيه IP الأساسية في الموجه (غالبًا عبر مطابقة أطول بادئة في جدول التوجيه). لا حاجة لخوارزمية معقدة — إنها فعالة وتحدث في العتاد (ASICs) للسرعة. في أدوات مثل Cisco IOS أو أمر Linux `ip route`، سترى هذه مدخلات كمدخلات "C" (متصل) في جدول التوجيه.

مقتطف مثال من جدول التوجيه (مبسط):
| الوجهة         | القفزة التالية | الواجهة |
|----------------|----------------|-----------|
| 192.168.1.0/24 | -              | Port1 (شبكة LAN هابطة) |
| 10.0.0.0/24    | -              | Port2 (شبكة LAN هابطة) |
| 0.0.0.0/0      | 203.0.113.1    | Port3 (شبكة WAN صاعدة) |

لحزمة موجهة إلى 192.168.1.10؟ → توجه مباشرة إلى Port1. لأي شيء آخر؟ → المسار الافتراضي في الاتجاه الصاعد.

### عندما تصبح الأمور أكثر تعقيدًا: خوارزميات التوجيه الكاملة
وصفك يعمل بشكل مثالي لحركة المرور *المحلية*، ولكن للوصول إلى الشبكات البعيدة (مثلًا عبر الإنترنت)، تحتاج أجهزة التوجيه إلى **خوارزميات وبروتوكولات التوجيه** *لبناء والحفاظ على* جدول التوجيه الكامل ديناميكيًا:
- **لماذا؟** أجهزة التوجيه لا تعرف بطبيعتها عن الشبكات الفرعية البعيدة — إنها تتعلمها من الجيران عبر بروتوكولات مثل RIP أو OSPF أو BGP.
- **كيف يعمل**:
  - **التوجيه الثابت**: تقوم بإضافة مسارات يدويًا (مثلًا، "كل حركة المرور لـ 8.8.8.0/24 تذهب عبر القفزة التالية 192.168.1.1"). بسيط، لكنه لا يتوسع بسهولة.
  - **التوجيه الديناميكي**: خوارزميات مثل:
    - **متجه المسافة** (مثل RIP): تشارك أجهزة التوجيه جدولها الكامل مع الجيران بشكل دوري. "مرحبًا، يمكنني الوصول إلى X عبر Y قفزة — هل تريد معرفة ذلك؟"
    - **حالة الرابط** (مثل OSPF): تقوم أجهزة التوجيه بفيضان معلومات الرابط (مثلًا، "المنفذ 1 نشط، التكلفة 10") وتحسب أقصر المسارات باستخدام خوارزمية ديكسترا. تبني خريطة للشبكة.
    - **متجه المسار** (مثل BGP للإنترنت): يتتبع المسارات الكاملة لتجنب الحلقات، ويستخدمه موفرو خدمة الإنترنت.
  - يتم ملء جدول التوجيه بمسارات مُتعلمة (مثلًا، "S" للتوجيه الثابت، "O" لـ OSPF)، ولا يزال الموجه يقوم ببحث/توجيه سريع.

في فكرتك البسيطة القائمة على التكرار، تضيف البروتوكولات الديناميكية ببساطة المزيد من المدخلات "للتكرار" عليها — يبقى التوجيه سريعًا.

### هل هذا دقيق في الممارسة العملية؟
بالتأكيد للشبكات الصغيرة/المنزلية (مثل جهاز توجيه استهلاكي Netgear). لشبكات المؤسسات ومراكز البيانات، إنه نفس المبدأ ولكن مع توسع ليضم ملايين المسارات وتحسينات. إذا لم تطابق الحزم أي مسار؟ → يتم إسقاطها أو إرسالها إلى البوابة الافتراضية.

إذا كنت تفكر في تنفيذ هذا (مثلًا في Python باستخدام Scapy أو محاكٍ مثل Cisco Packet Tracer)، دعني أعلم — يمكنني رسم بعض الكود الزائف! ما هو سياق سؤالك — إعداد منزلي، دراسة لشهادة CCNA، أو شيء آخر؟