---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-code-fast-1
title: نظرة عامة على نظام التحميل التلقائي في كود إيجنتر
translated: true
type: note
---

### نظرة عامة على نظام التحميل التلقائي في CodeIgniter

في CodeIgniter (إطار عمل PHP)، يسمح لك ملف `autoload.php` (الموجود عادةً في `application/config/autoload.php`) بتحديد الموارد التي يجب تحميلها تلقائيًا في كل طلب. هذا يجعل المكونات شائعة الاستخدام متاحة دون الحاجة إلى تحميلها يدويًا في كل وحدة تحكم أو في مكان آخر، مما يحسن الكفاءة ويقلل من تكرار التعليمات البرمجية. يقوم الإطار بتحميل هذه المكونات أثناء عملية التهيئة، قبل توجيه الطلب.

يحدد الملف مصفوفة `$autoload` تحتوي على مصفوفات فرعية لأنواع مختلفة من الموارد: الحزم، المكتبات، برامج التشغيل، المساعدين، ملفات التكوين، ملفات اللغة، والنماذج. تقوم بملء هذه المصفوفات بأسماء الموارد التي تريد تحميلها تلقائيًا. قم بإلغاء التعليق أو تعديل الأسطر لتمكين التحميل؛ اتركها فارغة للتخطي.

### كيفية عمله في الممارسة العملية

تتحقق عملية التمهيد في CodeIgniter (عبر `index.php` ونواة CI) من هذا الملف أثناء تهيئة النظام. تقوم بالتكرار خلال مصفوفة `$autoload` وتحمل كل مورد محدد عن طريق:
- العثور على الملف في الدليل المناسب (مثل `system/libraries/` للمكتبات الأساسية، `application/libraries/` للمكتبات المخصصة).
- إنشاء مثيل للفئات (للمكتبات/النماذج) أو تضمين الملفات (للمساعدين/ملفات التكوين).
- جعلها متاحة عالميًا (على سبيل المثال، يمكن الوصول إلى المكتبات عبر `$this->library_name` في وحدات التحكم).

إذا لم يتم العثور على المورد، فقد يتسبب ذلك في أخطاء — تأكد من صحة المسارات والأسماء. يمكنك تحميل عناصر إضافية يدويًا لاحقًا إذا لزم الأمر باستخدام طرق مثل `$this->load->library('session')`.

### تفصيل كل قسم في ملفك

إليك شرحًا لكل قسم بناءً على الكود المقدم. لقد قمت بتضمين وظيفة كل مصفوفة، وملاحظات الاستخدام، وأمثلة. القيم الافتراضية فارغة في الغالب للحفاظ على خفة إطار العمل.

#### 1. الحزم ذات التحميل التلقائي
```php
$autoload['packages'] = array();
```
- **الغرض**: تحميل الحزم من طرف ثالث. هذه عادةً ما تكون مجموعات قابلة لإعادة الاستخدام من المكتبات/المساعدين/النماذج، غالبًا في أدلة فرعية مثل `APPPATH.'third_party'` أو مسارات مخصصة.
- **كيف يعمل**: يضيف الأدلة المحددة إلى مصفوفة مسارات الحزم. سيقوم CodeIgniter بعد ذلك بالبحث فيها عن الفئات ذات البادئة `MY_` وتحميلها حسب الحاجة.
- **الاستخدام**: مثال: `$autoload['packages'] = array(APPPATH.'third_party', '/usr/local/shared');` – يستبدل المسارات في استدعاءات مثل `$this->load->add_package_path()`.
- **ملاحظة**: فارغ افتراضيًا؛ مفيد لتوسيع الإطار دون تغييرات في النواة.

#### 2. المكتبات ذات التحميل التلقائي
```php
$autoload['libraries'] = array();
```
- **الغرض**: تحميل مكتبات الفئات (مثل إدارة الجلسات، البريد الإلكتروني، إلخ).
- **كيف يعمل**: يحمل وينشئ مثيلات للفئات من `system/libraries/` أو `application/libraries/`. تشمل الأمثلة الشائعة 'database', 'session', 'email'.
- **الاستخدام**: مثال: `$autoload['libraries'] = array('database', 'email', 'session');` أو مع أسماء مستعارة مثل `$autoload['libraries'] = array('user_agent' => 'ua');` (يسمح باستخدام `$this->ua` بدلاً من `$this->user_agent`).
- **ملاحظة**: قاعدة البيانات خاصة — تحميلها يتصل تلقائيًا. تجنب التحميل التلقائي المفرط لتقليل استخدام الذاكرة.

#### 3. برامج التشغيل ذات التحميل التلقائي
```php
$autoload['drivers'] = array();
```
- **الغرض**: تحميل المكتبات القائمة على برامج التشغيل التي تقدم تنفيذات قابلة للتبديل (مثل التخزين المؤقت، معالجة الصور).
- **كيف يعمل**: فئات فرعية من `CI_Driver_Library`. يحمل فئة برنامج التشغيل والدليل الفرعي الخاص بها.
- **الاستخدام**: مثال: `$autoload['drivers'] = array('cache');` – يحمل `system/libraries/Cache/drivers/cache_apc_driver.php` أو ما شابه.
- **ملاحظة**: برامج التشغيل معيارية؛ يمكنك تحديد أي برنامج تشغيل لاستخدامه أثناء التشغيل (مثل `$this->cache->apc->save()`).

#### 4. ملفات المساعد ذات التحميل التلقائي
```php
$autoload['helper'] = array('base');
```
- **الغرض**: تحميل دوال المساعد (مكتبات دوال PHP، مثلاً للروابط، الملفات، النماذج).
- **كيف يعمل**: يقوم بتضمين الملف (مثل `application/helpers/base_helper.php`)، مما يجعل دواله عالمية.
- **الاستخدام**: مثال: `$autoload['helper'] = array('url', 'file');` – يسمح باستدعاء `site_url()` دون تحميل المساعد يدويًا.
- **ملاحظة**: في ملفك، 'base' محمل تلقائيًا — تأكد من وجود `base_helper.php`.

#### 5. ملفات التكوين ذات التحميل التلقائي
```php
$autoload['config'] = array();
```
- **الغرض**: تحميل ملفات تكوين مخصصة beyond الملف الافتراضي `config.php`.
- **كيف يعمل**: يدمج تكوينات إضافية (مثل `application/config/custom.php`) في مصفوفة التكوين العامة.
- **الاستخدام**: مثال: `$autoload['config'] = array('custom', 'seo');` – يحمل `custom.php` و `seo.php` كتكوينات.
- **ملاحظة**: اتركه فارغًا إذا كنت تستخدم الإعدادات الافتراضية؛ مفيد للإعدادات الخاصة بالموقع.

#### 6. ملفات اللغة ذات التحميل التلقائي
```php
$autoload['language'] = array();
```
- **الغرض**: تحميل مصفوفات اللغة للتدويل.
- **كيف يعمل**: يحمل الملفات من `application/language/english/` (أو اللغة الحالية)، مثلاً `form_lang.php`.
- **الاستخدام**: مثال: `$autoload['language'] = array('form', 'calendar');` – يحمل `form_lang.php` دون اللاحقة '_lang'.
- **ملاحظة**: يتم الكشف عن اللغة تلقائيًا من التكوين؛ نادرًا ما تكون هناك حاجة إليها بشكل عام.

#### 7. النماذج ذات التحميل التلقائي
```php
$autoload['model'] = array('BaseDao');
```
- **الغرض**: تحميل فئات النماذج للتفاعلات مع قاعدة البيانات.
- **كيف يعمل**: يحمل وينشئ مثيلات من `application/models/`، مثلاً `BaseDao.php`.
- **الاستخدام**: مثال: `$autoload['model'] = array('user_model', 'BaseDao' => 'base');` – يسمح باستخدام `$this->base` كاسم مستعار.
- **ملاحظة**: في ملفك، 'BaseDao' محمل تلقائيًا — تأكد من أنها فئة نموذج صالحة.

### نصائح للاستخدام
- **تحرير الملف**: قم بتعديل `autoload.php` لإضافة عناصر. اختبر بعد التغييرات للتأكد من عدم وجود تعارضات.
- **الأداء**: يمكن أن يؤدي التحميل التلقائي لكل شيء إلى إبطاء الطلبات؛ قم بتحميل ما تحتاجه عالميًا فقط.
- **التحميل اليدوي**: إذا لم يتم تحميل شيء تلقائيًا، استخدم `$this->load->library('name');` أو ما شابه في وحدات التحكم.
- **ملاحظات الإصدار**: هذا ينطبق على CodeIgniter 2.x/3.x. في الإصدار 4.x، تحول التحميل التلقائي إلى نظام قائم على Composer (مساحات الأسماء)، ولكن لا تزال ملفات التكوين مثل هذا مستخدمة في الإصدارات القديمة.

إذا كانت لديك أسئلة محددة حول إضافة عناصر أو استكشاف الأخطاء وإصلاحها، قدم المزيد من التفاصيل!