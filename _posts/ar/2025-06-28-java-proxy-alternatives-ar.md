---
audio: false
generated: true
lang: ar
layout: post
title: بدائل جافا لـ Clash-core
translated: true
type: note
---

يعد العثور على مكتبة جافا تطابق مباشرة وظائف **Clash-core**، وهي مكتبة وكيل/أنفاق قائمة على القواعد مكتوبة بلغة Go، أمرًا صعبًا لأن Clash-core متخصصة للغاية في إنشاء أنفاق VPN/وكيل مرنة قائمة على القواعد مع دعم بروتوكولات مثل Shadowsocks و V2Ray و Trojan. وهي تعمل على طبقة الشبكة وطبقة التطبيق، وتوفر ميزات مثل حل DNS ووضع TUN وقواعد التوجيه المتقدمة. لا توجد مكتبة جافا تعيد تكرار هذه المجموعة الدقيقة من الميزات بشكل مثالي، ولكن هناك مكتبات وأدوات قائمة على جافا توفر وظائف مماثلة أو متداخلة لأغراض VPN أو الوكيل أو الأنفاق. أدناه، أستعرض بعض مكتبات جافا ذات الصلة والبدائل، وأشرح علاقتها بـ Clash-core.

### مكتبات جافا ذات وظائف مماثلة
1.  **Apache HttpClient** (والمشتقات ذات الصلة مثل Apache Commons Net)
    *   **الوصف**: Apache HttpClient هي مكتبة قوية للتعامل مع طلبات HTTP/HTTPS، بما في ذلك دعم الوكيل (مثل وكيل SOCKS، ووكيل HTTP). توفر Apache Commons Net أدوات شبكات إضافية، مثل دعم بروتوكولات FTP و SMTP و Telnet.
    *   **المقارنة مع Clash-core**: بينما يمكن لـ HttpClient التعامل مع تكوينات الوكيل (على سبيل المثال، توجيه حركة HTTP عبر وكيل)، فإنها تفتقر إلى قواعد التوجيه المتقدمة القائمة على القواعد، ودعم البروتوكولات (مثل VMess، Shadowsocks)، وإمكانيات جهاز TUN التي توفرها Clash-core. إنها أكثر ملاءمة للوكالة على مستوى التطبيق بدلاً من أنفاق VPN على مستوى النظام بالكامل.
    *   **حالة الاستخدام**: مناسبة للتطبيقات التي تحتاج إلى توجيه حركة HTTP/HTTPS عبر خادم وكيل ولكن ليس لأنفاق تشبه VPN بالكامل.
    *   **المصدر**: [](https://java-source.net/open-source/network-clients)

2.  **OkHttp**
    *   **الوصف**: OkHttp هي مكتبة جافا شائعة لطلبات HTTP و HTTPS، مع دعم لتكوينات الوكيل (مثل SOCKS5، ووكلاء HTTP). إنها خفيفة الوزن وفعالة ومستخدمة على نطاق واسع في تطبيقات Android و Java.
    *   **المقارنة مع Clash-core**: مثل Apache HttpClient، تركز OkHttp على الوكالة القائمة على HTTP وتفتقر إلى ميزات الأنفاق المتقدمة (مثل وضع TUN، أو اختطاف DNS، أو دعم البروتوكولات مثل VMess أو Trojan) التي توفرها Clash-core. لم يتم تصميمها لوظيفة VPN على مستوى النظام ولكن يمكن استخدامها في التطبيقات التي تتطلب دعم الوكيل.
    *   **حالة الاستخدام**: مثالية لتطبيقات جافا التي تحتاج إلى توجيه حركة HTTP/HTTPS عبر خادم وكيل.

3.  **مكتبات VPN لجافا (مثل OpenVPN Java Client)**
    *   **الوصف**: هناك عملاء OpenVPN قائمين على جافا، مثل **openvpn-client** (المتوفر على GitHub) أو مكتبات مثل **jopenvpn**، والتي تسمح لتطبيقات جافا بالتفاعل مع خوادم OpenVPN. تقوم هذه المكتبات عادةً بتغليف وظائف OpenVPN أو إدارة اتصالات VPN برمجيًا.
    *   **المقارنة مع Clash-core**: يركز عملاء OpenVPN في جافا على بروتوكول OpenVPN، والذي يختلف عن دعم Clash-core للبروتوكولات المتعددة (مثل Shadowsocks، V2Ray، Trojan). يمكنهم إنشاء أنفاق VPN لكنهم يفتقرون إلى قواعد التوجيه القائمة على القواعد في Clash-core، والتلاعب بـ DNS، والمرونة مع البروتوكولات غير القياسية. يعتبر OpenVPN أيضًا أكثر ثقلاً مقارنة بتنفيذ Go خفيف الوزن في Clash-core.
    *   **حالة الاستخدام**: مناسبة للتطبيقات التي تحتاج إلى الاتصال بخوادم OpenVPN ولكن ليس للوكالة المرنة متعددة البروتوكولات التي تقدمها Clash-core.
    *   **المصدر**: معرفة عامة بتكاملات OpenVPN مع جافا.

4.  **تطبيقات WireGuard لجافا (مثل wireguard-java)**
    *   **الوصف**: WireGuard هو بروتوكول VPN حديث، وهناك تطبيقات بلغة جافا مثل **wireguard-java** أو مكتبات تتواصل مع WireGuard (مثل **com.wireguard.android** لنظام Android). تسمح هذه المكتبات لتطبيقات جافا بإنشاء أنفاق VPN قائمة على WireGuard.
    *   **المقارنة مع Clash-core**: WireGuard هو حل VPN أحادي البروتوكول يركز على البساطة والأداء، لكنه لا يدعم بروتوكولات الوكيل المتنوعة (مثل Shadowsocks، VMess) أو قواعد التوجيه القائمة على القواعد التي توفرها Clash-core. إنه أقرب إلى VPN تقليدي من نهج الوكيل/الأنفاق في Clash-core.
    *   **حالة الاستخدام**: جيدة لإنشاء أنفاق VPN في تطبيقات جافا، خاصة لنظام Android، لكنها تفتقر إلى مرونة التوجيه المتقدمة ومرونة البروتوكول في Clash-core.
    *   **المصدر**: (يذكر WireGuard في سياق بدائل VPN). [](https://awesomeopensource.com/project/Dreamacro/clash)

5.  **مكتبات الوكيل المخصصة (مثل الحلول القائمة على Netty)**
    *   **الوصف**: **Netty** هو إطار عمل شبكات عالي الأداء لجافا يمكن استخدامه لبناء خوادم أو عملاء وكيل مخصصين. يمكن للمطورين تنفيذ وكيل SOCKS5 أو HTTP أو حتى بروتوكولات أنفاق مخصصة باستخدام إمكانيات الإدخال/الإخراج غير المتزامن في Netty.
    *   **المقارنة مع Clash-core**: Netty هو إطار عمل منخفض المستوى، لذا من الممكن بناء نظام مشابه لـ Clash-core، لكنه يتطلب تطويرًا مخصصًا كبيرًا. لا يدعم بشكل أصلي بروتوكولات Clash-core (مثل VMess، Trojan) أو ميزات مثل قواعد التوجيه القائمة على القواعد أو اختطاف DNS خارج الصندوق. ومع ذلك، فهي مرنة بما يكفي لتنفيذ وظائف مماثلة بجهد.
    *   **حالة الاستخدام**: الأفضل للمطورين الراغبين في بناء حل وكيل/أنفاق مخصص من الصفر.
    *   **المصدر**: معرفة عامة بقدرات Netty في الشبكات.

### الاختلافات الرئيسية والتحديات
*   **دعم البروتوكول**: تدعم Clash-core نطاقًا واسعًا من بروتوكولات الوكيل (مثل Shadowsocks، V2Ray، Trojan، Snell)، والتي لا يتم دعمها بشكل شائع بواسطة مكتبات جافا. تركز معظم مكتبات جافا على HTTP/HTTPS أو SOCKS أو بروتوكولات VPN القياسية مثل OpenVPN أو WireGuard.
*   **التوجيه القائم على القواعد**: تكمن قوة Clash-core في تكوينها القائم على YAML للتوجيه الدقيق لحركة المرور القائم على القواعد (على سبيل المثال، بناءً على النطاق أو GEOIP أو المنافذ). لا تقدم مكتبات جافا مثل HttpClient أو OkHttp هذا المستوى من مرونة التوجيه بشكل أصلي.
*   **دعم جهاز TUN**: يسمح وضع TUN في Clash-core بالعمل كواجهة شبكة افتراضية، capturing وتوجيه حركة المرور على مستوى النظام بالكامل. لا تدعم مكتبات جافا أجهزة TUN مباشرة بشكل عام، حيث أن هذا يتطلب تكاملاً منخفض المستوى مع النظام (أكثر شيوعًا في Go أو C).
*   **معالجة DNS**: تتضمن Clash-core حل DNS مدمج وميزات مكافحة التلوث (مثل IP المُزيف، اختطاف DNS). تعتمد مكتبات جافا عادةً على محلل DNS الخاص بالنظام أو التكوينات الخارجية، وتفتقر إلى القدرات المتقدمة لـ DNS في Clash-core.
*   **الأداء**: يجعل نموذج التزامن خفيف الوزن في Go (goroutines) Clash-core فعالة للغاية للمهام الشبكية المكثفة. نموذج الخيوط في جافا أثقل، مما قد يؤثر على الأداء في تطبيقات مماثلة.

### التوصيات
لا توجد مكتبة جافا واحدة تعيد تكرار وظائف Clash-core مباشرة، ولكن إليك بعض النهج لتحقيق أهداف مماثلة في جافا:
1.  **استخدام مكتبة VPN/وكيل موجودة لجافا**:
    *   إذا كنت بحاجة إلى وكالة HTTP/HTTPS، فإن **OkHttp** أو **Apache HttpClient** هما نقطة بداية جيدة للوكالة على مستوى التطبيق.
    *   للحصول على وظيفة تشبه VPN، استكشف **تطبيقات WireGuard لجافا** أو **عملاء OpenVPN لجافا** لاحتياجات الأنفاق الأبسط.
2.  **دمج المكتبات مع منطق مخصص**:
    *   استخدم **Netty** لبناء حل وكيل/أنفاق مخصص. يمكنك تنفيذ دعم لبروتوكولات مثل SOCKS5 أو وكلاء HTTP وإضافة منطق توجيه قائم على القواعد، على الرغم من أن هذا سيتطلب جهد تطوير كبير.
    *   دمج جافا مع أدوات خارجية مثل Clash-core نفسها (على سبيل المثال، عبر JNI أو تنفيذ العمليات) للاستفادة من وظائف Clash-core أثناء التحكم فيها من تطبيق جافا.
3.  **النظر في البدائل**:
    *   إذا كان الهدف هو تكرار وظائف Clash-core (على سبيل المثال، للوكالة عبر المنصات)، يمكنك التفكير في استخدام Clash-core نفسها (المكتوبة بلغة Go) ودمجها مع جافا عبر REST API أو واجهة سطر الأوامر. تعرض Clash-core RESTful API (على سبيل المثال، على `127.0.0.1:9090`) للتكوين والتحكم، والذي يمكن لتطبيق جافا التفاعل معه. [](https://kalilinuxtutorials.com/clash/)
    *   بدلاً من ذلك، استكشف مكتبات أخرى قائمة على Go مثل **v2ray-core** أو **Xray-core**، والتي تشبه Clash-core، وقم بدمجها مع جافا إذا لزم الأمر. [](https://awesomeopensource.com/project/Dreamacro/clash)

### الخلاصة
لا يوجد ما يعادل Clash-core مباشرة في جافا بسبب تركيبته الفريدة من دعم البروتوكولات المتعددة، والتوجيه القائم على القواعد، وإمكانيات جهاز TUN. أقرب البدائل في جافا هي **OkHttp** أو **Apache HttpClient** لوكالة HTTP/HTTPS، أو **WireGuard Java** أو **عملاء OpenVPN لجافا** لأنفاق VPN، أو **Netty** للحلول المخصصة. إذا كنت بحاجة إلى الوظائف الدقيقة لـ Clash-core، ففكر في استخدام Clash-core نفسها والتفاعل معها من جافا عبر REST API أو واجهة سطر الأوامر. إذا كانت لديك متطلبات محددة (مثل بروتوكول أو ميزة معينة)، فأخبرني، وسأقوم بتخصيص التوصية بشكل أكبر!