---
audio: false
generated: true
image: false
lang: ar
layout: post
title: إصلاح مفتاحي Fn + F5 في VSCode على نظام Mac
translated: true
type: note
---

إذا كان الضغط على **Fn + F5** على جهاز Mac الخاص بك في Visual Studio Code (VSCode) لا يأتي بأي تأثير عند محاولة تشغيل **Extension Development Host**، فمن المرجح أن السبب يكمن في كيفية تكوين مفتاح `Fn` ومفاتيح الوظائف على جهاز Mac الخاص بك، أو وجود تعارض في ربط مفاتيح VSCode، أو إعداد خاطئ في إعدادات تطوير الامتداد. أدناه، سأشرح سبب حدوث ذلك وكيفية إصلاحه.

### لماذا لا يعمل **Fn + F5** على جهاز Mac الخاص بك

1. **سلوك مفاتيح الوظائف في أجهزة Mac**:
   - في لوحات مفاتيح أجهزة Mac، غالبًا ما يتم تعيين مفاتيح الوظائف (F1–F12) لوظائف النظام افتراضيًا (على سبيل المثال، قد يتحكم مفتاح F5 في سطوع لوحة المفاتيح أو تشغيل الوسائط).
   - يُستخدم مفتاح `Fn` للوصول إلى سلوك مفتاح الوظيفة "القياسي" (على سبيل المثال، `Fn + F5` يرسل إشارة مفتاح F5 الفعلية بدلاً من وظيفة نظام).
   - إذا كان `Fn + F5` لا يؤدي إلى تشغيل الإجراء المتوقع في VSCode، فقد تكون إعدادات لوحة المفاتيح في جهاز Mac أو إعدادات ربط المفاتيح في VSCode لا تترجم الإدخال بشكل صحيح.

2. **تعارض أو إعداد خاطئ في ربط مفاتيح VSCode**:
   - قد لا يكون VSCode قد قام بتعيين `F5` (أو `Fn + F5`) لأمر "Run Extension" لتشغيل Extension Development Host.
   - قد يكون امتداد آخر أو ربط مفاتيح مخصص يتجاوز `F5`.

3. **مشكلة في إعدادات تطوير الامتداد**:
   - إذا لم يكن مشروع امتداد VSCode الخاص بك مُعدًا بشكل صحيح (على سبيل المثال، `launch.json` مفقود أو غير صحيح)، فإن الضغط على `F5` (مع أو بدون `Fn`) لن يشغل Extension Development Host.

4. **إعدادات نظام macOS**:
   - قد يقوم نظام macOS باعتراض مفتاح `F5` لوظيفة نظام، أو قد يكون سلوك مفتاح `Fn` مخصصًا بطريقة تؤثر على قدرة VSCode في اكتشافه.

### خطوات إصلاح عدم عمل **Fn + F5** في VSCode على جهاز Mac

#### 1. **تحقق من إعدادات لوحة المفاتيح في macOS**
   - **تمكين سلوك مفتاح الوظيفة القياسي**:
     - انتقل إلى **System Settings > Keyboard**.
     - حدد خانة الاختيار **"Use F1, F2, etc. keys as standard function keys"**.
     - إذا كان الخيار مفعلًا، يمكنك الضغط على `F5` مباشرة (بدون `Fn`) لإرسال إشارة مفتاح F5 إلى VSCode. جرب الضغط على `F5` بمفرده لترى إذا كان سيشغل Extension Development Host.
     - إذا لم يتم تحديد الخيار، فأنت بحاجة إلى الضغط على `Fn + F5` لإرسال F5، لأن الضغط على `F5` بمفرده قد يتحكم في وظيفة نظام (مثل سطوع لوحة المفاتيح).
   - **اختبار سلوك F5**:
     - افتح محرر نصوص (مثل TextEdit) واضغط على `F5` و `Fn + F5`. إذا كان `F5` بمفرده يؤدي إلى إجراء نظام (مثل السطوع)، و `Fn + F5` لا يفعل شيئًا، فإن مفتاح `Fn` يعمل كما هو متوقع لإرسال إشارة F5 القياسية.
   - **إعادة ضبط NVRAM/PRAM** (إذا لزم الأمر):
     - أعد تشغيل جهاز Mac الخاص بك واستمر في الضغط على `Cmd + Option + P + R` حتى تسمع نغمة بدء التشغيل مرتين (أو يظهر شعار Apple مرتين على أجهزة Mac الأحدث). يعيد هذا الإعدادات المتعلقة بلوحة المفاتيح وقد يحل مشاكل الاكتشاف.

#### 2. **تحقق من إعدادات ربط المفاتيح في VSCode**
   - افتح VSCode وانتقل إلى **Code > Preferences > Keyboard Shortcuts** (`Cmd+K, Cmd+S`).
   - في شريط البحث، اكتب `F5` أو `Run Extension`.
   - ابحث عن الأمر **"Debug: Start Debugging"** أو **"Run Extension"** (المرتبط بتشغيل Extension Development Host).
   - تأكد من أنه معين إلى `F5`. إذا لم يكن كذلك، انقر نقرًا مزدوجًا على الأمر، واضغط على `F5` (أو `Fn + F5` إذا لزم الأمر)، واحفظ ربط المفاتيح الجديد.
   - تحقق من وجود تعارضات: ابحث عن أوامر أخرى مرتبطة بـ `F5` أو `Fn + F5` وقم بإزالتها أو إعادة تعيينها.
   - أعد ضبط ربط المفاتيح إذا لزم الأمر: انقر على النقاط الثلاث (`...`) في محرر Keyboard Shortcuts واختر **Reset Keybindings**.

#### 3. **تحقق من تكوين مشروع الامتداد الخاص بك**
   - تأكد من إعداد مشروع الامتداد الخاص بك بشكل صحيح:
     - افتح مجلد مشروع الامتداد الخاص بك في VSCode (يجب أن يحتوي على `package.json` و `extension.js` أو ما يعادلها).
     - تحقق من أن `package.json` يحتوي على الحقول المطلوبة:
       ```json
       {
         "name": "your-extension-name",
         "displayName": "Your Extension Name",
         "version": "0.0.1",
         "engines": {
           "vscode": "^1.60.0"
         },
         "categories": ["Other"],
         "activationEvents": ["*"],
         "main": "./extension.js"
       }
       ```
   - تحقق من وجود ملف `.vscode/launch.json`:
     - إذا كان غير موجود، يجب أن يقوم VSCode بإنشائه عند الضغط على `F5`. إذا لم يحدث ذلك، قم بإنشائه يدويًا في مجلد `.vscode` باستخدام:
       ```json
       {
         "version": "0.2.0",
         "configurations": [
           {
             "name": "Run Extension",
             "type": "extensionHost",
             "request": "launch",
             "args": ["--extensionDevelopmentPath=${workspaceFolder}"],
             "outFiles": ["${workspaceFolder}/out/**/*.js"],
             "preLaunchTask": "npm: watch"
           }
         ]
       }
       ```
     - تأكد من أن `preLaunchTask` (مثل `npm: watch`) يطابق مهمة في `.vscode/tasks.json` إذا كنت تستخدم TypeScript أو خطوة بناء.
   - قم بتشغيل `npm install` في طرفية VSCode (`Cmd+``) للتأكد من تثبيت التبعيات (مثل `@types/vscode`).

#### 4. **اختبار تشغيل Extension Development Host**
   - مع فتح مشروع الامتداد الخاص بك، جرب الضغط على `F5` (أو `Fn + F5` إذا كان إعداد "Use F1, F2, etc. as standard function keys" غير مفعل).
   - بدلاً من ذلك، افتح لوحة **Run and Debug** (`Cmd+Shift+D`)، واختر **"Run Extension"** من القائمة المنسدلة، وانقر على زر التشغيل الأخضر.
   - إذا لم يتم تشغيل Extension Development Host:
     - تحقق من لوحة **Output** (`Cmd+Shift+U`) واختر **"Extension"** من القائمة المنسدلة لرؤية أي أخطاء.
     - تحقق من **Debug Console** للبحث عن أخطاء تتعلق بالامتداد الخاص بك أو بعملية التصحيح.
     - تأكد من تثبيت Node.js (`node -v` في الطرفية) وأن مشروعك لا يحتوي على أخطاء في بناء الجملة.

#### 5. **اختبار باستخدام لوحة مفاتيح مختلفة**
   - قم بتوصيل لوحة مفاتيح خارجية عبر USB بجهاز Mac الخاص بك واضغط على `F5` (أو `Fn + F5`) في VSCode.
   - إذا عملت، فقد تكون المشكلة في عتاد لوحة المفاتيح المدمجة في جهاز Mac أو البرنامج الثابت. تحقق من وجود تحديثات للبرنامج الثابت للوحة المفاتيح عبر الشركة المصنعة لجهاز Mac (مثل Apple Software Update).

#### 6. **تحديث VSCode و macOS**
   - تأكد من أن VSCote محدث: انتقل إلى **Code > Check for Updates** أو قم بتنزيل أحدث إصدار من موقع VSCode.
   - قم بتحديث macOS: انتقل إلى **System Settings > General > Software Update** لتثبيت أي تحديثات متاحة، حيث قد تتضمن إصلاحات لبرامج تشغيل لوحة المفاتيح.

#### 7. **تعطيل الامتدادات أو البرامج المتعارضة**
   - **امتدادات VSCode**:
     - عطل جميع الامتدادات: شغل `code --disable-extensions` في الطرفية، ثم افتح VSCode وجرب `F5` مرة أخرى.
     - إذا عملت، قم بإعادة تمكين الامتدادات واحدًا تلو الآخر لتحديد المتسبب.
   - **برامج الطرف الثالث**:
     - تحقق من وجود أدوات إعادة تعيين مفاتيح مثل Karabiner-Elements أو BetterTouchTool. افتح إعداداتها وتأكد من أن `F5` أو `Fn + F5` لم يتم إعادة تعيينه.
     - عطل هذه الأدوات مؤقتًا للاختبار.

#### 8. **سجلات التصحيح**
   - مكن أدوات المطور في VSCode لفحص أحداث المفاتيح:
     - افتح VSCode، واضغط على `Cmd+Option+I` لفتح أدوات المطور.
     - انتقل إلى علامة التبويب **Console** واضغط على `Fn + F5`. ابحث عن سجلات أحداث المفاتيح لترى إذا كان VSCode يستقبل الإدخال الصحيح.
   - إذا لم يتم تسجيل حدث مفتاح، فمن المرجح أن المشكلة على مستوى النظام (macOS أو عتاد لوحة المفاتيح).

### إذا استمرت المشكلة
   - قدم المزيد من التفاصيل:
     - إصدار macOS (مثل Ventura، Sonoma).
     - إصدار VSCode (تحقق عبر **Code > About Visual Studio Code**).
     - نوع لوحة المفاتيح (مثل المدمجة في MacBook، طراز لوحة المفاتيح الخارجية).
     - ما إذا كان `F5` أو `Fn + F5` يعمل في التطبيقات الأخرى (مثل، هل يقوم `F5` بتحديث المتصفح؟).
     - أي رسائل خطأ في لوحة **Output** أو **Debug Console** في VSCode.
   - جرب إنشاء مشروع امتداد بسيط لعزل المشكلة:
     - شغل `yo code` (يتطلب Yeoman ومولد VSCode: `npm install -g yo generator-code`) لإنشاء هيكل امتداد جديد.
     - افتح المشروع الجديد في VSCode واضغط على `F5` لترى إذا كان سيتم تشغيل Extension Development Host.

[VS Code Extension Development](https://code.visualstudio.com/api/get-started/your-first-extension)  
[Mac Keyboard Settings](https://support.apple.com/guide/mac-help/change-the-behavior-of-the-function-keys-mchlp2882/mac)  
[VS Code Keybindings](https://code.visualstudio.com/docs/getstarted/keybindings)