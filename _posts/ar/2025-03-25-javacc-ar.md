---
audio: false
generated: true
lang: ar
layout: post
title: تعريف وتجميع قواعد جافا سي سي
translated: true
type: note
---

سأقوم بإنشاء قطعة أثرية شاملة توضح JavaCC (مُصرِّف جافا) مع أمثلة على تعريف القواعد النحوية، والتعريفات المتغيرة، والترجمة.

```java
/* مثال أساسي لقواعد JavaCC النحوية */

// خيارات وتعريف فئة المحلل
options {
    STATIC = false;  // السماح بعدد متعدد من نسخ المحلل
    LOOKAHEAD = 2;   // ضبط التطلع المسبق إلى 2 رمز
}

PARSER_BEGIN(SimpleParser)
public class SimpleParser {
    public static void main(String[] args) throws ParseException {
        SimpleParser parser = new SimpleParser(System.in);
        parser.Start();
    }
}
PARSER_END(SimpleParser)

// المواصفات المعجمية (الرموز)
TOKEN : {
    // الكلمات المفتاحية
    < VAR: "var" >
    < INT: "int" >
    < BOOLEAN: "boolean" >
    < STRING: "string" >

    // القيم الحرفية والمُعرِّفات
    < NUMBER: (["0"-"9"])+ >
    < IDENTIFIER: ["a"-"z","A"-"Z","_"] (["a"-"z","A"-"Z","0"-"9","_"])* >

    // العوامل وعلامات الترقيم
    < ASSIGN: "=" >
    < SEMICOLON: ";" >
    < PLUS: "+" >
    < MINUS: "-" >
    < MULTIPLY: "*" >
    < DIVIDE: "/" >
    < LPAREN: "(" >
    < RPAREN: ")" >
}

// تخطي المسافات البيضاء والتعليقات
SKIP : {
    " " | "\t" | "\n" | "\r"
    | <SINGLE_LINE_COMMENT: "//" (~["\n","\r"])* ("\n"|"\r"|"\r\n")>
    | <MULTI_LINE_COMMENT: "/*" (~["*"])* "*" ("*" | (~["*","/"] (~["*"])* "*"))* "/">
}

// القواعد النحوية
void Start() : {} {
    (Statement())* <EOF>
}

void Statement() : {} {
    VariableDeclaration()
    | Expression()
    | AssignmentStatement()
}

void VariableDeclaration() : {} {
    // الصياغة: var [type] [identifier] (= [expression])?;
    <VAR> Type() <IDENTIFIER> 
    ( <ASSIGN> Expression() )? 
    <SEMICOLON>
}

void Type() : {} {
    <INT> | <BOOLEAN> | <STRING>
}

void Expression() : {} {
    AdditiveExpression()
}

void AdditiveExpression() : {} {
    MultiplicativeExpression() 
    (
        <PLUS> MultiplicativeExpression()
        | <MINUS> MultiplicativeExpression()
    )*
}

void MultiplicativeExpression() : {} {
    PrimaryExpression() 
    (
        <MULTIPLY> PrimaryExpression()
        | <DIVIDE> PrimaryExpression()
    )*
}

void PrimaryExpression() : {} {
    <NUMBER>
    | <IDENTIFIER>
    | <LPAREN> Expression() <RPAREN>
}

void AssignmentStatement() : {} {
    <IDENTIFIER> <ASSIGN> Expression() <SEMICOLON>
}

```

الآن، سأقدم شرحًا شاملاً لـ JavaCC وكيفية العمل مع هذه القواعد النحوية:

### نظرة عامة على JavaCC
JavaCC (مُصرِّف جافا) هو مُولِّد محللات يساعدك في إنشاء محللات ومُجزئات رموز للغات مخصصة أو لغات خاصة بمجال معين.

### المكونات الرئيسية في المثال:

1. **كتابة الخيارات**
   - `STATIC = false`: يسمح بإنشاء عدد متعدد من نسخ المحلل
   - `LOOKAHEAD = 2`: يضبط المحلل للنظر مسبقًا إلى 2 رمز لحل الغموض

2. **تعريفات الرموز**
   - يحدد رموزًا مثل الكلمات المفتاحية، والمُعرِّفات، والأرقام، والعوامل
   - يستخدم التعبيرات النمطية لمطابقة أنماط الرموز
   - أمثلة على الرموز:
     - `< NUMBER: (["0"-"9"])+ >` يطابق رقمًا واحدًا أو أكثر
     - `< IDENTIFIER: ["a"-"z","A"-"Z","_"] (["a"-"z","A"-"Z","0"-"9","_"])* >` يطابق أسماء المتغيرات

3. **مواصفات التخطي**
   - يحدد ما يجب تجاهله أثناء التحليل (المسافات البيضاء، التعليقات)
   - يتضمن معالجة التعليقات ذات السطر الواحد والتعليقات متعددة الأسطر

4. **القواعد النحوية**
   - تحدد بناء الجملة وهيكل اللغة
   - تستخدم التحليل النحوي التنازلي العودي
   - قواعد مثل `VariableDeclaration()`، `Expression()` تحدد تركيبات اللغة

### خطوات الترجمة والاستخدام

1. **توليد المحلل**
   ```bash
   javacc SimpleParser.jj
   ```
   هذا الأمر يُنشئ:
   - `SimpleParserConstants.java`
   - `SimpleParserTokenManager.java`
   - `ParseException.java`
   - `SimpleParser.java`

2. **ترجمة الملفات المُنشأة**
   ```bash
   javac *.java
   ```

3. **تشغيل المحلل**
   ```bash
   java SimpleParser
   ```

### مثال على الإدخال
```
var int x = 10;
var int y = 20;
x = x + y;
```

### الميزات المُوضحة
- تعريف المتغيرات مع التهيئة الاختيارية
- تعبيرات حسابية أساسية
- نظام أنواع (int، boolean، string)
- عبارات التعيين
- العمليات الحسابية (+, -, *, /)

### قيود هذا المثال
- معالجة أخطاء أساسية
- فحص أنواع محدود
- قواعد نحوية مبسطة

### نصائح الاستخدام المتقدم
- استخدم الإجراءات الدلالية (كود جافا في `{}`) لتحليل أكثر تعقيدًا
- نفذ استعادة أخطاء مخصصة
- أضف فحص أنواع وتحليل دلالي

هل ترغب في أن أشرح أي جانب محدد من JavaCC أو مثال القواعد النحوية هذا بمزيد من التفصيل؟