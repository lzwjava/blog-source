---
audio: false
generated: false
lang: ar
layout: post
title: 'إتقان JMeter: اختبار الأداء'
translated: true
---

Apache JMeter هو أداة قوية مفتوحة المصدر مصممة أساسًا لتجربة الأداء، على الرغم من أنها يمكن أن تستخدم أيضًا لتجربة الوظيفة. يتم استخدامه على نطاق واسع لتجربة أداء تطبيقات الويب، وAPIs، وقواعد البيانات، وخدمات أخرى من خلال تقمص المستخدمين المتعدد ومقاس كيفية استجابة النظام تحت الحمل. أدناه دليل خطوة بخطوة على كيفية استخدام JMeter بشكل فعال، من التثبيت إلى تشغيل اختبار أساسي وتحليل النتائج.

---

## الخطوة 1: تثبيت JMeter
قبل أن يمكنك استخدام JMeter، عليك تثبيته على جهازك. إليك كيفية ذلك:

1. **المتطلبات الأساسية**:
   JMeter هو تطبيق قائم على Java، لذا عليك أن يكون لديك Java Development Kit (JDK) أو Java Runtime Environment (JRE) مثبتًا. يتم توصية باستخدام الإصدار 8 أو أعلى. يمكنك التحقق من ذلك من خلال تشغيل `java -version` في شريط الأوامر أو الواجهة السريعة. إذا لم يكن Java مثبتًا، قم بتنزيله وتثبيته من [الموقع الرسمي لجاوا](https://www.java.com).

2. **تحميل JMeter**:
   زور [موقع Apache JMeter](https://jmeter.apache.org/download_jmeter.cgi) وتحميل أحدث إصدار ثنائي (عادة ما يكون ملفًا `.zip` أو `.tgz`).

3. **استخراج الملف**:
   افتح الملف المنزّل إلى مجلد من اختيارك (مثل `C:\JMeter` على Windows أو `~/JMeter` على أنظمة Unix). يحتوي المجلد المستخرج على جميع الملفات اللازمة لتشغيل JMeter.

4. **تشغيل JMeter**:
   - انتقل إلى مجلد `bin` داخل المجلد المستخرج (مثل `C:\JMeter\apache-jmeter-5.x\bin`).
   - قم بتشغيل الملف التنفيذي المناسب:
     - على **Windows**: انقر مرتين على `jmeter.bat` أو قم بتشغيله من خلال شريط الأوامر.
     - على **Unix/Linux/macOS**: قم بتشغيل `./jmeter.sh` في الواجهة السريعة.
   - هذا يفتح واجهة JMeter الرسومية (GUI)، حيث ستقوم بإنشاء وإدارة خطط اختبارك.

---

## الخطوة 2: إنشاء خطة اختبار
**خطة اختبار** في JMeter تحدد ما تريد اختباره وكيف. إنها المخطط لاختبار الأداء الخاص بك. إليك كيفية إعداد خطة اختبار أساسية:

### إضافة مجموعة خيوط
1. في واجهة JMeter الرسومية، انقر بزر الماوس الأيمن على **الخطة الاختبار** في الشريط الجانبي الأيسر واختر **إضافة > خيوط (المستخدمون) > مجموعة خيوط**.
2. قم بتكوين مجموعة الخيوط:
   - **عدد الخيوط (المستخدمون)**: عدد المستخدمين الافتراضيين الذي تريد تقمصه (مثل 10).
   - **فترة التدرج (ثواني)**: الوقت الذي يستغرقه JMeter لبدء جميع الخيوط (مثل 10 ثانية يعني أن خيطًا يبدأ كل ثانية لمدة 10 ثوان).
   - **عدد التكرار**: عدد مرات تكرار كل خيط للاختبار (مثل 1 لعمليات تشغيل واحدة، أو قم بتحديد "إلى الأبد" للتكرار المستمر).

تقمص مجموعة الخيوط حركة المستخدم. على سبيل المثال، 10 خيوط مع فترة تدرج 10 ثانية و1 تكرار يعني أن 10 مستخدمين سيضربون التطبيق لمدة 10 ثوان، كل منهم يقوم بالاختبار مرة واحدة.

### إضافة عينة
تعريف العينات هو الطلبات التي يرسلها JMeter إلى النظام المستهدف. بالنسبة لتجربة الويب، الأكثر شيوعًا هو عينة طلب HTTP:
1. انقر بزر الماوس الأيمن على مجموعة الخيوط واختر **إضافة > عينة > طلب HTTP**.
2. قم بتكوين طلب HTTP:
   - **البروتوكول**: `http` أو `https`.
   - **اسم الخادم أو IP**: المجال أو IP للنظام المستهدف (مثل `example.com`).
   - **رقم الميناء**: عادة `80` لـ HTTP أو `443` لـ HTTPS (اترك فارغًا إذا كان القياسي).
   - **الطريقة**: `GET`، `POST`، إلخ، حسب نوع الطلب.
   - **المسار**: نقطة النهاية أو الصفحة المحددة (مثل `/` للصفحة الرئيسية).
   - أضف المعلمات أو جسم الطلب إذا لزم الأمر (مثلًا، لطلبات POST).

تقول هذه العينة JMeter ما يجب أن يقوم به كل مستخدم افتراضي.

### إضافة مستمع
يجمع المستمعون ويعرضون نتائج الاختبار:
1. انقر بزر الماوس الأيمن على مجموعة الخيوط واختر **إضافة > مستمع > عرض شجرة النتائج** (أو مستمع آخر مثل **التقرير الإجمالي**).
2. **عرض شجرة النتائج** يظهر نتائج مفصلة لكل طلب، بما في ذلك أوقات الاستجابة، رموز الحالة، وبيانات الاستجابة.

المستمعون ضروريين لتحليل كيفية أداء تطبيقك أثناء الاختبار.

### حفظ خطة الاختبار
انقر على **الملف > حفظ خطة الاختبار ك** واحفظ ملف `.jmx` الخاص بك (مثل `mytest.jmx`). هذا يسمح لك بإعادة استخدامه أو تعديله لاحقًا.

---

## الخطوة 3: تشغيل الاختبار
لإجراء اختبارك:
1. في واجهة JMeter الرسومية، انقر على الزر الأخضر **التشغيل** (▶) في شريط الأدوات، أو انتقل إلى **تشغيل > بدء**.
2. سيقوم JMeter بتقمص المستخدمين الذين تم تعريفهم في مجموعة الخيوط، بإرسال الطلبات HTTP المحدد.
3. راقب النتائج تتجمع في المستمع (مثل عرض شجرة النتائج) أثناء تشغيل الاختبار.

لاختبارات صغيرة، تشغيلها من خلال واجهة الرسومية هو جيد. لاختبارات أكبر، انظر إلى القسم "استخدام متقدم" أدناه للوضع غير الرسومي.

---

## الخطوة 4: تحليل النتائج
بعد انتهاء الاختبار، استخدم المستمع لتقييم النتائج:
- **عرض شجرة النتائج**: يظهر نجاح/فشل كل طلب، ووقت الاستجابة، وبيانات الاستجابة.
- **التقرير الإجمالي**: يوفر متريات مجمعة مثل متوسط وقت الاستجابة، وسرعةوابط (طلبات في الثانية)، ونسبة الخطأ.

تساعدك هذه المتريات في تقييم أداء التطبيق (مثلًا، كيف سريع الاستجابة تحت الحمل أو إذا فشل عند عدد معين من المستخدمين).

---

## مثال: اختبار صفحة ويب بسيطة
فلتجربة `example.com` مع 10 مستخدمين:
1. قم بتشغيل JMeter.
2. أضف مجموعة خيوط:
   - الخيوط: 10
   - فترة التدرج: 10 ثوان
   - عدد التكرار: 1
3. أضف عينة طلب HTTP:
   - البروتوكول: `http`
   - اسم الخادم: `example.com`
   - الطريقة: `GET`
   - المسار: `/`
4. أضف مستمع عرض شجرة النتائج.
5. احفظ واختبر.
6. راجع النتائج في عرض شجرة النتائج لرؤية أوقات الاستجابة ورموز الحالة (مثل 200 OK).

يقياس هذا الاختبار البسيط كيفية أداء `example.com` مع 10 مستخدمين متزامنين.

---

## الاستخدام المتقدم
لأوضاع أكثر تعقيدًا، يوفر JMeter ميزات إضافية:

### التحديد
استخدم **CSV Data Set Config** لتغذية بيانات مختلفة (مثل أسماء المستخدمين، كلمات المرور) في اختبارك من ملف CSV:
1. أضف **Config Element > CSV Data Set Config** إلى مجموعة الخيوط.
2. حدد مسار الملف واسم المتغيرات (مثل `${username}`)، ثم استخدم هذه المتغيرات في طلب HTTP الخاص بك.

### التزامن
تعامل مع القيم الديناميكية (مثل معرفات الجلسة، الرموز):
1. أضف **Post-Processor > Regular Expression Extractor** أو **JSON Extractor** بعد طلب.
2. استخرج قيمة (مثل رمز) إلى متغير (مثل `${token}`).
3. استخدم `${token}` في الطلبات اللاحقة (مثلًا، في الرؤوس أو المعلمات).

### التأكيدات
تحقق من الاستجابات:
1. أضف **Assertion > Response Assertion** إلى العينة.
2. تحقق من نص محدد، رموز الاستجابة (مثل 200)، أو استخدم JSONPath لتجربة API.

### الوضع غير الرسومي
لاختبارات كبيرة أو التلقائية:
- قم بتشغيل JMeter من شريط الأوامر:
  ```
  jmeter -n -t mytest.jmx -l results.jtl
  ```
  - `-n`: الوضع غير الرسومي.
  - `-t`: ملف خطة الاختبار.
  - `-l`: ملف سجل النتائج (مثل `.jtl`).
- توليد تقرير HTML:
  ```
  jmeter -n -t mytest.jmx -l results.jtl -e -o report_folder
  ```
  - `-e`: توليد التقرير.
  - `-o`: مجلد الإخراج للتقرير HTML.

### اختبار موزع
لحملات عالية:
1. قم بتثبيت عدة نسخ من JMeter على أجهزة مختلفة.
2. قم بتكوين ملف `jmeter.properties` على الجهاز الرئيسي لتضمين IPs العبيد.
3. قم بتشغيل الاختبار من الجهاز الرئيسي لتسجيل توليد الحمل.

---

## نصائح إضافية
- **البروتوكولات المدعومة**: بالإضافة إلى HTTP، يدعم JMeter FTP، JDBC، JMS، وغيرها، مما يجعله مرنًا لأنظمة مختلفة.
- **مراقبة الخادم**: قم بدمج JMeter مع أدوات الخادم (مثل PerfMon) لمراقبة CPU، الذاكرة، وأداء قاعدة البيانات أثناء الاختبارات.
- **تقمص واقعي**: أضف **HTTP Cookie Manager**، **HTTP Cache Manager**، أو **Timers** لتقمص سلوك المتصفح أو وقت التفكير للمستخدم.
- **اختبار الوظيفة**: استخدم التأكيدات للتحقق من صحة الاستجابة، لا فقط الأداء.

---

## الخاتمة
لاستخدام JMeter:
1. قم بتثبيته مع Java وتشغيل واجهة الرسومية.
2. قم بإنشاء خطة اختبار مع مجموعة خيوط، عينات، ومستمعين.
3. قم بتكوين عناصر الاختبار (المستخدمون، الطلبات، إلخ).
4. قم بتشغيل الاختبار وتحليل النتائج.

لبداية بسيطة، اختبر صفحة ويب مثل `example.com` كما هو موضح أعلاه. مع اكتسابك الخبرة، استكشف الميزات المتقدمة مثل التحديد، والتزامن، واختبار موزع لتعامل مع أوضاع عالمية معقدة. مرونة JMeter ووثائقه الشاملة تجعلها أداة قيمة لكل من المتدربين والمختبرين المتقدمين.