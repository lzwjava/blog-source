---
audio: false
generated: true
lang: ar
layout: post
title: بث ملفات إم كيه في من خادم إن جينكس باستخدام في إل سي
translated: true
type: note
---

نظرًا لأن لديك خادم Nginx يخدم ملفات `.mkv` (على سبيل المثال، على `http://192.168.1.27/movies/`)، وتريد عرضها من جهاز Mac دون تنزيل الملف بالكامل، فأنت تبحث عن **بث** مقاطع الفيديو. يمكن لـ Nginx خدمة الملفات بطريقة تدعم طلبات نطاق HTTP (وهو ما يفعله افتراضيًا)، مما يسمح لمشغلات الوسائط بالبث بدلاً من التنزيل بالكامل. إليك كيفية القيام بذلك، جنبًا إلى جنب مع الأدوات المناسبة لنظام macOS.

### المتطلبات الأساسية
- إعدادات Nginx الخاصة بك (مثل `alias /var/www/movies/; autoindex on;`) تعمل، وقائمة `http://192.168.1.27/movies/` تعرض الملفات.
- ملفات `.mkv` يمكن الوصول إليها عبر الشبكة (تم اختبارها من جهاز آخر).

### أدوات لبث ملفات `.mkv` على macOS
أنت بحاجة إلى مشغل وسائط يدعم البث عبر HTTP ويتعامل مع ملفات `.mkv` بشكل جيد. فيما يلي أفضل الخيارات:

#### 1. VLC Media Player (مجاني، موصى به)
VLC هو مشغل متعدد الاستخدامات ومفتوح المصدر يدعم بث ملفات `.mkv` عبر HTTP دون تنزيل الملف بالكامل (يستخدم طلبات النطاق).
- **التثبيت**:
  - قم بالتنزيل من [videolan.org](https://www.videolan.org/vlc/).
  - قم بتثبيته على جهاز Mac الخاص بك.
- **البث**:
  1. افتح VLC.
  2. اضغط على `Cmd + N` (أو انتقل إلى `File > Open Network`).
  3. أدخل عنوان URL، على سبيل المثال: `http://192.168.1.27/movies/yourfile.mkv`.
  4. انقر على `Open`.
- **لماذا يعمل**: يقوم VLC ب buffer البيانات المطلوبة فقط، مما يسمح لك بالبحث والتشغيل دون تنزيل الملف بالكامل.

#### 2. IINA (مجاني، أصلي لنظام macOS)
IINA هو مشغل حديث ومخصص لنظام macOS يتمتع بدعم ممتاز لملفات `.mkv` وإمكانيات البث.
- **التثبيت**:
  - قم بالتنزيل من [iina.io](https://iina.io/) أو `brew install iina` (باستخدام Homebrew).
- **البث**:
  1. افتح IINA.
  2. اضغط على `Cmd + U` (أو `File > Open URL`).
  3. أدخل `http://192.168.1.27/movies/yourfile.mkv`.
  4. انقر على `OK`.
- **لماذا يعمل**: خفيف الوزن، يدعم البث عبر HTTP، ويتكامل بشكل جيد مع نظام macOS.

#### 3. QuickTime Player (مدمج، محدود)
مشغل QuickTime الافتراضي في نظام macOS يمكنه بث بعض التنسيقات، لكن دعم `.mkv` غير متسق بدون ترميزات إضافية.
- **جربه**:
  1. افتح QuickTime Player.
  2. اضغط على `Cmd + U` (أو `File > Open Location`).
  3. أدخل `http://192.168.1.27/movies/yourfile.mkv`.
  4. انقر على `Open`.
- **تحذير**: إذا لم يعمل، قم بتثبيت Perian (حزمة ترميزات قديمة) أو استخدم VLC / IINA بدلاً من ذلك.

#### 4. المتصفح (Safari/Chrome، الأبسط)
يمكن للمتصفحات الحديثة بث ملفات `.mkv` مباشرة إذا كانت مشفرة بترميزات مدعومة (مثل فيديو H.264، وصوت AAC).
- **كيفية**:
  1. افتح Safari أو Chrome على جهاز Mac الخاص بك.
  2. انتقل إلى `http://192.168.1.27/movies/`.
  3. انقر على `yourfile.mkv`.
- **لماذا يعمل**: تستخدم المتصفحات علامات فيديو HTML5 وطلبات النطاق للبث.
- **القيد**: إذا كان ملف `.mkv` يستخدم ترميزات غير مدعومة (مثل VP9، أو Opus)، فلن يعمل — ارجع إلى استخدام VLC أو IINA.

### تأكد من دعم Nginx للبث
يتعامل Nginx مع طلبات النطاق افتراضيًا، وهذا هو ما يمكّن البث. للتأكد:
- تحقق من أن إعداداتك لا تعطل هذه الميزة (مثل عدم وجود `limit_rate` أو رؤوس مخصصة تمنع النطاقات).
- اختبر باستخدام VLC أو IINA — إذا تمكنت من البحث (مثل القفز إلى الدقيقة 5)، فإن البث يعمل.

### سير العمل الموصى به
1. **استخدم VLC** (هو الأكثر موثوقية):
   - قم بتثبيت VLC.
   - افتح `http://192.168.1.27/movies/yourfile.mkv` عبر `Cmd + N`.
   - شغل، أو أوقف مؤقتًا، أو ابحث حسب الحاجة.
2. **التصفح الدليلي**:
   - قم بزيارة `http://192.168.1.27/movies/` في Safari/Chrome لرؤية قائمة الملفات (بفضل `autoindex on;`).
   - انسخ عنوان URL لـ `yourfile.mkv` والصقه في VLC أو IINA.

### استكشاف الأخطاء وإصلاحها
- **مشاكل buffer**: قد تتسبب شبكة بطيئة أو ملفات `.mkv` كبيرة في تأخر — تأكد من استقرار شبكة LAN الخاصة بك (مثل أن Wi-Fi لا ينقطع).
- **أخطاء الترميز**: إذا أشار VLC إلى "تنسيق غير مدعوم"، فقد يستخدم ملف `.mkv` ترميزات نادرة — حاول إعادة ترميزه باستخدام HandBrake إلى H.264/AAC.
- **رفض الاتصال**: راجع إعدادات الجدار الناري على الخادم (`sudo ufw allow 80` أو ما يعادلها).

مع VLC أو IINA، ستقوم ببث ملفات `.mkv` الخاصة بك من جهاز Mac في أي وقت من الأوقات دون تنزيلها بالكامل. دعني أعلم إذا واجهت أي مشاكل!

---

تثبيت VLC على جهاز Mac هو عملية مباشرة. إليك دليل سريع لإعداده حتى تتمكن من بث ملفات `.mkv` من خادم Nginx الخاص بك:

### الطريقة 1: التنزيل من الموقع الرسمي
1. **قم بزيارة موقع VLC**:
   - افتح متصفحك (مثل Safari أو Chrome).
   - انتقل إلى [https://www.videolan.org/vlc/](https://www.videolan.org/vlc/).

2. **قم بتنزيل VLC**:
   - انقر على زر **Download VLC**. يجب أن يكتشف نظام macOS الخاص بك تلقائيًا ويعرض الإصدار الصحيح (مثل VLC 3.0.20 اعتبارًا من الآن).
   - ستحصل على ملف `.dmg` (مثل `vlc-3.0.20.dmg`).

3. **قم بتثبيت VLC**:
   - افتح ملف `.dmg` الذي تم تنزيله (عادة في مجلد `Downloads` الخاص بك).
   - اسحب أيقونة VLC إلى مجلد **Applications** كما هو موجه في النافذة.
   - أغلق نافذة `.dmg` وطردها (انقر بزر الماوس الأيمن على أيقونة القرص على سطح المكتب أو في Finder وحدد "Eject").

4. **شغّل VLC**:
   - انتقل إلى مجلد **Applications** الخاص بك (عبر Finder أو Spotlight باستخدام `Cmd + Space`، ثم اكتب "Applications").
   - انقر نقرًا مزدوجًا فوق **VLC**.
   - إذا حظره نظام macOS ("مطور غير معروف")، انقر بزر الماوس الأيمن على VLC، وحدد **Open**، ثم انقر فوق **Open** في مربع الحوار.

5. **بث ملفك**:
   - افتح VLC.
   - اضغط على `Cmd + N` (أو `File > Open Network`).
   - أدخل `http://192.168.1.27/movies/yourfile.mkv`.
   - انقر على **Open**.

### الطريقة 2: التثبيت عبر Homebrew (Terminal)
إذا كنت تفضل سطر الأوامر ولديك Homebrew مثبتًا:
1. **قم بتثبيت Homebrew** (إذا لم يكن مثبتًا بالفعل):
   - افتح Terminal.
   - قم بتشغيل:
     ```bash
     /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
     ```
   - اتبع التعليمات.

2. **قم بتثبيت VLC**:
   - في Terminal:
     ```bash
     brew install vlc
     ```

3. **شغّل VLC**:
   - قم بتشغيله من Terminal باستخدام:
     ```bash
     open -a VLC
     ```
   - أو ابحث عنه في **Applications** باسم `VLC.app`.

4. **البث**:
   - نفس ما ورد أعلاه: `Cmd + N`، أدخل عنوان URL الخاص بك، وشغل.

### التحقق من التثبيت
- بمجرد التثبيت، يجب أن يظهر VLC في مجلد **Applications** الخاص بك.
- اختبره باستخدام ملف محلي أولاً (اسحب ملف `.mkv` إلى VLC) للتأكد من أنه يعمل، ثم حاول بث `http://192.168.1.27/movies/yourfile.mkv`.

### استكشاف الأخطاء وإصلاحها
- **فشل التنزيل**: استخدم رابط مرآة من موقع VLC إذا كان التنزيل الرئيسي بطيئًا.
- **موجه الأمان**: إذا حظر نظام macOS التطبيق، فانتقل إلى `System Settings > Security & Privacy > General` وانقر على **Open Anyway**.
- **لا يعمل**: تأكد من صحة عنوان URL وأن الخادم الخاص بك يمكن الوصول إليه (`ping 192.168.1.27` من Terminal).

هذا كل شيء! يجب أن يكون VLC جاهزًا الآن على جهاز Mac الخاص بك لبث ملفات `.mkv` الخاصة بك. دعني أعلم إذا كنت بحاجة إلى مساعدة في الخطوة التالية!