---
audio: false
generated: true
image: false
lang: ar
layout: post
title: تجمع نفايات جيت موضح
translated: true
type: note
---

`git gc` تعني **جمع القمامة في Git**. إنه أمر تنظيف يقوم بتنظيف وتحسين المستودع المحلي الخاص بك.

### ما يفعله

* **ضغط سجل الملفات**: يقوم Git بتخزين الكائنات (العمليات، الأشجار، الكتل) في قاعدة بيانات. بمرور الوقت، تتراكم العديد من الكائنات المفكوكة. يقوم `git gc` بتجميعها معًا في ملف ثنائي مضغوط، مما يوفر مساحة على القرص.
* **إزالة الكائنات غير القابلة للوصول**: إذا قمت بحذف فروع أو إعادة تنظيم قاعدة (rebase)، فقد تصبح بعض العمليات غير قابلة للوصول من أي مرجع. يحتفظ Git بها لأسباب أمنية، لكن `git gc` ينظفها في النهاية.
* **تحسين المراجع**: يعيد كتابة ويحزم المراجع مثل العلامات والفروع لجعل عمليات البحث أسرع.
* **تقليم سجلات المراجع (reflogs)**: يتم إزالة إدخالات سجل المراجع القديمة (سجلات تغييرات HEAD) التي تجاوزت فترة الصلاحية.

### لماذا يحدث تلقائيًا أحيانًا

* يقوم Git بتشغيل **`gc` تلقائي في الخلفية** عندما يتجاوز عدد الكائنات المفكوكة أو ملفات الحزمة (pack files) حدًا معينًا. على سبيل المثال، إذا قمت بإجراء الكثير من العمليات، أو إعادة التنظيم، أو الدمج، فقد يقوم Git بتشغيله تلقائيًا.
* العديد من أوامر Git (مثل `git fetch`، أو `git merge`، أو `git rebase`) تتحقق مما إذا كان من المستحسن تشغيل `gc` وتقوم بتشغيله تلقائيًا إذا لزم الأمر.
* يساعد هذا في الحفاظ على أداء مستودعك دون الحاجة للتفكير في الأمر.

### متى تقوم بتشغيله يدويًا

* إذا شعرت أن مستودعك **بطيء** أو **منتفخ** (مثلًا، مجلد `.git` كبير).
* بعد القيام **بعملية تنظيف كبيرة** (مثل حذف فروع أو إزالة ملفات كبيرة من السجل).
* إذا أردت فرض التنظيف الفوري:

  ```bash
  git gc --prune=now --aggressive
  ```

  *(كن حذرًا: `--aggressive` قد يستغرق وقتًا طويلاً، خاصة في المستودعات الكبيرة)*

---

هل تريد مني أيضًا شرح كيفية **التحقق من آخر مرة قام فيها Git بتشغيل `gc` تلقائيًا** وما هي العتبات التي تؤدي إلى تشغيله؟