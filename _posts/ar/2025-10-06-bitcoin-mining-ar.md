---
audio: false
generated: true
image: false
lang: ar
layout: post
model: openai/gpt-5
title: حساب التجزئة وتعدين البيتكوين
translated: true
type: note
---

### كيف تحسب البيتكوين التجزئات (Hashes)

تستخدم البيتكوين دالة تجزئة تشفيرية تسمى **SHA-256** (خوارزمية التجزئة الآمنة 256-بت) لحساب التجزئات. هذه دالة أحادية الاتجاه تأخذ بيانات الإدخال (مثل رأس الكتلة) وتنتج مخرجًا ثابتًا بطول 256 بت (32 بايت) يكون فريدًا ولا يمكن التنبؤ به.

-   **ما الذي يتم تجزئته؟** بشكل أساسي رأس الكتلة، والذي يتضمن:
    -   رقم الإصدار
    -   تجزئة الكتلة السابقة
    -   جذر ميركل (ملخص لجميع المعاملات في الكتلة)
    -   الطابع الزمني
    -   هدف الصعوبة (Bits)
    -   الـ Nonce (رقم يقوم المعدّنون بتعديله)

-   **العملية:**
    1.  يقوم المعدّن بتجميع رأس الكتلة.
    2.  يطبق خوارزمية SHA-256 مرتين: `hash = SHA256(SHA256(header))`.
    3.  يتحقق مما إذا كانت التجزئة الناتجة أقل من الهدف الحالي (مثلاً، تبدأ بعدد كافٍ من الأصفار البادئة، مثل 000000...).
    4.  إذا لم تكن كذلك، يقوم بزيادة الـ Nonce ويكرر العملية. هذا هو الجزء "القائم على التجربة والخطأ" من إثبات العمل (PoW).

التجزئات حتمية - نفس الإدخال يعطي دائمًا نفس المخرج - لكن التغييرات الطفيفة (مثل إضافة +1 إلى الـ Nonce) تنتج مخرجات مختلفة تمامًا. هذا يجعل من غير العملي عكس هندسة المدخلات من المخرجات.

### لماذا يتم تعدين البيتكوين؟ (وكيف يضمن حدًا أقصى للعرض عند 21 مليون)

أعتقد أنك قصدت "لماذا يتم التعدين" بدلاً من "لماذا يتم سك العملة" — التعدين هو عملية التحقق من صحة المعاملات وإضافة كتل إلى سلسلة الكتل، ويكافأ عليه بعملات بيتكوين جديدة.

-   **لماذا التعدين؟**
    -   **الأمان:** يؤمن المعدّنون الشبكة من خلال التنافس لحل ألغاز إثبات العمل، مما يمنع هجمات مثل الإنفاق المزدوج (إنفاق نفس عملة البيتكوين مرتين).
    -   **اللامركزية:** يمكن لأي شخص أن يقوم بالتعدين، مما يوزع السيطرة — لا توجد سلطة مركزية.
    -   **الحافز:** يكسب المعدّنون **مكافآت الكتلة** (بيتكوين newly minted) + رسوم المعاملات. هذا يُنشئ الشبكة ويعوض تكاليف الطاقة.

-   **ضمان الحد الأقصى للعرض (هو في الواقع 21 مليون، وليس 10 مليون):**
    بروتوكول البيتكوين يحدد بثبات إجمالي عرض قدره **21 مليون BTC**، يتم إنشاؤها من خلال مكافآت التعدين التي **تنصف** كل 210,000 كتلة (~4 سنوات).
    -   بدأت بـ 50 BTC لكل كتلة في عام 2009.
    -   تنصفت إلى 25 في 2012، ثم 12.5 في 2016، ثم 6.25 في 2020، ثم 3.125 في 2024، وهكذا.
    -   سيتم تعدين آخر بيتكوين حوالي عام 2140؛ بعد ذلك، تبقى الرسوم فقط.
    -   يتم فرض هذا عن طريق الكود: صيغة المكافأة هي `reward = 50 * 0.5^(floor(block_height / 210000))`. لا يمكن لأحد تغييرها بدون إجماع 95% من الشبكة، مما يجعل التضخم متوقعًا ومحدودًا.

هذا الندرة يحاكي الذهب، مما يدفع القيمة.

### كيف يعمل إثبات العمل (PoW)

إثبات العمل هو آلية الإجماع في البيتكوين — لغز حسابي يثبت أن المعدّن استثمر "عملًا" (قوة معالجة من CPU/GPU/ASIC) لإضافة كتلة.

-   **خطوة بخطوة:**
    1.  **جمع المعاملات:** يجمع المعدّنون المعاملات المنتظرة في كتلة (حتى ~1-4 ميجابايت، اعتمادًا على SegWit).
    2.  **بناء الرأس:** يتضمن جذر ميركل للمعاملات، ورابطًا للكتلة السابقة، إلخ.
    3.  **تعيين الهدف:** تقوم الشبكة بضبط الصعوبة كل 2016 كتلة للحفاظ على متوسط وقت الكتلة عند 10 دقائق. الهدف = رقم صغير جدًا (على سبيل المثال، يجب أن تكون التجزئة < 0x00000000FFFF...).
    4.  **إيجاد الـ Nonce:** تخمين الـ Nonce بالقوة الغاشمة (من 0 إلى 2^32-1). لكل تخمين، يتم تجزئة الرأس. إذا كانت التجزئة < الهدف، فهي صالحة!
    5.  **بث الكتلة:** تقوم العقد الأخرى بالتحقق (سهل — فقط إعادة التجزئة مرة واحدة). إذا كانت صالحة، يتم إضافتها إلى السلسلة؛ يبدأ المعدّنون في العمل على الكتلة التالية.
    6.  **قاعدة السلسلة:** أطول سلسلة صالحة تفوز (تحل النتائج المتفرعة).

يجعل إثبات العمل التحقق من الكتل رخيصًا لكن إنشاءها مكلفًا، مما يؤمن ضد هجمات 51% (السيطرة على >50% من معدل التجزئة لإعادة كتابة التاريخ).

### لماذا الكثير من العمليات الحسابية للمعاملة؟

المعاملات لا تتطلب بشكل مباشر حسابات هائلة من المستخدمين — فقط التوقيع بالمفتاح الخاص (التشفير المنحني الإهليلجي، سريع). العمل الشاق يكون في **التعدين**:

-   **لكل كتلة، وليس لكل معاملة:** تجمع الكتلة ~2,000-3,000 معاملة. يقوم المعدّنون بتجزئة تريليونات المرات لكل كتلة لحل إثبات العمل.
-   **ضبط الصعوبة:** مع انضمام المزيد من المعدّنين (معدل تجزئة إجمالي أعلى)، ترتفع الصعوبة بشكل كبير للحفاظ على كتل كل 10 دقائق. معدل التجزئة العالمي الحالي هو ~600 EH/s (exahashes/ثانية) — هذا يساوي 600 كوينتيليون تجزئة في الثانية!
-   **لماذا هذا الهدر؟**
    -   **تكلفة الأمان:** العمليات الحسابية العالية تجعل الهجمات غير مجدية اقتصادياً. إعادة كتابة كتلة واحدة تتطلب إعادة إجراء كل إثبات العمل للكتل اللاحقة.
    -   **مقاومة هجمات سايبيل:** تمنع غمر الشبكة بهويات مزيفة.
    -   **مفاضلة:** مكلفة من حيث الطاقة (تستخدم البيتكوين ~150 تيراواط ساعة/سنويًا، مثل دولة متوسطة الحجم)، لكن المؤيدين يجادلون بأنها ميزة للنقود التي لا تعتمد على الثقة.

يدفع المستخدمون رسومًا لإعطاء أولوية لمعاملاتهم في الكتل؛ المعاملات ذات الرسوم المنخفضة تنتظر.

إذا كنت تقصد شيئًا محددًا (مثل أجهزة التعدين)، دعني أعرف!

**المراجع:**  
[الورقة البيضاء للبيتكوين](https://bitcoin.org/bitcoin.pdf)  
[Bitcoin Wiki: إثبات العمل](https://en.bitcoin.it/wiki/Proof_of_work)  
[Blockchain.com: تنصيف البيتكوين](https://www.blockchain.com/learning-crypto/bitcoin-halving)