---
audio: false
generated: true
lang: ar
layout: post
title: حزم بابل للتوافق مع المتصفح
translated: true
---

### النقاط الرئيسية
- يبدو أن هذه الحزم Babel تستخدم لتحويل JavaScript الحديث (ES2015) إلى إصدارات أقدم من أجل التوافق مع المتصفحات، خاصة في مشروع واجهة مستخدم مبني على webpack.
- تشير الأبحاث إلى أن الإعداد يتضمن تثبيت إصدارات محددة، وإضافة ملف `.babelrc`، وتكوين webpack لاستخدام `babel-loader`.
- يشير الدليل إلى أن هناك مشاكل توافق قليلة لهذه الإصدارات القديمة، ولكن تأكد من تثبيت جميع الحزم بشكل صحيح.

### التثبيت
أولاً، قم بتثبيت الحزم باستخدام هذه الأوامر:

```bash
npm install --save-dev \
  "babel-core@6.13.0" \
  "babel-loader@6.2.5" \
  "babel-plugin-transform-runtime@6.12.0" \
  "babel-preset-es2015@6.13.2" \
  "babel-runtime@6.11.6"
```

### التكوين
إنشاء ملف `.babelrc` في جذر المشروع مع:

```json
{
  "presets": ["es2015"],
  "plugins": ["transform-runtime"]
}
```

ثم، قم بتكوين ملف `webpack.config.js` على النحو التالي:

```javascript
module.exports = {
  entry: './index.js',
  output: {
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        loader: 'babel-loader',
        options: {
          configFile: './.babelrc'
        }
      }
    ]
  }
};
```

### الاستخدام
اكتب كود JavaScript ES2015 في ملفات مثل `index.js`، ثم قم بتشغيل `npx webpack` لتحويلها إلى `bundle.js` الذي يمكن للمتصفحات القديمة فهمه.

### التفاصيل غير المتوقعة
جوانب غير متوقعة هي أن هذه الإصدارات قديمة (Babel 6)، الآن قد تم إهمالها لصالح Babel 7، وهذا قد يؤثر على الصيانة على المدى الطويل، ولكن مناسب للأنظمة القديمة.

---

### ملاحظة الاستطلاع: إعداد وتكوين حزم Babel

يقدم هذا القسم دليلًا شاملًا لاستخدام حزم Babel المحددة - `babel-core@6.13.0`، `babel-loader@6.2.5`، `babel-plugin-transform-runtime@6.12.0`، `babel-preset-es2015@6.13.2`، و `babel-runtime@6.11.6` - في مشروع JavaScript، خاصة في تطوير واجهة مستخدم مع webpack. نظرًا لهذه الإصدارات، فهي جزء من Babel 6، مجموعة قديمة ولكنها لا تزال تعمل لتحويل JavaScript الحديث (ES2015) إلى ES5 من أجل التوافق مع المتصفحات. يغطي التفاصيل التالية التثبيت والتكوين والاستخدام والتفاصيل، مما يضمن فهمًا شاملًا للمطورين الذين يعملون على أنظمة قديمة أو مشاريع محددة.

#### الخلفية والأهداف
Babel هو مترجم JavaScript يحول السنتاكس الحديث إلى إصدارات قديمة أكثر دعمًا. الحزم المدرجة من Babel 6، والتي كانت شائعة قبل التحديث الكبير إلى Babel 7. `babel-core@6.13.0` يوفر الوظائف الأساسية للتحويل، بينما `babel-loader@6.2.5` يدمج مع webpack لبناء واجهات المستخدم. `babel-preset-es2015@6.13.2` يتيح تحويل ES2015 (ECMAScript 2015) إلى ES5، و `babel-plugin-transform-runtime@6.12.0` مع `babel-runtime@6.11.6` يحسن الكود من خلال استخراج وظائف المساعدة، مما يقلل من التكرار.

من حيث التاريخ الحالي، 3 مارس 2025، هذه الإصدارات قديمة جدًا، مع أن Babel 7 وما بعده هو المعيار. ومع ذلك، بالنسبة للأنظمة القديمة أو المتطلبات المحددة، فهي لا تزال ذات صلة. يشير استفسار المستخدم إلى الحاجة إلى إعداد في بيئة webpack، مع أن البدائل مثل Babel CLI أيضًا تعتبر.

#### عملية التثبيت
لبدء التثبيت، قم بتثبيت الحزم كحزم تطوير باستخدام npm. يضمن الأمر الإصدارات الدقيقة كما هو محدد:

```bash
npm install --save-dev \
  "babel-core@6.13.0" \
  "babel-loader@6.2.5" \
  "babel-plugin-transform-runtime@6.12.0" \
  "babel-preset-es2015@6.13.2" \
  "babel-runtime@6.11.6"
```

يضع هذا الأمر الحزم في `package.json` تحت `devDependencies`، مما يضمن توفرها للعمليات البناء ولكن لا يتم تضمينها في الإنتاج. لاحظ أن `babel-runtime` عادةً ما يكون حزمة تشغيل في بعض الإعدادات، ولكن هنا، مع وجود المصفوفة، يتم معالجتها كحزمة تطوير من أجل التوافق مع التحويل.

#### تفاصيل التكوين
يتضمن التكوين ملفين رئيسيين: `.babelrc` لتكوين Babel و `webpack.config.js` لتكامل webpack.

##### ملف `.babelrc`
إنشاء أو تعديل `.babelrc` في جذر المشروع مع المحتوى التالي:

```json
{
  "presets": ["es2015"],
  "plugins": ["transform-runtime"]
}
```

- **المسبقات**: `"es2015"` يتوافق مع `babel-preset-es2015@6.13.2`، مما يتيح جميع تحويلات ES2015 إلى ES5، مثل الوظائف السهمية، let/const، والفئات.
- **المصفوفات**: `"transform-runtime"` يستخدم `babel-plugin-transform-runtime@6.12.0` لاستخراج مساعدات Babel، مرجع `babel-runtime@6.11.6`، مما يقلل من حجم الكود المجمع من خلال تجنب تكرار المساعدات بين الملفات.

يضمن هذا التكوين أن الكود ES2015 يتم تحويله وتحسينه من أجل كفاءة التشغيل.

##### تكوين webpack
لwebpack، قم بإنشاء أو تحديث `webpack.config.js` مع:

```javascript
module.exports = {
  entry: './index.js',
  output: {
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        loader: 'babel-loader',
        options: {
          configFile: './.babelrc'
        }
      }
    ]
  }
};
```

- **الدخول والخروج**: يحدد `index.js` كنقطة دخول ويخرج `bundle.js`.
- **قواعد الوحدات**: يستخدم `babel-loader@6.2.5` للملفات `.js`، يشير إلى `.babelrc` للحصول على الخيار، مما يضمن أن Babel يعالج الملفات قبل التجميع.

يستخدم هذا الإعداد نظام الوحدات في webpack لمعالجة ملفات JavaScript، وتحويلها عبر Babel.

#### الاستخدام والعملية
مع إكمال الإعداد، أكتب كود ES2015 في ملفات مثل `index.js`. على سبيل المثال:

```javascript
const arr = [1, 2, 3];
const sum = arr.reduce((a, b) => a + b, 0);
console.log(sum);
```

قم بتشغيل الأمر التجميع:

```bash
npx webpack
```

يحول هذا الكود إلى `bundle.js`، والذي يمكن تضمينه في HTML للتنفيذ في المتصفح، مما يضمن التوافق مع بيئات قديمة. يضمن مصفوفة `transform-runtime` أن المساعدات مشتركة، مما يقلل من حجم التجميع، وهو مفيد بشكل خاص في مشاريع كبيرة.

#### استخدام بديل: Babel CLI
بينما يشير الاستفسار إلى إعداد webpack، من أجل الشمول، اعتبر استخدام Babel CLI لتحويل يدوي بدون webpack. أولاً، قم بتثبيت `babel-cli@6.13.0`:

```bash
npm install --save-dev "babel-cli@6.13.0"
```

ثم، قم بتحويل الملفات مع:

```bash
./node_modules/.bin/babel src/index.js -o lib/index.js
```

أو، أضف إلى `package.json` scripts:

```json
"scripts": {
  "build": "babel src --out-dir lib"
}
```

قم بتشغيله مع `npm run build`، والذي يخرج الملفات المحول إلى `lib/`، مفيدًا لمشروعات Node.js أو الكود على جانب الخادم.

#### التوافق والتفاصيل
من حيث الإصدارات (جميعها حول Babel 6، تم إصدارها منذ سنوات)، يضمن التوافق بشكل عام داخل نفس الإصدار الرئيسي. ومع ذلك، لاحظ:

- `babel-loader@6.2.5` يعمل مع webpack 1 و 2، لذا تأكد من أن إصدارتك من webpack (على سبيل المثال، `webpack@1.14.0`) متوافقة.
- هذه الحزم قد تم إهمالها لصالح Babel 7، التي تستخدم حزم مخصصة مثل `@babel/core`. بالنسبة للمشاريع طويلة الأمد، اعتبر الترقية، ولكن بالنسبة للأنظمة القديمة، تعمل هذه بشكل جيد.
- تأكد من عدم وجود تنازلات في الأسماء؛ كان لدى المستخدم قائمة مع فراغات (على سبيل المثال، "babel loader")، ربما أخطاء في الكتابة، تم تصحيحها إلى شريطات (على سبيل المثال، `babel-loader`).

#### الأخطاء المحتملة
- تأكد من أن `.babelrc` في جذر المشروع، أو تحديد المسار في خيارات webpack.
- تأكد من تثبيت `babel-runtime`، حيث يعتمد `transform-runtime` عليه للحصول على المساعدات.
- تحقق من تحذيرات الإهمال أثناء التثبيت، بسبب عمر هذه الإصدارات، ولكن يجب أن تعمل كما هو متوقع للاستخدام المقصود.

#### جدول: أدوار الحزم والإصدارات

| اسم الحزمة                  | الإصدار | الدور                                                                 |
|-------------------------------|---------|----------------------------------------------------------------------|
| `babel-core`                  | 6.13.0  | الوظائف الأساسية للتحويل في Babel.                            |
| `babel-loader`                | 6.2.5   | محمل webpack لـ Babel، يجمع ملفات JavaScript.                  |
| `babel-plugin-transform-runtime` | 6.12.0 | مصفوفة لاستخراج المساعدات، مما يقلل من تكرار الكود.             |
| `babel-preset-es2015`         | 6.13.2  | مسبق لتحويل ES2015 إلى ES5، مما يتيح السنتاكس الحديث.      |
| `babel-runtime`               | 6.11.6  | مكتبة تشغيل توفر المساعدات لمصفوفة `transform-runtime`.     |

يجمع هذا الجدول دور كل حزمة، مما يساعد في فهم أغراضها في الإعداد.

#### التفاصيل غير المتوقعة: السياق القديم
جوانب غير متوقعة هي أن هذه إصدارات Babel 6، الآن قد تم إهمالها، مع أن Babel 7 قد قدمت حزمًا مخصصة (على سبيل المثال، `@babel/core`). هذا الإعداد شائع في الأنظمة القديمة، و بينما يعمل، فقد لا يحتوي على ميزات حديثة مثل دعم أفضل لـ TypeScript أو تحسينات الأداء في Babel 7، مما قد يكون غير متوقع للمطورين الذين يستخدمون المعايير الحالية.

#### الخاتمة
يغطي هذا الدليل إعداد حزم Babel المحددة لمشروع واجهة مستخدم مبني على webpack، مع بديل لـ Babel CLI. من حيث الإصدارات، تأكد من التوافق مع webpack 1 أو 2، وكن على علم بالإهمال، ولكن بالنسبة للاستخدام المقصود، يجب أن يعمل بشكل سلس. للحصول على مزيد من التفاصيل، راجع روابط الوثائق المرفقة.

#### المراجع الرئيسية
- [babel-loader webpack documentation](https://webpack.js.org/loaders/babel-loader/)
- [babel preset-es2015 npm package](https://www.npmjs.com/package/babel-preset-es2015)
- [babel plugin-transform-runtime npm package](https://www.npmjs.com/package/babel-plugin-transform-runtime)
- [babel runtime npm package](https://www.npmjs.com/package/babel-runtime)
- [Webpack official documentation](https://webpack.js.org/)