---
audio: false
generated: true
lang: ar
layout: post
title: حزم بابل لتوافق المتصفحات
translated: true
type: note
---

### النقاط الرئيسية
- يبدو من المرجح أن حزم Babel هذه تُستخدم لتحويل JavaScript الحديث (ES2015) إلى إصدارات أقدم لتحقيق التوافق مع المتصفحات، خاصة في مشاريع الواجهة الأمامية المعتمدة على webpack.
- تشير الأبحاث إلى أن الإعداد يتطلب تثبيت إصدارات محددة، وإنشاء ملف `.babelrc`، وتهيئة webpack لاستخدام `babel-loader`.
- تشير الأدلة إلى أن مشاكل التوافق ضئيلة لهذه الإصدارات الأقدم، ولكن يجب التأكد من تثبيت جميع الحزم بشكل صحيح.

### التثبيت
أولاً، قم بتثبيت الحزم باستخدام الأوامر التالية:

```bash
npm install --save-dev \
  "babel-core@6.13.0" \
  "babel-loader@6.2.5" \
  "babel-plugin-transform-runtime@6.12.0" \
  "babel-preset-es2015@6.13.2" \
  "babel-runtime@6.11.6"
```

### التهيئة
قم بإنشاء ملف `.babelrc` في جذر مشروعك بالمحتوى التالي:

```json
{
  "presets": ["es2015"],
  "plugins": ["transform-runtime"]
}
```

بعد ذلك، قم بإعداد ملف `webpack.config.js` الخاص بك كما يلي:

```javascript
module.exports = {
  entry: './index.js',
  output: {
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        loader: 'babel-loader',
        options: {
          configFile: './.babelrc'
        }
      }
    ]
  }
};
```

### الاستخدام
اكتب كود JavaScript الخاص بـ ES2015 في ملفات مثل `index.js`، ثم شغل الأمر `npx webpack` لتحويله إلى `bundle.js`، والذي يمكن للمتصفحات القديمة فهمه.

### تفصيل غير متوقع
جانب غير متوقع هو أن هذه إصدارات قديمة (Babel 6)، وهي الآن مهجورة لصالح Babel 7، مما قد يؤثر على الصيانة طويلة المدى ولكنه مناسب للمشاريع القديمة.

---

### ملاحظة المسح: الإعداد التفصيلي واستخدام حزم Babel

يقدم هذا القسم دليلاً شاملاً لاستخدام حزم Babel المحددة—`babel-core@6.13.0`، `babel-loader@6.2.5`، `babel-plugin-transform-runtime@6.12.0`، `babel-preset-es2015@6.13.2`، و `babel-runtime@6.11.6`—في مشروع JavaScript، خاصة لتطوير الواجهة الأمامية باستخدام webpack. نظرًا للإصدارات، فهذه الحزم جزء من Babel 6، وهي مجموعة قديمة ولكنها لا تزال تعمل لتحويل JavaScript الحديث (ES2015) إلى ES5 لتحقيق توافق أوسع مع المتصفحات. التفاصيل التالية تغطي التثبيت، والتهيئة، والاستخدام، والاعتبارات، مما يضمن فهماً شاملاً للمطورين العاملين على مشاريع قديمة أو محددة.

#### الخلفية والغرض
Babel هو مُحوِّل (compiler) لـ JavaScript يحول الصياغة الحديثة إلى إصدارات أقدم مدعومة على نطاق أوسع. الحزم المذكورة تنتمي إلى Babel 6، الذي كان سائدًا قبل التحديث الرئيسي إلى Babel 7. `babel-core@6.13.0` يوفر وظيفة التجميع الأساسية، بينما `babel-loader@6.2.5` يدمج مع webpack لعمليات بناء الواجهة الأمامية. `babel-preset-es2015@6.13.2` يُمكنّن تحويل ES2015 (ECMAScript 2015) إلى ES5، و `babel-plugin-transform-runtime@6.12.0` مع `babel-runtime@6.11.6` يُحسنان الكود من خلال استبعاد دوامل المساعدة (helper functions)، مما يقلل التكرار.

نظرًا لتاريخ اليوم، 3 مارس 2025، فإن هذه الإصدارات قديمة بشكل ملحوظ، حيث أصبح Babel 7 وما بعده هو المعيار. ومع ذلك، بالنسبة للمشاريع القديمة أو المتطلبات المحددة، فإنها تظل ذات صلة. يشير استفسار المستخدم إلى الحاجة للإعداد في بيئة webpack، نظرًا لإدراج `babel-loader`، على الرغم من أن البدائل مثل Babel CLI يتم أخذها في الاعتبار أيضًا.

#### عملية التثبيت
للبدء، قم بتثبيت الحزم كتبعيات تطوير باستخدام npm. يضمن الأمر الإصدارات المحددة بدقة:

```bash
npm install --save-dev \
  "babel-core@6.13.0" \
  "babel-loader@6.2.5" \
  "babel-plugin-transform-runtime@6.12.0" \
  "babel-preset-es2015@6.13.2" \
  "babel-runtime@6.11.6"
```

تضع هذه الخطوة الحزم في `package.json` ضمن `devDependencies`، مما يضمن توفرها لعمليات البناء ولكن لا يتم تضمينها في الإنتاج. لاحظ أن `babel-runtime` عادةً ما يكون تبعية وقت التشغيل (runtime dependency) في بعض الإعدادات، ولكن هنا، نظرًا للإضافة (plugin)، يتم التعامل معه كتبعية تطوير للتنسيق مع التحويل (transform).

#### تفاصيل التهيئة
تشمل التهيئة ملفين رئيسيين: `.babelrc` لإعدادات Babel و `webpack.config.js` للتكامل مع webpack.

##### ملف `.babelrc`
قم بإنشاء أو تعديل ملف `.babelrc` في جذر المشروع بالمحتوى التالي:

```json
{
  "presets": ["es2015"],
  "plugins": ["transform-runtime"]
}
```

- **المجموعات المسبقة (Presets)**: `"es2015"` يقابل `babel-preset-es2015@6.13.2`، مما يمكن جميع تحويلات ES2015 إلى ES5، مثل دوال السهم، let/const، والفئات (classes).
- **الإضافات (Plugins)**: `"transform-runtime"` يستخدم `babel-plugin-transform-runtime@6.12.0` لاستبعاد دوامل مساعدة Babel، بالاستناد إلى `babel-runtime@6.11.6`، مما يقلل حجم الكود المحول بتجنب تكرار الدوامل عبر الملفات.

هذه التهيئة تضمن تحويل كود ES2015 وتحسينه لكفاءة وقت التشغيل.

##### تهيئة Webpack
لـ webpack، قم بإنشاء أو تحديث `webpack.config.js` بما يلي:

```javascript
module.exports = {
  entry: './index.js',
  output: {
    filename: 'bundle.js'
  },
  module: {
    rules: [
      {
        test: /\.js$/,
        loader: 'babel-loader',
        options: {
          configFile: './.babelrc'
        }
      }
    ]
  }
};
```

- **نقطة الدخول والإخراج (Entry and Output)**: تحدد `index.js` كنقطة دخول وتخرج `bundle.js`.
- **قواعد الوحدة (Module Rules)**: يستخدم `babel-loader@6.2.5` لملفات `.js`، مشيرًا إلى `.babelrc` للخيارات، مما يضمن معالجة Babel للملفات قبل التجميع.

يستفيد هذا الإعداد من نظام الوحدات (module system) في webpack للتعامل مع ملفات JavaScript، وتحويلها عبر Babel.

#### الاستخدام وسير العمل
بعد اكتمال الإعداد، اكتب كود ES2015 الخاص بك في ملفات مثل `index.js`. على سبيل المثال:

```javascript
const arr = [1, 2, 3];
const sum = arr.reduce((a, b) => a + b, 0);
console.log(sum);
```

شغل أمر البناء:

```bash
npx webpack
```

يحول هذا الأمر الكود إلى `bundle.js`، والذي يمكن تضمينه في HTML لتنفيذه في المتصفح، مما يضمن التوافق مع البيئات القديمة. تضمن إضافة `transform-runtime` مشاركة الدوامل المساعدة، مما يقلل حجم الحزمة، وهو مفيد بشكل خاص للمشاريع الكبيرة.

#### استخدام بديل: Babel CLI
بينما يشير الاستفسار إلى إعداد webpack، وللاكتمال، فكر في استخدام Babel CLI للتحويل اليدوي بدون webpack. أولاً، قم بتثبيت `babel-cli@6.13.0`:

```bash
npm install --save-dev "babel-cli@6.13.0"
```

ثم، قم بتحويل الملفات باستخدام:

```bash
./node_modules/.bin/babel src/index.js -o lib/index.js
```

أو، أضف إلى نصوص (scripts) `package.json`:

```json
"scripts": {
  "build": "babel src --out-dir lib"
}
```

شغل باستخدام `npm run build`، والذي يخرج الملفات المحولة إلى `lib/`، وهو مفيد لمشاريع Node.js أو الكود من جانب الخادم.

#### التوافق والاعتبارات
نظرًا للإصدارات (جميعها حول Babel 6، التي صدرت منذ سنوات)، يتم عمومًا ضمان التوافق ضمن نفس الإصدار الرئيسي. ومع ذلك، لاحظ:

- `babel-loader@6.2.5` يعمل مع webpack 1 و 2، لذا تأكد من أن إصدار webpack الخاص بك (مثل `webpack@1.14.0`) متوافق.
- هذه الحزم مهجورة لصالح Babel 7، الذي يستخدم حزم مُحددة النطاق (scoped packages) مثل `@babel/core`. للمشاريع طويلة المدى، فكر في الترقية، ولكن للتراث (legacy)، هذه الحزم تعمل بشكل جيد.
- تأكد من عدم وجود تعارضات في التسمية؛ القائمة التي قدمها المستخدم تحتوي على مسافات (مثل "babel loader")، على الأرجح أخطاء مطبعية، تم تصحيحها بواصلات (مثل `babel-loader`).

#### المزالق المحتملة
- تأكد من وجود `.babelrc` في جذر المشروع، أو حدد المسار في خيارات webpack.
- تحقق من تثبيت `babel-runtime`، لأن `transform-runtime` يعتمد عليه للحصول على الدوامل المساعدة.
- ابحث عن تحذيرات إهمال (deprecation warnings) أثناء التثبيت، نظرًا لقدم هذه الإصدارات، ولكن يجب أن تعمل كما هو متوقع للاستخدام المقصود.

#### الجدول: أدوار الحزم والإصدارات

| اسم الحزمة                     | الإصدار | الدور                                                                 |
|--------------------------------|---------|------------------------------------------------------------------------|
| `babel-core`                  | 6.13.0  | الوظيفة الأساسية للتجميع في Babel.                            |
| `babel-loader`                | 6.2.5   | محمل (loader) Webpack لـ Babel، يحول ملفات JavaScript.                  |
| `babel-plugin-transform-runtime` | 6.12.0 | إضافة (plugin) لاستبعاد الدوامل المساعدة، مما يقلل تكرار الكود.             |
| `babel-preset-es2015`         | 6.13.2  | مجموعة مسبقة (preset) لتحويل ES2015 إلى ES5، مما يمكن الصياغة الحديثة.      |
| `babel-runtime`               | 6.11.6  | مكتبة وقت التشغيل توفر الدوامل المساعدة لإضافة `transform-runtime`.     |

يلخص هذا الجدول دور كل حزمة، مما يساعد في فهم الغرض منها في الإعداد.

#### التفصيل غير المتوقع: السياق القديم
جانب مثير للاهتمام هو أن هذه إصدارات Babel 6، وهي الآن مهجورة، حيث قدم Babel 7 الحزم مُحددة النطاق (مثل `@babel/core`). هذا الإعداد نموذجي للمشاريع القديمة، وبينما هو وظيفي، قد يفتقر إلى الميزات الحديثة مثل دعم TypeScript الأفضل أو تحسينات الأداء في Babel 7، مما قد يكون غير متوقع للمطورين المعتادين على المعايير الحالية.

#### الخلاصة
يغطي هذا الدليل إعداد حزم Babel المحددة لمشروع واجهة أمامية يعتمد على webpack، مع بديل لـ Babel CLI. نظرًا للإصدارات، تأكد من التوافق مع webpack 1 أو 2، وكن على علم بالإهمال (deprecation)، ولكن للاستخدام المقصود، يجب أن يعمل بسلاسة. لمزيد من التفاصيل، راجع روابط الوثائق المقدمة.

#### الاستشهادات الرئيسية
- [babel-loader webpack documentation](https://webpack.js.org/loaders/babel-loader/)
- [babel preset-es2015 npm package](https://www.npmjs.com/package/babel-preset-es2015)
- [babel plugin-transform-runtime npm package](https://www.npmjs.com/package/babel-plugin-transform-runtime)
- [babel runtime npm package](https://www.npmjs.com/package/babel-runtime)
- [Webpack official documentation](https://webpack.js.org/)