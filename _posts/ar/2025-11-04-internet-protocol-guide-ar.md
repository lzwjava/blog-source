---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: الدليل الشامل لبروتوكول الإنترنت
translated: true
type: note
---

بروتوكول الإنترنت (IP) هو العمود الفقري للإنترنت، حيث يعمل كآلية أساسية لتوجيه البيانات وعناونتها عبر الشبكات المترابطة. يعمل في طبقة الشبكة (الطبقة الثالثة) من نموذج OSI، مما يمكن الأجهزة حول العالم من التواصل عن طريق تقسيم البيانات إلى حزم وتوجيهها إلى وجهاتها. يقدم هذا الدليل استكشافًا متعمقًا لبروتوكول الإنترنت، مبنيًا على مبادئه الأساسية مع تغطية تاريخه وإصداراته وآلياته والاعتبارات العملية. سواء كنت طالبًا، أو مهندس شبكات، أو هاويًا فضوليًا، فإن هذا سيزودك بفهم راسخ.

## 1. مقدمة عن بروتوكول الإنترنت
بروتوكول الإنترنت هو مجموعة بروتوكولات قياسية تم تطويرها في سبعينيات القرن العشرين كجزء من مشروع ARPANET، الذي وضع الأساس للإنترنت الحديث. صممه فينت سيرف وبوب كان، وتم تقنين بروتوكول الإنترنت في RFC 791 (IPv4) في عام 1981. لقد جعلت بساطته وقابليته للتوسع المعيار الفعلي لنقل البيانات عالميًا.

في جوهره، يتعامل بروتوكول الإنترنت مع "أين" يتم تسليم البيانات: فهو يعين عناوين فريدة للأجهزة ويوجه الحزم عبر الشبكات. ومع ذلك، فهو لا يهتم بـ "كيفية" التسليم الموثوق - فهذا متروك لبروتوكولات الطبقات العليا مثل TCP (بروتوكول التحكم في الإرسال). فلسفة تصميم بروتوكول الإنترنت تؤكد على المتانة: فهو يفترض أن الشبكات يمكن أن تفشل، لذلك يعطي الأولوية لإيصال الحزم إلى أبعد حد ممكن دون تعقيد العملية.

الفوائد الرئيسية:
- **قابلية التوسع**: يدعم مليارات الأجهزة.
- **التشغيل البيني**: يعمل عبر أجهزة وبرامج متنوعة.
- **المرونة**: يسمح بتقنيات متطورة مثل الشبكات المحمولة وإنترنت الأشياء.

## 2. البروتوكول الأساسي: عنونة وتوجيه الحزم
بروتوكول الإنترنت هو **البروتوكول الأساسي المسؤول عن عنونة وتوجيه الحزم عبر الشبكات**. يعامل البيانات كحزم مستقلة (رزم بيانات) يمكن أن تسلك مسارات متنوعة للوصول إلى وجهتها، وهو مفهوم يعرف باسم التسليم "بأفضل جهد".

### العنونة
كل جهاز على شبكة IP لديه **عنوان IP** فريد، يعمل مثل عنوان بريدي للبريد الرقمي. العناوين هرمية، مما يتيح التوجيه الفعال.

- **عناوين IPv4**: تنسيق 32 بت (على سبيل المثال، 192.168.1.1)، توفر حوالي 4.3 مليار عنوان فريد. مكتوبة بالتدوين العشري المنقط (أربع وحدات ثمانية مفصولة بنقاط).
- **عناوين IPv6**: تنسيق 128 بت (على سبيل المثال، 2001:0db8:85a3:0000:0000:8a2e:0370:7334)، تدعم 3.4 × 10^38 عنوانًا لاستيعاب النمو المستقبلي. مكتوبة بالنظام الست عشري مع نقطتين رأسيتين.

تنقسم العناوين إلى:
- **جزء الشبكة**: يحدد الشبكة (على سبيل المثال، عبر قناع الشبكة الفرعية).
- **جزء المضيف**: يحدد الجهاز على تلك الشبكة.

تسمح التقسيمات الفرعية للشبكات بتقسيم الشبكات إلى شبكات فرعية أصغر للكفاءة والأمان.

### التوجيه
يحدد التوجيه المسار الذي تسلكه الحزم من المصدر إلى الوجهة. تفحص الموجهات عنوان IP الوجهة وتعيد توجيه الحزم بناءً على جداول التوجيه، التي تستخدم بروتوكولات مثل OSPF أو BGP لمعرفة المسارات المثلى.

- **التسليم قفزة بقفزة**: كل موجه يعالج حزمة واحدة في كل مرة، مخفضًا حقل TTL لمنع الحلقات اللانهائية.
- **التوجيه الديناميكي**: يتكيف مع الأعطال؛ التوجيه الثابت أبسط ولكن أقل مرونة.

## 3. الطبيعة اللاتصالية وغير الموثوقة
يوفر بروتوكول الإنترنت **خدمة لاتصالية** (لا يوجد إنشاء اتصال مسبق) وهو **غير موثوق** (لا يضمن التسليم). هذا النهج "أطلق وانسه" يجعله خفيف الوزن لكنه ينقل أعباء الموثوقية إلى الأعلى.

### التشغيل اللاتصالي
- لا يوجد مصافحة (على عكس المصافحة ثلاثية الاتجاه في TCP).
- كل حزمة مكتفية ذاتيًا بمعلومات عنونة كاملة، مما يسمح بالإرسال المستقل.
- مثالي للتطبيقات في الوقت الحقيقي مثل VoIP، حيث تكون السرعة أهم من التسليم المثالي.

### عدم الموثوقية ومعالجة الأخطاء
- **لا يوجد ضمان للتسليم**: يمكن فقدان الحزم أو تكرارها أو وصولها خارج الترتيب بسبب الازدحام أو الأعطال أو التوجيه الخاطئ.
- **كشف الأخطاء**: يستخدم checksum للرأس لاكتشاف التلف؛ إذا كان غير صالح، يتم تجاهل الحزمة (لا إعادة إرسال بواسطة IP).
- **استعادة الخطأ**: تتم معالجته بواسطة الطبقات العليا:
  - TCP: يضيف التتابع، والإقرارات، وإعادة الإرسال.
  - UDP: غالبًا ما يستخدم للتطبيقات غير الموثوقة (مثل البث)، متقبلاً الخسائر.

يشجع هذا التصميم على المرونة: إذا فشل مسار واحد، يمكن للحزم إعادة التوجيه عبر مسارات أخرى.

## 4. تنسيق الحزمة
يحدد بروتوكول الإنترنت **هيكل حزم IP (رزم البيانات)**، بما في ذلك **عناوين IP المصدر والوجهة**، **معلومات الرأس** (على سبيل المثال، **time-to-live - TTL**)، و **الحمولة** (البيانات من الطبقات العليا).

### هيكل حزمة IPv4
تتكون رزمة بيانات IPv4 من رأس (20-60 بايت) وحمولة (يصل إجماليها إلى 65,535 بايت).

| الحقل              | الحجم (بت) | الوصف |
|--------------------|-------------|-------------|
| **الإصدار**       | 4          | إصدار IP (4 لـ IPv4). |
| **IHL (طول رأس الإنترنت)** | 4 | طول الرأس بكلمات 32 بت (الحد الأدنى 5). |
| **نوع الخدمة (DSCP/ECN)** | 8 | معالجة الأولوية والازدحام. |
| **الطول الإجمالي**  | 16         | الحجم الكلي للحزمة (رأس + بيانات). |
| **المعرف**| 16         | معرف فريد لإعادة تجميع التجزئة. |
| **الأعلام**         | 3          | يتحكم في التجزئة (على سبيل المثال، لا تجزئ). |
| **إزاحة الجزء**| 13        | موضع هذا الجزء. |
| **TTL**           | 8          | حد القفزات (يتم إنقاصه لكل موجه؛ 0 = تجاهل). |
| **البروتوكول**      | 8          | بروتوكول الطبقة التالية (على سبيل المثال، 6 لـ TCP، 17 لـ UDP). |
| **فحص رأس**| 16        | فحص الخطأ للرأس. |
| **عنوان IP المصدر** | 32    | عنوان المرسل. |
| **عنوان IP الوجهة** | 32 | عنوان المستقبل. |
| **خيارات** (متغير) | 0-40 بايت | امتدادات نادرة (على سبيل المثال، الطوابع الزمنية). |
| **البيانات (الحمولة)**| متغير   | بيانات الطبقة العليا. |

### هيكل حزمة IPv6
رأس أبسط وثابت (40 بايت) للكفاءة، مع امتدادات للخيارات.

| الحقل              | الحجم (بت) | الوصف |
|--------------------|-------------|-------------|
| **الإصدار**       | 4          | إصدار IP (6 لـ IPv6). |
| **فئة الحركة** | 8          | الأولوية والازدحام. |
| **تسمية التدفق**    | 20         | لتدفقات جودة الخدمة. |
| **طول الحمولة**| 16         | طول البيانات (يستثني الرأس). |
| **الرأس التالي**   | 8          | نوع الرأس التالي (امتدادات متسلسلة). |
| **حد القفز**     | 8          | مكافئ TTL في IPv6. |
| **عنوان المصدر**| 128        | عنوان المرسل. |
| **عنوان الوجهة** | 128   | عنوان المستقبل. |
| **البيانات**          | متغير   | الحمولة والامتدادات. |

### التجزئة
إذا تجاوزت الحزمة Maximum Transmission Unit (MTU، على سبيل المثال، 1500 بايت على Ethernet)، فإن IP يقوم بتجزئتها إلى قطع أصغر. تتم إعادة التجميع عند الوجهة (في IPv4) أو بواسطة الموجهات الوسيطة (IPv6 يثبط ذلك). حقلي Identification و Fragment Offset يمكنان من ذلك.

## 5. إصدارات IP: IPv4 مقابل IPv6
تطور بروتوكول الإنترنت لتلبية الطلبات المتزايدة.

### IPv4
- **الإيجابيات**: نظام بيئي ناضج، دعم واسع النطاق.
- **السلبيات**: نضوب العناوين (أدى إلى NAT - ترجمة عناوين الشبكة - لمشاركة العناوين).
- **الوضع**: لا يزال مهيمنًا (~60% من حركة المرور في 2025)، لكنه في decline.

### IPv6
- **الإيجابيات**: مساحة عناوين شاسعة، أمان مدمج (IPsec)، تكوين ذاتي، لا تأخيرات بسبب التجزئة.
- **السلبيات**: تبني أبطأ بسبب مشكلات التوافق.
- **الميزات الرئيسية**:
  - **عناوين Anycast**: التوجيه إلى أقرب جهاز.
  - **Multicast**: اتصال جماعي فعال.
- **التبني**: بحلول 2025، ~45% من حركة المرور العالمية؛ إلزامي في الأجهزة الجديدة.

آليات الانتقال: المكدس المزدوج (تشغيل كليهما)، tunneling (IPv6 over IPv4)، الترجمة (NAT64).

## 6. الاعتبارات الأمنية
بروتوكول الإنترنت غير آمن بطبيعته:
- **انتحال عنوان IP**: تزوير عناوين المصدر للهجمات (يتم التخفيف منه عن طريق التصفية عند المدخل).
- **IPsec**: مجموعة اختيارية للتشفير والمصادقة والسلامة (أكثر أصالة في IPv6).
- **التهديدات الشائعة**: هجمات DDoS عبر التضخيم، هجوم الرجل في المنتصف.
- **أفضل الممارسات**: الجدران النارية، الشبكات الخاصة الافتراضية، والبروتوكولات الآمنة (على سبيل المثال، HTTPS over TCP/IP).

## 7. التطبيقات والأدوات العملية
- **Ping**: يختبر إمكانية الوصول (ICMP Echo Request).
- **Traceroute**: يرسم مسارات الحزم عن طريق معالجة TTL.
- **Wireshark**: يحلل حركة مرور IP.
- **الاستخدام في العالم الحقيقي**: تصفح الويب (HTTP over TCP/IP)، البريد الإلكتروني (SMTP)، البث (RTP over UDP/IP).

## 8. مستقبل بروتوكول الإنترنت
مع انفجار 5G، والحوسبة الطرفية، وإنترنت الأشياء، يتوسع دور بروتوكول الإنترنت. يتسارع اعتماد IPv6، ويعد البحث في شبكات IP-over-optical بتوجيه أسرع. تشمل التحديات عنونة مقاومة للكم وبروتوكولات مستدامة (موفرة للطاقة).

## المراجع
- [RFC 791: Internet Protocol (IPv4)](https://datatracker.ietf.org/doc/html/rfc791)
- [RFC 8200: IPv6 Specification](https://datatracker.ietf.org/doc/html/rfc8200)
- [Internet Society: IPv6 Adoption Overview](https://www.internetsociety.org/deploy360/ipv6/)
- [Cisco: IP Routing Fundamentals](https://www.cisco.com/c/en/us/support/docs/ip/routing-information-protocol-rip/13788-3.html)