---
audio: false
generated: true
image: false
lang: ar
layout: post
title: تحويل الصورة باستخدام أمر الذكاء الاصطناعي
translated: true
type: note
---

اعتبارًا من أغسطس 2025، تطورت نماذج DALL-E من OpenAI، وخاصة نماذج "GPT Image" الأحدث (مثل `gpt-image-1`)، لدعم معالجة الصور الأكثر تطوراً، بما في ذلك تحويلات "من صورة إلى صورة". بينما كان لنموذج DALL-E 2 نقطة نهاية محددة لوظيفة "التباينات"، فإن النماذج الأحدث تدمج هذه الوظيفة من خلال الجمع بين مدخلات الصور ونصوص الأوامر التفصيلية.

إليك كيف يمكنك التعامل مع مهمة "من صورة إلى صورة" مثل تطبيق أسلوب استوديو غيبلي باستخدام OpenAI API:

### المفهوم الأساسي: تحرير الصور باستخدام نص أمر

على عكس الأمر البسيط من نص إلى صورة، فإن تقنية من صورة إلى صورة باستخدام OpenAI API تتضمن تقديم كل من الصورة ونص الأمر الذي يصف التغييرات المطلوبة. المفتاح هو توجيه النموذج حول كيفية "إعادة تفسير" الصورة بأسلوب جديد.

### خطوات استخدام API خطوة بخطوة

تتضمن العملية عادةً بضع خطوات رئيسية:

1.  **جهز صورتك:** يجب أن تكون الصورة التي تريد تحويلها بتنسيق مدعوم (مثل PNG، JPEG) وتستوفي متطلبات الحجم (غالبًا ما تكون النسبة ذات الشكل المربع هي الأفضل). ستحتاج إلى توفير هذه الصورة لاستدعاء API.

2.  **صياغة أمر نصي قوي:** هذا هو الجزء الأكثر أهمية. أنت لا تقول فقط "اجعلها بأسلوب غيبلي". أنت بحاجة إلى وصف *عناصر* أسلوب غيبلي التي تريد من النموذج تطبيقها. الأمر الجيد سيعمل كدليل للذكاء الاصطناعي، يوجهه حول كيفية إعادة عرض الصورة.

      * **الأمر الضعيف:** "أسلوب غيبلي"
      * **الأمر الأفضل:** "مشروع غابة ساحرة بأسلوب استوديو غيبلي. استخدم نسيج ألوان مائية ناعم، لوحة ألوان نابضة بالحياة ولكنها لطيفة مع إضاءة الساعة الذهبية، وأضف أجواء ساحرة تشبه الحلم."
      * **الأمر الأفضل حتى:** "حول هذه الصورة الشخصية إلى شخصية من استوديو غيبلي، مع الحفاظ على ملامحها الأساسية ولكن بتصميمها بجماليات غيبلي المميزة: تفاصيل وجه مبسطة قليلاً، عيون معبرة، ولوحة ألوان ناعمة. استخدم نسيجًا مرسومًا باليد وإحساسًا بالحنين."

3.  **إجراء استدعاء API:** ستستخدم OpenAI API لتحرير الصور. نقطة النهاية لهذا عادةً ما تكون جزءًا من API إنشاء الصور، ولكن مع معلمات محددة لإدخال الصورة. ستقوم بتمرير صورتك (غالبًا كسلسلة مشفرة بـ Base64 أو معرف ملف إذا قمت بتحميله إلى خادم OpenAI) وأمرك التفصيلي.

      * **نقطة النهاية:** قد تكون نقطة النهاية المحددة للاستخدام هي `/v1/images/edits` لـ DALL-E 2، ولكن بالنسبة للنماذج الأحدث مثل GPT Image، قد يتم دمجها في نقطة نهاية واحدة أكثر قوة مثل `/v1/chat/completions` تتعامل مع المدخلات متعددة الوسائط (النص والصور معًا). سيحدد التوثيق نقطة النهاية الصحيحة وكيفية هيكلة طلبك.

      * **المعاملات:**

          * `model`: حدد النموذج الذي تريد استخدامه، مثل `dall-e-2` أو نموذج أحدث مثل `gpt-image-1`.
          * `image`: بيانات الصورة التي أعددتها.
          * `prompt`: الوصف النصي لأسلوب غيبلي الذي تريد تطبيقه.
          * `n`: عدد الصور المراد إنشاؤها (غالبًا ما يقتصر على 1 للنماذج الأحدث).
          * `size`: حجم الإخراج المطلوب (مثال: "1024x1024").

4.  **معالجة الرد:** سترجع API كائن JSON يحتوي على رابط للصورة المُنشأة حديثًا. يمكنك بعد ذلك تنزيل هذه الصورة وحفظها.

### مثال على الكود (بايثون تصورية)

بينما قد يتغير الكود الدقيق مع تحديثات API، إليك مثالاً تصوريًا باستخدام مكتبة `openai` في بايثون:

```python
import openai
import base64
from io import BytesIO
from PIL import Image

# إعداد مفتاح OpenAI API الخاص بك
# يجب الحصول على هذا من متغيرات البيئة، وليس ترميزه مباشرة في الكود
openai.api_key = os.getenv("OPENAI_API_KEY")

# دالة لتشفير الصورة إلى base64
def encode_image(image_path):
    with open(image_path, "rb") as image_file:
        return base64.b64encode(image_file.read()).decode("utf-8")

# المسار إلى الصورة التي تريد تحويلها
image_path = "your_photo.png"
base64_image = encode_image(image_path)

# أمرك التفصيلي بأسلوب غيبلي
prompt_text = "حول هذه الصورة إلى أسلوب رسوم متحركة من استوديو غيبلي. طبق نسيج ألوان مائية ناعم، لوحة ألوان نابضة بالحياة ولكنها لطيفة مع إضاءة الساعة الذهبية، وأجواء ساحرة تشبه الحلم. حافظ على التكوين الأصلي للصورة."

try:
    response = openai.images.generate(
        model="gpt-image-1", # أو "dall-e-2" لنقطة نهاية التباينات
        prompt=prompt_text,
        image_base64=base64_image, # قد يختلف هذا المعامل اعتمادًا على إصدار API
        size="1024x1024",
        n=1,
    )

    image_url = response.data[0].url
    print(f"Generated Ghibli-style image: {image_url}")

except Exception as e:
    print(f"An error occurred: {e}")

```

**ملاحظات مهمة:**

  * **تحديثات API:** تتطور OpenAI API باستمرار. راجع دائمًا التوثيق الرسمي لـ OpenAI API للحصول على أحدث نقاط النهاية والمعلمات وأمثلة التعليمات البرمجية.
  * **اختيار النموذج:** نموذج `gpt-image-1` الأحدث هو عمومًا الأفضل في اتباع التعليمات المعقدة والدقيقة ويمكن استخدامه لكل من تحليل الصور وإنشائها، وهو أداة قوية لمهام من صورة إلى صورة.
  * **هندسة الأمر:** جودة مخرجاتك تعتمد بشكل كبير على الأمر الذي تكتبه. جرب مصطلحات وصيغ描述ية مختلفة للحصول على الإحساس الدقيق الشبيه بأفلام غيبلي الذي تبحث عنه.