---
audio: false
lang: ar
layout: post
title: فهم ملفات مشروع Xcode
translated: true
---

إذا قمت يومًا بفتح ملف Xcode المشروع، فمن المحتمل أن تكون قد واجهت ملفًا `.pbxproj` - ملف نصي مهيأ بشكل غامض يحدد كيفية بناء تطبيقك أو الإضافات. اليوم، سنغوص في مثال من هذا الملف من مشروع يسمى "Reveal-In-GitHub"، إضافة مفيدة لـ Xcode. لا تقلق - لن نحلل كل سطر (سيكون ذلك مزعجًا!). بدلاً من ذلك، سنستكشف المفاهيم الرئيسية والأطر التي تجعل هذا الملف يعمل، مما يمنحك أساسًا صلبًا لفهم أي ملف مشروع Xcode.

---

#### ما هو ملف `.pbxproj`?

في جوهره، ملف `.pbxproj` هو قلب مشروع Xcode. إنه مكتوب في تنسيق متسلسل (تراث من جذور Apple’s NeXTSTEP) ويحدد كل ما يحتاجه Xcode لبناء تطبيقك: ملفات المصدر، الإطارات، إعدادات البناء، وما إلى ذلك. افهمه كخطط - يقرأه Xcode ليقرر ما يجب تجميعه، وكيف يجب ربطه، وماذا يجب وضعه في المنتج النهائي.

الملف الذي قدمته ينتمي إلى "Reveal-In-GitHub"، إضافة لـ Xcode (`.xcplugin`) التي تضيف بشكل محتمل وظائف مرتبطة بـ GitHub إلى IDE Xcode. دعونا نحلل الأفكار الكبيرة والأطر المتكررة.

---

#### المفاهيم الرئيسية في الملف

1. **الأشياء والمعرفات الفريدة (UUIDs)**
   الملف هو قاموس كبير (أو "مخطط الأشياء") يبدأ بـ `objects = { ... };`. كل كيان - سواء كان ملفًا، أو مرحلة بناء، أو هدفًا - يحصل على معرف فريد (UUID) مثل `706F254E1BE7C76E00CA15B4`. هذه المعرفات تربط كل شيء معًا. على سبيل المثال، قد يكون معرف ملف المصدر في قسم `PBXFileReference` مرجعًا في قسم `PBXBuildFile` ليقول، "هيا، قم بتجميع هذا!"

2. **الأقسام للتنظيم**
   الملف مقسم إلى أقسام مسمى، كل منها يدير جزءًا من عملية البناء:
   - **`PBXBuildFile`**: يدرج الملفات التي يجب تجميعها أو معالجةها (مثل ملفات `.m` للمصدر Objective-C).
   - **`PBXFileReference`**: يدرج جميع الملفات في المشروع - الكود المصدر، الرؤوس، الموارد (مثل ملفات `.xib`), والإطارات.
   - **`PBXFrameworksBuildPhase`**: يحدد المكتبات الخارجية (مثل الإطارات Cocoa و Foundation) التي يجب ربطها.
   - **`PBXGroup`**: يوزع الملفات في بنية مجلد افتراضية، تقليد ما تراه في مستكشف المشروع لـ Xcode.
   - **`PBXNativeTarget`**: يحدد المنتج النهائي (هنا، `Reveal-In-GitHub.xcplugin`).
   - **`PBXProject`**: إعدادات المشروع الأعلى، مثل اسم المنظمة (`lzwjava`) و قائمة الأهداف.
   - **`PBXResourcesBuildPhase` و `PBXSourcesBuildPhase`**: خطوات بناء منفصلة للموارد (مثل ملفات الواجهة) وكود المصدر.
   - **`XCBuildConfiguration` و `XCConfigurationList`**: يخزن إعدادات البناء لأوضاع Debug و Release.

3. **مراحل البناء**
   بناء تطبيق ليس مجرد "تجميع كل شيء". إنه عملية مرحلية:
   - **المصادر**: تجميع ملفات `.m` (مثل `RIGConfig.m`).
   - **الإطارات**: ربط المكتبات مثل `Cocoa.framework`.
   - **الموارد**: تجميع الأصول مثل `RIGSettingWindowController.xib` (ملف واجهة).
   هذه المراحل تضمن أن يحدث الشيء الصحيح في الوقت المناسب.

4. **أنواع الملفات والأدوار**
   تستخدم الإضافة Objective-C (ملفات `.h` و `.m`) وتضم `.xib` لنافذة الإعدادات. امتداد `.xcplugin` يوضح أنها إضافة لـ Xcode، نوع خاص من حزمة macOS. الإطارات مثل `Foundation` (أدوات أساسية) و `Cocoa` (أدوات الواجهة و مستوى التطبيق) هي معيار لتطوير macOS.

5. **إعدادات البناء**
   يحدد الملف نوعين من إعدادات البناء: `Debug` و `Release`. وضع Debug يتضمن فحوصات إضافية (مثل `DEBUG=1`) وكود غير مخصص لتسهيل التشفير، بينما وضع Release يبعد معلومات التشفير ويخصص للأداء. إعدادات مثل `MACOSX_DEPLOYMENT_TARGET = 10.10` تضمن التوافق مع إصدارات macOS.

---

#### الأطر التي يجب ملاحظتها

1. **مراجع UUID**
   هل لاحظت كيف تربط المعرفات الفريدة النقاط؟ في `PBXBuildFile`، ملف مثل `RIGConfig.m` يربط إلى مدخل `PBXFileReference` عبر نفس المعرف الفريد. هذه الروابط التجزئية تجعل الملف منظمة ومتسقة.

2. **التجمعات الهرمية**
   قسم `PBXGroup` يقلد شجرة الملفات. المجموعة الأعلى تضم الإطارات، ملفات المصدر الإضافية، ومجلد "Products" للمخرج (`Reveal-In-GitHub.xcplugin`). هذه التسلسل الهرمي يساعد Xcode في تقديم واجهة مستخدم نظيفة للمطورين.

3. **التكرار مع الغرض**
   تظهر الملفات عدة مرات - مرة في `PBXFileReference` (تحديدها)، مرة أخرى في `PBXBuildFile` (تحديدها لتجميعها)، وفي مراحل البناء (تحديد دورها). هذا التكرار يضمن أن يكون دور كل ملف واضحًا.

4. **مرونة الإعدادات**
   تستخدم إعدادات البناء متغيرات مثل `$(inherited)` أو `$(TARGET_NAME)` لتظل مرنة. هذا يسمح لنفس الإعدادات أن تتكيف مع أهداف أو بيئات مختلفة دون تجميعها.

---

#### ما يفعله Reveal-In-GitHub؟

من أسماء الملفات - `RIGGitRepo`, `RIGPlugin`, `RIGSettingWindowController` - يمكننا أن نخمّن أن هذه الإضافة تضيف تكامل GitHub لـ Xcode. ربما تسمح لك بفتح صفحة ملف GitHub مباشرة من IDE أو إدارة إعدادات المستودع عبر نافذة مخصصة (ملف `.xib`). استخدام Cocoa يشير إلى واجهة macOS الأصلية، مناسبة لإضافة Xcode.

---

#### لماذا هذا يهم

فهم ملف `.pbxproj` ليس مجرد معلومات - هو عملي. إذا كنت تتعامل مع خطأ في البناء، أو إضافة ملف جديد، أو كتابة تسلسلات أوتوماتيكية، عليك أن تعرف ما يحدث هنا. بالإضافة إلى ذلك، رؤية كيفية بناء مشروع حقيقي مثل Reveal-In-GitHub يمكن أن يلهم عملك.

المرّة القادمة التي تفتح فيها Xcode، تذكر: خلف هذه الواجهة السليمة يوجد ملف `.pbxproj`، يوجه السحر بهدوء. ليس كما يبدو مخيفًا - بعد أن ترى الأطر، فهو فقط وصفة منظمة جيدة لتطبيقك.