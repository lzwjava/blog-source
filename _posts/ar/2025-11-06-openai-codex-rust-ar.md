---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: أوبن إيه آي كوديكس واجهة سطر الأوامر مدعومة براست
translated: true
type: note
---

### OpenAI Codex CLI و Rust

يستضيف مستودع GitHub على [https://github.com/openai/codex](https://github.com/openai/codex) Codex من OpenAI، وهو وكيل برمجة تجريبي خفيف الوزن يعتمد على واجهة سطر الأوامر (CLI) ويعمل محليًا في طرفيتك. فهو يساعد في مهام مثل إنشاء الكود وتحريره وتصحيح الأخطاء من خلال التكامل مع نماذج OpenAI (على سبيل المثال، عبر Responses API، الافتراضي هو o4-mini). وهو يدعم المصادقة عبر حسابات ChatGPT أو مفاتيح API، التكوين عبر ملفات TOML، والإضافات عبر Model Context Protocol (MCP). يمكن التثبيت عبر npm أو Homebrew أو الملفات الثنائية المباشرة لنظامي macOS وLinux.

#### كيف يستخدم Codex لغة Rust؟
تمت إعادة كتابة أداة Codex CLI إلى حد كبير بلغة Rust، والتي تمثل الآن حوالي 96.7٪ من قاعدة الكود (مع مساهمات طفيفة من Python و TypeScript وغيرها). تنفذ لغة Rust (في المجلد الفرعي `codex-rs`) واجهة الطرفية الأساسية، بما في ذلك:
-   **التجميع كملف ثنائي أصلي**: ينتج ملفات تنفيذية قائمة بذاتها للتوزيع عبر المنصات (Apple Silicon/x86_64 لنظام macOS، Linux x86_64/arm64) بدون تبعيات وقت تشغيل خارجية.
-   **ميزات الأمان**: تستخدم Rust لإنشاء حاويات آمنة (sandboxing) على Linux لتنفيذ واختبار الكود المُنشأ بأمان.
-   **معالجة البروتوكولات**: تنفذ "بروتوكول اتصال" (wire protocol) قابل للتوسيع لخوادم MCP والإضافات المستقبلية متعددة اللغات (مثل السماح بإضافات Python أو Java).
-   **مكونات واجهة المستخدم الطرفية (TUI)**: تتعامل Rust مع تحديد النص، النسخ/اللصق، والعناصر التفاعلية في الطرفية.

بدأ الانتقال كإعادة كتابة جزئية (حوالي نصف الكود بلغة Rust بحلول منتصف 2025) وتقدم ليصل إلى اعتماد شبه كامل، مع إصدارات تحمل علامات مثل `rust-v0.2.0`. يمكنك تثبيت الإصدار الأصلي بلغة Rust عبر `npm i -g @openai/codex@native`. لا يزال الإصدار الأصلي TypeScript/Node.js متاحًا ولكنه قيد التخلص التدريجي بمجرد تحقيق تكافؤ الميزات.

#### هل Rust مفيدة له؟
نعم، تعزز Rust بشكل كبير قابلية استخدام Codex وموثوقيته كأداة CLI. تشمل الفوائد الرئيسية:
-   **مكاسب في الأداء**: عدم وجود وقت تشغيل لجمع القمامة (garbage collection) يعني استخدامًا أقل للذاكرة وبدء تشغيل/تنفيذ أسرع، وهو أمر مثالي للبيئات محدودة الموارد مثل خطوط أنابيب CI/CD أو الحاويات.
-   **توزيع مبسط**: تلغي الملفات الثنائية الثابتة المفردة "جحيم التبعيات" (dependency hell) (على سبيل المثال، لا حاجة لتثبيت Node.js إصدار v22+ أو npm أو nvm)، مما يسهل النشر ويقلل من الاحتكاك للمستخدم.
-   **تحسينات الأمان**: تتيح سلامة الذاكرة في Rust والروابط الأصلية (native bindings) إنشاء حاويات آمنة (sandboxing) قوية لتنفيذ الكود، مما يمنع الثغرات الأمنية في أداة تشغل كودًا غير موثوق مُنشأ.
-   **القدرة على التوسيع والصيانة**: يسمح بروتوكول الاتصال (wire protocol) بالتكامل السلس مع اللغات الأخرى، بينما يدعم نظام Rust البيئي التكرارات السريعة للميزات المحددة للطرفية مثل واجهات المستخدم الطرفية (TUIs).

هذا يجعل Codex أكثر متانة للمطورين الذين يعملون في الطرفيات أو بيئات التطوير المتكاملة (مثل تكاملات VS Code).

#### لماذا يستخدمون Rust؟
انتقلت OpenAI من TypeScript/Node.js إلى Rust في المقام الأول لمعالجة قيود نظام JS البيئي لأداة CLI عالية الأداء وآمنة:
-   **إزالة التبعيات**: متطلبات Node.js (مثل إصدارات محددة) حجبت المستخدمين الذين لا يمتلكون الإعدادات المناسبة؛ بينما الملفات الثنائية لـ Rust خالية من التبعيات وقابلة للنقل.
-   **أمان أفضل لتنفيذ الكود**: كانت الروابط الأصلية لـ Rust لإنشاء الحاويات الآمنة (sandboxing) قيد الاستخدام بالفعل، مما جعل التحول الكامل منطقيًا لاختبار الكود المحلي بشكل أكثر أمانًا.
-   **تحسين الأداء**: تجنب عبء وقت تشغيل JS (مثل توقفات جامع القمامة GC) يضمن استخدامًا متوقعًا وفعالًا للموارد - وهو أمر بالغ الأهمية لأداة تتعامل مع الكود المُنشأ بالذكاء الاصطناعي في الوقت الفعلي.
-   **القابلية للتوسع على المدى الطويل**: تتيح Rust بروتوكولات إضافية أسهل وتتماشى مع هدف OpenAI المتمثل في "الشعور الأصلي"، مما يقلل من عبء الصيانة مقارنة بقواعد الأكواد المزدوجة Node/Rust.

تم الإعلان عن الهجرة حوالي يونيو 2025، مع قائمة مهام لتتبع أمور مثل تحديثات ملف README وتغييرات صيغة Homebrew. لا يزال المشروع تجريبيًا، لذا توقع تحسينات مستمرة.

**المراجع**
-   [نظرة عامة على مستودع GitHub](https://github.com/openai/codex)
-   [مناقشة Reddit حول إعادة الكتابة بلغة Rust](https://www.reddit.com/r/rust/comments/1lkdu2m/openai_is_ditching_typescript_to_rebuild_codex/)
-   [مقال Heise حول التحول للأمان والأداء](https://www.heise.de/en/news/Security-and-performance-OpenAI-Codex-CLI-switches-from-TypeScript-to-Rust-10425172.html)
-   [مدونة SSOJet حول مكاسب الكفاءة](https://ssojet.com/blog/openai-codex-transitions-to-rust-enhancing-efficiency-and-power)