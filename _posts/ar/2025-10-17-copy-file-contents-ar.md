---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: نسخ محتويات الملف في Vi
translated: true
type: note
---

## نسخ (أو نقل) كل المحتوى من ملف إلى ملف جديد في Vi

بناءً على استخدامك لـ Vi، سأفترض أنك تريد تحديد ونسخ/حذف المحتويات الكاملة لملف، ثم لصقها في ملف جديد. لا يحتوي Vi على خيار "تحديد الكل" المباشر مثل محررات الواجهة الرسومية، ولكن يمكنك تحقيق هذا بكفاءة في **وضع الأوامر** (اضغط `Esc` للتأكد من أنك فيه). سأغطي كلًا من **النسخ** (مع ترك الملف الأصلي سليمًا) و**القص/الحذف** (نقل المحتوى).

### خطوة بخطوة: نسخ كل المحتوى إلى ملف جديد
1. افتح ملف المصدر:  
   ```
   vi oldfile.txt
   ```

2. سحب (نسخ) الملف بالكامل:  
   - اكتب `gg` (الانتقال إلى أعلى الملف).  
   - ثم اكتب `yG` (سحب من الموضع الحالي إلى نهاية الملف).  
   *بديل (مخصص لـ Vim، يعمل في vim الخاص بـ Red Hat):* اكتب `:1,$y` واضغط `Enter` (يسحب الأسطر من 1 إلى النهاية).

3. افتح الملف الجديد:  
   - اكتب `:e newfile.txt` واضغط `Enter` (ينشئ/يفتح الملف الجديد).

4. الصق المحتوى:  
   - اكتب `p` (يُلصق بعد المؤشر؛ بما أنه فارغ، سيُلصق في الأعلى).  
   *بديل:* اكتب `P` للصق قبل المؤشر.

5. احفظ واخرج من الملف الجديد:  
   - اكتب `:wq` واضغط `Enter`.

سيظل الملف الأصلي دون تغيير.

### خطوة بخطوة: حذف كل المحتوى ولصقه في ملف جديد (نقل)
هذا يحذف المحتوى الأصلي بعد نسخه.

1. افتح ملف المصدر:  
   ```
   vi oldfile.txt
   ```

2. اسحب (انسخ) الملف بالكامل أولاً:  
   - `gg` ثم `yG` (أو `:1,$y`).

3. احذف كل المحتوى:  
   - اكتب `gg` (إلى الأعلى).  
   - ثم `dG` (يحذف من الموضع الحالي إلى النهاية).  
   *بديل:* اكتب `:%d` واضغط `Enter` (يحذف كل الأسطر).  
   احفظ إذا لزم الأمر: `:w` (يكتب فوق الملف الفارغ الآن).

4. افتح الملف الجديد:  
   - اكتب `:e newfile.txt` واضغط `Enter`.

5. الصق:  
   - اكتب `p`.

6. احفظ واخرج:  
   - `:wq`.

### نصائح سريعة
- إذا حذفت بالخطأ دون سحب أولاً، استخدم `u` للتراجع.
- للقيام بذلك عبر الملفات دون فتح ملف جديد في كل مرة: اسحب في الملف الأول، ثم استخدم `vi newfile.txt`، الصق، واحفظ.
- بالنسبة للملفات الكبيرة، هذه الأوامر سريعة لأن Vi يتعامل مع المخازن المؤقتة بكفاءة.

جرب على ملفات اختبار لتعتاد عليها!

[How to Copy Text to Another File in Vim](https://stackoverflow.com/questions/1239801/how-to-copy-to-the-end-of-the-line-in-vim)  
[Vim: Yank (copy) entire file](https://vim.fandom.com/wiki/Yank_%28copy%29_the_entire_file)