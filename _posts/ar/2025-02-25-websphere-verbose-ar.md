---
audio: true
generated: false
lang: ar
layout: post
title: تسجيل مفصل في WebSphere Liberty Server
translated: true
---

للتعامل مع استفسارك حول خيار السجل التفصيلي للامر `server` في WebSphere Liberty Profile (WLP)، دعونا نوضح ما يفعله الأمر `server` وكيف يمكن التحكم في التفصيل.

يستخدم الأمر `server` في WLP لإدارةInstances من الخادم، مع أفعال مثل `start`، `stop`، `run`، أو `status`. على سبيل المثال:

- `server start <serverName>` يبدأ الخادم في الخلفية، مع توجيه الإخراج إلى ملفات السجل (مثل `logs/console.log`).
- `server run <serverName>` يبدأ الخادم في المقدمة، مع عرض الإخراج مباشرة في الواجهة.

يستفسح استفسارك عن خيار "سجل تفصيلي" للامر `server`، والذي قد يعني إما إخراج تفصيلي أكثر من الأمر نفسه أو سجل تفصيلي أكثر من الخادم الذي يديره. بعد استكشاف الخيارات، من الواضح أن الأمر `server` لا يحتوي على علامة مباشرة مثل `--verbose` أو `-v` لتزيد من تفصيل إخراجه. بدلاً من ذلك، يتعلق التفصيل بالسلوك السجلي للخادم، والذي يمكن أن يؤثر عليه عند استدعاء الأمر.

### تفعيل السجل التفصيلي
في WLP، يتم التحكم في تفصيل السجلات من خلال تكوين السجل للخادم، وليس مباشرة من خلال علامة الأمر `server`. إليك كيفية تفعيل السجل التفصيلي:

#### 1. **تكوين السجل في `server.xml`**
الطريقة الرئيسية لتفعيل السجل التفصيلي هي تعديل العنصر `<logging>` في ملف `server.xml` للخادم، والذي يقع عادةً في `<WLP_HOME>/usr/servers/<serverName>/`. يمكنك تعيين تفصيل تتبع محدد لتزيد من تفصيل السجل. على سبيل المثال:

```xml
<logging traceSpecification="*=all" />
```

- `*=all` يفعّل جميع نقاط التتبع، مما يجعل السجلات تفصيليًا للغاية (مفيد للتشخيص).
- لتفصيل أكثر تحديدًا، يمكنك تحديد المكونات، مثل `*=info:com.example.*=debug`، مع تعيين المستوى الافتراضي إلى `info` ولكن `debug` لمجموعة `com.example`.

يوجد صفات مفيدة أخرى:
- `logLevel`: يحدد مستوى السجل العام (مثل `INFO`، `DEBUG`، `TRACE`).
- `consoleLogLevel`: يسيطر على مستوى الرسائل المكتوبة إلى `console.log` أو الواجهة (مثل `DEBUG` أو `TRACE`).

مثال مع مستوى واجهة أكثر تفصيلًا:
```xml
<logging consoleLogLevel="DEBUG" traceSpecification="*=audit" />
```

عندما تنفذ `server start`، يذهب السجلات (بما في ذلك الإخراج التفصيلي) إلى `logs/console.log`. مع `server run`، يظهر هذا الإخراج التفصيلي مباشرة في واجهةك.

#### 2. **استخدام المتغيرات البيئية**
يمكنك أيضًا التحكم في تفصيل السجل من خلال المتغيرات البيئية، والتي تغلب أو تعزز إعدادات `server.xml`. على سبيل المثال، قم بتعيين المتغير `WLP_LOGGING_CONSOLE_LOGLEVEL` قبل تنفيذ الأمر `server`:

```bash
export WLP_LOGGING_CONSOLE_LOGLEVEL=DEBUG
server start <serverName>
```

- هذا يحدد مستوى السجل إلى `DEBUG`، مما يضمن إخراجًا أكثر تفصيلًا.
- المستويات الصالحة تشمل `INFO`، `DEBUG`، `FINE`، `FINER`، `FINEST`، إلخ.

للمساعدة `server run`، هذا يجعل الإخراج في الواجهة أكثر تفصيلًا؛ ل `server start`، يؤثر على `console.log`.

#### 3. **خيارات JVM التفصيلي**
إذا كنت مهتمًا بإخراج تفصيلي محدد مثل سجلات التجميع، يمكنك إضافة خيارات JVM (على الرغم من أن هذا يتعلق بالوقت التشغيل للخادم، وليس الأمر `server` نفسه). أضف `-verbose:gc` إلى ملف `jvm.options` في `<WLP_HOME>/usr/servers/<serverName>/`، أو أضفها من خلال `server.xml`:

```xml
<jvmEntries verbose="gc" />
```

هذا يخلق سجلات تتعلق بالتجميع، عادةً في `console.log` أو الواجهة مع `server run`.

### كيف يتصل هذا بالامر `server`
- **لا يوجد خيار `--verbose` مباشر**: الأمر `server` نفسه (مثل `server start`) لا يحتوي على خيار `--verbose` أو مشابه لتفصيل خطوات تنفيذ الأمر أكثر من الرسائل الأساسية (مثل "Server started").
- **تسيطر السجلات على التفصيل**: التفصيل الذي تراه يعتمد على تكوين السجل للخادم. استخدم `server run` لمشاهدة السجلات مباشرة في الواجهة، أو تحقق من ملفات السجل بعد `server start`.

على سبيل المثال:
- مع `<logging traceSpecification="*=all"/>` في `server.xml`، تنفذ `server run <serverName>` تفيض الواجهة بالسجلات التفصيلية.
- مع `server start <serverName>`, يظهر نفس التفصيل في `logs/console.log`.

### توصية
لتحقيق السجل التفصيلي عند استخدام الأمر `server`:
1. قم بتحرير `server.xml` لتضمين تفصيل تتبع محدد (مثل `*=all` للتفصيل الأقصى أو مستوى محدد مثل `*=debug`).
2. أو قم بتعيين `WLP_LOGGING_CONSOLE_LOGLEVEL=DEBUG` في بيئتك.
3. استخدم `server run` لمشاهدة الإخراج التفصيلي مباشرة، أو `server start` و تحقق من `logs/console.log`.

هذا النهج يضمن لك الحصول على السجلات التفصيلية التي تحتاجها، مخصصة لطلبات تشخيصك أو مراقبةك.

إذا كنت تقصد شيئًا أكثر تحديدًا (مثل تفصيل تنفيذ الأمر بدلاً من السجلات الخادم)، فلا تتردد في التوضيح! وإلا، فإن تكوين السجل للخادم كما وصفنا هو الطريقة القياسية لتفعيل السجل التفصيلي مع الأمر `server` في WLP.

---