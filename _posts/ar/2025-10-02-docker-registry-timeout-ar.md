---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast:free
title: خطأ انتهاء مهلة اتصال سجل دوكر
translated: true
type: note
---

يبدو أن المخرجات التي قدمتها من أمر Docker، على الأرجح `docker-compose` أو `docker pull`، تعرض حالة سحب أو تشغيل صور الحاويات. المشكلة الأساسية هنا هي الخطأ:

**استجابة خطأ من daemon: Get "https://registry-1.docker.io/v2/": context deadline exceeded**

يشير هذا إلى أن Docker فشل في الاتصال بسجل Docker Hub (`registry-1.docker.io`) خلال الوقت المحدد، مما تسبب في انتهاء مهلة الاتصال. أدناه، سأشرح المشكلة، والأسباب المحتملة، والخطوات لحلها.

### تحليل المشكلة
- **انتهت مهلة السياق (Context Deadline Exceeded)**: يعني هذا الخطأ أن Docker لم يتمكن من إكمال الطلب إلى السجل خلال فترة المهلة. غالبًا ما يرتبط بمشاكل الشبكة، أو تكوين Docker، أو مشاكل في السجل نفسه.
- **الخدمات المتأثرة**: تظهر خدمة `vectordb` الخطأ بوضوح، بينما تم وضع علامة "مُقاطَع" على `mongodb` و `meilisearch`، مما يشير إلى أنها ربما تأثرت بنفس المشكلة أو تم إيقافها يدويًا. لا تزال خدمة `api` تقوم بتنزيل الطبقات، لكن بعض الطبقات عالقة في حالات "انتظار" أو "جاري التنزيل".
- **حالات الانتظار/التنزيل**: القائمة الطويلة لطبقات الحاوية (مثل `9824c27679d3`، `fd345d7e43c5`) العالقة في "انتظار" أو التي يتم تنزيلها ببطء تشير إلى قيود في الشبكة أو الموارد.

### الأسباب المحتملة
1. **مشاكل في اتصال الشبكة**:
   - اتصال إنترنت غير مستقر أو بطيء.
   - جدار حماية أو وكيل يحظر الوصول إلى `registry-1.docker.io`.
   - مشاكل في حل DNS للسجل.
2. **حدود معدل السحب في Docker Hub**:
   - يفرض Docker Hub حدودًا على معدل السحب للمستخدمين المجانيين (100 سحب لكل 6 ساعات للمستخدمين المجهولين، و 200 للحسابات المجانية المصادق عليها). قد يؤدي تجاوز هذا الحد إلى تأخيرات أو فشل.
3. **مشاكل في Daemon Docker**:
   - قد يكون برنامج Docker daemon مثقلًا أو مُكونًا بشكل خاطئ.
   - موارد نظام غير كافية (وحدة المعالجة المركزية، الذاكرة، مساحة القرص).
4. **انقطاع الخدمة في السجل**:
   - مشاكل مؤقتة في Docker Hub أو السجل المحدد.
5. **تكوين Docker Compose**:
   - قد يحدد ملف `docker-compose.yml` صورًا غير صالحة أو غير متاحة.
6. **البيئة المحلية**:
   - جدار حماية محلي، أو شبكة VPN، أو برنامج أمان يتعارض مع طلبات الشبكة من Docker.

### خطوات الحل
إليك دليلًا خطوة بخطوة لاستكشاف الأخطاء وإصلاحها:

1. **تحقق من اتصال الشبكة**:
   - تحقق من اتصال الإنترنت لديك: `ping registry-1.docker.io` أو `curl https://registry-1.docker.io/v2/`.
   - إذا فشل ping أو انتهت مهلة curl، فتحقق من إعدادات الشبكة أو DNS أو الوكيل.
   - حاول التبديل إلى شبكة مختلفة أو تعطيل شبكات VPN مؤقتًا.
   - تأكد من أن DNS الخاص بك يحل الأسماء بشكل صحيح باستخدام DNS عام مثل Google (`8.8.8.8`) أو Cloudflare (`1.1.1.1`).

2. **تحقق من حالة Docker Hub**:
   - قم بزيارة [صفحة حالة Docker Hub](https://status.docker.com/) للتأكد من عدم وجود انقطاع في الخدمة.
   - إذا كانت هناك مشكلة، انتظر حتى يحلها فريق Docker Hub.

3. **المصادقة على Docker Hub**:
   - سجل الدخول إلى Docker لزيادة حدود المعدل: `docker login`.
   - قدم بيانات اعتماد Docker Hub الخاصة بك. إذا لم يكن لديك حساب، فأنشئ واحدًا مجانًا لتجنب حدود المعدل للمجهولين.

4. **افحص Docker Daemon**:
   - تحقق مما إذا كان برنامج Docker daemon قيد التشغيل: `sudo systemctl status docker` (لينكس) أو `docker info`.
   - أعد تشغيل البرنامج إذا لزم الأمر: `sudo systemctl restart docker`.
   - تأكد من وجود موارد نظام كافية (تحقق من مساحة القرص باستخدام `df -h` والذاكرة باستخدام `free -m`).

5. **أعد محاولة السحب**:
   - إذا كنت تستخدم `docker-compose`، أعد المحاولة باستخدام: `docker-compose up --force-recreate`.
   - بالنسبة للصور الفردية، حاول سحبها يدويًا، على سبيل المثال، `docker pull <اسم-الصورة>` لصور `vectordb` أو `mongodb` أو `meilisearch`.

6. **تحقق من ملف Docker Compose**:
   - افتح ملف `docker-compose.yml` الخاص بك وتأكد من أن أسماء الصور والوسوم الخاصة بـ `vectordb` و `mongodb` و `meilisearch` و `api` صحيحة وموجودة على Docker Hub.
   - مثال: تأكد من أن `image: mongodb:latest` يشير إلى وسم صالح.

7. **زِد وقت المهلة**:
   - قد تكون المهلة الافتراضية لـ Docker قصيرة جدًا بالنسبة للاتصالات البطيئة. زِدها عن طريق تعيين متغير البيئة `COMPOSE_HTTP_TIMEOUT`:
     ```bash:disable-run
     export COMPOSE_HTTP_TIMEOUT=120
     docker-compose up
     ```
   - هذا يضبط المهلة إلى 120 ثانية.

8. **امسح ذاكرة التخزين المؤقت لـ Docker**:
   - إذا كانت التنزيلات الجزائية تسبب مشاكل، فامسح ذاكرة التخزين المؤقت لـ Docker:
     ```bash
     docker system prune -a
     ```
   - تحذير: هذا يزيل جميع الصور والحاويات غير المستخدمة، لذا استخدمه بحذر.

9. **تحقق من وجود تدخل محلي**:
   - عطل أي جدار حماية محلي أو مضاد للفيروسات مؤقتًا لاختبار ما إذا كان يحظر Docker.
   - إذا كنت تستخدم شبكة مؤسسة، فاستشر فريق تكنولوجيا المعلومات الخاص بك حول إعدادات الوكيل.

10. **اختبر باستخدام صورة أصغر**:
    - حاول سحب صورة خفيفة الوزن لعزل المشكلة: `docker pull alpine`.
    - إذا نجح هذا، فقد تكون المشكلة محددة بالصور الأكبر أو مستودعها.

### ملاحظات إضافية
- **الخدمات المحددة**:
  - `mongodb`: من المحتمل أنها تستخدم الصورة الرسمية `mongo`. تحقق من الوسم (مثل `mongo:latest`) وتحقق من [صفحة Docker Hub الخاصة بـ MongoDB](https://hub.docker.com/_/mongo).
  - `meilisearch`: تستخدم صورة `getmeili/meilisearch`. تأكد من الوسم على [صفحة Docker Hub الخاصة بـ Meilisearch](https://hub.docker.com/r/getmeili/meilisearch).
  - `vectordb`: قد تكون هذه صورة مخصصة أو أقل شيوعًا. تحقق من وثائقها أو مستودعها للحصول على متطلبات محددة.
  - `api`: الطبقات التي تم تنزيلها جزئيًا تشير إلى أنها صورة كبيرة. تأكد من وجود الصورة وأن نظامك لديه مساحة قرص كافية.
- **السجلات لتصحيح الأخطاء**:
  - تحقق من سجلات Docker daemon: `journalctl -u docker` (لينكس) أو تحقق من السجلات في Docker Desktop.
  - للحصول على مزيد من التفاصيل حول فشل السحب، قم بتشغيل `docker pull <اسم-الصورة> --verbose`.

### إذا استمرت المشكلة
- شارك مزيدًا من التفاصيل حول إعدادك (مثل نظام التشغيل، إصدار Docker، ملف `docker-compose.yml`، بيئة الشبكة) للحصول على نصائح مخصصة.
- ابحث عن مشاكل مماثلة على X أو الويب للحصول على تقارير حديثة عن مشاكل Docker Hub.
- فكر في استخدام سجل مرآة أو وكيل تخزين مؤقت إذا استمرت مشاكل حدود المعدل أو الاتصال.

[جرب وثائق Docker Compose](https://docs.docker.com/compose/)
[حالة Docker Hub](https://status.docker.com/)
[Docker Hub MongoDB](https://hub.docker.com/_/mongo)
[Docker Hub Meilisearch](https://hub.docker.com/r/getmeili/meilisearch)