---
audio: false
generated: true
image: false
lang: ar
layout: post
title: قواعد أولوية خصائص الربيع موضحة
translated: true
type: note
---

في الربيع، عندما يكون لديك **مفاتيح خصائص مكررة** عبر مصادر التهيئة الخاصة بك (مثل `application.properties`، `application.yml`، متغيرات البيئة، وسيطات سطر الأوامر، إلخ)، **آخر مفتاح له الأولوية الأعلى هو الذي يفوز**.

إليك كيف يعمل هذا بالتفصيل:

### 1. ترتيب مصادر الخصائص

يطبق Spring Boot **ترتيبًا محددًا جيدًا لمصادر الخصائص**. على سبيل المثال:

* وسيطات سطر الأوامر
* `application.properties` / `application.yml` (الملفات الخاصة بالبروفايل أولاً، ثم الافتراضية)
* متغيرات البيئة
* خصائص النظام
* القيم الافتراضية في الكود (`@Value("${...:default}")`)

إذا ظهر مفتاح الخاصية نفسه في مصادر متعددة، يختار Spring القيمة من **المصدر ذي الأولوية الأعلى**.

### 2. داخل نفس الملف

إذا كان لديك نفس مفتاح الخاصية **مكرر في ملف واحد** (مثل `application.properties`)، يستخدم Spring **آخر ظهور مُعلن عنه**.
مثال (`application.properties`):

```properties
server.port=8080
server.port=9090
```

هنا، `server.port=9090` هو الذي يتم تطبيقه.

### 3. عبر ملفات متعددة

إذا قمت بتعريف نفس الخاصية في `application.properties` و `application-dev.properties`، وقمت بتفعيل بروفايل `dev`، فإن القيمة من `application-dev.properties` ستتجاوز القيمة الافتراضية.

### 4. مع `@PropertySource`

إذا قمت بتحميل ملفات خصائص متعددة عبر `@PropertySource`، فإن ترتيب الإعلان يهم. يمكن للملف اللاحق أن يتجاوز القيم السابقة ما لم تقم بوضع علامة `ignoreResourceNotFound` عليه أو تتحكم صراحةً في الأولوية.

---

✅ **الخلاصة:**

* يحل Spring الخصائص بناءً على **أولوية المصادر**.
* داخل **نفس الملف**، **آخر تعريف للمفتاح** هو الذي يفوز.
* عبر الملفات/البروفايلات، **خاصية البروفايل النشط أو الملف الذي تم تحميله لاحقًا** تتجاوز تلك السابقة.

هل تريد مني أيضًا أن أعرض لك **التسلسل الهرمي الدقيق لأولوية خصائص Spring Boot (من الأعلى إلى الأدنى)**؟ هذا يعطي صورة واضحة جدًا عن مكان حدوث عمليات التجاوز.