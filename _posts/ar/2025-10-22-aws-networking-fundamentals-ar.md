---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: أساسيات الشبكات الافتراضية في AWS
translated: true
type: note
---

### أساسيات الشبكات الافتراضية في AWS

تقدم AWS بيئة شبكية مرنة ومعزولة من خلال خدمة **Virtual Private Cloud (VPC)**. تعمل هذه الخدمة كقسم معزول منطقيًا خاص بك ضمن سحابة AWS، حيث يمكنك نشر موارد مثل نماذج EC2 وقواعد بيانات RDS والمزيد. أدناه، سأشرح المكونات الرئيسية التي ذكرتها (الشبكة الافتراضية، البوابة، الشبكات الفرعية) وبعض المكونات ذات الصلة ("إلخ") بمصطلحات بسيطة، وكيفية تكاملها معًا.

#### الشبكة الافتراضية (VPC - Virtual Private Cloud)
- **ما هي**: الأساس للشبكات في AWS. الـ VPC هي شبكة افتراضية مخصصة لحسابك في AWS، تشبه شبكة مركز البيانات التقليدية ولكن في السحابة. وهي تمتد عبر منطقة واحدة أو أكثر من مناطق التوفر (AZs) في منطقة معينة.
- **الميزات الرئيسية**:
  - يمكنك تحديد نطاق عناوين IP الخاص بها باستخدام كتل CIDR (مثال: 10.0.0.0/16، والذي يسمح بحوالي 65,000 عنوان IP).
  - إنها معزولة بشكل افتراضي—لا يوجد مرور بيانات داخلاً أو خارجاً إلا إذا قمت بتكوينه.
  - تدعم IPv4 و IPv6.
- **لماذا تستخدمها؟**: تتحكم في الوصول والأمان والتوصيلية لمواردك. كل حساب في AWS يحصل على VPC افتراضي، ولكن يمكنك إنشاء أخرى مخصصة لبيئات الإنتاج.
- **مثال**: فكر في الـ VPC كالفناء الخلفي الخاص بك في "حي" AWS — أنت من يقرر الأسوار، البوابات، والمسارات بداخله.

#### الشبكات الفرعية (Subnets)
- **ما هي**: أقسام فرعية من نطاق عناوين IP الخاص بالـ VPC. كل شبكة فرعية مرتبطة بمنطقة توفر (Availability Zone) واحدة وتعمل كمنطقة مجزأة داخل شبكتك.
- **الأنواع**:
  - **شبكة فرعية عامة (Public subnet)**: الموارد هنا يمكنها الوصول إلى الإنترنت مباشرة (عبر بوابة الإنترنت Internet Gateway).
  - **شبكة فرعية خاصة (Private subnet)**: معزولة عن الوصول المباشر للإنترنت؛ تُستخدم للموارد الحساسة مثل قواعد البيانات.
- **الميزات الرئيسية**:
  - الحجم يُحدد بواسطة CIDR (مثال: 10.0.1.0/24 لحوالي 250 عنوان IP).
  - يمكنك الحصول على شبكات فرعية متعددة لكل منطقة توفر (AZ) لتحقيق التوافر العالي.
  - يتم نشر الموارد (مثل نماذج EC2) داخل شبكة فرعية.
- **لماذا تستخدمها؟**: تعزز الأمان وتحمل الأعطال—على سبيل المثال، ضع خوادم الويب في شبكات فرعية عامة وخوادم التطبيقات في شبكات فرعية خاصة.
- **مثال**: إذا كانت الـ VPC الخاصة بك هي مدينة، فإن الشبكات الفرعية هي الأحياء: العامة منها بالقرب من الطريق السريع (الإنترنت)، والخاصة في المجمعات المسورة.

#### البوابات (Gateways)
تربط البوابات الـ VPC الخاص بك بالعالم الخارجي أو الشبكات الأخرى. هناك عدة أنواع:

- **بوابة الإنترنت (Internet Gateway - IGW)**:
  - **ما هي**: مكون عالي التوافر يربط بالـ VPC الخاص بك، مما يمكّن الاتصال ثنائي الاتجاه مع الإنترنت العام.
  - **كيف تعمل**: توجّه حركة المرور من الشبكات الفرعية العامة إلى الإنترنت (والعكس). تتطلب تحديثات جدول التوجيه (route table) لتوجيه حركة المرور (مثال: 0.0.0.0/0 → igw-xxxx).
  - **لماذا تستخدمها؟**: للتطبيقات الموجهة للعامة مثل مواقع الويب. إنها مجانية وتتوسع تلقائيًا.
  - **مثال**: الباب الأمامي للإنترنت—اربطها، حدّث مسارات التوجيه، وستتمكن مواردك العامة من التصفح أو أن يتم الوصول إليها.

- **بوابة NAT (NAT Gateway - Network Address Translation)**:
  - **ما هي**: توجد في شبكة فرعية عامة وتسمح لموارد الشبكة الفرعية الخاصة ببدء حركة مرور صادرة إلى الإنترنت (مثال: لتحديثات البرامج) دون تعريضها لحركة المرور الواردة.
  - **كيف تعمل**: تترجم عناوين IP الخاصة إلى عنوان IP عام مرن (Elastic IP). أكثر موثوقية من نماذج NAT.
  - **لماذا تستخدمها؟**: وصول صادر آمن للموارد الخاصة. التكلفة ~0.045 دولار/ساعة + نقل البيانات.
  - **مثال**: صمام أحادي الاتجاه—يمكن للخوادم الخاصة "الاتصال للخارج" لطلب الحزم ولكن لا يمكن لأحد الوصول إليها دون دعوة.

- **بوابات أخرى** (باختصار):
  - **البوابة الافتراضية الخاصة (Virtual Private Gateway - VGW)**: لاتصالات VPN بشبكتك المحلية (On-premises).
  - **بوابة Transit Gateway (Transit Gateway)**: تربط عدة VPCs وشبكات محلية مثل محور مركزي.

#### مكونات أخرى ذات صلة ("إلخ")
- **جداول التوجيه (Route Tables)**: تحدد كيفية توجيه حركة المرور داخل الـ VPC الخاص بك (مثال: إلى IGW، NAT، أو اتصالات الند للند VPC Peering). كل شبكة فرعية لها جدول توجيه مرتبط بها—فكر فيه كخريطة مرور.
- **قوائم التحكم بالوصول إلى الشبكة (Network ACLs)**: جدران نارية عديمة الحالة (Stateless) على مستوى الشبكة الفرعية، تتحكم في حركة المرور الواردة/الصادرة حسب IP/البروتوكول (مثال: السماح بالمنفذ 80).
- **مجموعات الأمان (Security Groups)**: جدران نارية ذات حالة (Stateful) على مستوى النموذج (Instance)، تعمل مثل حراس شخصيين لـ EC2/RDS (مثال: السماح بـ SSH من عنوان IP الخاص بك).
- **الربط الندي للـ VPC (VPC Peering)**: يربط VPCs (حتى في حسابات/مناطق مختلفة) للاتصال الخاص، مثل نفق مباشر.
- **واجهات الشبكة المرنة (Elastic Network Interfaces - ENIs)**: بطاقات شبكة افتراضية للنماذج (Instances)، تسمح بعناوين IP متعددة أو إرفاقات.

#### كيف تتكامل كل هذه المكونات معًا
1. إنشاء VPC مع كتلة CIDR.
2. إضافة شبكات فرعية (عامة/خاصة) عبر مناطق التوفر (AZs).
3. ربط بوابة إنترنت (Internet Gateway) للوصول العام.
4. تكوين جداول التوجيه (Route Tables) لتوجيه حركة المرور (مثال: توجه الشبكات الفرعية العامة إلى IGW).
5. نشر الموارد في الشبكات الفرعية وتأمينها بمجموعات الأمان / قوائم التحكم بالوصول إلى الشبكة (Security Groups/NACLs).
6. للوصول الصادر من الشبكات الخاصة، أضف بوابة NAT (NAT Gateway).

يضمن هذا الإعداد القابلية للتوسع والأمان والمرونة. للتطبيق العملي، ابدأ باستخدام معالج VPC في وحدة تحكم AWS — فهو يُكوّن إعدادًا أساسيًا تلقائيًا.

إذا كنت بحاجة إلى مخططات، أو أمثلة برمجية، أو تفاصيل عن جزء معين (مثال: VPC Peering)، دعني أعلم!

**المراجع**:
- [توثيق AWS VPC](https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html)
- [دليل AWS للشبكات الفرعية](https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html)
- [نظرة عامة على بوابات AWS](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html)