---
audio: false
generated: true
image: false
lang: ar
layout: post
title: دليل أساسيات إعادة تعيين الجذر الأولي
translated: true
type: note
---

`git rebase --root` هو شكل خاص من rebase يسمح لك بإعادة كتابة **أول commit** في مستودعك. عادةً، يحتاج `git rebase` إلى commit أصل ليتم الـ rebase عليه، لكن خيار `--root` يعامل commit الجذر (أول commit بدون أصل) كما لو كان سيتم إعادة كتابته أيضًا.

إليك كيف يعمل عمليًا:

### 1. المقارنة بين rebase العادي و root rebase

* **`git rebase` العادي**: تقوم بإعادة تطبيق commits فوق فرع أو commit آخر، مما يغير التاريخ بعد قاعدة مختارة.
* **`git rebase --root`**: بدلاً من البدء بعد الجذر، فإنه يعيد كتابة الجذر نفسه. يمكنك تقسيمه، أو دمجـه (squash) مع الـ commits اللاحقة، أو حتى استبداله تمامًا.

### 2. حالات الاستخدام الشائعة

* **تحرير رسالة أول commit**
  إذا كنت تريد إعادة كتابة رسالة أول commit في مشروعك، يمكنك تشغيل:

  ```bash
  git rebase --root -i
  ```

  وتغيير `pick` إلى `reword` لأول commit.

* **دمج commit الجذر مع commits لاحقة**
  على سبيل المثال، إذا كان أول commit الخاص بك هو مجرد هيكلة أولية (مثل ملف `README`)، يمكنك دمجه مع الـ commit التالي لتنظيف التاريخ.

* **تقسيم commit الجذر**
  إذا كان أول commit الخاص بك يحتوي على الكثير (مثل تفريغ كامل لكود المشروع)، يمكنك تقسيمه إلى عدة commits منطقية أثناء rebase تفاعلي.

### 3. ما يحدث داخليًا

* ينشئ Git commit أصل "مزيف" مؤقت لـ commit الجذر حتى يتمكن من تطبيق عمليات rebase بدءًا من الصفر.
* يتم إعادة تشغيل (إعادة كتابة) كل commit كما لو أن المستودع بدأ بشكل مختلف.
* أنت تعيد كتابة أساس تاريخ مستودعك بشكل أساسي.

### 4. مثال على سير العمل

```bash
git rebase --root -i
```

ستحصل على محرر مثل هذا:

```
pick a1b2c3d Initial commit
pick d4e5f6g Add feature A
pick h7i8j9k Add feature B
```

من هنا يمكنك:

* تغيير `pick` إلى `reword` لـ commit الجذر → تغيير رسالته.
* تغيير `pick` إلى `squash` → دمج الجذر مع الـ commit التالي.
* إعادة الترتيب أو التقسيم حسب الحاجة.

### ⚠️ ملاحظة هامة

`git rebase --root` **يعيد كتابة التاريخ**، لذا يجب استخدامه فقط على الفروع التي لم يتم دفعها/مشاركتها بعد، أو يجب عليك القيام بـ force-push بعد ذلك. على الفروع المشتركة، يمكن أن يتسبب في حدوث ارتباك وتعارضات للمتعاونين.

---

هل تريد مني أيضًا أن أعرض لك **مثالًا ملموسًا لتاريخ قبل وبعد** (مع تواقيع commits) حتى تتمكن من رؤية كيف يغير `git rebase --root` السجل بالضبط؟