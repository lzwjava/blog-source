---
audio: false
generated: true
lang: ar
layout: post
title: تأثير رست على كلاود فلير
translated: true
type: note
---

كان اعتماد Cloudflare لـ Rust تحويليًا، مدفوعًا بمزيجها الفريد من الأداء والسلامة والقابلية للتوسع. إليك تفصيلًا مفصلًا لأسباب اختيار Cloudflare لـ Rust والنتائج الملموسة التي حققتها:

---

### **لماذا تستخدم Cloudflare لغة Rust**
1. **السلامة الذاكرية دون المساس بالأداء**  
   - يزيل نموذج الملكية في Rust فئات كاملة من الثغرات الأمنية (مثل تجاوز سعة المخزن المؤقت، وأخطاء الاستخدام بعد التحرير) التي تسبب مشاكل في كود C/C++، وكان هذا أمرًا بالغ الأهمية للبنية التحتية التي تضع الأمان في المقام الأول لدى Cloudflare.  
   - على عكس اللغات التي تستخدم جامع القمامة، يحقق Rust ذلك دون عبء وقت التشغيل، مما يجعله مثاليًا للأنظمة عالية الأداء مثل الخوادم الوكيلة والحوسبة الطرفية.

2. **التزامن والقابلية للتوسع**  
   - يتيح وقت التشغيل غير المتزامن (التزامني) في Rust (Tokio) معالجة فعالة لملايين الاتصالات المتزامنة، متفوقًا على نموذج الخيط لكل طلب في NGINX. على سبيل المثال، تعالج Pingora، الخادم الوكيل المبني على Rust من Cloudflare، **أكثر من 35 مليون طلب في الثانية** مع استخدام أقل لوحدة المعالجة المركزية والذاكرة.  
   - يدعم العاملون غير المتزامن في Workers (عبر `wasm-bindgen-futures`) العاملين القائمين على Rust لمعالجة المهام المرتبطة بالإدخال والإخراج بسلاسة.

3. **مكاسب الأداء**  
   - يعد مكدس QUIC/HTTP/3 المدعوم بـ Rust من Cloudflare **أسرع بنسبة 30%** من سابقه المكتوب بـ C++، مع **استخدام أقل للذاكرة بنسبة 35%** و **إنتاجية أعلى بنسبة 50%** على نفس الأجهزة.  
   - توفر التحسينات الدقيقة في Rust (مثل تقليل زمن الوصول لكل طلب بوحدات الميكروثانية) آلاف الدولارات من تكاليف الحوسبة على نطاق Cloudflare.

4. **إنتاجية المطورين**  
   - يبسط نظام الأنواع القوي في Rust وأدواته الحديثة (مثل Cargo) عملية الصيانة ويقلل من الأخطاء. على سبيل المثال، تسمح Oxy، إطار عمل الخادم الوكيل من Cloudflare، ببناء تطبيقات غنية بالميزات بأقل من **200 سطر من الكود**.  
   - يوفر Workers Rust SDK (`workers-rs`) واجهات برمجة تطبيقات مريحة لـ KV و Durable Objects والذكاء الاصطناعي، مما يمكن التطوير السريع.

5. **النظام البيئي والتوجه المستقبلي**  
   - يتماشى الاعتماد المتزايد لـ Rust (مثل AWS Lambda و Discord) مع الرؤية طويلة المدى لـ Cloudflare. ويعزز جعل المشاريع مفتوحة المصدر مثل Pingora و Oxy التعاون مع المجتمع.

---

### **نتائج استخدام Rust**
- **Pingora**: حلت محل NGINX، وتتعامل مع تريليونات الطلبات الشهرية مع **انخفاض زمن الوصول** و **مرونة أقوى ضد هجمات حجب الخدمة الموزعة**.  
- **Workers**: يمكّن دعم Rust من تنفيذ المهام كثيفة الحوسبة (مثل الاستدلال بالذكاء الاصطناعي) بسرعة قريبة من السرعة الأصلية، مما يجذب عملاء بارزين مثل منصات التكنولوجيا المالية ومنصات التوصيل.  
- **الموثوقية**: قللت ميزات السلامة في Rust من حالات التوقف في الخدمات الحرجة مثل QUIC و TLS (على سبيل المثال، تكامل BoringSSL في Oxy).  
- **توفير التكاليف**: وفرت التحسينات في Pingora **أكثر من 500 وحدة معالجة مركزية** على مستوى العالم، مما يعني توفيرًا تشغيليًا كبيرًا.

---

### **التحديات والتخفيف من حدتها**
- **منحنى التعلم**: تطلبت تعقيدات Rust تدريبًا مبدئيًا، لكن Cloudflare خففت من هذا باستخدام مكتبات داخلية (مثل `workers-rs`) وقوالب.  
- **قيود Wasm**: كانت هناك قيود على حجم دعم Rust المبكر في Workers، لكن الأدوات مثل `wasm-opt` و `worker-build` تقوم الآن بتحسين الملفات الثنائية بشكل فعال.

---

### **الاتجاهات المستقبلية**
تواصل Cloudflare توسيع دور Rust، بما في ذلك:  
- **الحاويات**: تدعم Durable Objects القائمة على Rust تنظيم الحاويات الجديد (المقرر إطلاقه في يونيو 2025).  
- **الذكاء الاصطناعي**: يستفيد Workers AI من Rust للاستدلال بالنماذج بزمن وصول منخفض.

باختصار، أصبح Rust حجر الزاوية في البنية التحتية لـ Cloudflare، حيث يقدم **الأمان والأداء والقابلية للتوسع** مع تقليل التكاليف. يشير اعتماده إلى تحول صناعي أوسع نحو اللغات الآمنة ذاكرًا للأنظمة الحرجة.