---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: نظرة عامة على شجرة الأحمر والأسود
translated: true
type: note
---

### ما هي شجرة الأحمر-أسود؟

**شجرة الأحمر-أسود** هي نوع من أشجار البحث الثنائية ذاتية التوازن المستخدمة في علوم الكمبيوتر لتخزين واسترجاع البيانات بكفاءة. تحافظ على التوازن من خلال ضمان بقاء الشجرة متوازنة تقريبًا بعد عمليات الإدراج والحذف، مما يضمن تعقيدًا زمنيًا قدره O(log n) لعمليات البحث والإدراج والحذف، حيث n هو عدد العقد.

#### الخصائص الرئيسية
تفرض أشجار الأحمر-أسود خمس قواعد للبقاء متوازنة:
1. **ألوان العقد**: كل عقدة إما حمراء أو سوداء.
2. **العقدة الجذرية**: الجذر دائمًا أسود.
3. **العقد الورقية**: جميع الأوراق NIL (الفارغة) سوداء.
4. **قاعدة الابن الأحمر**: لا يمكن للعقدة الحمراء أن يكون لها أبناء حمر (لا توجد عقدتان حمراوان متتاليتان).
5. **قاعدة الارتفاع الأسود**: كل مسار من عقدة إلى أوراقها الفرعية له نفس عدد العقد السوداء (يضمن التوازن).

هذه القواعد تمنع الشجرة من أن تصبح منحرفة (مثل قائمة مرتبطة)، مما قد يؤدي إلى تدهور الأداء إلى O(n).

#### كيف تعمل
- **الإدراج**: ابدأ مثل إدراج شجرة البحث الثنائية القياسي. إذا انتهكت العقدة الجديدة القواعد (مثل علاقة أب-ابن حمراء-حمراء)، قم بتنفيذ "الدورانات" (دورانات لليسار/اليمين لإعادة الهيكلة) و "إعادة التلوين" لإصلاحها. هذا يحافظ على الارتفاع لوغاريتميًا.
- **الحذف**: مشابه للإدراج ولكنه أكثر تعقيدًا؛ يتضمن العثور على عقدة بديلة وضبط الألوان/الدورانات للحفاظ على الخصائص.
- **البحث**: مطابق لشجرة البحث الثنائية—انتقل يسارًا/يمينًا بناءً على مقارنات المفتاح.

الدورانات هي عمليات محلية تحافظ على خاصية شجرة البحث الثنائية مع إصلاح التوازن.

#### مثال بصري
إليك تمثيل Markdown مبسط لشجرة الأحمر-أسود المتوازنة للمفاتيح 10, 20, 30, 40, 50 (R = أحمر, B = أسود):

```
       B(30)
      /     \
   B(20)    B(40)
  /   \       \
R(10) R(25)  R(50)
```

#### المزايا
- **مقارنة بأشجار AVL**: تسمح أشجار الأحمر-أسود بوجود اختلالات طفيفة لتقليل عدد الدورانات أثناء عمليات الإدراج/الحذف، مما يجعلها أسرع في التطبيق العملي للبيانات الديناميكية (مستخدمة على سبيل المثال في TreeMap في Java، ونواة Linux).
- **المفاضلات**: أطول قليلاً من الأشجار المتوازنة تمامًا ولكن أبسط في التنفيذ.

للتعمق أكثر، اطلع على التطبيقات بلغات مثل Python (عبر مكتبة sortedcontainers) أو C++ (std::set). إذا كنت بحاجة إلى أمثلة برمجية أو تفاصيل محددة، دعني أعلم!