---
audio: false
generated: true
lang: ar
layout: post
title: تحديد ملفات تعريف تطبيقات جاڤا باستخدام VisualVM
translated: true
---

هنا دليل واضح ومبسط **كيفية استخدام VisualVM** لمراقبة وتحليل تطبيقات Java. VisualVM هو أداة مجانية قوية مرفقة مع JDK تساعدك في تحليل الأداء، واستهلاك الذاكرة، ونشاط الخيوط في تطبيقاتك Java.

---

### الخطوة 1: تثبيت وإطلاق VisualVM
- **تحقق من تثبيت VisualVM**: عادةً ما يأتي VisualVM مع JDK (النسخة 6 تحديث 7 وما بعدها). ابحث عنه في مجلد `bin` من تثبيت JDK الخاص بك (مثل `jdk/bin/visualvm.exe` على Windows).
- **تحميل إذا لزم الأمر**: إذا لم يكن مرفقًا، قم بتحميله من [موقع VisualVM الرسمي](https://visualvm.github.io/).
- **إطلاق VisualVM**: قم بتشغيل ملف `visualvm` التنفيذي. عند بدء التشغيل، سترى قائمة من عمليات Java الجارية حاليًا على جهازك المحلي.

---

### الخطوة 2: الاتصال بتطبيق Java الخاص بك
- **التطبيقات المحلية**: يكتشف VisualVM تلقائيًا عمليات Java الجارية على جهازك. انقر مرتين على العملية التي تريد مراقبةها للاتصال بها.
- **التطبيقات البعيدة**: لمراقبة عملية Java على جهاز آخر:
  1. ابدأ JVM البعيدة مع JMX مفعلة (مثل إضافة `-Dcom.sun.management.jmxremote` إلى حجج JVM).
  2. في VisualVM، انقر بزر الماوس الأيمن على **Remote** في الشريط الجانبي، اختر **Add Remote Host**، واكتب تفاصيل الجهاز البعيد.
  3. بعد الاتصال، اختر العملية البعيدة التي تريد مراقبةها.

---

### الخطوة 3: مراقبة أداء التطبيق
بعد الاتصال، يظهر لسان **Overview** تفاصيل أساسية مثل معرف العملية وحجج JVM. انتقل إلى لسان **Monitor** للحصول على بيانات الأداء في الوقت الفعلي:
- **استهلاك المعالج**: يتبع كم من المعالج يستخدمه تطبيقك.
- **استهلاك الذاكرة**: يعرض استهلاك الهيب والميتاسبيس بمرور الوقت.
- **الخيوط**: يعرض عدد الخيوط النشطة.
- **جمع القمامة**: يراقب نشاط GC.

توفر هذه الرسوم بيانية نظرة عامة على صحة تطبيقك.

---

### الخطوة 4: تحليل استهلاك المعالج والمemory
للتحليل العميق، استخدم لسان **Profiler**:
- **تحليل المعالج**: يحدد الأساليب التي تستهلك أكثر الوقت على المعالج.
  1. انتقل إلى لسان **Profiler** وانقر على **CPU**.
  2. انقر على **Start** لبدء التحليل.
  3. استخدم تطبيقك لإنتاج الحمل الذي تريد تحليله.
  4. انقر على **Stop** واسحب النتائج لمعرفة الأساليب الأبطأ.
- **تحليل الذاكرة**: يراقب تخصيص الكائنات ويكتشف تسرب الذاكرة.
  1. في لسان **Profiler**، انقر على **Memory**.
  2. انقر على **Start**، استخدم تطبيقك، ثم انقر على **Stop**.
  3. تحقق من النتائج للحصول على عدادات الكائنات والأحجام لتحديد المشاكل المحتملة في الذاكرة.

**ملاحظة**: يضيف التحليل زيادة في الحمل، لذا استخدمه في بيئات التطوير أو الاختبار، لا في الإنتاج.

---

### الخطوة 5: تحليل هيب وThread Dumps
- **هيب Dumps**: اصنع صورًا للذاكرة للتحليل التفصيلي.
  1. في لسان **Monitor**، انقر على **Heap Dump**.
  2. استكشف السحب في عروض **Classes** أو **Instances** لمعرفة تخصيص الكائنات.
  3. ابحث عن أنماط غير عادية (مثل الكثير من الكائنات) قد تشير إلى تسرب.
- **Thread Dumps**: تشخيص مشاكل الخيوط مثل الإقفال.
  1. في لسان **Threads**، انقر على **Thread Dump**.
  2. تحقق من حالات الخيوط (مثل RUNNABLE، WAITING) لتحديد المشاكل.

---

### الخطوة 6: استكشاف الميزات الإضافية
- **Sampler**: موجود في لسان **Sampler**، يوفر تحليل المعالج والمemory خفيف الوزن مع زيادة أقل من التحليل الكامل.
- **Visual GC**: قم بتثبيت ملحق Visual GC (من خلال **Tools > Plugins**) لتوضيح سلوك جمع القمامة.
- **MBeans**: استخدم لسان **MBeans** لمشاهدة وإدارة MBeans JMX لمقاييس مخصصة.

---

### أفضل الممارسات
- **تجنب تحليل الإنتاج**: يبطئ تحليل تطبيقك، لذا احتفظ بالتحليل في بيئات التطوير أو الاختبار.
- **ابدأ ببساطة**: استخدم لسان **Monitor** أولاً للحصول على قاعدة قبل التحليل.
- **اتجه إلى مشاكل محددة**: اترك تحليل المشاكل المشتبه بها لتخفيف الحمل.
- **استعراض بيانات GC**: تحليل إحصائيات جمع القمامة لتحسين استهلاك الذاكرة.

---

### حل المشاكل
- **التطبيق غير يظهر**: تأكد من أنه يعمل مع JVM متوافقة وأن VisualVM لديه الوصول.
- **مشاكل البعيدة**: تأكد من أن JVM البعيدة مهيأة لـ JMX وأن إعدادات الشبكة (مثل الحواجز النارية) تسمح بالاتصال.
- **تأثير الأداء**: إذا كان التحليل بطيء جدًا، قم بالتبديل إلى **Sampler** للحصول على خيار خفيف.

---

VisualVM هو أداة رائعة لفهم وتحسين تطبيقاتك Java. اتبع هذه الخطوات لمراقبة الأداء، وتحليل العوائق، وتشخيص المشاكل بشكل فعال. للحصول على مزيد من التفاصيل، راجع [التوثيق الرسمي لـ VisualVM](https://visualvm.github.io/documentation.html).