---
audio: false
generated: true
lang: ar
layout: post
title: تشفير في Node.js باستخدام حزمة التشفير
translated: true
---

### النقاط الرئيسية
- يبدو أن "debug in npm" يشير إلى استخدام حزمة "debug" لتسجيل في مشاريع Node.js التي يديرها npm.
- تشير الأبحاث إلى تثبيت الحزمة باستخدام `npm install debug`، ثم استخدامها في الكود باستخدام مساحة اسم مثل `require('debug')('myapp:component')`.
- يشير الدليل إلى تمكين إخراج التصفح عن طريق تعيين متغير البيئة `DEBUG` مثل `DEBUG=myapp:component npm run start`.

### تثبيت واستخدام حزمة التصفح
لاستخدام حزمة "debug" في مشروع Node.js الخاص بك، قم أولاً بتثبيتها باستخدام npm:
- قم بتشغيل `npm install debug` في دليل المشروع الخاص بك.

ثم، في كود JavaScript الخاص بك، قم بتحميل الحزمة وخلق مثال تصفح مع مساحة اسم:
- مثال: `const debug = require('debug')('myapp:component'); debug('some message');`.

### تمكين إخراج التصفح
لرؤية رسائل التصفح، قم بتحديد متغير البيئة `DEBUG` عند تشغيل تطبيقك:
- على سبيل المثال، قم بتشغيل `DEBUG=myapp:component node app.js` أو `DEBUG=myapp:component npm run start` إذا كنت تستخدم نصية npm.

### التحكم في المساحات الاسمية
يمكنك التحكم في رسائل التصفح التي تظهر باستخدام wildcards أو استبعاد:
- تمكين عدة مساحات اسمية باستخدام `DEBUG=myapp:* node app.js`.
- استبعاد مساحات اسمية محددة باستخدام `DEBUG=*,-myapp:exclude node app.js`.

---

### ملاحظة الاستطلاع: استكشاف مفصل لاستخدام التصفح في npm

يقدم هذا القسم نظرة شاملة على استخدام حزمة "debug" داخل مشاريع Node.js التي يديرها npm، بناءً على الوثائق والموارد المتاحة. التركيز على التنفيذ العملي، والميزات المتقدمة، والتفاصيل التي يجب أن يأخذها المطورون في الاعتبار، مما يضمن فهم شامل للمبتدئين والمستخدمين المتقدمين على حد سواء.

#### مقدمة إلى التصفح في سياق npm
يبدو أن "debug in npm" يشير إلى استخدام حزمة "debug"، وهي أداة خفيفة الوزن لتصفح Node.js والبيئات المتصفحة، في مشاريع يديرها npm (Node Package Manager). بناءً على أهمية الحزمة في نتائج البحث وربطها بتطوير Node.js، فإن هذه التفسيرات تتوافق مع احتياجات المطورين الشائعة لتسجيل وتصفح في مشاريع يديرها npm. الحزمة، حاليًا في الإصدار 4.4.0 وفقًا لتحديثات حديثة، تستخدم على نطاق واسع، مع أكثر من 55,746 مشروع آخر في سجل npm، مما يشير إلى وضعها القياسي في النظام البيئي.

#### التثبيت واستخدام أساسي
لبدء العمل، قم بتثبيت حزمة "debug" باستخدام npm:
- الأمر: `npm install debug`
- هذا يضيف الحزمة إلى `node_modules` لمشروعك ويحديث `package.json`.

في كود JavaScript الخاص بك، قم بتحميل الحزمة وتهيئتها مع مساحة اسم لتفريق رسائل التصفح:
- مثال: `const debug = require('debug')('myapp:component');`.
- استخدم المثال التصفح لتسجيل الرسائل: `debug('some message');`.
- تساعد مساحة الاسم، مثل 'myapp:component'، في تحديد مصدر الرسائل، مما يجعل من السهل تصفية السجلات في التطبيقات الكبيرة.

لرؤية هذه رسائل التصفح، قم بتحديد متغير البيئة `DEBUG` عند تشغيل تطبيقك:
- مثال: `DEBUG=myapp:component node app.js`.
- إذا بدأ تطبيقك عبر نصية npm (على سبيل المثال، `npm run start`), استخدم: `DEBUG=myapp:component npm run start`.
- هذا المتغير البيئي يسيطر على المساحات الاسمية التي تم تمكينها، مما يضمن تصفح انتقائي دون تعديل الكود.

#### الميزات المتقدمة والتكوين
تقدم حزمة "debug" عدة ميزات متقدمة لتحسين الاستخدام:

##### التحكم في المساحات الاسمية و wildcards
- استخدم wildcards لتمكين عدة مساحات اسمية: `DEBUG=myapp:* node app.js` سيظهر رسائل التصفح من جميع المساحات الاسمية التي تبدأ بـ 'myapp:'.
- استبعاد مساحات اسمية محددة باستخدام علامة الناقص: `DEBUG=*,-myapp:exclude node app.js` تمكين جميع المساحات الاسمية باستثناء تلك التي تبدأ بـ 'myapp:exclude'.
- هذا التصفح الانتقائي هو حاسم لتفريق التركيز على أجزاء محددة من التطبيق دون أن يتم غمره بالسجلات.

##### الترميز بالألوان والتحليل البصري
- يتضمن إخراج التصفح ترميز الألوان بناءً على أسماء المساحات الاسمية، مما يساعد في التحليل البصري.
- الألوان تمكينها بشكل افتراضي عندما يكون stderr TTY (الجهاز النهائي) في Node.js، ويمكن تحسينها من خلال تثبيت حزمة `supports-color` بجانب التصفح للحصول على مجموعة ألوان أوسع.
- في المتصفحات، تعمل الألوان على محققات WebKit، Firefox (النسخة 31 وما بعدها)، وFirebug، مما يحسن القراءة في أدوات التطوير.

##### الفرق الزمني ومعلومات الأداء
- يمكن للحزمة عرض الفرق الزمني بين مكالمة التصفح، مع إضافة "+NNNms"، مفيد في تحليل الأداء.
- هذه الميزة تمكينها تلقائيًا وتستخدم `Date#toISOString()` عندما لا يكون stdout TTY، مما يضمن التوافق عبر البيئات.

##### المتغيرات البيئية والتخصيص
تعديل عدة متغيرات بيئية لتعديل إخراج التصفح:
| الاسم             | الغرض                              |
|------------------|--------------------------------------|
| DEBUG            | تمكين/إلغاء تمكين المساحات الاسمية          |
| DEBUG_HIDE_DATE  | إخفاء التاريخ في إخراج غير TTY         |
| DEBUG_COLORS     | إجبار على استخدام الألوان في إخراج         |
| DEBUG_DEPTH      | تعيين عمق فحص الكائن         |
| DEBUG_SHOW_HIDDEN| عرض الخصائص المخفية في الكائنات   |

- على سبيل المثال، تعيين `DEBUG_DEPTH=5` يسمح بفحص كائن أعمق، مفيد في بنية البيانات المعقدة.

##### صيغات للتخصيص
يدعم التصفح صيغات مخصصة لتنوع البيانات، مما يحسن قابلية قراءة السجلات:
| الصيغة | التمثيل                      |
|-----------|-------------------------------------|
| %O        | طباعة كائن جميلة (أكثر من سطر)|
| %o        | طباعة كائن جميلة (سطر واحد)   |
| %s        | نص                              |
| %d        | عدد (كامل/عشري)              |
| %j        | JSON، يدير مراجع دائرية   |
| %%        | علامة النسبة الواحدة                 |

- يمكن توسيع الصيغات المخصصة، على سبيل المثال، `createDebug.formatters.h = (v) => v.toString('hex')` للحصول على إخراج سداسي عشر.

#### التكامل مع نصوص npm
للمشاريع التي تستخدم نصوص npm، التكامل مع التصفح سهل:
- تعديل نصوص `package.json` الخاصة بك لتضمين إعدادات التصفح إذا لزم الأمر، على الرغم من أن تعيين `DEBUG` عند التشغيل عادةً يكون كافيًا.
- نص مثال: `"start": "node app.js"`, تشغيل مع `DEBUG=myapp:component npm run start`.
- للمستخدمين في Windows، استخدم CMD مع `set DEBUG=* & node app.js` أو PowerShell مع `$env:DEBUG='*';node app.js`، مما يضمن التوافق عبر المنصات.

#### دعم المتصفح و الحالات الحدودية
على الرغم من أن التصفح هو أساسًا لـ Node.js، فإنه يدعم أيضًا بيئات المتصفح:
- بناء باستخدام أدوات مثل Browserify أو استخدام خدمات مثل [browserify-as-a-service](https://wzrd.in/standalone/debug@latest) لتضمين الجانب العميل.
- الحفاظ على حالة تمكين في المتصفحات باستخدام `localStorage.debug`، على سبيل المثال، `localStorage.debug = 'worker:*'`.
- ملاحظة: قد يتطلب المتصفحات القائمة على Chromium (Brave، Chrome، Electron) تمكين مستوى "Verbose" للسجل للحصول على الوظيفة الكاملة.

#### أفضل الممارسات والتفاصيل
- استخدم مساحات اسمية وصفية، مثل "connect:bodyParser"، للحفاظ على الوضوح في السجلات.
- أضف "*" إلى المساحات الاسمية لتفعيل التصفح دائمًا، على سبيل المثال، `DEBUG=connect:*`.
- في الإنتاج، تأكد من عدم تعيين `DEBUG` لتجنب تسجيل غير ضروري، حيث تكون تعليقات التصفح صامتة بدون المتغير.
- اعتبر الأداء: التصفح خفيف الوزن، يسجل فقط عندما يتم تمكينه، مما يجعله مناسبًا للتنمية دون تأثير على الإنتاج.

#### التفاصيل غير المتوقعة: تصفح npm نفسه
على الرغم من أن التركيز الرئيسي هو حزمة "debug"، فمن الجيد أن نلاحظ أن "debug in npm" يمكن أن يتم تفسيره خطأً على أنه تصفح أداة npm (على سبيل المثال، مشاكل `npm install`). في هذه الحالات، استخدم علامة `--verbose` لنموذج npm للحصول على إخراج مفصل، ولكن هذا مختلف عن استخدام حزمة التصفح. هذه الفروق مهمة للمستخدمين الذين يبحثون عن تصفح متعلق بالنموذج، على الرغم من أن السياق يشير إلى أن الحزمة أكثر صلة.

#### الخاتمة
استخدام حزمة "debug" في مشاريع Node.js التي يديرها npm يوفر طريقة قوية ومتعددة الاستخدامات لتنفيذ تصفح انتقائي. من خلال تثبيتها باستخدام `npm install debug`، تحميلها مع مساحات اسمية، وقيادتها عبر `DEBUG`، يمكن للمطورين إدارة السجلات بشكل فعال، وتحسين القراءة باستخدام الألوان، وتحليل الأداء. هذا النهج يتوافق مع الممارسات الحديثة للتنمية، يوفر توازنًا بين التفاصيل والتحكم في عمليات تصفح العمل.