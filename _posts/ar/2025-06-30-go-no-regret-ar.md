---
audio: false
generated: true
lang: ar
layout: post
title: بينج كاب وكلاودفلير تمدحان لغة جو
translated: true
type: note
---

لم تعبر أي من PingCAP أو Cloudflare عن "الندم" لاستخدامها لغة Go. بل على العكس، فقد أشادت كلتا الشركتين علانية بمزايا Go وتواصلان استخدامها على نطاق واسع في منتجاتهما الأساسية. ومع ذلك، فإنهما تتبنيان نهجًا براغماتيًا في اختيار اللغات وتستخدمان لغات أخرى عندما تكون أكثر ملاءمة لمشاكل محددة.

فيما يلي تفصيل لذلك:

### PingCAP (TiDB) و لغة Go

* **لا يوجد ندم:** اختارت PingCAP لغة Go للطبقة الخاصة بلغة SQL (`tidb-server`) في TiDB نظرًا لنموذجها المتميز في المعالجة المتزامنة (goroutines و channels)، وسهولة التطوير، ومكتبتها القياسية القوية. مكنت هذه الميزات الشركة من بناء قاعدة بيانات موزعة معقدة بسرعة نسبيًا.
* **التحديات المعترف بها:** بينما تشكل Go حجر أساس في TiDB، فإن PingCAP تتصدر الشفافية في مناقشة التحديات، خاصة فيما يتعلق بجامع القمامة (garbage collector) في Go. حيث تناقش وثائقها ومنشورات مدونتها بشكل متكرر:
    * **توقفات GC:** تعترف بأن توقفات GC، حتى لو كانت قصيرة، يمكن أن تسبب تذبذبًا في زمن الاستجابة في قاعدة بيانات عالية الأداء. وهم يعملون بنشاط على التخفيف من ذلك من خلال ضبط `GOGC` و `GOMEMLIMIT`، وتنفيذ تشغيل GC تكيفي.
    * **إدارة الذاكرة:** يقدمون أدلة مفصلة لمراقبة استخدام الذاكرة واستكشاف مشاكل نفاد الذاكرة (OOM)، مع إدراكهم أن أنماط الذاكرة غير الفعالة في Go يمكن أن تؤدي إلى مشاكل.
* **الاستخدام الاستراتيجي لـ Rust:** اختارت PingCAP لغة **Rust** لـ TiKV، محرك التخزين الموزع من نوع مفتاح-قيمة. لم يكن هذا "ندمًا" على استخدام Go، بل كان **قرارًا استراتيجيًا** لطبقة التخزين حيث تكون الأداء المنخفض للغاية، والأداء المتوقع، والتحكم الدقيق في الذاكرة هي عوامل بالغة الأهمية.
    * يعد نموذج الملكية والاستعارة في Rust، إلى جانب عدم وجود جامع قمامة، مثاليًا للبرمجة على مستوى الأنظمة حيث يكون كل ميكروثانية وكل بايت مهمًا.
    * أدركوا أن مقايضة منحنى التعلم الأكثر حدة في Rust وأوقات الترجيل الأبطأ كانت مقبولة لمحرك التخزين الحرج، ولكنها أقل مرغوبية للطبقة الأكثر تطورًا وسرعة في التغيير (طبقة SQL).
* **الخلاصة لـ PingCAP:** من الواضح أنهم ينظرون إلى Go و Rust كأدوات مكملة. Go للمنطق عالي المستوى والتكرار السريع، و Rust للمكونات منخفضة المستوى والحساسة للأداء.

### Cloudflare و لغة Go

* **اعتماد واسع النطاق لـ Go:** كانت Cloudflare من أوائل المعتمدين لـ Go بحماس. يستخدمون Go في مجموعة واسعة من خدماتهم، بما في ذلك بنية DNS الأساسية، ومعالجة SSL، وأدوات اختبار الحمل، والعديد من الأنظمة الداخلية. وقد تحدثوا باستمرار بشكل إيجابي عن المعالجة المتزامنة في Go، وسهولة النشر، وإنتاجية المطورين.
* **تطور، وليس ندمًا:** لقد قامت Cloudflare بتنويع استخدامها للغات بالتأكيد، مع تحول ملحوظ نحو **Rust** في بعض المجالات الحرجة. هذا مدفوعًا باحتياجات الأداء والأمان وكفاءة الموارد، وليس "ندمًا" على استخدام Go.
    * **Pingora (Rust):** مثال رئيسي هو تطوير Cloudflare لـ **Pingora**، وهي وكيل HTTP جديد مكتوب بلغة Rust ليحل محل أجزاء من بنية NGINX الخاصة بهم (التي كانت مكتوبة بلغة C). كان الانتقال إلى Rust يدور بشكل كبير حول:
        * **سلامة الذاكرة:** ضمانات Rust ضد أخطاء الذاكرة الشائعة (فيض المخزن المؤقت، استخدام الذاكرة بعد التحرير) المنتشرة في C/C++ (مثل NGINX). وهذا يحسن بشكل كبير من الأمان والاستقرار.
        * **الأداء المتطرف:** بالنسبة لمكون أساسي يتعامل مع تريليونات الطلبات، تتيح "الانزياحات عديمة التكلفة" في Rust والتحكم الدقيق تحقيق أداء أعلى واستهلاك أقل للموارد مما يمكن تحقيقه بسهولة في Go (بسبب النفقات العامة لـ GC في Go).
        * **تجربة مطور محسنة لبرمجة الأنظمة:** بينما يتمتع Rust بمنحنى تعلم أكثر حدة في البداية، لمهندسي الأنظمة العاملين على مكونات شبكية منخفضة المستوى للغاية، يمكن أن تؤدي صرامته ونظامه القوي في تحديد الأنواع إلى إنشاء كود أكثر متانة وأسهل في الاستدلال عليه على المدى الطويل.
    * **لا تزال Go قوية:** حتى مع Pingora، تواصل Cloudflare تطوير وصيانة العديد من الخدمات بلغة Go. ينظرون إلى Go على أنها "سريعة بما يكفي" لمعظم أحمال العمل الخاصة بهم ويقدرون سرعة تطويرها وبساطتها التشغيلية.
* **الخلاصة لـ Cloudflare:** تتبنى Cloudflare استراتيجية متعددة اللغات، واختيار أفضل أداة للوظيفة. تظل Go لغة أساسية بالنسبة لها، خاصة للخدمات التي تستفيد من سرعة تطويرها والمعالجة المتزامنة. بينما يتم استخدام Rust بشكل متزايد للمكونات على مستوى الأنظمة حيث يكون الأداء الأقصى، وسلامة الذاكرة، والتحكم الدقيق هي عوامل بالغة الأهمية.

في الجوهر، كلتا الشركتين هما مؤسستان هندسية متطورة تفهمان المقايضات بين لغات البرمجة المختلفة. لا تعبران عن "الندم" لاختيار Go، بل تظهران نهجًا براغماتيًا لاستخدام لغات أخرى مثل Rust لمجالات مشاكل محددة حيث تقدم نقاط قوتها (مثل عدم وجود GC، وسلامة الذاكرة) مزايا كبيرة للبنية التحتية الحرجة.