---
audio: false
generated: true
lang: ar
layout: post
title: 'إتقان برنامج YourKit لتحليل أداء جافا: دليل شامل'
translated: true
type: note
---

# الدليل الشامل لبرنامج YourKit Java Profiler

يعد YourKit Java Profiler أداة قوية وغنية بالميزات مصممة لمساعدة المطورين ومهندسي الأداء على تحليل وتحسين أداء تطبيقات Java. فهو يوفر رؤى متعمقة حول استخدام وحدة المعالجة المركزية، وتخصيص الذاكرة، ونشاط الخيوط، والمزيد، مما يجعله أداة أساسية لتشخيص اختناقات الأداء وتسريبات الذاكرة في تطبيقات Java. يقدم هذا الدليل نظرة شاملة عن YourKit Java Profiler، بما في ذلك ميزاته، والإعداد، والاستخدام، وأفضل الممارسات.

## جدول المحتويات
1. [مقدمة عن YourKit Java Profiler](#مقدمة-عن-yourkit-java-profiler)
2. [الميزات الرئيسية](#الميزات-الرئيسية)
3. [متطلبات النظام والتثبيت](#متطلبات-النظام-والتثبيت)
4. [إعداد YourKit Java Profiler](#إعداد-yourkit-java-profiler)
5. [استخدام YourKit Java Profiler](#استخدام-yourkit-java-profiler)
6. [أفضل الممارسات للتحليل الفعال](#أفضل-الممارسات-للتحليل-الفعال)
7. [حالات الاستخدام](#حالات-الاستخدام)
8. [التكامل مع أدوات التطوير](#التكامل-مع-أدوات-التطوير)
9. [الترخيص والدعم](#الترخيص-والدعم)
10. [استكشاف الأخطاء وإصلاحها الشائعة](#استكشاف-الأخطاء-وإصلاحها-الشائعة)
11. [الخلاصة](#الخلاصة)

## مقدمة عن YourKit Java Profiler
YourKit Java Profiler هو أداة تحليل احترافية المستوى طورتها YourKit LLC، مصممة لمراقبة وتحسين أداء تطبيقات Java التي تعمل على منصات Java EE و Java SE. يستخدمه المطورون على نطاق واسع لتحديد اختناقات الأداء، وتسريبات الذاكرة، ومشاكل تزامن الخيوط، والكود غير الفعال. يدعم البرنامج التحليل المحلي والعن بعد، مما يجعله مناسبًا لبيئات التطوير والاختبار والإنتاج. بفضل تصميمه منخفض التحميل، وواجهته سهلة الاستخدام، وأدوات التحليل المتقدمة، يعد YourKit الخيار الأمثل لمطوري Java الذين يهدفون إلى تعزيز أداء التطبيقات.

## الميزات الرئيسية
يقدم YourKit Java Profiler مجموعة شاملة من الميزات لتشخيص وتحسين تطبيقات Java. فيما يلي الميزات الأساسية:

### تحليل أداء وحدة المعالجة المركزية (CPU Profiling)
- **أشجار الاستدعاء والنقاط الساخنة (Call Trees and Hot Spots)**: تصور أوقات تنفيذ الأسلوب وتحديد الأساليب كثيفة الاستخدام لوحدة المعالجة المركزية باستخدام أشجار الاستدعاء أو قوائم النقاط الساخنة.
- **مخططات اللهب (Flame Graphs)**: تقدم تمثيلًا مرئيًا لـ call stack لتحديد اختناقات الأداء بسرعة.
- **التحليل الذكي الافتراضي (Smart What-If Analysis)**: تقييم التحسينات المحتملة للأداء دون إعادة تحليل التطبيق.
- **أخذ العينات والتتبع (Sampling and Tracing)**: اختر بين أخذ العينات (منخفض التحميل) أو التتبع (مفصل) لتحقيق التوازن بين الأداء والدقة.

### تحليل الذاكرة (Memory Profiling)
- **تحليل كائنات الذاكرة (Object Heap Analysis)**: اجتياز object graph، وفحص خصائص الكائن، وتحديد تسريبات الذاكرة.
- **مسارات الاحتفاظ بالذاكرة (Memory Retention Paths)**: فهم سبب بقاء الكائنات في الذاكرة وتحسين دورة حياة الكائن.
- **مقارنة اللقطات (Snapshot Comparison)**: قارن لقطات الذاكرة لتتبع التغيرات في استخدام الذاكرة بمرور الوقت.
- **دعم إزالة التشويش (Deobfuscation Support)**: استعادة أسماء الفئات والأساليب والحقول الأصلية للتطبيقات التي تم تشويشها باستخدام أدوات مثل ProGuard أو Zelix KlassMaster.

### تحليل الخيوط (Thread Profiling)
- **تصور نشاط الخيوط (Thread Activity Visualization)**: مراقبة حالات الخيوط، واكتشاف الخيوط المتوقفة، وتحليل مشاكل التزامن.
- **كشف التعطل (Deadlock Detection)**: تحديد التعطل تلقائيًا وتقديم تفاصيل حول الخيوط والمراقبات (monitors) المشاركة.
- **عرض الخيوط المتجمدة (Frozen Threads View)**: تحديد الخيوط غير النشطة بسبب فترات الانتظار الطويلة أو التعطل المحتمل.

### تحليل الاستثناءات (Exception Profiling)
- **تحليل الاستثناءات (Exception Analysis)**: اكتشاف وتحليل الاستثناءات التي تم طرحها أثناء التنفيذ، بما في ذلك مشاكل الأداء الخفية الناجمة عن الإفراط في طرح الاستثناءات.
- **مخطط لهب الاستثناءات (Exception Flame Graph)**: تصور حالات حدوث الاستثناءات لتحديد المناطق الإشكالية.

### تحليل قواعد البيانات والإدخال والإخراج (Database and I/O Profiling)
- **دعم SQL و NoSQL**: تحليل استعلامات قواعد البيانات مثل MongoDB و Cassandra و HBase لتحديد الاستعلامات البطيئة.
- **تحليل طلبات HTTP**: دمج حالات الخيوط مع طلبات HTTP لفهم أداء معالجة الطلبات.
- **عمليات الإدخال والإخراج (I/O Operations)**: اكتشاف عمليات الإدخال والإخراج غير الفعالة وتحسين استخدام الموارد.

### فحوصات الأداء (Performance Inspections)
- **40+ فحص مدمج**: تحديد المشاكل الشائعة تلقائيًا مثل تسريب تطبيقات الويب، والكائنات المكررة، وعبارات SQL غير المغلقة، والمجموعات غير الفعالة.
- **فحوصات مخصصة (Custom Inspections)**: إنشاء مجسات مخصصة لجمع بيانات الأداء الخاصة بالتطبيق.

### القياس عن بعد ومخططات الأداء (Telemetry and Performance Charts)
- **المراقبة في الوقت الفعلي (Real-Time Monitoring)**: تتبع وحدة المعالجة المركزية، والذاكرة، garbage collection (GC)، والمقاييس الأخرى في الوقت الفعلي.
- **واجهة قابلة للتخصيص (Customizable Interface)**: تخصيص واجهة المستخدم للتركيز على بيانات الأداء ذات الصلة.

### التكامل والأتمتة (Integration and Automation)
- **إضافات بيئة التطوير (IDE Plugins)**: تكامل سلس مع Eclipse و IntelliJ IDEA و NetBeans للتحليل بنقرة واحدة.
- **أدوات سطر الأوامر (Command-Line Tools)**: أتمتة مهام التحليل والتكامل مع خطوط أنابيب CI/CD (مثل Jenkins و TeamCity).
- **دعم API**: استخدام API القابل للتوسيع لإدارة أوضاع التحليل والتقاط اللقطات برمجيًا.

### التحليل عن بعد (Remote Profiling)
- **النفق الآمن SSH (SSH Tunneling)**: تحليل التطبيقات البعيدة بأمان مع الحد الأدنى من الإعداد.
- **دعم السحابة والحاويات (Cloud and Container Support)**: تحليل التطبيقات في السحابة والحاويات والبيئات المجمعة مثل Docker.

## متطلبات النظام والتثبيت
### متطلبات النظام
- **المنصات المدعومة**: Windows و macOS و Linux و Solaris و FreeBSD (arm32 و arm64 و ppc64le و x64 و x86).
- **إصدارات Java**: يدعم Java 8 إلى Java 24.
- **متطلب JDK**: إصدار JDK 1.5 أو أحدث لتشغيل المحلل.
- **الأجهزة**: الحد الأدنى 2 جيجابايت من ذاكرة الوصول العشوائي (يوصى بـ 4 جيجابايت أو أكثر للتطبيقات الكبيرة).

### التثبيت
1.  **التنزيل**: احصل على أحدث إصدار من YourKit Java Profiler من الموقع الرسمي (https://www.yourkit.com/java/profiler/download/). تتوفر نسخة تجريبية مجانية لمدة 15 يومًا.
2.  **التثبيت**:
    - **Windows**: شغل المثبت واتبع التعليمات.
    - **Linux/Solaris**: نفذ سكريبت `yjp.sh` من دليل التثبيت (`<YourKit Home>/bin/yjp.sh`).
    - **macOS**: فك ضغط التطبيق الذي تم تنزيله وانقر على أيقونته.
3.  **التحقق من التثبيت**: تأكد من تثبيت المحلل بشكل صحيح عن طريق تشغيل `java -agentpath:<مسار مكتبة الوكيل الكامل> -version`. يتحقق هذا مما إذا كان وكيل المحلل قد تم تحميله بشكل صحيح.

## إعداد YourKit Java Profiler
### تمكين التحليل
لتحليل تطبيق Java، يجب إرفاق وكيل محلل YourKit بـ JVM. يمكن القيام بذلك يدويًا أو عبر التكامل مع بيئة التطوير.

#### الإعداد اليدوي
1.  **تحديد موقع مكتبة الوكيل**:
    - توجد مكتبة الوكيل في `<YourKit Home>/bin/<platform>/libyjpagent.so` (Linux) أو `libyjpagent.dll` (Windows).
2.  **تكوين JVM**:
    - أضف الوكيل إلى أمر بدء تشغيل JVM:
      ```bash
      java -agentpath:<مسار مكتبة الوكيل الكامل> YourMainClass
      ```
    - مثال على Linux:
      ```bash
      java -agentpath:/home/user/yjp-2025.3/bin/linux-x86-64/libyjpagent.so YourMainClass
      ```
    - معلمات اختيارية:
      - `onexit=memory,dir=<مسار>`: التقاط لقطة للذاكرة عند الخروج.
      - `usedmem=70`: تشغيل لقطة عندما يصل استخدام الذاكرة إلى 70%.
3.  **التحقق من تحميل الوكيل**:
    - تحقق من ناتج console للرسائل مثل `[YourKit Java Profiler 2025.3] Profiler agent is listening on port 10001`.

#### التكامل مع بيئة التطوير (IDE)
1.  قم بتثبيت إضافة YourKit لبيئة التطوير الخاصة بك (Eclipse أو IntelliJ IDEA أو NetBeans) عبر سوق الإضافات الخاص بكل منها.
2.  قم بتكوين الإضافة للإشارة إلى دليل تثبيت YourKit.
3.  استخدم خيار التحليل في بيئة التطوير لبدء تشغيل تطبيقك مع إرفاق YourKit.

#### التحليل عن بعد
1.  **تأكد من الوصول عبر SSH**: تحتاج إلى وصول SSH إلى الخادم البعيد.
2.  **انسخ الوكيل**:
    - انسخ مكتبة الوكيل المناسبة إلى الخادم البعيد.
    - مثال على Docker:
      ```bash
      docker cp libyjpagent.so <container_id>:/path/to/agent
      ```
3.  **ابدأ تشغيل التطبيق**:
    - أضف الوكيل إلى أمر بدء تشغيل JVM على الخادم البعيد.
4.  **اتصل بواجهة مستخدم المحلل**:
    - افتح واجهة مستخدم YourKit Profiler واختر "Profile remote Java server or application."
    - أدخل المضيف البعيد والمنفذ (الافتراضي: 10001) أو استخدم النفق الآمن SSH.
    - اختبر الاتصال واتصل بالتطبيق.

## استخدام YourKit Java Profiler
### بدء جلسة تحليل
1.  **شغّل واجهة مستخدم المحلل**:
    - في Windows: ابدأ من قائمة ابدأ.
    - في Linux/Solaris: شغّل `<YourKit Home>/bin/yjp.sh`.
    - في macOS: انقر على أيقونة YourKit Java Profiler.
2.  **الاتصال بالتطبيق**:
    - تظهر التطبيقات المحلية في قائمة "Monitor Applications".
    - بالنسبة للتطبيقات البعيدة، قم بتكوين الاتصال كما هو موضح أعلاه.
3.  **اختر وضع التحليل**:
    - اختر بين تحليل وحدة المعالجة المركزية أو الذاكرة أو الاستثناءات من شريط الأدوات.
    - استخدم أخذ العينات لتحليل وحدة المعالجة المركزية منخفض التحميل أو التتبع للتحليل التفصيلي.

### تحليل أداء وحدة المعالجة المركزية
1.  **ابدأ تحليل وحدة المعالجة المركزية**:
    - حدد وضع التحليل المطلوب (أخذ العينات أو التتبع) من شريط الأدوات.
    - يتم عرض النتائج في طرق عرض مثل Call Tree أو Flame Graph أو Method List.
2.  **تفسير النتائج**:
    - **شجرة الاستدعاء (Call Tree)**: تُظهر سلاسل استدعاء الأسلوب وأوقات التنفيذ.
    - **مخطط اللهب (Flame Graph)**: يسلط الضوء على الأساليب كثيفة الاستخدام لوحدة المعالجة المركزية بصريًا.
    - **النقاط الساخنة (Hot Spots)**: تسرد الأساليب التي تستهلك أكبر قدر من وقت وحدة المعالجة المركزية.
3.  **استخدم المحفزات (Triggers)**: ابدأ التحليل تلقائيًا بناءً على الاستخدام العالي لوحدة المعالجة المركزية أو استدعاءات أسلوب محددة.

### تحليل استخدام الذاكرة
1.  **ابدأ تحليل الذاكرة**:
    - مكّن تحليل الذاكرة لتتبع تخصيصات الكائنات وعملية garbage collection.
2.  **افحص object heap**:
    - اجتياز object graph لتحديد الكائنات المحتجزة.
    - استخدم مسارات الاحتفاظ للعثور على تسريبات الذاكرة.
3.  **قارن اللقطات**:
    - التقط لقطات في نقاط مختلفة وقارنها لتحديد نمو الذاكرة.

### تحليل الخيوط والتعطل (Thread and Deadlock Analysis)
1.  **راقب الخيوط**:
    - اعرض حالات الخيوط وتحديد الخيوط المتوقفة أو المجمدة.
    - تحقق من علامة التبويب "Deadlocks" لاكتشاف التعطل التلقائي.
2.  **حلل المراقبات (Monitors)**:
    - استخدم علامة التبويب Monitors لفحص أحداث الانتظار والمنع.
    - تصور التنافس باستخدام Monitor Flame Graph.

### تحليل الاستثناءات وقواعد البيانات
1.  **تحليل الاستثناءات**:
    - مكّن تحليل الاستثناءات لتتبع الاستثناءات المطلوبة.
    - استخدم Exception Tree أو Flame Graph لتحليل أنماط الاستثناء.
2.  **تحليل قواعد البيانات**:
    - راقب استعلامات SQL/NoSQL لتحديد الاستعلامات البطيئة أو غير الفعالة.
    - ادمج مع حالات الخيوط لربط استدعاءات قاعدة البيانات بأداء التطبيق.

### التقاط اللقطات وتحليلها
1.  **التقاط اللقطات**:
    - استخدم واجهة المستخدم أو أداة سطر الأوامر:
      ```bash
      java -jar <YourKit Home>/lib/yjp-controller-api-redist.jar localhost 10001 capture-performance-snapshot
      ```
    - يتم حفظ اللقطات في `<user home>/Snapshots` افتراضيًا.
2.  **حلل اللقطات**:
    - افتح اللقطات في واجهة مستخدم YourKit للتحليل دون اتصال.
    - قم بتصدير التقارير بتنسيقات مثل HTML أو CSV أو XML للمشاركة.

## أفضل الممارسات للتحليل الفعال
1.  **قلل التحميل الإضافي**:
    - استخدم أخذ العينات لتحليل وحدة المعالجة المركزية في الإنتاج لتقليل التحميل.
    - تجنب تمكين الميزات غير الضرورية مثل تحليل J2EE تحت الحمل العالي.
2.  **حلل لفترة كافية**:
    - التقط البيانات لفترة كافية لتحديد المشكلات المتقطعة ولكن تجنب جمع البيانات المفرط.
3.  **ركز على المقاييس الرئيسية**:
    - رتب أولويات الأساليب كثيفة الاستخدام لوحدة المعالجة المركزية، وتسريبات الذاكرة، وتنافس الخيوط.
4.  **استخدم اللقطات للمقارنة**:
    - التقط اللقطات وقارنها بانتظام لتتبع تغييرات الأداء.
5.  **استفد من الأتمتة**:
    - قم بالتكامل مع خطوط أنابيب CI/CD باستخدام أدوات سطر الأوامر لمراقبة الأداء المستمر.
6.  **اختبر في بيئة Staging أولاً**:
    - تدرب على التحليل في بيئة staging قبل استخدامه في الإنتاج لفهم تأثيره.

## حالات الاستخدام
- **تحسين الأداء**: تحديد وتحسين الأساليب كثيفة الاستخدام لوحدة المعالجة المركزية أو استعلامات قاعدة البيانات البطيئة.
- **كشف تسرب الذاكرة**: العثور على الكائنات المحتجزة في الذاكرة دون داع وتحسين garbage collection.
- **تزامن الخيوط**: حل مشاكل التعطل والتنافس في التطبيقات متعددة الخيوط.
- **مراقبة الإنتاج**: استخدم التحليل منخفض التحميل لمراقبة التطبيقات في الإنتاج دون تأثير كبير على الأداء.
- **التكامل مع CI/CD**: أتمتة اختبارات الأداء في خطوط أنابيب البناء لاكتشاف التراجعات مبكرًا.

## التكامل مع أدوات التطوير
- **إضافات بيئة التطوير (IDE Plugins)**: يتكامل YourKit مع Eclipse و IntelliJ IDEA و NetBeans، مما يسمح بالتحليل بنقرة واحدة والانتقال من نتائج التحليل إلى الكود المصدري.
- **أدوات CI/CD**: يدعم Jenkins و Bamboo و TeamCity و Gradle و Maven و Ant و JUnit للتحليل الآلي.
- **Docker**: استخدم ثنائيات الوكيل المحسنة لتحليل التطبيقات في حاويات Docker.
- **بيئات السحابة**: حلل التطبيقات في AWS أو Azure أو منصات سحابية أخرى باستخدام التكامل مع SSH أو AWS CLI.

## الترخيص والدعم
- **خيارات الترخيص**:
  - تراخيص تجارية للاستخدام الفردي أو الجماعي.
  - نسخة تجريبية مجانية لمدة 15 يومًا متاحة.
  - تراخيص مجانية لمشاريع مفتوحة المصدر غير التجارية.
  - تراخيص مخفضة للمؤسسات التعليمية والعلمية.
- **الدعم**:
  - وثائق شاملة عبر الإنترنت: `<YourKit Home>/docs/help/index.html`.
  - دعم المجتمع عبر المنتديات والبريد الإلكتروني.
  - دعم مجاني لمشاريع مفتوحة المصدر.

## استكشاف الأخطاء وإصلاحها الشائعة
1.  **فشل تحميل الوكيل**:
    - تحقق من مسار الوكيل والتوافق (مثل وكيل 64 بت لـ JVM 64 بت).
    - تحقق من console للرسائل الخطأ وراجع دليل استكشاف الأخطاء وإصلاحها.
2.  **تحميل تحليل مرتفع**:
    - انتقل إلى وضع أخذ العينات لتحليل وحدة المعالجة المركزية.
    - عطل الميزات غير الضرورية مثل تحليل J2EE.
3.  **مشاكل الاتصال للتحليل عن بعد**:
    - تأكد من الوصول عبر SSH وتكوين المنفذ الصحيح (الافتراضي: 10001).
    - تحقق من إعدادات الجدار الناري للسماح باتصال المحلل.
4.  **مشاكل تحليل اللقطات**:
    - تأكد من وجود مساحة قرص كافية للقطات.
    - استخدم واجهة مستخدم YourKit لفتح اللقطات بدلاً من أدوات الطرف الثالث.

## الخلاصة
يعد YourKit Java Profiler أداة متعددة الاستخدامات وقوية لتشخيص وتحسين أداء تطبيقات Java. تجعل مجموعة ميزاته الشاملة، وتصميمه منخفض التحميل، ودعمه للبيئات المختلفة، منه مناسبًا للمطورين ومهندسي الأداء على حد سواء. باتباع إرشادات الإعداد والاستخدام في هذا الدليل، يمكنك الاستفادة بشكل فعال من YourKit لتحديد وحل اختناقات الأداء، وتسريبات الذاكرة، ومشاكل الخيوط، مما يؤدي في النهاية إلى تحسين استجابة وقابلية تطبيقات Java الخاصة بك للتوسع.

لمزيد من المعلومات التفصيلية، راجع وثائق YourKit الرسمية على https://www.yourkit.com/docs/java/ أو جرب النسخة التجريبية المجانية لمدة 15 يومًا للحصول على خبرة عملية.

---
**المصادر**:
- YourKit Official Website: https://www.yourkit.com[](https://www.yourkit.com/java/profiler/)[](https://www.yourkit.com/java/profiler/features/)[](https://www.yourkit.com/)
- DevOpsSchool: https://www.devopsschool.com[](https://www.devopsschool.com/blog/what-is-yourkit-java-profiler-and-use-cases-of-yourkit-java-profiler/)
- Baeldung: https://www.baeldung.com[](https://www.baeldung.com/java-profilers)
- Jahia: https://www.jahia.com[](https://www.jahia.com/blog/analyzing-system-performance-with-yourkit-java-profiler)[](https://www.jahia.com/fr/blog/analyzingsystemperformancewit)
- YourKit Documentation: https://www.yourkit.com/docs/java/[](https://www.yourkit.com/docs/java-profiler/latest/help/enabling-profiling-manually.jsp)[](https://www.yourkit.com/docs/java-profiler/latest/help/cpu_profiling.jsp)[](https://www.yourkit.com/docs/java-profiler/latest/help/connect-to-profiled-application.jsp)
- MuleSoft Documentation: https://docs.mulesoft.com[](https://docs.mulesoft.com/mule-runtime/latest/profiling-mule)