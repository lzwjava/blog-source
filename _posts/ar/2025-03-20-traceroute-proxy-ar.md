---
audio: false
generated: true
lang: ar
layout: post
title: هل يستخدم التتبع المسار وكيلًا؟
translated: true
type: note
---

لا يستخدم Traceroute نفسه وكيلًا بشكل متأصل. دعني أوضح كيف يعمل traceroute وأين يمكن أن تلعب الوكيل دورًا:

### ما يفعله Traceroute
Traceroute هو أداة تشخيص الشبكة تُستخدم لرسم المسار الذي تسلكه حزم البيانات من جهازك إلى الوجهة المستهدفة (مثل موقع ويب أو خادم). يعمل من خلال:
- إرسال حزم ذات قيم TTL (Time-to-Live) متزايدة تدريجيًا.
- يقوم كل موجه على طول المسار بتقليل قيمة TTL، وعندما تصل إلى الصفر، يرسل الموجه رسالة "ICMP Time Exceeded".
- تكشف هذه العملية عن عناوين IP للموجهات (القفزات) بينك وبين الوجهة.

بشكل افتراضي، يعمل traceroute مباشرة من جهازك إلى الهدف، باستخدام اتصالك بالشبكة دون مشاركة الوكيل.

### الوكيل و Traceroute
الوكيل هو خادم وسيط يقوم بتوجيه حركة المرور الخاصة بك من خلال نفسه قبل الوصول إلى الوجهة. لا يستخدم traceroute وكيلًا كجزء من وظيفته الأساسية، ولكن يمكن للوكيل أن يؤثر على النتائج التي تراها في سيناريوهات محددة:

1. **إذا كان اتصالك يستخدم وكيلاً**:
   - إذا كانت حركة مرور الإنترنت الخاصة بك مُهيأة للمرور عبر وكيل (على سبيل المثال، عبر إعدادات الوكيل في المتصفح أو على مستوى النظام)، فقد يتجاوزه traceroute لأنه يعمل على مستوى شبكة أقل (عادةً حزم ICMP أو UDP، وليس HTTP). معظم الوكائل تتعامل مع بروتوكولات عالية المستوى مثل HTTP/HTTPS، وليس حركة مرور ICMP الخام.
   - ومع ذلك، إذا أجبرت شبكتك *كل* حركة المرور—بما في ذلك ICMP—على المرور عبر وكيل أو شبكة VPN، فسيبدأ مسار traceroute من جهازك، ويصل إلى خادم الوكيل أو VPN أولاً، ثم يستمر إلى الوجهة. ستعكس القفزة (أو القفزات) الأولى عنوان IP الخاص بالوكيل بدلاً من الموجه المحلي الخاص بك.

2. **تشغيل Traceroute من خلال جهاز بعيد**:
   - يمكنك تشغيل traceroute من خادم بعيد (على سبيل المثال، عبر SSH) قد يكون خلف وكيل أو في شبكة مختلفة. في هذه الحالة، يعكس traceroute المسار من ذلك الخادم إلى الهدف، وليس من جهازك المحلي، وأي وكيل في ذلك الإعداد يمكن أن يؤثر على المسار.

3. **تهيئات الشبكة**:
   - تستخدم بعض الشبكات المؤسسية أو المقيدة وكلاء أو بوابات تعترض وتعيد توجيه كل حركة المرور، بما في ذلك حزم traceroute. هنا، قد يُظهر traceroute الوكيل كقفزة مبكرة، مما يحجب المسار الحقيقي بعده.

### إجابة مختصرة
لا يستخدم traceroute وكيلًا بالتصميم—إنه أداة شبكة مباشرة. ولكن إذا كانت شبكتك أو جهازك مُهيأً لتوجيه حركة المرور عبر وكيل أو VPN، فيمكن أن يظهر هذا الوكيل في مسار traceroute كقفزة. بشكل طبيعي، مع ذلك، يعمل traceroute بشكل مستقل عن الوكيل، مما يظهر مسار الشبكة الخام من نقطة منشأك إلى الوجهة.

إذا كنت تسأل عن إعداد محدد، فلا تتردد في التوضيح!