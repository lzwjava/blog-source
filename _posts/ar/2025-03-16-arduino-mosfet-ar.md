---
audio: false
generated: true
lang: ar
layout: post
title: المقحل MOSFET كمفتاح يعمل بالأردوينو
translated: true
type: note
---

يبدو أن هناك سوء فهم في سؤالك. لا يمكن استخدام Arduino *لبناء* ترانزستورات تأثير المجال بأكسيد الفلز وأشباه الموصلات (MOSFETs) لأن MOSFETs هي أجهزة أشباه موصلات أساسية تُصنع من خلال عمليات معقدة مثل الطباعة الضوئية والتنشيط في بيئة غرفة نظيفة. ومع ذلك، أعتقد أنك قصدت "كيفية استخدام Arduino لبناء دائرة *باستخدام* MOSFETs" أو "كيفية استخدام MOSFETs في مشروع Arduino". إذا أسأت الفهم، يرجى التوضيح!

سأمضي قدمًا في شرح كيفية استخدام Arduino للتحكم في MOSFET في دائرة عملية، مثل مفتاح بسيط أو مضخم. تعتبر MOSFETs مكونات متعددة الاستخدامات، تُستخدم غالبًا كمفاتيح أو في دوائر التضخيم، وهي تعمل بشكل جيد مع مخرجات Arduino الرقمية. أدناه، سأقدم دليلًا خطوة بخطوة لتطبيق شائع: استخدام قناة N من MOSFET (مثل IRF540 أو 2N7000) كمفتاح عالي الطاقة يتم التحكم فيه بواسطة Arduino.

---

### **المشروع: استخدام MOSFET كمفتاح يتم التحكم فيه بواسطة Arduino**

#### **نظرة عامة**
- **الغرض:** استخدام Arduino لتشغيل حمل عالي الطاقة (مثل شريط LED، أو محرك، أو مصباح) وإيقافه عبر MOSFET.
- **لماذا MOSFET؟** على عكس ترانزستورات الوصلة ثنائية القطب (BJTs)، فإن MOSFETs يتم التحكم فيها بالجهد، وتتطلب تيارًا ضئيلاً من Arduino، ويمكنها التعامل مع تيارات/جهود أعلى من دبابيس Arduino (الحد الأقصى 40 مللي أمبير، 5 فولت).

#### **المكونات المطلوبة**
- Arduino (مثل Uno)
- قناة N من MOSFET (مثل IRF540 أو 2N7000؛ IRF540 للطاقة الأعلى)
- المقاوم: R1 = 10 كيلو أوم (سحب لأسفل)، R2 = 220 أوم (حماية البوابة، اختياري)
- الحمل: مثل شريط LED بجهد 12 فولت، أو محرك تيار مستمر، أو مصباح (مع مصدر طاقة مناسب)
- الصمام الثنائي (دايود) (مثل 1N4007، للأحمال الحثية مثل المحركات)
- لوحة التجارب (Breadboard)، أسلاك توصيل
- مصدر طاقة خارجي (مثل 12 فولت للحمل)

#### **الرسم التخطيطي للدائرة**
```
Arduino Pin 9 ---- R2 (220Ω) ---- Gate (G)
                             |
                             |
V_load (مثلاً 12V) ---- Load ---- Drain (D)
                             | 
                             |
                            Source (S) ---- GND
                             |
                            R1 (10kΩ)
                             |
                            GND
```
- **للأحمال الحثية (مثل المحرك):** أضف صمامًا ثنائيًا للامتصاص العكسي (Flyback Diode) (1N4007) عبر الحمل (القطب السالب إلى V_load، والقطب الموجب إلى Drain) لحماية MOSFET من spikes الجهد.
- **الطاقة:** يتم تشغيل Arduino عبر USB أو 5 فولت؛ يتم تشغيل الحمل بواسطة مصدر خارجي (مثل 12 فولت). قم بتوصيل جميع نقاط GND معًا.

#### **كيفية العمل**
- **دور MOSFET:** يعمل كمفتاح بين Drain و Source، يتم التحكم فيه بواسطة جهد البوابة (Gate).
- **دور Arduino:** يخرج إشارة HIGH (5 فولت) أو LOW (0 فولت) إلى البوابة (Gate) عبر الدبوس 9.
- **المنطق:**
  - HIGH (5 فولت) على البوابة → تشغيل MOSFET → يحصل الحمل على الطاقة.
  - LOW (0 فولت) على البوابة → إيقاف MOSFET → يتوقف الحمل.
- **R1 (السحب لأسفل):** يضمن أن البوابة (Gate) تكون عند LOW عندما يكون Arduino مغلقًا أو عندما يكون الدبوس عائمًا (floating).
- **R2 (اختياري):** يحد من التيار إلى البوابة (عادة غير ضروري لـ MOSFETs ذات المستوى المنطقي).

---

### **الخطوة 1: بناء الدائرة**

1. **توصيل MOSFET:**
   - **البوابة (G):** إلى دبوس Arduino 9 عبر R2 (220 أوم، اختياري).
   - **المصرف (Drain - D):** إلى الجانب السالب للحمل (مثل الكاثود في شريط LED).
   - **المصدر (Source - S):** إلى GND.
2. **الحمل والطاقة:**
   - قم بتوصيل الجانب الموجب للحمل إلى V_load (مثل مصدر 12 فولت).
   - قم بتوصيل GND لمصدر 12 فولت إلى GND الخاص بـ Arduino.
3. **السلامة:**
   - أضف R1 (10 كيلو أوم) بين البوابة (Gate) و GND.
   - للمحركات، أضف الصمام الثنائي عبر الحمل.

---

### **الخطوة 2: كود Arduino**

#### **مفتاح تشغيل/إيقاف بسيط**
```cpp
const int mosfetPin = 9; // دبوس قادر على PWM

void setup() {
  pinMode(mosfetPin, OUTPUT); // تعيين الدبوس كمخرج
}

void loop() {
  digitalWrite(mosfetPin, HIGH); // تشغيل MOSFET
  delay(1000);                   // انتظر ثانية واحدة
  digitalWrite(mosfetPin, LOW);  // إيقاف MOSFET
  delay(1000);                   // انتظر ثانية واحدة
}
```
- **المخرج:** يتم تشغيل وإيقاف الحمل كل ثانية.

#### **تعتيم باستخدام PWM (لـ LEDs/المحركات)**
```cpp
const int mosfetPin = 9;

void setup() {
  pinMode(mosfetPin, OUTPUT);
}

void loop() {
  for (int brightness = 0; brightness <= 255; brightness += 5) {
    analogWrite(mosfetPin, brightness); // زيادة السطوع
    delay(50);
  }
  for (int brightness = 255; brightness >= 0; brightness -= 5) {
    analogWrite(mosfetPin, brightness); // تقليل السطوع
    delay(50);
  }
}
```
- **المخرج:** يزداد الحمل (مثل LED) خفوتًا ووهجًا تدريجيًا.

---

### **الخطوة 3: الاختيار والتحقق**

1. **رفع الكود (Upload):** استخدم Arduino IDE لرفع أي من السكيتشين (البرنامجين).
2. **تشغيل الطاقة:** قم بتوصيل Arduino عبر USB ومصدر الطاقة الخارجي بالحمل.
3. **الملاحظة:**
   - بالنسبة لكود التشغيل/الإيقاف، يجب أن يتبدل الحمل كل ثانية.
   - بالنسبة لـ PWM، يجب أن يزداد الحمل سطوعًا وخفوّتًا تدريجيًا.
4. **القياس:** استخدم الملتيميتر للتحقق من:
   - الجهد عند البوابة (Gate) (0 فولت أو 5 فولت).
   - الجهد عبر الحمل (0 فولت أو V_load).

---

### **اختيار الـ MOSFET المناسب**
- **MOSFET ذات المستوى المنطقي (مثل IRL540، 2N7000):** تعمل بالكامل بجهد 5 فولت من Arduino. هي المفضلة لهذا المشروع.
- **الـ MOSFET القياسي (مثل IRF540):** يحتاج إلى حوالي 10 فولت عند البوابة (Gate) ليعمل بالكامل. مع 5 فولت، قد يوصل جزئيًا – استخدم ترانزستورًا أو مشغّلاً (مثل BJT أو IC مثل TC4420) لتعزيز جهد البوابة إذا كنت تستخدم هذه.
- **المواصفات:** تحقق من أن V_DS (أقصى جهد) و I_D (أقصى تيار) يتطابقان مع حملك (مثل IRF540: 100 فولت، 33 أمبير).

---

### **بديل: مضخم MOSFET**
إذا كنت تقصد مضخمًا يعتمد على MOSFET (مثل مضخم المصدر المشترك)، فإليك مخططًا سريعًا:
- **الإعداد:** مشابه للمضخم CE ولكن باستخدام MOSFET (مثل 2N7000).
- **الرسم التخطيطي:** Vcc → RD (مقاوم المصرف) → Drain؛ Source → GND؛ Gate → إشارة الدخل (عبر مكثف).
- **دور Arduino:** توليد إشارة تيار متردد صغيرة (كما في مثال مضخم CE).
- **الكسب:** \\( A_v = -g_m \cdot R_D \\)، حيث \\( g_m \\) هو معامل النقل (transconductance).
- **التحدي:** يتطلب تحيزًا دقيقًا؛ أقل شيوعًا للمبتدئين من مضخمات BJT.

أعلمني إذا كنت تريد التحول إلى هذا بدلاً من ذلك!

---

### **نصائح واستكشاف الأخطاء وإصلاحها**
- **الحرارة:** إذا أصبح الـ MOSFET ساخنًا، فهو لا يعمل بالكامل (تحقق من التوافق مع المستوى المنطقي) أو أن الحمل يتجاوز تصنيفه – أضف مبدد حرارة (heatsink) أو قلل التيار.
- **لا يوجد استجابة:** تحقق من التوصيلات، وتوصيل دبابيس الـ MOSFET (GDS)، ومصدر الطاقة.
- **الضوضاء:** يمكن أن يكون تبديل PWM مسموعًا مع المحركات – اضبط التردد إذا لزم الأمر (تعديل متقدم).
- **جهد أعلى:** للأحمال >5 فولت، تأكد من تحقيق عتبة V_GS لـ MOSFET.

يوضح هذا المشروع كيفية دمج MOSFET مع Arduino للتحكم العملي. هل تريد توسيعه (مثل التحكم في سرعة المحرك) أو استكشاف التضخيم بدلاً من ذلك؟ فقط قل الكلمة!