---
audio: false
generated: true
lang: ar
layout: post
title: لماذا تفشل عمليات جيت على الشبكات المحمولة الصينية
translated: true
type: note
---

هذه مشكلة شائعة عند استخدام بعض شبكات الجوال في الصين، خاصة مع الخدمات مثل Git التي تعتمد على منافذ وبروتوكولات محددة. إليك تحليل لأسباب هذه المشكلة وكيفية إصلاحها:

**لماذا تفشل عمليات Git على شبكات الجوال الصينية:**

*   **حجب/تقليل سرعة المنافذ:**
    * تقوم مشغلي شبكات الجوال في الصين أحيانًا بتنفيذ تشكيل حركة المرور أو حجب المنافذ، خاصة للمنافذ غير القياسية التي يستخدمها Git (مثل منفذ SSH 22). يتم ذلك غالبًا لإدارة عرض النطاق الترددي للشبكة أو لأسباب أمنية.
    * حتى إذا لم يتم حجب المنفذ 22 تمامًا، فقد يتم تقليل سرعته بشدة، مما يؤدي إلى اتصالات بطيئة للغاية أو انتهاء مهلة الاتصال، والتي تظهر على أنها عمليات Git "عالقة".
*   **مشاكل DNS:**
    * بينما يمكنك الوصول إلى مواقع ويب مثل GitHub وGoogle، تعتمد عمليات Git على حل أسماء مضيفين محددة (مثل `github.com`) عبر نظام أسماء النطاقات (DNS). إذا كان حل DNS بطيئًا أو غير موثوق، فقد يتسبب في تعليق Git.
*   **فقدان الحزم/زمن الوصول:**
    * يمكن أن تعاني شبكات الجوال، خاصة عند استخدامها كنقاط اتصال، من زمن وصول أعلى وفقدان للحزم مقارنة بالاتصالات السلكية. يمكن لهذا أن يعطل اتصال SSH المستخدم من قبل Git، مما يؤدي إلى فشل العمليات.
*   **تدخل الجدار الناري:**
    * قد يتدخل "الجدار الناري العظيم" في الصين مع اتصالات SSH، حتى لو لم تكن محجوبة صراحةً. يمكن أن يتسبب فحص الحزم العميق للجدار الناري أحيانًا في عدم استقرار الاتصال.
*   **مشاكل MTU:**
    * يمكن أن تسبب مشاكل Maximum Transmission Unit (MTU) مشاكل في نقل البيانات، ولدى شبكات الجوال أحيانًا قيم MTU أصغر من الشبكات السلكية.

**كيفية إصلاح مشاكل دفع/سحب Git على شبكات الجوال الصينية:**

1.  **استخدم HTTPS بدلاً من SSH:**
    * يستخدم Git عبر HTTPS المنفذ 443، الذي يكون مفتوحًا عادةً لحركة مرور الويب. هذا هو الحل الأكثر موثوقية.
    * لتغيير Git remote الخاص بك إلى HTTPS:
        * افتح طرفيتك.
        * انتقل إلى مستودع Git الخاص بك.
        * قم بتشغيل الأمر التالي، مع استبدال `your_username` و `your_repository` ببيانات GitHub الخاصة بك:
            ```bash
            git remote set-url origin https://github.com/your_username/your_repository.git
            ```
    * إذا كنت بحاجة إلى تقديم اسم المستخدم وكلمة المرور، يمكنك استخدام git credential helper، أو استخدام personal access token.
2.  **استخدم VPN:**
    * يمكن لشبكة VPN موثوقة تجاوز قيود الشبكة وتوفير اتصال أكثر استقرارًا.
    * اتصل بخادم VPN خارج الصين قبل محاولة إجراء عمليات Git.
    * كن على علم بأن شبكات VPN يمكن أن تعاني أيضًا من عدم الاستقرار ومشاكل السرعة.
3.  **تهيئة منفذ SSH (إذا كان SSH ضروريًا):**
    * إذا كان يجب عليك استخدام SSH، فحاول تكوين Git لاستخدام منفذ مختلف (مثل 443) قد يكون أقل عرضة للحجب.
    * قم بتحرير ملف `~/.ssh/config` الخاص بك:
        ```
        Host github.com
            Hostname ssh.github.com
            Port 443
            User git
        ```
    * بعد ذلك، قم بتغيير عنوان git remote الخاص بك لاستخدام ssh.github.com:
        ```bash
        git remote set-url origin git@ssh.github.com:your_username/your_repository.git
        ```
4.  **تحقق من إعدادات MTU:**
    * إذا كنت تشك في وجود مشاكل في MTU، فحاول تقليل حجم MTU الخاص بك.
    * على macOS، يمكنك استخدام الأمر `networksetup` لضبط MTU.
    * ومع ذلك، فإن تغيير MTU يعتبر بشكل عام خطوة استكشاف أخطاء وإصلاحها متقدمة ويجب القيام بها بحذر.
5.  **تحقق من إعدادات DNS:**
    * جرب استخدام خادم DNS عام، مثل Google DNS (8.8.8.8 و 8.8.4.4) أو Cloudflare DNS (1.1.1.1 و 1.0.0.1).
    * يمكنك تكوين إعدادات DNS في تفضيلات الشبكة في macOS.
6.  **استخدم وكيل Git:**
    * إذا كان لديك حق الوصول إلى خادم وكيل، فيمكنك تكوين Git لاستخدامه.
    * عيّن متغيرات تكوين Git `http.proxy` و `https.proxy`:
        ```bash
        git config --global http.proxy http://proxy_address:proxy_port
        git config --global https.proxy https://proxy_address:proxy_port
        ```
    * إذا كان الوكيل يحتاج إلى مصادقة، فيمكنك تضمين اسم المستخدم وكلمة المرور في عنوان URL للوكيل.
7.  **جرب استخدام SSH عبر Websockets:**
    * تسمح بعض الأدوات والخدمات لك بنفق حركة مرور SSH عبر websockets، مما يمكن أن يكون مفيدًا إذا كانت منافذ SSH القياسية محجوبة.
    * هذه تقنية متقدمة وتتطلب إعداد خادم يدعم SSH عبر websockets.

**اعتبارات مهمة:**

*   يمكن أن تختلف ظروف شبكة الجوال بشكل كبير، لذا فإن ما ينجح في موقع واحد أو في وقت ما قد لا ينجح في موقع أو وقت آخر.
*   كن على علم بشروط الخدمة لمزود شبكة الجوال الخاص بك وأي قيود محتملة على استخدام شبكات VPN أو حلول أخرى.
*   يعتبر HTTPS بشكل عام الحل الأفضل لمعظم المستخدمين.