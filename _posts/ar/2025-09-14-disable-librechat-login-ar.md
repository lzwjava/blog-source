---
audio: false
date: 2025-09-14
generated: true
image: false
lang: ar
layout: post
model: mistralai/mistral-medium-3.1
title: تعطيل مصادقة تسجيل الدخول في LibreChat
translated: true
type: note
---

لجعل **LibreChat** يعمل دون الحاجة إلى تسجيلات دخول متكررة (أو تعطيل تسجيل الدخول تمامًا)، يمكنك ضبط إعدادات المصادقة. إليك الخطوات لحل المشكلة:

---

### **1. تعطيل المصادقة (لا يلزم تسجيل الدخول)**
إذا كنت تريد أن يكون **LibreChat مفتوحًا بالكامل** (بدون تسجيل دخول على الإطلاق)، قم بتعديل التكوين:

#### **الخيار أ: متغيرات البيئة (مُوصى به)**
عيّن ما يلي في ملف `.env` الخاص بك (أو في متغيرات البيئة):
```env
# تعطيل المصادقة تمامًا
AUTHENTICATION=false
```
ثم أعد تشغيل LibreChat:
```bash
docker compose down && docker compose up -d  # إذا كنت تستخدم Docker
# أو
npm run build && npm run start  # إذا كنت تشغله محليًا
```

#### **الخيار ب: تعديل `config.yaml`**
إذا كنت تستخدم ملف `config.yaml`، أضف:
```yaml
auth:
  enabled: false
```

---

### **2. إصلاح مشاكل تسجيل الخروج المتكرر (إذا كنت لا تزال تريد تسجيل الدخول)**
إذا كنت **تريد الحفاظ على المصادقة** ولكن إصلاح مشكلة تسجيل الخروج المتكرر، جرب هذه الحلول:

#### **أ. زيادة مدة انتهاء الجلسة / ملفات تعريف الارتباط**
قم بتعديل إعدادات الجلسة في `.env`:
```env
# تمديد مهلة الجلسة (بالثواني، على سبيل المثال، 7 أيام = 604800)
SESSION_EXPIRY=604800

# تأكد من أن ملفات تعريف الارتباط آمنة (إذا كنت تستخدم HTTPS)
COOKIE_SECURE=true  # اضبط على false إذا كنت تختبر على HTTP
COOKIE_SAME_SITE=lax
```

#### **ب. استخدام مخزن جلسات دائم**
بشكل افتراضي، قد يستخدم LibreChat جلسات في الذاكرة (التي تتم إعادة تعيينها عند إعادة التشغيل). انتقل إلى **مخزن جلسات مدعوم بقاعدة بيانات** (مثل Redis أو PostgreSQL):

1. **تثبيت Redis** (إذا لم يكن مثبتًا بالفعل):
   ```bash
   docker run -d --name redis -p 6379:6379 redis
   ```
2. تحديث `.env`:
   ```env
   SESSION_STORE=redis
   REDIS_URL=redis://localhost:6379
   ```

#### **ج. التحقق من إعدادات الوكيل العكسي (إذا كنت تستخدم Nginx/Apache)**
إذا كنت خلف وكيل (مثل Nginx)، تأكد من:
- يتم تمرير ملفات تعريف الارتباط بشكل صحيح.
- `ProxyPass` يتضمن توجيهات `cookie`.

مثال تكوين Nginx:
```nginx
location / {
    proxy_pass http://localhost:3080;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_cookie_path / /;  # تأكد من أن نطاق ملفات تعريف الارتباط غير محدود بشكل خاطئ
}
```

#### **د. مسح ذاكرة التخزين المؤقت للمتصفح والاختبار في وضع التصفح المتخفي**
في بعض الأحيان، تسبب ذاكرة التخزين المؤقت للمتصفح / ملفات تعريف الارتباط التالفة المشكلات. جرب:
- مسح ملفات تعريف الارتباط لـ `librechat.example.com`.
- الاختبار في **وضع التصفح المتخفي** أو متصفح مختلف.

---

### **3. تصحيح أخطاء ملفات تعريف الارتباط**
إذا كانت ملفات تعريف الارتباط لا تزال غير ثابتة:
1. **تحقق من أدوات المطور في المتصفح** (`F12` > **Application** > **Cookies**) لمعرفة ما إذا كان يتم تعيين `connect.sid` (أو ما شابه).
2. **التحقق من سمة `SameSite`** (يجب أن تكون `Lax` أو `None` إذا كان cross-site).
3. **تأكد من أن `Domain` صحيح** (على سبيل المثال، `.example.com` للنطاقات الفرعية).

---

### **4. تحديث LibreChat**
إذا كنت تستخدم إصدارًا قديمًا، فقد تكون الأخطاء قد أُصلحت في الإصدارات الأحدث:
```bash
git pull origin main
docker compose down && docker compose up -d --build
```

---

### **ملاحظات نهائية**
- **تحذير أمني**: يؤدي تعطيل المصادقة (`AUTHENTICATION=false`) إلى جعل LibreChat **يمكن الوصول إليه بشكل عام**. افعل هذا فقط للشبكات الموثوقة / الداخلية.
- **مطلوب HTTPS**: إذا كنت تستخدم ملفات تعريف الارتباط، تأكد من أن موقعك يستخدم **HTTPS** (أو عيّن `COOKIE_SECURE=false` للاختبار).