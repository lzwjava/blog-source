---
audio: false
generated: true
lang: ar
layout: post
title: ملفات جار المفقودة في ويب سبير ليبرتي
translated: true
type: note
---

في WebSphere Liberty، لاحظت تحذيرات في ملف `console.log` تبدو هكذا: *"the manifest class path: grpc-protobuf.jar cannot be found in jar file ..ear/war or its parent"*. تشير هذه التحذيرات إلى أن الخادم لا يمكنه العثور على ملف `grpc-protobuf.jar`، والذي تمت الإشارة إليه في مسار الفئات (class path) في البيان (manifest) لملف EAR أو WAR في تطبيقك. أدناه، سأعالج أسئلتك: ما إذا كانت هذه التحذيرات مهمة، وما إذا كان سيؤثر على تشغيل تطبيقك، وكيفية إزالتها.

---

### هل هذه التحذيرات مهمة؟

نعم ولا — هذا يعتمد على ما إذا كان ملف JAR المفقود مطلوبًا لتطبيقك:

- **إذا كان ملف JAR ضروريًا:**  
  إذا كان `grpc-protobuf.jar` يحتوي على فئات أو موارد يحتاجها تطبيقك في وقت التشغيل، فإن هذا التحذير مهم. بدون ملف JAR، قد يواجه تطبيقك أخطاء وقت التشغيل مثل `ClassNotFoundException`، مما قد يتسبب في فشل أجزاء منه أو سلوكها بشكل غير صحيح.

- **إذا كان ملف JAR غير مطلوب:**  
  إذا لم يكن ملف JAR مطلوبًا بالفعل — ربما يكون مرجعًا متبقيًا من تكوين قديم أو تبعية اختيارية — فإن التحذير غير ضار ولن يؤثر على وظائف تطبيقك. ومع ذلك، فإنه سيظل يشوش سجلاتك.

باختصار، هذه التحذيرات مهمة إذا كان ملف JAR المفقود حاسمًا لتطبيقك. ستحتاج إلى التحقق لتحديد أهميته.

---

### هل سيؤثر على تشغيل التطبيق؟

يعتمد تأثير وقت التشغيل على تطبيقك على دور ملف JAR المفقود:

- **نعم، إذا كان ملف JAR مطلوبًا:**  
  إذا حاول تطبيقك استخدام فئات أو موارد من `grpc-protobuf.jar` وكان مفقودًا، فمن المحتمل أن ترى أخطاء وقت التشغيل. هذا قد يمنع تطبيقك من العمل بشكل صحيح أو يتسبب في فشله تمامًا.

- **لا، إذا كان ملف JAR غير ضروري:**  
  إذا لم يكن ملف JAR مطلوبًا، فسيعمل تطبيقك بشكل جيد على الرغم من التحذير. ستظل الرسالة موجودة في السجلات كمصدر إزعاج.

لتأكيد ذلك، تحقق من سلوك تطبيقك وسجلاته بحثًا عن أخطاء تتجاوز التحذير نفسه. إذا كان كل شيء يعمل كما هو متوقع، فقد لا يكون ملف JAR أساسيًا.

---

### كيفية إزالة التحذير؟

للتخلص من التحذير، تحتاج إما إلى التأكد من تضمين ملف JAR بشكل صحيح في تطبيقك أو إزالة المرجع غير الضروري له. إليك النهج خطوة بخطوة:

1. **التحقق مما إذا كان ملف JAR مطلوبًا:**  
   - راجع وثائق تطبيقك، أو الكود المصدري، أو قائمة التبعيات (مثل `pom.xml` إذا كنت تستخدم Maven) لتحديد ما إذا كان `grpc-protobuf.jar` مطلوبًا.  
   - إذا لم يكن مطلوبًا، فانتقل إلى الخطوة 3 لإزالة المرجع. إذا كان مطلوبًا، فتابع إلى الخطوة 2.

2. **تصحيح التعبئة والتغليف (إذا كان ملف JAR مطلوبًا):**  
   - تأكد من تضمين `grpc-protobuf.jar` في المكان الصحيح داخل حزمة تطبيقك:  
     - **لملف WAR:** ضعه في دليل `WEB-INF/lib`.  
     - **لملف EAR:** ضعه في جذر ملف EAR أو في دليل مكتبة مخصص (مثل `lib/`).  
   - أعد بناء ونشر تطبيقك لتأكيد أن WebSphere Liberty يعثر الآن على ملف JAR.  
   - تحقق من `console.log` لترى ما إذا كان التحذير قد اختفى.

3. **تحديث البيان (إذا كان ملف JAR غير مطلوب):**  
   - افتح ملف `MANIFEST.MF` في ملف EAR أو WAR الخاص بك، الموجود في دليل `META-INF/`.  
   - ابحث عن سمة `Class-Path`، والتي قد تبدو كالتالي:  
     ```
     Class-Path: grpc-protobuf.jar some-other-lib.jar
     ```  
   - أزل المرجع إلى `grpc-protobuf.jar` حتى لا يظهر مرة أخرى في القائمة.  
   - احفظ الملف، وأعد بناء تطبيقك، ونشره مرة أخرى. لا ينبغي أن يظهر التحذير مرة أخرى.

4. **التحقق من تكوين مسار الفئات (Classpath):**  
   - إذا كان تطبيقك يستخدم مكتبات مشتركة أو محمّلات فئات مخصصة في WebSphere Liberty، فتحقق من أن تكوين الخادم (مثل `server.xml`) يتضمن ملفات JAR اللازمة أو لا يشير بشكل غير صحيح إلى `grpc-protobuf.jar`.  
   - اضبط التكوين إذا لزم الأمر وأعد تشغيل الخادم.

---

### نصائح عامة

- **تحقق من التحذيرات:** حتى لو كان التطبيق يعمل بشكل جيد، من الممارسات الجيدة فهم سبب التحذيرات لتجنب المفاجآت لاحقًا.  
- **اختبر بعد التغييرات:** بعد إضافة ملف JAR أو تحديث البيان، اختبر تطبيقك بدقة للتأكد من أنه يعمل كما هو متوقع.  
- **حافظ على نظافة السجلات:** يساعد حل التحذيرات غير الضرورية في الحفاظ على سجلاتك واضحة، مما يسهل اكتشاف المشكلات الحقيقية في المستقبل.

باتباع هذه الخطوات، يمكنك تحديد ما إذا كان تحذير `grpc-protobuf.jar` حاسمًا، ومعالجة أي تأثير محتمل على وقت التشغيل، وإزالة التحذير من `console.log` الخاص بك في WebSphere Liberty.

---

عند تشغيل الأمر `mvn package` لبناء ملف EAR ومواجهة تحذيرات حول ملفات JAR مفقودة (مثل `grpc-protobuf.jar`) في مسار فئات البيان (manifest class path)، فمن غير المرجح أن تكون المشكلة ناتجة عن وسائط سطر أوامر مفقودة. الأمر `mvn package` نفسه كافٍ لتحفيز دورة حياة بناء Maven حتى مرحلة `package`، والتي تتضمن تجميع واختبار وتعبئة ملف EAR الخاص بك. ومع ذلك، يشير التحذير إلى وجود مشكلة في التكوين في مشروع Maven الخاص بك بدلاً من مشكلة في الأمر أو وسائطه. دعنا نستكشف هذا خطوة بخطوة.

---

### ماذا يعني التحذير؟

يشير التحذير إلى أن ملف `MANIFEST.MF` في ملف EAR الخاص بك يشير إلى `grpc-protobuf.jar` في سمة `Class-Path` الخاصة به، ولكن لم يتم العثور على ملف JAR هذا في المكان المتوقع داخل ملف EAR (مثل دليل `lib/`). تسرد سمة `Class-Path` ملفات JAR التي يحتاجها تطبيقك في وقت التشغيل، ويمكن أن يؤدي ملف JAR مفقود إلى أخطاء في وقت التشغيل مثل `ClassNotFoundException`.

---

### هل الأمر يتعلق بوسائط مفقودة؟

لا، أنت لا تحتاج إلى وسائط إضافية مع `mvn package` لحل هذه المشكلة. يعتمد Maven على ملفات `pom.xml` الخاصة بمشروعك وتكوينات الإضافات (مثل `maven-ear-plugin`) لتحديد ما يتم تضمينه في ملف EAR وكيفية إنشاء البيان. إضافة وسائط مثل `-DskipTests` أو `-U` قد تعدل عملية البناء، لكنها لن تعالج هذا التحذير مباشرة. السبب الجذري يكمن في إعداد مشروعك، وليس في الأمر نفسه.

---

### الأسباب الشائعة للتحذير

فيما يلي الأسباب المحتملة للتحذير:

1. **عدم الإعلان عن التبعية**  
   إذا كان `grpc-protobuf.jar` مطلوبًا لتطبيقك، فقد لا يتم الإعلان عنه كتبعية في `pom.xml` لوحدة EAR أو وحداته الفرعية (مثل وحدة WAR أو JAR).

2. **نطاق التبعية غير صحيح**  
   إذا تم الإعلان عن `grpc-protobuf.jar` بنطاق مثل `provided`، يفترض Maven أنه يتم توفيره بواسطة بيئة وقت التشغيل (مثل WebSphere Liberty) ولن يقوم بتعبئته في ملف EAR.

3. **إدخال غير مرغوب فيه في البيان**  
   قد يتم تكوين `maven-ear-plugin` لإضافة `grpc-protobuf.jar` إلى `Class-Path` في البيان، حتى لو لم يتم تضمينه في ملف EAR.

4. **مشكلة في التبعية غير المباشرة**  
   قد يكون ملف JAR تبعية غير مباشرة (تبعية لتبعية أخرى) إما مستبعدة أو غير مضمنة بشكل صحيح في ملف EAR.

---

### كيفية التحقق

لتحديد المشكلة بدقة، جرب هذه الخطوات:

1. **تحقق من ملف البيان**  
   بعد تشغيل `mvn package`، فك ضغط ملف EAR الذي تم إنشاؤه وانظر إلى `META-INF/MANIFEST.MF`. تحقق مما إذا كان `grpc-protobuf.jar` مدرجًا في `Class-Path`. هذا يؤكد ما إذا كان التحذير يتطابق مع محتوى البيان.

2. **راجع `pom.xml` لملف EAR**  
   انظر إلى تكوين `maven-ear-plugin`. على سبيل المثال:
   ```xml
   <plugin>
       <groupId>org.apache.maven.plugins</groupId>
       <artifactId>maven-ear-plugin</artifactId>
       <version>3.2.0</version>
       <configuration>
           <version>7</version> <!-- تطابق إصدار Java EE الخاص بك -->
           <defaultLibBundleDir>lib</defaultLibBundleDir>
       </configuration>
   </plugin>
   ```
   تأكد من أنه تم إعداده لتضمين التبعيات في دليل `lib/` (أو wherever يجب أن تذهب ملفات JAR الخاصة بك).

3. **افحص التبعيات**  
   قم بتشغيل `mvn dependency:tree` على وحدة EAR الخاصة بك لترى ما إذا كان `grpc-protobuf.jar` يظهر. إذا كان مفقودًا، فهذا يعني أنه غير مُعلن عنه في أي مكان في شجرة التبعيات الخاصة بك.

4. **انظر إلى الوحدات الفرعية**  
   إذا كان ملف EAR الخاص بك يتضمن ملفات WAR أو JAR، فتحقق من ملفات `pom.xml` الخاصة بها للبحث عن التبعيات على `grpc-protobuf.jar`.

---

### كيفية إصلاحه

اعتمادًا على ما تجده، طبق أحد هذه الحلول:

1. **إذا كان ملف JAR مطلوبًا**  
   أضف `grpc-protobuf.jar` كتبعية في `pom.xml` لملف EAR الخاص بك:
   ```xml
   <dependency>
       <groupId>io.grpc</groupId>
       <artifactId>grpc-protobuf</artifactId>
       <version>1.39.0</version> <!-- استخدم الإصدار الصحيح -->
   </dependency>
   ```
   تأكد من أن `maven-ear-plugin` يضمّنه في ملف EAR (مثل في دليل `lib/`).

2. **إذا كان النطاق خاطئًا**  
   إذا تم الإعلان عنه كـ `<scope>provided</scope>` ولكن يجب تعبئته، فغيّره إلى `<scope>compile</scope>` (النطاق الافتراضي).

3. **إذا لم يكن ملف JAR مطلوبًا**  
   إذا لم يكن `grpc-protobuf.jar` يجب أن يكون في البيان، فابحث عن تكوينات بيان مخصصة في `maven-ear-plugin`:
   ```xml
   <configuration>
       <manifestFile>META-INF/MANIFEST.MF</manifestFile>
   </configuration>
   ```
   أزل أي إدخالات يدوية لـ `grpc-protobuf.jar`، أو دع Maven ينشئ البيان تلقائيًا.

4. **تعامل مع التبعيات غير المباشرة**  
   إذا كانت تبعية غير مباشرة لا تحتاجها، فاستبعدها:
   ```xml
   <dependency>
       <groupId>some.group</groupId>
       <artifactId>some-artifact</artifactId>
       <exclusions>
           <exclusion>
               <groupId>io.grpc</groupId>
               <artifactId>grpc-protobuf</artifactId>
           </exclusion>
       </exclusions>
   </dependency>
   ```

5. **أعد البناء وتحقق**  
   قم بتشغيل `mvn clean package` لإعادة بناء ملف EAR، ثم تحقق من ملف EAR الناتج للتأكد من زوال التحذير وأن الهيكل صحيح.

---

### الخلاصة

الأمر `mvn package` نفسه لا يتطلب وسائط إضافية لإصلاح هذا التحذير. بدلاً من ذلك، من المرجح أن تكون المشكلة بسبب سوء تكوين في `pom.xml` الخاص بك أو في `maven-ear-plugin`. من خلال التأكد من أن `grpc-protobuf.jar` إما مضمن بشكل صحيح (إذا كان مطلوبًا) أو تمت إزالته من البيان (إذا لم يكن مطلوبًا)، يمكنك التخلص من التحذير. ابدأ بفحص البيان والتبعيات الخاصة بك، ثم اضبط التكوين وفقًا لذلك. يجب أن يحل هذا المشكلة دون تغيير أمر البناء الخاص بك.