---
audio: false
generated: true
lang: ar
layout: post
title: مفقود ملفات JAR في WebSphere Liberty
translated: true
---

في WebSphere Liberty، لاحظت تحذيرات في ملف `console.log` تبدو مثل هذا: *"المسار الفهرسي للمنفست: grpc-protobuf.jar لا يمكن العثور عليه في ملف jar ..ear/war أو أبوه"*. هذه التحذيرات تشير إلى أن الخادم لا يمكن أن يحدد ملف `grpc-protobuf.jar`، والذي يُشار إليه في مسار الفهرس الفهرسي لملف EAR أو WAR في تطبيقك. أدناه، سأجيب على أسئلتك: هل هذه التحذيرات مهمة، وهل ستؤثر على تشغيل تطبيقك، وكيف يمكن إزالتها.

---

### هل هذه التحذيرات مهمة؟

نعم و لا - يعتمد ذلك على ما إذا كان الملف JAR المفقود مطلوبًا من قبل تطبيقك:

- **إذا كان JAR ضروريًا:**
  إذا كان `grpc-protobuf.jar` يحتوي على فئات أو موارد تحتاجها تطبيقك في وقت التشغيل، فإن هذه التحذير مهم. بدون JAR، قد يواجه تطبيقك أخطاء في وقت التشغيل مثل `ClassNotFoundException`، والتي قد تسبب في فشل أجزاء منه أو سلوك غير صحيح.

- **إذا لم يكن JAR مطلوبًا:**
  إذا لم يكن JAR مطلوبًا - ربما هو مرجع قديم من تكوين قديم أو اعتماد اختياري - فإن التحذير غير ضار ولن يؤثر على أداء تطبيقك. ومع ذلك، سيظل يملأ سجلاتك.

في النهاية، هذه التحذيرات مهمة إذا كان JAR المفقود حاسمًا لتطبيقك. عليك التحقيق لتحديد أهميته.

---

### هل ستؤثر على تشغيل التطبيق؟

تأثير هذه التحذيرات على تشغيل تطبيقك يعتمد على دور JAR المفقود:

- **نعم، إذا كان JAR مطلوبًا:**
  إذا حاول تطبيقك استخدام فئات أو موارد من `grpc-protobuf.jar` و كان مفقودًا، فستشاهد أخطاء في وقت التشغيل. هذا قد يمنع تطبيقك من العمل بشكل صحيح أو يسبب فشله بالكامل.

- **لا، إذا كان JAR غير ضروري:**
  إذا لم يكن JAR ضروريًا، فسيعمل تطبيقك بشكل جيد رغم التحذير. سيتم الاحتفاظ بالرسالة في السجلات كمرض.

لتأكيد، تحقق من سلوك تطبيقك وسجلاته بحثًا عن أخطاء خارج التحذير نفسه. إذا كان كل شيء يعمل كما هو متوقع، فقد لا يكون JAR حاسمًا.

---

### كيف يمكن إزالتها؟

لإزالة التحذير، عليك إما التأكد من أن JAR يتم تضمينه بشكل صحيح في تطبيقك أو إزالة المرجع غير الضروري إليه. إليك طريقة خطوة بخطوة:

1. **تحقق من أن JAR مطلوب:**
   - مراجعة وثائق تطبيقك، أو المصدر، أو قائمة الاعتماد (مثل `pom.xml` إذا كنت تستخدم Maven) لتحديد ما إذا كان `grpc-protobuf.jar` مطلوبًا.
   - إذا لم يكن مطلوبًا، انتقل إلى الخطوة 3 لإزالة المرجع. إذا كان مطلوبًا، استمر إلى الخطوة 2.

2. **إصلاح التعبئة (إذا كان JAR مطلوبًا):**
   - تأكد من أن `grpc-protobuf.jar` يتم تضمينه في الموقع الصحيح داخل حزمة تطبيقك:
     - **لملف WAR:** ضعه في دليل `WEB-INF/lib`.
     - **لملف EAR:** ضعه في الجذر من EAR أو دليل المكتبة المخصص (مثل `lib/`).
   - أعيد بناء وتحديث تطبيقك لتأكيد أن JAR يتم العثور عليه الآن من قبل WebSphere Liberty.
   - تحقق من `console.log` لمعرفة ما إذا كان التحذير قد اختفى.

3. **تحديث الفهرس (إذا لم يكن JAR مطلوبًا):**
   - افتح ملف `MANIFEST.MF` في EAR أو WAR، الموجود في دليل `META-INF/`.
   - ابحث عن السمة `Class-Path`، والتي قد تبدو مثل هذا:
     ```
     Class-Path: grpc-protobuf.jar some-other-lib.jar
     ```
   - قم بإزالة المرجع إلى `grpc-protobuf.jar` حتى لا يظهر في القائمة.
   - احفظ الملف، أعيد بناء تطبيقك، واعيد نشره. يجب أن لا يظهر التحذير مرة أخرى.

4. **تحقق من تكوين مسار الفهرس:**
   - إذا استخدم تطبيقك مكتبات مشتركة أو محملات فئات مخصصة في WebSphere Liberty، تأكد من أن تكوين الخادم (مثل `server.xml`) يتضمن JARات اللازمة أو لا يشير بشكل خاطئ إلى `grpc-protobuf.jar`.
   - قم بتعديل التكوين إذا لزم الأمر وأعد تشغيل الخادم.

---

### نصائح عامة

- **تحقيق التحذيرات:** حتى إذا بدا أن التطبيق يعمل بشكل جيد، من الجيد فهم سبب التحذيرات لمنع المفاجآت لاحقًا.
- **اختبار بعد التغييرات:** بعد إضافة JAR أو تحديث الفهرس، اختبر تطبيقك بشكل شامل لضمان أن يعمل كما هو متوقع.
- **احتفظ بالسجلات نظيفة:** حل التحذيرات غير الضرورية يحافظ على نظافة سجلاتك، مما يجعل من السهل اكتشاف المشاكل الحقيقية في المستقبل.

بمتابعة هذه الخطوات، يمكنك تحديد ما إذا كان تحذير `grpc-protobuf.jar` حاسمًا، معالجة أي تأثير محتمل في وقت التشغيل، وإزالة التحذير من `console.log` في WebSphere Liberty.

---

عندما تنفذ `mvn package` لبناء ملف EAR وتواجه تحذيرات عن JARات مفقودة (مثل `grpc-protobuf.jar`) في مسار الفهرس الفهرسي، فمن غير المحتمل أن يكون المشكلة ناتجة عن عدم وجود حجج سطر الأوامر. أمر `mvn package` نفسه كافي لتفعيل دورة حياة بناء Maven حتى المرحلة `package`، والتي تشمل التجميع، الاختبار، والتعبئة لملف EAR. ومع ذلك، يشير التحذير إلى مشكلة في تكوين مشروع Maven وليس في الأمر أو حججه. دعنا نكشف هذا خطوة بخطوة.

---

### ما معنى التحذير؟

يشير التحذير إلى أن ملف `MANIFEST.MF` في EAR يشير إلى `grpc-protobuf.jar` في السمة `Class-Path`، ولكن هذا JAR لا يمكن العثور عليه في الموقع المتوقع داخل EAR (مثل دليل `lib/`). السمة `Class-Path` تدرج JARات التي يحتاجها تطبيقك في وقت التشغيل، ويمكن أن يؤدي غياب JAR إلى أخطاء في وقت التشغيل مثل `ClassNotFoundException`.

---

### هل يتعلق بالحجج المفقودة؟

لا، لا تحتاج إلى حجج إضافية مع `mvn package` لحل هذا التحذير. يعتمد Maven على ملفات `pom.xml` لمشروعك واعدادات الإضافات (مثل `maven-ear-plugin`) لتحديد ما يتم تضمينه في EAR وكيف يتم إنشاء الفهرس. إضافة حجج مثل `-DskipTests` أو `-U` قد تغير عملية البناء، ولكن لن تعالج هذا التحذير مباشرة. السبب الجذر هو في إعداد مشروعك وليس في الأمر نفسه.

---

### أسباب شائعة للتحذير

هنا الأسباب المحتملة للتحذير:

1. **عدم إعلان الاعتماد**
   إذا كان `grpc-protobuf.jar` مطلوبًا من قبل تطبيقك، فقد لا يكون معلنًا كاعتماد في ملف `pom.xml` لمودول EAR أو مودولاته الفرعية (مثل WAR أو JAR).

2. **نطاق الاعتماد غير صحيح**
   إذا كان `grpc-protobuf.jar` معلنًا بنطاق مثل `provided`، فإن Maven يفترض أنه يتم توفيره من قبل البيئة في وقت التشغيل (مثل WebSphere Liberty) ولن يتم تضمينه في EAR.

3. **دخول غير مرغوب فيه في الفهرس**
   قد يكون `maven-ear-plugin` مكوّنًا لإضافة `grpc-protobuf.jar` إلى `Class-Path` في الفهرس، حتى لو لم يتم تضمينه في EAR.

4. **مشكلة الاعتماد الانتقالي**
   قد يكون JAR اعتمادًا انتقاليًا (اعتمادًا على اعتماد آخر) يتم إقصاؤه أو عدم تضمينه بشكل صحيح في EAR.

---

### كيف يمكن التحقيق

لإيجاد المشكلة، حاول هذه الخطوات:

1. **تحقق من ملف الفهرس**
   بعد تنفيذ `mvn package`، افتح EAR المولد واطلع على `META-INF/MANIFEST.MF`. تحقق من أن `grpc-protobuf.jar` مدرج في `Class-Path`. هذا يثبت ما إذا كان التحذير يتطابق مع محتوى الفهرس.

2. **مراجعة `pom.xml` لملف EAR**
   اطلع على تكوين `maven-ear-plugin`. على سبيل المثال:
   ```xml
   <plugin>
       <groupId>org.apache.maven.plugins</groupId>
       <artifactId>maven-ear-plugin</artifactId>
       <version>3.2.0</version>
       <configuration>
           <version>7</version> <!-- مطابقة لنسخة Java EE -->
           <defaultLibBundleDir>lib</defaultLibBundleDir>
       </configuration>
   </plugin>
   ```
   تأكد من أنه مكوّن لإضافة الاعتمادات في دليل `lib/` (أو أين يجب أن تكون JARاتك).

3. **فحص الاعتمادات**
   نفذ `mvn dependency:tree` على مودول EAR لمعرفة ما إذا كان `grpc-protobuf.jar` يظهر. إذا كان مفقودًا، فهو غير معلن في أي مكان في شجرة الاعتماد.

4. **البحث في المودول الفرعية**
   إذا كان EAR يحتوي على WARs أو JARs، تحقق من ملفات `pom.xml` لهم بحثًا عن الاعتماد على `grpc-protobuf.jar`.

---

### كيف يمكن إصلاحه

بناءً على ما تجد، قم بتطبيق أحد هذه الحلول:

1. **إذا كان JAR مطلوبًا**
   أضف `grpc-protobuf.jar` كاعتماد في `pom.xml` لمودول EAR:
   ```xml
   <dependency>
       <groupId>io.grpc</groupId>
       <artifactId>grpc-protobuf</artifactId>
       <version>1.39.0</version> <!-- استخدم النسخة الصحيحة -->
   </dependency>
   ```
   تأكد من أن `maven-ear-plugin` يضمه في EAR (على سبيل المثال، في دليل `lib/`).

2. **إذا كان النطاق غير صحيح**
   إذا كان معلنًا ك`<scope>provided</scope>` ولكن يحتاج إلى التعبئة، قم بتغييره إلى `<scope>compile</scope>` (النطاق الافتراضي).

3. **إذا لم يكن JAR مطلوبًا**
   إذا لم يكن `grpc-protobuf.jar` يجب أن يكون في الفهرس، تحقق من التكوين الفهرسي المخصص في `maven-ear-plugin`:
   ```xml
   <configuration>
       <manifestFile>META-INF/MANIFEST.MF</manifestFile>
   </configuration>
   ```
   قم بإزالة أي مدخلات يدوية لـ `grpc-protobuf.jar`، أو دع Maven يخلق الفهرس تلقائيًا.

4. **تعامل مع الاعتمادات الانتقالية**
   إذا كان اعتمادًا انتقاليًا لا تحتاج إليه، قم بإقصائه:
   ```xml
   <dependency>
       <groupId>some.group</groupId>
       <artifactId>some-artifact</artifactId>
       <exclusions>
           <exclusion>
               <groupId>io.grpc</groupId>
               <artifactId>grpc-protobuf</artifactId>
           </exclusion>
       </exclusions>
   </dependency>
   ```

5. **إعادة البناء والتحقق**
   نفذ `mvn clean package` لإعادة بناء EAR، ثم تحقق من ملف EAR المولد لضمان اختفاء التحذير وتأكيد أن الهيكل صحيح.

---

### الخاتمة

أمر `mvn package` نفسه لا يحتاج إلى حجج إضافية لحل هذا التحذير. بدلاً من ذلك، المشكلة هي احتمالًا ناتجة عن خطأ في تكوين `pom.xml` أو `maven-ear-plugin`. من خلال التأكد من أن `grpc-protobuf.jar` يتم تضمينه بشكل صحيح (إذا كان مطلوبًا) أو إزالته من الفهرس (إذا لم يكن مطلوبًا)، يمكنك إزالة التحذير. ابدأ بالتحقق من الفهرس و الاعتمادات، ثم قم بتعديل التكوين وفقًا لذلك. هذا يجب أن يحل المشكلة دون تغيير أمر البناء.