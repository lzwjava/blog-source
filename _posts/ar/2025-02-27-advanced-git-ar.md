---
audio: false
generated: true
lang: ar
layout: post
title: أوامر متقدمة في جيت
translated: true
---

Git مثل سكين الجيش السويسري للمطورين - متعدد الاستخدامات، قوي، ومزعج أحيانًا إذا لم تعرف أي أداة يجب سحبها. اليوم، سنغوص في بعض أفضل ميزات Git وعملياتها: اختيار التغييرات، دمج مع نمط، إعادة التسلسل الزمني لتاريخ نظيف، حذف تلك الملفات الكبيرة المزعجة التي قمت بتسجيلها بشكل غير مقصود، وإلغاء تسجيل التغييرات عندما تكتشف أنك قد خرجت عن المسار. دعونا نحلل ذلك.

#### اختيار التغييرات: أخذ ما تحتاج إليه فقط
تصور أنك لديك فرع خاص بالخصائص يحتوي على عشرون تسجيلًا، ولكن هناك تسجيلًا واحدًا رائعًا فيه تريد أن تخرجه وتطبقه على فرعك الرئيسي - دون جلب الباقي. هذا هو المكان الذي يأتي فيه `git cherry-pick`.

إنه بسيط للغاية: ايجاد رقم تسجيل (يمكنك الحصول عليه من `git log`), الانتقال إلى الفرع الذي تريده، و تشغيل:
```
git cherry-pick <commit-hash>
```
بوم، الآن هذا التسجيل جزء من فرعك الحالي. إذا كان هناك تعارض، سيوقف Git ويسمح لك بحل المشكلة، مثل دمج. بعد أن تكون سعيدًا، قم بتسجيل التغييرات، وسوف تكون على ما يرام.

أستخدم هذا دائمًا عندما يتسلل إصلاح خطأ إلى فرع خاص بالخصائص مشوش، وأحتاج إليه على `main` بأسرع وقت ممكن. فقط كن حذرًا - اختيار التغييرات يكرر التسجيل، لذا يحصل على رقم جديد. لا تتوقع أن يلعب جيدًا إذا دمجت الفرع الأصلي لاحقًا دون بعض التنظيف.

#### خيارات الدمج: أكثر من مجرد "دمج"
دمج هو خبز وجبن Git، ولكن هل تعلم أنه يأتي بألوان؟ `git merge` الافتراضي يقوم ب "التقدم السريع" إذا كان ذلك ممكنًا (تسوية التاريخ) أو إنشاء تسجيل دمج إذا انقسم الفرعان. ولكن لديك خيارات:

- **`--no-ff` (بدون تقدم سريع)**: يجبر على إنشاء تسجيل دمج حتى إذا كان التقدم السريع ممكنًا. أحب هذا لحفظ سجل واضح عندما وصل فرع خاص بالخصائص إلى `main`. قم بتشغيله مثل:
  ```
  git merge --no-ff feature-branch
  ```
- **`--squash`**: يجذب جميع التغييرات من الفرع إلى تسجيل واحد على فرعك الحالي. لا يوجد تسجيل دمج، فقط حزمة واحدة نظيفة. مثالي لتسوية فرع مشوش إلى شيء قابل للعرض:
  ```
  git merge --squash feature-branch
  ```
  بعد ذلك، ستحتاج إلى تسجيل يدويًا لتختم الصفقة.

للكل مكان. أنا أفضّل `--no-ff` لأفرع طويلة العمر و `--squash` عندما لدي فرع مليء بـ "WIP" التسجيلات التي أود أن أنساها.

#### إعادة التسلسل الزمني: إعادة كتابة التاريخ مثل محترف
إذا شعرت أن الدمج مشوش، فقد يكون `git rebase` هو أسلوبك. يأخذ التسجيلات الخاصة بك ويعيد تشغيلها على فرع آخر، مما يمنحك تاريخًا خطيًا يبدو وكأنه خططت له من البداية.

انتقل إلى فرع خاص بالخصائص و قم بتشغيل:
```
git rebase main
```
سيرفع Git التسجيلات الخاصة بك، ويحديث الفرع لتطابق `main`، ويضع التغييرات الخاصة بك مرة أخرى. إذا ظهر تعارض، حلها، ثم `git rebase --continue` حتى ينتهي.

الجانب الإيجابي؟ جدول زمني نظيف. الجانب السلبي؟ إذا قمت بالفعل بتسجيل ذلك الفرع و كان آخرون يعملون عليه، فإن إعادة التسلسل الزمني تكتب التاريخ - دعوا بالرسائل الغاضبة من زملائك. أظل على إعادة التسلسل الزمني لأفرع محلية أو مشاريع فردية. بالنسبة للأشياء المشتركة، فإن الدمج أكثر أمانًا.

#### حذف الملفات الكبيرة من التاريخ: أوه، ذلك الفيديو 2GB
لقد كنا جميعًا هناك: قمت بتسجيل ملف ضخم بشكل غير مقصود، قمت بتسجيله، والآن تم توسيع مستودعك. Git لا ينسى بسهولة، ولكن يمكنك مسح ذلك الملف من التاريخ مع بعض الجهد.

أداة الذهاب هنا هي `git filter-branch` أو `git filter-repo` الأحدث (أوصي بالآخر - أسرع وأقل عرضة للخطأ). افترض أنك سجلت `bigfile.zip` و تحتاج إلى إزالته:
1. قم بتثبيت `git-filter-repo` (تحقق من وثائقه للتثبيت).
2. قم بتشغيل:
   ```
   git filter-repo --path bigfile.zip --invert-paths
   ```
   هذا يبعد `bigfile.zip` من كل تسجيل في التاريخ.
3. قم بتسجيل التاريخ المكتوب مرة أخرى:
   ```
   git push --force
   ```

تذكير: هذا يكتب التاريخ، لذا اتفق مع فريقك. وإذا كان في طلب سحب في مكان ما، قد تحتاج إلى تنظيف المراجع أيضًا. بعد أن يكون قد ذهب، سيصغر مستودعك بعد جمع النفايات (`git gc`).

#### إلغاء التسجيل: إعادة ضبط الساعة
قمت بتسجيل التغييرات و instantly ندمت عليه؟ Git لديه ظهرك. هناك بعض الطرق لإلغاء ذلك، اعتمادًا على مدى تقدمك:

- **إذا لم تقم بتسجيله بعد**: استخدم `git reset`. لإلغاء آخر تسجيل ولكن الحفاظ على التغييرات في مجلد العمل الخاص بك:
  ```
  git reset HEAD^ --soft
  ```
  تريد التخلص من التغييرات بالكامل؟
  ```
  git reset HEAD^ --hard
  ```
- **إذا قمت بالفعل بتسجيله**: ستحتاج إلى إعادة كتابة التاريخ. قم بإعادة ضبطه محليًا مع `git reset HEAD^`, ثم قم بتسجيله مرة أخرى:
  ```
  git push --force
  ```
  مرة أخرى، هذا يزعج بالتاريخ المشترك، لذا كن حذرًا.

أنجيت نفسي مع `git reset --soft` أكثر من مرة يمكنني حسابها - مثالي عندما تسجل مبكرًا و تحتاج إلى تعديل شيء.

#### الخاتمة

مرونة Git هي ما يجعلها قوية، ولكن من السهل أن تتعقد إذا لم تعرف خياراتك. اختر التغييرات للدقة الجراحية، قم بتعديل الدمج لتناسب عملية العمل الخاصة بك، قم بإعادة التسلسل الزمني لتاريخ ملمع، و لا تزعج عندما تحتاج إلى مسح خطأ - سواء كان ملفًا كبيرًا أو تسجيلًا سريعًا. امارس هذه على مستودع اختبار إذا كنت قلقًا، وسوف تصبح مثل الثانية الطبيعية.

ما هو أفضل حيلة Git لديك؟ أخبرني - أنا دائمًا مستعدًا للتعلم شيئًا جديدًا!