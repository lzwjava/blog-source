---
audio: false
generated: true
lang: ar
layout: post
title: مدير بيانات اعتماد Git للتشخيص
translated: true
type: note
---

الآن يُظهر إخراج `git credential-manager diagnose` بوضوح **فشل في الشبكة**، بالإضافة إلى تحذير التحقق من شهادة TLS. دعنا نحلل الخطأ وكيفية إصلاحه:

**النتائج الرئيسية:**

*   **فشل في الشبكة:**
    * فشل اختبار التشخيص بالخطأ: `System.Net.Http.HttpRequestException: nodename nor servname provided, or not known (example.com:443)`.
    * يعني هذا الخطأ أن Git Credential Manager لم يتمكن من حل اسم المضيف `example.com` إلى عنوان IP، أو لم يتمكن من الاتصال بالمنفذ 443 على ذلك المضيف.
    * يُظهر سجل التشخيص أن طلب HEAD إلى `https://example.com` فشل.
*   **تدخل الوكيل (السبب المحتمل):**
    * وجود `HTTP_PROXY: http://127.0.0.1:7890` و `HTTPS_PROXY: http://127.0.0.1:7890` يشير بقوة إلى أن الوكيل هو السبب الجذري لفشل الشبكة.
    * حقيقة أن أداة التشخيص يمكنها الوصول إلى [http://httpforever.com](http://httpforever.com)، ولكن ليس إلى [https://example.com](https://example.com)، تشير إلى أن الوكيل يواجه مشاكل في طلبات https.
*   **تم تعطيل التحقق من شهادة TLS (مخاطرة أمنية):**
    * كما كان من قبل، تم تعطيل التحقق من شهادة TLS، وهو ما يمثل مصدر قلق أمني كبير.

**خطوات استكشاف الأخطاء وإصلاحها:**

1.  **التحقق من الوكيل:**
    * **اختبر الوكيل:** افتح متصفح الويب وحاول الوصول إلى `https://example.com` مباشرة. إذا واجهت خطأ "لا يمكن الاتصال" أو "لم يتم العثور على اسم المضيف"، فمن المرجح أن إعدادات الوكيل الخاصة بك غير صحيحة.
    * **مشاكل في برنامج الوكيل:**
        * أعد تشغيل برنامج الوكيل الخاص بك (Shadowsocks, Clash، إلخ).
        * تحقق من سجلات برنامج الوكيل للعثور على رسائل الخطأ.
        * تأكد من أن الوكيل مُهيأ لمعالجة حركة مرور HTTPS بشكل صحيح.
        * تأكد من أن برنامج الوكيل قيد التشغيل.
    * **إعدادات الوكيل:**
        * راجع إعدادات الوكيل في تفضيلات الشبكة بنظام التشغيل وفي أي ملفات تكوين Git.
        * تحقق من أن عنوان الوكيل (`127.0.0.1`) والمنفذ (`7890`) صحيحان.
        * عطل الوكيل مؤقتًا في إعدادات الشبكة بنظام التشغيل، وأعد تشغيل `git credential-manager diagnose`.
2.  **حل DNS:**
    * على الرغم من أن رسالة الخطأ تشير إلى مشكلة في حل اسم المضيف، إلا أن الوكيل هو المرجح على الأرجح. ومع ذلك، لا يزال من المفيد التحقق من إعدادات DNS الخاصة بك.
    * جرب استخدام خادم DNS عام (مثل 8.8.8.8، 1.1.1.1).
3.  **التحقق من شهادة TLS:**
    * **أعد تمكين التحقق من الشهادة:** هذا أمر بالغ الأهمية للأمان. اتبع التعليمات المقدمة في الرابط `https://aka.ms/gcm/tlsverify`.
    * إذا كان برنامج الوكيل الخاص بك مصممًا لاعتراض حركة مرور HTTPS، فتأكد من تثبيت شهادة الجذر للوكيل في مخزن شهادات الجذر الموثوقة بنظام التشغيل. هذه هي الطريقة الآمنة للسماح للوكيل بالعمل.
4.  **تكوين Git:**
    * قم بتشغيل `git config --global --list` لفحص تكوين Git الخاص بك.
    * قم بإزالة إعدادات الوكيل مؤقتًا من Git لعزل المشكلة:
        ```bash
        git config --global --unset http.proxy
        git config --global --unset https.proxy
        ```
    * بعد إزالة إعدادات الوكيل، أعد تشغيل أمر `git credential-manager diagnose`.
5.  **جدار الحماية:**
    * عطل أي جدران حماية على جهازك مؤقتًا، لاستبعاد أي تدخلات من جدار الحماية.
6.  **اتصال الشبكة:**
    * اختبر اتصال الشبكة باستخدام تطبيقات شبكية أخرى، للتأكد من أن الشبكة نفسها مستقرة.
    * إذا كنت تستخدم نقطة اتصال متنقلة، فانتقل إلى موقع به قوة إشارة أفضل.

**الاستنتاج الرئيسي:** الوكيل هو الذي يتسبب بالتأكيد في أعطال الشبكة. إن التهيئة الصحيحة للوكيل وإعادة تمكين التحقق من شهادة TLS هي أهم الخطوات.