---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-code-fast-1
title: إصلاح مشاكل تشغيل محطة جنوم
translated: true
type: note
---

### استكشاف مشاكل عدم فتح GNOME Terminal في Ubuntu 22.04

تتعلق المشكلة بشكل محدد بتعطل تطبيق GNOME Terminal (محاكي الطرفية الافتراضي) عند شريط التقدم أو المؤشر أثناء بدء التشغيل، بينما تعمل التطبيقات الرسومية الأخرى (مثل الإعدادات) والطرفيات المدمجة (مثل تلك في VSCode) بشكل طبيعي. يشير هذا غالبًا إلى مشكلة في التكوين، أو إعدادات تالفة، أو مشكلة في الاعتماد على مكونات GNOME، وليس إلى فشل على مستوى النظام بأكمله. أدناه، سأوضح كيفية التحقق من الأخطاء باستخدام سجل النظام (عبر أمر `journalctl`) والإصلاحات الشائعة. نظرًا لأن GNOME Terminal غير متاح، استخدم الطرفية المدمجة في VSCode للعمل عبر سطر الأوامر (افتح VSCode، ثم انتقل إلى View > Terminal).

### استخدام سجل النظام (journalctl) للتحقق من الأخطاء
"أمر journal" الذي تشير إليه هو على الأرجح `journalctl`، وهو جزء من systemd لعرض السجلات. فهو يساعد في تحديد ما يحدث عند محاولة تشغيل GNOME Terminal. إليك كيفية استخدامه خطوة بخطوة:

1.  **الوصول إلى طرفية عاملة**: استخدم طرفية VSCode (أو انتقل إلى وحدة تحكم افتراضية كما هو موضح أدناه).
2.  **تشغيل فحص السجل الأساسي**:
    *   عرض جميع السجلات الحديثة: `sudo journalctl -b` (يعرض هذا السجلات من آخر إقلاع؛ أضف `-n 50` للحد إلى آخر 50 سطر).
    *   البحث عن أخطاء متعلقة بالطرفية: `sudo journalctl -b | grep -i terminal` (يبحث عن أي ذكر لكلمة "terminal" في السجلات).
    *   ابحث عن أخطاء محددة مثل "failed to launch" أو مشاكل الملف الشخصي. قد تتضمن المخرجات الشائعة رفض أذونات أو فشل في تهيئة GTK/GNOME.
3.  **التصفية حسب الخدمة**: إذا كان لـ GNOME Terminal ملفات وحدة محددة، فتحقق من `journalctl -u gnome-terminal-server` أو السجلات العامة لـ gnome باستخدام `sudo journalctl | grep gnome`.
4.  **لتحليل أعمق**: إذا ذكرت الأخطاء ملفات تكوين (مثل `~/.bashrc` أو `~/.profile`)، فافحصها باستخدام `cat ~/.bashrc`. إذا أظهرت السجلات عملية متعطلة، ف或قفها باستخدام `pkill -f gnome-terminal`.

إذا لاحظت أخطاء متكررة (مثل تلف ملف تعريف "org.gnome.Terminal")، فقم بتدوينها للإصلاحات المحددة أدناه.

### الإصلاحات المحتملة
استنادًا إلى التقارير الشائعة من منتديات Ubuntu وأدلة استكشاف الأخطاء وإصلاحها[1][2]， جرب هذه الخطوات بالترتيب، وأعد تشغيل جلستك (اخرج من النظام/ادخل أو أعد التشغيل) بعد كل خطوة. ابدأ بالخطوات غير التدميرية.

1.  **استخدم وحدة تحكم افتراضية (TTY) للوصول في حالات الطوارئ**:
    *   اضغط على `Ctrl + Alt + F3` (أو F4، F5، إلخ) للتبديل إلى تسجيل دخول نصي. أدخل اسم المستخدم/كلمة المرور الخاصة بك.
    *   من هنا، لديك وصول كامل إلى سطر الأوامر دون تعارضات واجهة المستخدم الرسومية. مثال: قم بتشغيل `sudo apt update` أو أوامر الإصلاح.
    *   ارجع إلى واجهة المستخدم الرسومية باستخدام `Ctrl + Alt + F2` (عادة الشاشة الرئيسية).
      *ملاحظة*: إذا فشل هذا بسبب مشاكل في العرض، فقد يشير إلى مشاكل أعمق في GNOME[3].

2.  **حاول تشغيل GNOME Terminal يدويًا من طرفية VSCode**:
    *   في طرفية VSCode: اكتب `gnome-terminal` أو `/usr/bin/gnome-terminal` واضغط Enter.
    *   إذا فتح، كانت المشكلة مؤقتة (مثل نسخة عالقة). إذا ظهر خطأ، لاحظ الرسالة - من الرسائل الشائعة:
        *   "already running" (أوقفها قسريًا باستخدام `pkill -f gnome-terminal` ثم أعد المحاولة).
        *   أخطاء في التكوين (مثل ملف تعريف تالف - تابع لإعادة التعيين بعد ذلك).
    *   اختبر مع مخرجات تفصيلية: أضف `--verbose` (مثل `gnome-terminal --verbose` للحصول على معلومات التصحيح).

3.  **أعد ضبط إعدادات GNOME Terminal (الأكثر أمانًا إذا كانت المشكلة متعلقة بالتكوين)**:
    *   في طرفية VSCode: شغل `dconf reset -f /org/gnome/terminal/` لمسح جميع تفضيلات الطرفية (لن يؤثر على الملفات الشخصية إذا تم إعادة إنشائها).
    *   بدلاً من ذلك، مع الوصول إلى TTY: `sudo apt purge dconf-cli; sudo apt install dconf-cli` إذا لزم الأمر، ثم أعد المحاولة.
    *   هذا يصلح الإعدادات التالفة دون إعادة تثبيت الأشياء[1].

4.  **أعد تثبيت GNOME Terminal والحزم المرتبطة به**:
    *   في طرفية VSCode أو TTY: حدّث المصادر ثم أعد التثبيت:
      `sudo apt update && sudo apt install --reinstall gnome-terminal`.
    *   لمشاكل GNOME الأوسع (نظرًا لأن الإعدادات تعمل ولكن الطرفية لا تعمل)، حاول إعادة تثبيت سطح المكتب الأساسي:
      `sudo apt install --reinstall ubuntu-gnome-desktop gnome-control-center` (يمكن أن يصلح هذا التعارضات التابعة دون التأثير على بياناتك)[2][4].
    *   بعد إعادة التثبيت، اخرج من النظام ثم ادخل.

5.  **حدّث النظام وتحقق من تلف الحزم**:
    *   في طرفية VSCode أو TTY: شغل `sudo apt update && sudo apt upgrade` لإصلاح الحزم القديمة/المتعارضة.
    *   أصلح الحزم التالفة: `sudo dpkg --configure -a && sudo apt-get install -f`.
    *   إذا كانت المشكلة تتعلق بالتمرير أو تعطل واجهة المستخدم (غير مرجح هنا)، تأكد من عدم وجود تلف في dpkg[5].

6.  **إذا لم ينجح شيء: احفظ نسخة احتياطية وأعد تثبيت GNOME**:
    *   احفظ نسخة احتياطية من الملفات المهمة (مثل `cp -r ~/.config/backup`).
    *   احذف تمامًا وأعد التثبيت: `sudo apt purge gnome-terminal* && sudo apt autoremove`.
    *   ثم: `sudo apt install ubuntu-gnome-desktop`.
    *   كحل أخير، فكر في إجراء تثبيت جديد إذا تكرر الأمر.

### نصائح إضافية
*   **لماذا تعمل طرفية VSCode**: من المحتمل أنها تستخدم خلفية تقنية مختلفة (مثل وحدة التحكم المدمجة) غير مرتبطة بمحاكي الطرفية في GNOME.
*   **منع المشاكل المستقبلية**: بعد الإصلاح، تجنب التعديلات اليدوية على `/etc/environment` أو `~/.profile` دون حفظ نسخ احتياطية. استخدم `apt` للتثبيتات.
*   **إذا استمرت أعطال واجهة المستخدم الرسومية**: تحقق من الأجهزة (مثل الذاكرة العشوائية عبر `free -h`) أو شغل `sudo -i` في TTY لإجراء اختبارات متقدمة.
*   لم يتم توفير سجلات محددة، ولكن هذه الخطوات تعالج 80-90% من الحالات (مثل إعادة ضبط الملف الشخصي أو إعادة التثبيت). إذا تم مشاركة أخطاء محددة من `journalctl`، يمكنني تحسين هذا further[1][2]. إذا استمرت المشكلة، فكر في الإبلاغ عنها في منتديات Ask Ubuntu للإعدادات الدقيقة الخاصة بك.

المراجع:
[1] https://askubuntu.com/questions/1442350/terminal-not-launching-in-ubuntu-22-04
[2] https://www.reddit.com/r/Ubuntu/comments/1fedcnz/cannot_open_the_terminal/
[3] https://unix.stackexchange.com/questions/737169/ubuntu-fails-to-boot-due-to-gnome-display-manager-error
[4] https://stackoverflow.com/questions/74985183/settings-menu-missing-ubuntu-22-04
[5] https://superuser.com/questions/1331658/why-cant-i-scroll-in-the-terminal