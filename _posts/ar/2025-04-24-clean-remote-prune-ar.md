---
audio: false
generated: true
image: false
lang: ar
layout: post
title: تنظيف الفروع البعيدة باستخدام برون
translated: true
type: note
---

`git fetch --prune` هي طريقة للحفاظ على المراجع المحلية الخاصة بالفروع البعيدة نظيفة ومحدثة.

### ما الذي يفعله

* **`git fetch`** عادةً ما يقوم بتحديث النسخة المحلية لديك من الفروع البعيدة (مثل `origin/main`، `origin/feature-x`) دون المساس بالفروع المحلية الخاصة بك.
* مع مرور الوقت، قد يقوم المستودع البعيد بحذف أو إعادة تسمية بعض الفروع. بدون التنظيف، سيظل مستودعك المحلي يعرض تلك الفروع القديمة التي تتبع المستودع البعيد (مثل `origin/feature-old`).
* **إضافة `--prune`** تخبر Git: *"إذا كان المستودع البعيد لم يعد يحتوي على فرع، فاحذف المرجع المحلي المطابق الذي أتتبعه."*

لذا، بعد تشغيل `git fetch --prune`، ستتطابق القائمة المحلية للفروع البعيدة تمامًا مع ما يحتويه المستودع البعيد حاليًا.

### مثال

1. المستودع البعيد يحتوي على الفروع: `main`، `feature-a`.
2. تقوم بتشغيل `git fetch` → أصبح لديك الآن `origin/main`، `origin/feature-a`.
3. شخص ما يحذف `feature-a` على المستودع البعيد.
4. إذا قمت بتشغيل `git fetch`، فستظل ترى `origin/feature-a` محليًا (مرجع قديم).
5. إذا قمت بتشغيل `git fetch --prune`، سيلاحظ Git أن `feature-a` لم يعد موجودًا وسيزيل `origin/feature-a` من مستودعك المحلي.

### لماذا هو مفيد

* يحافظ على نظافة قائمة الفروع البعيدة `git branch -r`.
* يتجنب الارتباك عند التبديل أو الدمج في فروع لم تعد موجودة في المصدر الأساسي upstream.
* غالبًا ما يتم استخدامه مع الأسماء المستعارة (مثل `git fetch -p`) أو تعيينه كإعداد افتراضي باستخدام:

  ```bash
  git config fetch.prune true
  ```

بهذه الطريقة، كل `git fetch` سيقوم تلقائيًا بإزالة الفروع القديمة.

---

هل تريد مني أيضًا أن أشرح كيف **يؤثر التنظيف على الوسوم tags** (بما أن `git fetch --prune` يتعامل فقط مع الفروع افتراضيًا، لكن الوسوم تتصرف بشكل مختلف)؟