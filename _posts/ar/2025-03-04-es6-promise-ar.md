---
audio: false
generated: true
lang: ar
layout: post
title: وعودات نمط ES6
translated: true
---

### النقاط الرئيسية
- لاستخدام حزمة `es6-promise` في npm، قم أولاً بتثبيتها باستخدام `npm install es6-promise`.
- يمكنك بعد ذلك استدعائها في كود JavaScript الخاص بك لاستخدام فئة Promise محليًا أو لتوفير التكميل العالمي Promise من أجل التوافق الواسع.
- تشير الأبحاث إلى أن البيئات الحديثة تدعم الوعدات الأصلية، لذلك هذه الحزمة أساسًا للأنظمة القديمة أو الاحتياجات الخاصة.

### التثبيت
ابدأ بتثبيت الحزمة باستخدام npm في دليل مشروعك:
- قم بتشغيل الأمر: `npm install es6-promise`.

### الاستخدام
لديك خياران رئيسيان لاستخدام الحزمة:

#### الاستخدام المحلي
إذا كنت تريد استخدام فئة Promise داخل كودك دون تأثير النطاق العالمي:
- استدعِ الحزمة واستخدمها كما يلي:
  ```javascript
  const Promise = require('es6-promise').Promise;
  // ثم استخدم Promise حسب الحاجة، مثل new Promise((resolve, reject) => {...});
  ```

#### التكميل العالمي
لضمان أن Promise العالمي يتم تعيينه إلى تنفيذ `es6-promise`، خاصة في البيئات القديمة:
- استخدم طريقة التكميل:
  ```javascript
  require('es6-promise').polyfill();
  // الآن، سيتم استخدام تنفيذ es6-promise من قبل Promise العالمي.
  ```
- أو بشكل تلقائي للتكميل، يمكنك القيام بذلك:
  ```javascript
  require('es6-promise/auto');
  ```

### التفاصيل غير المتوقعة
لاحظ أن `es6-promise` لم يتم تحديثها منذ أكثر من ستة سنوات، وهذا قد يثير مخاوف بشأن الأمن والتوافق مع الميزات الجديدة في JavaScript، على الرغم من أنها تبقى وظيفية لأغراضها المقصودة.

---

### ملاحظة الاستطلاع: استكشاف مفصل لاستخدام حزمة `es6-promise` في npm

يقدم هذا القسم نظرة شاملة لاستخدام حزمة `es6-promise` داخل مشروع npm، ويوسع على الإجابة المباشرة مع سياق إضافي، تفاصيل فنية، واعتبارات للمطورين. يتم تنظيم المعلومات لتشبه مقالًا محترفًا، مما يضمن تضمين جميع التفاصيل ذات الصلة من التحليل، مع الجداول لتوضيحها حيثما لزم.

#### مقدمة حزمة `es6-promise`
حزمة `es6-promise` هي مكتبة خفيفة مصممة كتمثيل لوعود ES6، وتوفر أدوات لتنظيم الكود المزامن. وهي مفيدة في البيئات التي لا تدعم وعدات ES6 الأصلية أو غير موثوقة، مثل المتصفحات القديمة أو إصدارات Node.js القديمة. مع أن آخر تحديث لها كان في 2019، مع إصدار 4.2.8 الأخير الذي تم نشره منذ ستة سنوات اعتبارًا من 3 مارس 2025، فهي حل متقدم ولكنه ربما يكون أقل صيانة مقارنة بالبدائل الحديثة.

#### عملية التثبيت
لدمج `es6-promise` في مشروعك، يتم التثبيت عبر npm بشكل بسيط. الأمر هو:
- `npm install es6-promise`

هذا يثبِت الحزمة في دليل `node_modules` الخاص بك ويحديث `package.json` الخاص بك بالاعتماد. بالنسبة لمن يستخدمون Yarn، هناك بديل هو `yarn add es6-promise`، ولكن npm هو التركيز هنا بناءً على استفسار المستخدم.

| طريقة التثبيت | الأمر                     |
|-----------------|-----------------------------|
| npm             | `npm install es6-promise`   |
| Yarn            | `yarn add es6-promise`      |

تم تبني الحزمة على نطاق واسع، مع 5,528 مشروعًا آخر في سجل npm يستخدمها، مما يشير إلى أهميتها في الحالات القديمة أو الخاصة.

#### الاستخدام في JavaScript
بعد التثبيت، يمكن استخدام `es6-promise` بطريقتين رئيسيتين: محليًا داخل كودك أو كتمثيل عالمي. يعتمد الاختيار على احتياجات مشروعك، وخاصة ما إذا كنت تحتاج إلى ضمان التوافق عبر بيئات مختلفة.

##### الاستخدام المحلي
لاستخدام محلي، تستدعي الحزمة وتستدعي فئة Promise مباشرة. الصيغة هي:
- `const Promise = require('es6-promise').Promise;`

هذا يسمح لك باستخدام فئة Promise داخل كودك دون تعديل النطاق العالمي. على سبيل المثال:
```javascript
const Promise = require('es6-promise').Promise;
const myPromise = new Promise((resolve, reject) => {
  resolve('Success!');
});
myPromise.then(result => console.log(result)); // يخرج: Success!
```

هذا النهج مناسب إذا كان مشروعك يدعم وعدات أصلية ولكن تريد استخدام `es6-promise` لأغراض معينة أو للتوافق.

##### التكميل العالمي
لتمثيل البيئة العالمية، لضمان أن جميع استخدامات Promise في مشروعك تستخدم تنفيذ `es6-promise`، يمكنك استدعاء طريقة التكميل:
- `require('es6-promise').polyfill();`

هذا يحدد Promise العالمي إلى تنفيذ `es6-promise`، وهو مفيد في البيئات القديمة مثل IE<9 أو إصدارات Node.js القديمة حيث قد تكون وعدات أصلية مفقودة أو مكسورة. أو بشكل تلقائي للتكميل، يمكنك استخدام:
- `require('es6-promise/auto');`

النسخة "auto"، مع حجم ملف 27.78 KB (7.3 KB مضغوطًا)، توفر أو تتبديل Promise إذا كانت مفقودة أو مكسورة، مما يسهل الإعداد. على سبيل المثال:
```javascript
require('es6-promise/auto');
// الآن، يتم تمثيل Promise العالمي، ويمكنك استخدام new Promise(...) في أي مكان في كودك.
```

##### الاستخدام في المتصفح
على الرغم من أن استفسار المستخدم يركز على npm، فمن الجيد الإشارة إلى أن في بيئات المتصفح، يمكنك تضمين `es6-promise` عبر CDN، مثل:
- `<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.js"></script>`
- هناك أيضًا نسخ مضغوطة مثل `es6-promise.min.js` متاحة للإنتاج.

لكن مع التركيز على npm، يبقى التركيز على استخدام Node.js.

#### التوافق والاعتبارات
الحزمة هي جزء من rsvp.js، تم استخراجها بواسطة @jakearchibald، وتصمم لتقليد سلوك وعدات ES6. ولكن هناك ملاحظات توافق يجب مراعاتها:
- في IE<9، `catch` و `finally` هي كلمات محجوزة، مما يسبب أخطاء في الصياغة. يمكن حل ذلك باستخدام صيغة النص، مثل `promise['catch'](function(err) { ... });`، ولكن معظم المدمجين يحلون ذلك تلقائيًا.
- مع أن آخر تحديث لها كان في 2019، يجب على المطورين تقييم ما إذا كان `es6-promise` يفي بالحاجات الحالية للأمن والتوافق، خاصة في مشاريع تستهدف بيئات JavaScript الحديثة حيث تدعم وعدات أصلية.

تحليل صحة حزمة npm يشير إلى أنها تتلقى أكثر من 9.5 مليون تحميل أسبوعيًا وتعتبر مشروعًا أساسيًا في النظام البيئي، مع 7,290 نجمًا على GitHub، مما يشير إلى مجتمع قوي تاريخيًا. ولكن مع عدم وجود إصدارات جديدة في 12 شهرًا الماضية، قد يُنظر إليها على أنها مشروع متوقف، على الرغم من أن الصيانة تُعتبر مستدامة بناءً على نشاط المستودع.

#### TypeScript والموارد الإضافية
للمستخدمين TypeScript، على الرغم من عدم ذكر ذلك في الاستفسار، لاحظ أن تعريفات الأنواع متاحة عبر `@types/es6-promise`، يمكن تثبيتها باستخدام `npm i @types/es6-promise`. هذه حزمة رمزية، حيث توفر `es6-promise` أنواعها الخاصة، ولكن مفيدة لضمان الأمان النوعي.

للمزيد من المعلومات حول الوعدات، يوصي الوثائق بالمقال [JavaScript Promises HTML5Rocks](http://www.html5rocks.com/en/tutorials/es6/promises/)، الذي يوفر استخدام API التفصيلي والنماذج.

#### الأخطاء المحتملة وحوارات المجتمع
قد يواجه بعض المستخدمون مشاكل في التثبيت، مثل أخطاء 404، خاصة في الأنظمة القديمة أو إذا كانت الاعتماديات غير مهيأة بشكل صحيح. على سبيل المثال، يمكن حل هذه المشاكل من خلال مسح `node_modules` وإعادة التثبيت، كما هو موضح في حوارات المجتمع. بالإضافة إلى ذلك، تأكد من أن إصدار Node.js يدعم استدعاءات CommonJS، بناءً على بنية الحزمة.

#### الخاتمة
في الختام، `es6-promise` هي أداة قيمة لضمان التوافق مع وعدات ES6 في مشاريع npm، خاصة في البيئات القديمة. التثبيت بسيط باستخدام `npm install es6-promise`، واستخدامه يمكن أن يكون محليًا باستخدام `require('es6-promise').Promise` أو عالميًا باستخدام `require('es6-promise').polyfill()` أو `require('es6-promise/auto')`. مع عمرها، قم بتقييم ملاءمتها لحاجات مشروعك، خاصة في سياق JavaScript الحديث حيث تكون وعدات أصلية هي المعيار.

#### المراجع الرئيسية
- [تفاصيل حزمة es6-promise npm](https://www.npmjs.com/package/es6-promise)
- [مستودع es6-promise GitHub](https://github.com/stefanpenner/es6-promise)