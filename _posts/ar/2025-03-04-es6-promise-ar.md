---
audio: false
generated: true
lang: ar
layout: post
title: وعود نمط ES6
translated: true
type: note
---

### النقاط الرئيسية
- لاستخدام حزمة `es6-promise` في npm، قم أولاً بتثبيتها باستخدام `npm install es6-promise`.
- بعد ذلك، يمكنك طلبها في كود JavaScript الخاص بك لاستخدام فئة Promise محليًا أو لملء فئة Promise العامة لتحقيق توافق أوسع.
- تشير الأبحاث إلى أن البيئات الحديثة تدعم وعود JavaScript الأصلية، لذا فإن هذه الحزمة مخصصة بشكل أساسي للأنظمة القديمة أو للاحتياجات المحددة.

### التثبيت
ابدأ بتثبيت الحزمة باستخدام npm في دليل المشروع الخاص بك:
- نفّذ الأمر: `npm install es6-promise`.

### الاستخدام
لديك خياران رئيسيان لاستخدام الحزمة:

#### الاستخدام المحلي
إذا كنت تريد استخدام فئة Promise في كودك دون التأثير على النطاق العام:
- اطلب الحزمة واستخدمها كما يلي:
  ```javascript
  const Promise = require('es6-promise').Promise;
  // ثم استخدم Promise حسب الحاجة، مثال: new Promise((resolve, reject) => {...});
  ```

#### الملء الشامل (Polyfill) العام
لضبط كائن Promise العام لاستخدام تنفيذ `es6-promise`، خاصة في البيئات القديمة:
- استخدم طريقة polyfill:
  ```javascript
  require('es6-promise').polyfill();
  // الآن، سوف يستخدم كائن Promise العام تنفيذ es6-promise.
  ```
- بدلاً من ذلك، للملء التلقائي، يمكنك القيام بـ:
  ```javascript
  require('es6-promise/auto');
  ```

### تفصيل غير متوقع
لاحظ أن الحزمة `es6-promise` لم يتم تحديثها منذ أكثر من ست سنوات، مما قد يثير مخاوف بشأن الأمان والتوافق مع ميزات JavaScript الأحدث، على الرغم من أنها تظل تعمل بالشكل المطلوب.

---

### ملاحظة استقصائية: استكشاف مفصل لاستخدام حزمة `es6-promise` في npm

يقدم هذا القسم نظرة شاملة حول استخدام حزمة `es6-promise` داخل مشروع npm، مع توسيع نطاق الإجابة المباشرة لتشمل سياقًا إضافيًا، وتفاصيل تقنية، واعتبارات للمطورين. تم تنظيم المعلومات لمحاكاة مقال احترافي، مع التأكد من تضمين جميع التفاصيل ذات الصلة من التحليل، واستخدام الجداول للتوضيح حيثما كان ذلك مناسبًا.

#### مقدمة عن `es6-promise`
حزمة `es6-promise` هي مكتبة خفيفة الوزن مصممة كـ polyfill لوعود ES6، وتوفر أدوات لتنظيم الكود غير المتزامن. إنها مفيدة بشكل خاص في البيئات التي يكون فيها دعم وعود ES6 الأصلية غائبًا أو غير موثوق، مثل المتصفحات القديمة أو إصدارات Node.js القديمة. نظرًا لأن آخر تحديث لها كان في عام 2019، مع الإصدار 4.2.8 المنشور منذ ست سنوات اعتبارًا من 3 مارس 2025، فهي حل ناضج ولكنه قد يكون أقل صيانة مقارنة بالبدائل الحديثة.

#### عملية التثبيت
لدمج `es6-promise` في مشروعك، فإن التثبيت عبر npm مباشر. الأمر هو:
- `npm install es6-promise`

يقوم هذا بتثبيت الحزمة في دليل `node_modules` الخاص بك وتحديث ملف `package.json` بالتبعية. بالنسبة لأولئك الذين يستخدمون Yarn، هناك بديل وهو `yarn add es6-promise`، على الرغم من أن npm هو محور التركيز هنا نظرًا لاستفسار المستخدم.

| طريقة التثبيت       | الأمر                       |
|---------------------|-----------------------------|
| npm                 | `npm install es6-promise`   |
| Yarn                | `yarn add es6-promise`      |

لقد تم اعتماد الحزمة على نطاق واسع، حيث يستخدمها 5,528 مشروعًا آخر في سجل npm، مما يشير إلى أهميتها في حالات الاستخدام القديمة أو المحددة.

#### الاستخدام في JavaScript
بمجرد التثبيت، يمكن استخدام `es6-promise` بطريقتين أساسيتين: محليًا داخل الكود الخاص بك أو كـ polyfill عام. يعتمد الاختيار على احتياجات مشروعك، خاصة ما إذا كنت بحاجة إلى ضمان التوافق عبر البيئات المختلفة.

##### الاستخدام المحلي
للاستخدام المحلي، تقوم بطلب الحزمة والوصول إلى فئة Promise مباشرة. بناء الجملة هو:
- `const Promise = require('es6-promise').Promise;`

هذا يسمح لك باستخدام فئة Promise داخل الكود الخاص بك دون تعديل النطاق العام. على سبيل المثال:
```javascript
const Promise = require('es6-promise').Promise;
const myPromise = new Promise((resolve, reject) => {
  resolve('Success!');
});
myPromise.then(result => console.log(result)); // يُخرج: Success!
```

هذا النهج مناسب إذا كان مشروعك يدعم بالفعل الوعود الأصلية ولكنك تريد استخدام `es6-promise` لعمليات محددة أو للاتساق.

##### الملء الشامل (Polyfill) العام
لملء البيئة العامة، مما يضمن أن جميع استخدامات Promise في مشروعك تستخدم تنفيذ `es6-promise`، يمكنك استدعاء طريقة polyfill:
- `require('es6-promise').polyfill();`

يضبط هذا الكائن `Promise` العام ليكون هو تنفيذ `es6-promise`، وهو مفيد للبيئات القديمة مثل IE<9 أو إصدارات Node.js القديمة حيث قد تكون الوعود الأصلية مفقودة أو معطلة. بدلاً من ذلك، للملء التلقائي، يمكنك استخدام:
- `require('es6-promise/auto');`

الإصدار "التلقائي"، بحجم ملف 27.78 كيلوبايت (7.3 كيلوبايت مضغوطة بـ gzip)، يوفر أو يستبدل `Promise` تلقائيًا إذا كان مفقودًا أو معطلاً، مما يبسط الإعداد. على سبيل المثال:
```javascript
require('es6-promise/auto');
// الآن، تم ملء كائن Promise العام، ويمكنك استخدام new Promise(...) في أي مكان في الكود الخاص بك.
```

##### الاستخدام في المتصفح
على الرغم من أن استفسار المستخدم يركز على npm، فمن الجدير بالذكر أنه في بيئات المتصفح، يمكنك تضمين `es6-promise` عبر CDN، مثل:
- `<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.js"></script>`
- الإصدارات المضغوطة مثل `es6-promise.min.js` متاحة أيضًا للإنتاج.

ومع ذلك، نظرًا للسياق المتعلق بـ npm، يظل التركيز على استخدام Node.js.

#### التوافق والاعتبارات
الحزمة هي مجموعة فرعية من rsvp.js، تم استخراجها بواسطة @jakearchibald، ومصممة لمحاكاة سلوك ES6 Promise. ومع ذلك، هناك ملاحظات توافق يجب مراعاتها:
- في IE<9، الكلمات `catch` و `finally` هي كلمات محجوزة، مما يسبب أخطاء في بناء الجملة. الحلول البديلة تتضمن استخدام الترميز النصي، مثال: `promise['catch'](function(err) { ... });`، على الرغم من أن معظم أدوات الضغط (minifiers) تصلح هذا تلقائيًا.
- نظرًا لأن آخر تحديث لها كان في عام 2019، يجب على المطورين تقييم ما إذا كانت `es6-promise` تلبي احتياجات الأمان والتوافق الحالية، خاصة للمشاريع التي تستهدف بيئات JavaScript الحديثة حيث يتم دعم الوعود الأصلية.

يشير تحليل صحة حزمة npm إلى أنها تتلقى أكثر من 9.5 مليون تنزيل أسبوعيًا وتعتبر مشروعًا رئيسيًا في النظام البيئي، مع 7,290 نجمة على GitHub، مما يشير إلى مجتمع قوي تاريخيًا. ومع ذلك، مع عدم وجود إصدارات جديدة في الـ 12 شهرًا الماضية، قد يُنظر إليها على أنها مشروع متوقف، على الرغم من أن الصيانة مصنفة على أنها مستدامة بناءً على نشاط المستودع.

#### TypeScript والموارد الإضافية
لمستخدمي TypeScript، على الرغم من عدم ذكرهم صراحة في الاستعلام، لاحظ أن تعريفات النوع متاحة عبر `@types/es6-promise`، ويمكن تثبيتها باستخدام `npm i @types/es6-promise`. هذه حزمة stub، حيث أن `es6-promise` توفر أنواعها الخاصة، لكنها مفيدة لضمان سلامة النوع.

للمزيد من التعلم عن الوعود، توثق الوثائق [مقال JavaScript Promises على HTML5Rocks](http://www.html5rocks.com/en/tutorials/es6/promises/)، والذي يوفر استخدامًا مفصلًا لواجهة برمجة التطبيقات (API) وأنماطها.

#### المزالق المحتملة وملاحظات المجتمع
قد يواجه بعض المستخدمين مشاكل في التثبيت، مثل أخطاء 404، خاصة على الأنظمة القديمة أو إذا كانت التبعيات غير مهيئة بشكل صحيح. على سبيل المثال، قد يؤدي مسح `node_modules` وإعادة التثبيت إلى حل مثل هذه المشكلات، كما هو موضح في مناقشات المجتمع. بالإضافة إلى ذلك، تأكد من أن إصدار Node.js الخاص بك يدعم طلبات CommonJS، نظرًا لهيكل الحزمة.

#### الخلاصة
باختصار، تعد `es6-promise` أداة قيمة لضمان توافق ES6 Promise في مشاريع npm، خاصة للبيئات القديمة. التثبيت بسيط باستخدام `npm install es6-promise`، ويمكن أن يكون الاستخدام محليًا عبر `require('es6-promise').Promise` أو عامًا عبر `require('es6-promise').polyfill()` أو `require('es6-promise/auto')`. نظرًا لعمرها، قم بتقييم مدى ملاءمتها لاحتياجات مشروعك، خاصة في سياقات JavaScript الحديثة حيث تكون الوعود الأصلية هي المعيار.

#### الاقتباسات الرئيسية
- [تفاصيل حزمة es6-promise على npm](https://www.npmjs.com/package/es6-promise)
- [مستودع es6-promise على GitHub](https://github.com/stefanpenner/es6-promise)