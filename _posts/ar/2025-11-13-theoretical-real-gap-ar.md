---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: الفجوة بين الأداء النظري والفعلي
translated: true
type: note
---

يظهر هذا التناقض لأن **الذروة النظرية للفلوبس** (عمليات الفاصلة العائمة في الثانية) تقيس معدل الإنتاجية الحسابي الخام تحت ظروف مثالية – بافتراض الاستخدام الأمثل لجميع وحدات التنفيذ، وعدم وجود اختناقات في الذاكرة، ونطاق ترددي لا نهائي. في أعباء العمل الحقيقية (خاصة الذكاء الاصطناعي/التدريب/الاستدلال)، يكون الأداء محكومًا **بعدم كفاءة نظام الذاكرة الفرعي**، وليس فقط بالقدرة الحسابية. كانت بطاقات جيفورس فيرمي لعام 2010 (مثل GTX 480) سيئة بشكل خاص في هذا الجانب، مما ضخم الفجوة "المتوقعة" عند مقارنتها بالبطاقات الحديثة مثل RTX 4090.

### الأسباب الرئيسية لعدم استغلال فيرمي الكامل للفلوبس النظرية
1.  **تسلسل ذاكرة التخزين المؤقت الضعيف ودمج الذاكرة**
    *   كان لدى فيرمي فقط 64 كيلوبايت من ذاكرة التخزين المؤقت من المستوى L1 لكل SM (مشتركة مع السجلات) و 768 كيلوبايت صغيرة من L2 (للكرت بالكامل).
    *   لا يوجد تماسك صحيح لذاكرة التخزين المؤقت؛ كانت عمليات الوصول إلى الذاكرة العامة غير مدموجة → **نطاق ترددي فعال بنسبة ~10-30%** في النواة الحقيقية.
    *   تحتوي وحدات معالجة الرسومات الحديثة (أمبير/آدا) على **ذاكرة تخزين مؤقت L1 ضخمة (192 كيلوبايت/SM)**، و**ذاكرة تخزين مؤقت مخصصة للقوام**، و**جلب استباقي عدواني**، محققة 70-90% من النطاق الترددي النظري.

2.  **ذاكرة ECC DDR5/GDDR5 عالية الكمون ومنخفضة النطاق الترددي**
    *   فيرمي: ~170 جيجابايت/ثانية GDDR5، **ناقل 384-بت ولكن مع عبء ECC** → فعال ~130 جيجابايت/ثانية.
    *   RTX 4090: **1 تيرابايت/ثانية GDDR6X**، ناقل 384-بت ولكن **بدون ضريبة ECC في الوضع الاستهلاكي**، بالإضافة إلى **ضغط أفضل**.
    *   النواة الحقيقية للذكاء الاصطناعي **مقيدة بالذاكرة** (مثل GEMM مع المصفوفات الكبيرة)؛ الفلوبس لا تهم إذا توقف تدفق البيانات.

3.  **ملف السجل غير الفعال وجدولة Warp**
    *   فيرمي: 32 ألف سجل 32-بت/SM → **الحد الأقصى 1536 خيط** ولكن فقط **~50% إشغال** في الممارسة العملية بسبب انسكاب السجل.
    *   آدا: 256 كيلوبايت ملف سجل → **2048 خيط/SM**، إشغال قريب من 100%.
    *   تباعد أقل، استخراج أفضل لـ ILP.

4.  **الاختناق الحراري/الطاقة**
    *   GTX 480: 250 واط TDP، **اختنق بقوة تحت الحمل المستمر** (انخفضت الترددات 10-20%).
    *   RTX 4090: 450 واط ولكن **أداء أفضل لكل واط بـ ~3x** عبر تقنية 4 نانومتر، وDLSS، والتعزيز الديناميكي.

### المكاسب المقاسة في العالم الحقيقي (أعباء عمل الذكاء الاصطناعي)

| المقياس | GTX 480 (فيرمي، 2010) | RTX 4090 (آدا، 2022) | التسريع |
|--------|------------------------|----------------------|---------|
| FP32 TFLOPS (ذروة) | 1.35 | 82.6 | **61x** |
| FP16 TFLOPS (ذروة) | ~0.7 (مُحاكى) | 330 (Tensor) | **>400x** |
| **تدريب ResNet-50 (صورة/ثانية)** | ~60 | ~1,050 | **~17x** |
| **استدلال GPT-2 (رمز/ثانية)** | ~8 | ~140 | **~17x** |
| **Stable Diffusion (تكرار/ثانية)** | <0.1 | ~1.6 | **>16x** |

*المصادر: أوراق NVIDIA، معايير MLPerf، AnandTech.*

### خلاصة القول
افترضت حسابات الفلوبس النظرية أن فيرمي يمكنها الحفاظ على ~70% من الاستخدام – لكنها لم تستطع (في الواقع ~15-25%). تقوم البنى الحديثة بسد هذه الفجوة إلى **~70-90%**، لذلك **يتم قياس القدرة الحسابية الفعالة بشكل أقرب إلى قانون مور + تحسينات البنية** (~10-17x على مدى 12 عامًا)، وليس الـ 60x+ التي توحي بها ذروة الفلوبس. الباقي هو "أداء ورقى".