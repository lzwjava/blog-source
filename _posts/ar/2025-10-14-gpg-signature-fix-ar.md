---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: إصلاح أخطاء التحقق من توقيع GPG
translated: true
type: note
---

### فهم الخطأ

الخطأ الذي تراه يحدث لأن الأمر `gpg --verify` يتوقع عادةً وسيطتين: **ملف التوقيع** (مثل `zhs.tw.yaml.sig` أو `zhs.tw.yaml.asc`) **أولاً**، يليه **الملف الفعلي** المطلوب التحقق منه (مثل `zhs.tw.yaml`).

في أمرك:
```
gpg --verify zhs.tw.yaml
```
برنامج GPG يحاول تفسير `zhs.tw.yaml` على أنه كل من ملف التوقيع *و* ملف البيانات، لكنه لا يحتوي على بيانات توقيع OpenPGP صالحة (فملفات YAML ليست توقيعات). ومن هنا جاءت رسالة "no valid OpenPGP data found".

### كيفية الإصلاح

1.  **تحديد موقع ملف التوقيع**: أنت بحاجة إلى ملف التوقيع المنفصل الذي يتوافق مع ملف YAML الخاص بك. اسمه عادةً يكون كالتالي:
    *   `zhs.tw.yaml.sig` (تنسيق ثنائي)
    *   `zhs.tw.yaml.asc` (تنسيق ASCII-armored)

    إذا لم يكن لديك هذا الملف، فستحتاج إلى تنزيله من المصدر الذي حصلت منه على `zhs.tw.yaml` (مثل مستودع مشروع أو موقع ويب).

2.  **تشغيل الأمر الصحيح**: بمجرد حصولك على ملف التوقيع، استخدم هذا التنسيق:
    ```
    gpg --verify zhs.tw.yaml.sig zhs.tw.yaml
    ```
    *   استبدل `.sig` بـ `.asc` إذا كان هذا هو اسم ملفك.
    *   الترتيب مهم: ملف التوقيع أولاً، ثم الملف.

3.  **الناتج المتوقع في حال النجاح**:
    إذا كان التوقيع صالحًا وكنت تثق في المفتاح، فسترى شيئًا مثل:
    ```
    gpg: Signature made [date] using [key type]
    gpg: Good signature from "[signer name/email]"
    ```
    إذا كان التوقيع غير صالح أو لم يكن المفتاح موثوقًا به، فستحصل على تحذيرات/أخطاء.

### نصائح إضافية

*   **استيراد المفتاح العام**: إذا اشتكى برنامج GPG من مفتاح غير معروف، فاحصل على المفتاح العام للشخص الموقع واستورده:
    ```
    gpg --keyserver keyserver.ubuntu.com --recv-keys [KEY_ID]
    ```
    (استبدل `[KEY_ID]` ببصمة المفتاح الفعلية من ناتج الخطأ أو من وثائق المشروع.)

*   **الوضع الآلي للنصوص البرمجية**: إذا كنت تقوم بأتمتة هذه العملية، أضف `--batch` لقمع المطالبات:
    ```
    gpg --batch --verify zhs.tw.yaml.sig zhs.tw.yaml
    ```

*   **التوقيعات المضمنة**: إذا كان التوقيع *مضمنًا* داخل ملف YAML (وهو أمر غير مرجح لملفات `.yaml`)، فستقوم ببساطة بتنفيذ `gpg --verify zhs.tw.yaml` بعد التأكد من أن الملف ينتهي بـ `-----END PGP SIGNATURE-----`. ولكن بناءً على الخطأ، فالتوقيع منفصل.

إذا لم يحل هذا المشكلة أو إذا شاركت المزيد من التفاصيل (مثل مصدر الملف)، يمكنني تحسين النصيحة!

[دليل جنو برايفسي غارد](https://www.gnupg.org/documentation/manpage.html)