---
audio: false
generated: false
lang: ar
layout: post
title: 'Node.js OpenSSL Compatibility


  توافق Node.js مع OpenSSL'
translated: true
---

عند تشغيل `ng build` مع **Node.js 22.9.0** و **npm 10.8.3**، تتعرض للخطأ التالي:

```
خطأ 0308010C digital envelope routines::unsupported
```

يحدث هذا الخطأ عادةً بسبب مشكلة التوافق بين إصدارات Node.js الجديدة (مثل 22.9.0، التي تستخدم OpenSSL 3.0 أو أحدث) و بعض خوارزميات التشفير التي تعتمد عليها أدوات مثل Webpack، التي تستخدمها Angular في الخلفية. أدناه دليل خطوة بخطوة لحل هذه المشكلة.

---

### الحل

#### الخطوة 1: تفعيل مزود OpenSSL القديم
أسرع وأسرع حل هو تفعيل مزود OpenSSL القديم عن طريق تعيين متغير البيئة `NODE_OPTIONS`. هذا يسمح لـ Node.js باستخدام خوارزميات تشفير قديمة قد لا تكون مدعومة بشكل افتراضي في OpenSSL 3.0+.

- **للماك أو لينكس**:
  افتح محررك واكتب:
  ```bash
  export NODE_OPTIONS=--openssl-legacy-provider
  ng build
  ```

- **للماك أو لينكس (PowerShell)**:
  افتح PowerShell واكتب:
  ```powershell
  $env:NODE_OPTIONS="--openssl-legacy-provider"
  ng build
  ```

بعد تعيين متغير البيئة، حاول تشغيل `ng build` مرة أخرى. هذا يجب أن يحل المشكلة في معظم الحالات عن طريق السماح لـ Node.js بمعالجة الروتينات غير المدعومة.

---

#### الخطوة 2: التحقق من تحديث Angular CLI (إذا لزم الأمر)
إذا استمر الخطأ بعد الخطوة 1، فقد لا يكون الإصدار الحالي لـ Angular CLI متوافقًا بالكامل مع Node.js 22.9.0. يمكن أن يساعد تحديثه إلى أحدث إصدار.

- تحقق من الإصدار الحالي لـ Angular CLI:
  ```bash
  ng --version
  ```

- تحديث Angular CLI عالميًا:
  ```bash
  npm install -g @angular/cli
  ```

- ثم حاول تشغيل `ng build` مرة أخرى.

---

#### الخطوة 3: التحقق من تحديث اعتمادات المشروع (اختياري)
إذا لم يتم حل المشكلة بعد، قد تكون الاعتمادات القديمة في مشروعك هي التي تسبب المشكلة. لتحليل ذلك:

- افتح ملف `package.json` الخاص بك واطلع على إصدارات اعتماداتك (مثل `@angular/core`, `@angular/cli` إلخ).
- تحديثهم بحذر إلى أحدث إصدارات متوافقة:
  ```bash
  npm install
  ```
  أو، إذا كنت تريد تحديث جميع الاعتمادات:
  ```bash
  npm update
  ```

- حاول تشغيل `ng build` مرة أخرى للاختبار.

*ملاحظة*: كن حذرًا مع التحديثات، فقد تجلب تغييرات تدميرية. اختبر تطبيقك بشكل شامل بعد ذلك.

---

#### الخطوة 4: تخفيض Node.js (الخيار الأخير)
إذا لم يعمل أي من الحلول السابقة، فقد لا يكون Node.js 22.9.0 مدعومًا بالكامل من قبل تكوين مشروعك الحالي. تخفيضه إلى إصدار دعم طويل الأمد (LTS) من Node.js، مثل **20.x** أو **18.x**، قد يحل المشكلة.

- قم بإزالة الإصدار الحالي لـ Node.js.
- تحميل وتثبيت إصدار LTS من [الموقع الرسمي لـ Node.js](https://nodejs.org/).
- التحقق من الإصدار المثبت:
  ```bash
  node -v
  ```
- إعادة تثبيت اعتمادات مشروعك:
  ```bash
  npm install
  ```
- حاول تشغيل `ng build` مرة أخرى.

---

### النهج الموصى به
ابدأ بـ **الخطوة 1** (تعيين `NODE_OPTIONS`), حيث أنها أسرع حل وتسمح لك باستخدام Node.js 22.9.0. إذا لم يعمل ذلك، انتقل إلى **الخطوة 2** و **الخطوة 3**. استخدم **الخطوة 4** فقط إذا لزم الأمر، حيث أن تخفيض Node.js قد يقيد الوصول إلى الميزات الجديدة.

هذا يجب أن يحل "خطأ 0308010C digital envelope routines::unsupported" ويجعل أمر `ng build` يعمل مرة أخرى!