---
audio: true
lang: ar
layout: post
title: خيارات JVM في WebSphere Liberty Server
translated: true
---

للتحقق من خيارات JVM المحدد في ملف `jvm.options` الموجود في دليل الخادم من خادم WebSphere Liberty Profile (WLP)، يمكنك استخدام أمر `jinfo` المقدم من Java Development Kit (JDK). تسمح هذه الطريقة لك بالتحقق من الخيارات المطبقة على خادم يعمل بشكل فعال. أدناه دليل خطوة بخطوة لتحقيق ذلك:

### خطوات التحقق من خيارات JVM

1. **فهم السياق**
   يستخدم ملف `jvm.options` في دليل الخادم (عادةً `<WLP_HOME>/usr/servers/<serverName>/jvm.options`) لتحديد حجج JVM مثل حجم الكومة (مثل `-Xmx`) أو إعدادات جمع النفايات (مثل `-XX:+UseG1GC`) أو خواص النظام (مثل `-Dmy.property=value`) التي يتم تطبيقها عند بدء خادم الحرية.

2. **بدء الخادم**
   ابدأ من خلال تشغيل خادم الحرية في الخلفية باستخدام الأمر التالي:
   ```
   <WLP_HOME>/bin/server start <serverName>
   ```
   استبدل `<WLP_HOME>` بمسار تثبيت WebSphere Liberty و`<serverName>` بإسم خادمك. هذا الأمر يطلق الخادم كعملية خلفية.

3. **تحديد معرف العملية (PID)**
   بعد بدء الخادم، تحتاج إلى معرف عملية العملية الجارية من عملية Java. يوفر الحرية هذا بشكل مريح في ملف `.pid` موجود في:
   ```
   <WLP_HOME>/usr/servers/<serverName>/workarea/<serverName>.pid
   ```
   افتح هذا الملف (مثلًا باستخدام `cat` في أنظمة Unix أو محرر نص) للحصول على PID، وهو قيمة رقمية تمثل عملية الخادم.

4. **تحقق من أعلام JVM**
   استخدم أمر `jinfo` للتحقق من أعلام JVM المطبقة على الخادم الجاري. قم بتشغيل:
   ```
   jinfo -flags <pid>
   ```
   استبدل `<pid>` بمعرف العملية الذي حصلت عليه من ملف `.pid`. هذا الأمر يخرج أعلام السطر الأوامر الموجهة إلى JVM مثل `-Xmx1024m` أو `-XX:+PrintGCDetails`. ابحث في الخرج لتأكيد أن أعلامك التي قمت بتعيينها في `jvm.options` موجودة.

5. **تحقق من خواص النظام**
   إذا كان ملف `jvm.options` يحتوي على خواص النظام (مثل `-Dmy.property=value`)، فاحقق منها بشكل منفصل باستخدام:
   ```
   jinfo -sysprops <pid>
   ```
   هذا يعرض جميع خواص النظام المحدد لجVM. ابحث في الخرج عن خواصك المحددة لتأكيد أنها تم تطبيقها بشكل صحيح.

### متطلبات مسبقة
- **JDK مثبّت**: أمر `jinfo` جزء من JDK، لا JRE. تأكد من أن لديك JDK مثبّت وأن `jinfo` متاح في مسار نظامك.
- **أذونات**: قم بتشغيل `jinfo` مع المستخدم الذي بدأ الخادم أو مع أذونات كافية للالتحاق بالعملية.

### طرق بديلة
إذا كان `jinfo` غير متاح أو كنت تفضل طريقة أخرى، إليك خيارين إضافيين:

- **استخدام `server dump`**:
  1. ابدأ الخادم باستخدام `server start <serverName>`.
  2. انشئ رصيد الخادم باستخدام:
     ```
     <WLP_HOME>/bin/server dump <serverName>
     ```
  3. ايجاد ملف `.zip` المولّد في `<WLP_HOME>/usr/servers/<serverName>/`، استخرجه، وافتح ملف `javacore.<timestamp>.txt`.
  4. ابحث عن قسم "CMDLINE" لرؤية السطر الأوامر الكامل لـ Java، بما في ذلك أعلام JVM، وقسم "System Properties" للخواص النظامية.

- **تتبع النصية البدء** (نظام Unix مثل):
  1. قم بتشغيل النصية الخادم مع تتبع مفعّل:
     ```
     sh -x <WLP_HOME>/bin/server start <serverName>
     ```
  2. مراجعة الخرج للحصول على الأمر Java الذي تم تنفيذه من النصية، والذي يتضمن جميع الخيارات من `jvm.options`.

### ملاحظات
- **الخادم غير يعمل**: إذا فشل الخادم في البدء بسبب خيارات غير صالحة، استخدم `server run <serverName>` لتشغيله في المقدمة وتحقق من خرج الشاشة للخطأ، أو استخدم طريقة تتبع النصية لرؤية الأمر.
- **ملفات السجل**: قد يحتوي ملف `console.log` في `<WLP_HOME>/usr/servers/<serverName>/logs/` على بعض معلومات البدء، ولكن لا يدرج جميع خيارات JVM بشكل موثوق به إلا إذا تم تفعيل تسجيل التفاصيل (مثل `-XX:+PrintFlagsFinal`).

### الخاتمة
طريقة `jinfo` هي الطريقة الأكثر بساطة للتحقق من خيارات JVM المحدد في `jvm.options` لخادم الحرية الجاري. من خلال اتباع الخطوات أعلاه، يمكنك تأكيد أن أعلام JVM وخواص النظام تم تطبيقها كما هو مطلوب.

---

أبلغت `jinfo` أنه لا يمكن الالتحاق بالعملية.

بالإضافة إلى ذلك، لم يتم العثور على ملف `javacore.<timestamp>.txt` بعد استخدام الأمر الرصيد.

نسخة WebSphere Liberty Server هي 24.0.0.9.