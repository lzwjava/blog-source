---
audio: false
generated: true
lang: zh
layout: post
title: Java 中使用 Lombok
translated: true
type: note
---

要在 Java 中使用 Lombok，你需要先在项目中完成配置，从而通过减少 getter/setter 和构造函数等样板代码来简化代码。以下是详细步骤：

首先，需要添加 Lombok 依赖。如果使用 Maven，请在 `pom.xml` 中添加：

```xml
<dependency>
    <groupId>org.projectlombok</groupId>
    <artifactId>lombok</artifactId>
    <version>1.18.32</version> <!-- 请检查最新版本 -->
    <scope>provided</scope>
</dependency>
```

如果使用 Gradle，请在 `build.gradle` 中添加：

```gradle
provided 'org.projectlombok:lombok:1.18.32'
// 同时添加以下配置确保注解处理生效
annotationProcessor 'org.projectlombok:lombok:1.18.32'
```

接下来，如果使用 IntelliJ IDEA 或 Eclipse 等 IDE，需要启用注解处理并安装 Lombok 插件：
- **IntelliJ**：通过 `文件 > 设置 > 插件` 搜索 "Lombok"，安装后重启。然后在 `设置 > 构建、执行、部署 > 编译器 > 注解处理器` 中勾选 `启用注解处理`
- **Eclipse**：从官网（projectlombok.org）下载 Lombok JAR，通过 `java -jar lombok.jar` 运行安装程序，按指引配置 Eclipse 安装路径

现在即可在 Java 代码中使用 Lombok 注解。以下是一个简单示例：

```java
import lombok.Getter;
import lombok.Setter;
import lombok.NoArgsConstructor;
import lombok.AllArgsConstructor;

@Getter
@Setter
@NoArgsConstructor
@AllArgsConstructor
public class Person {
    private String name;
    private int age;
}
```

此示例中：
- `@Getter` 和 `@Setter` 自动为 `name` 和 `age` 生成 getter/setter 方法
- `@NoArgsConstructor` 创建无参构造函数
- `@AllArgsConstructor` 创建包含所有字段的构造函数

编译时 Lombok 会自动处理这些注解并生成样板代码。测试示例如下：

```java
public class Main {
    public static void main(String[] args) {
        Person person = new Person("Alice", 30);
        System.out.println(person.getName()); // 输出：Alice
        person.setAge(31);
        System.out.println(person.getAge()); // 输出：31
    }
}
```

其他常用注解：
- `@Data`：整合 `@Getter`、`@Setter`、`@ToString`、`@EqualsAndHashCode` 及必需字段构造函数
- `@Builder`：提供建造者模式创建对象
- `@Slf4j`：为类自动添加 SLF4J 日志器

使用 `@Data` 和 `@Builder` 的示例：

```java
import lombok.Data;
import lombok.Builder;

@Data
@Builder
public class User {
    private String username;
    private String email;
}

// 使用示例
public class Main {
    public static void main(String[] args) {
        User user = User.builder()
                        .username("john_doe")
                        .email("john@example.com")
                        .build();
        System.out.println(user); // 输出：User(username=john_doe, email=john@example.com)
    }
}
```

注意事项：
- 请始终通过 Maven Central 或官网确认 Lombok 最新版本
- 团队开发时需确保所有成员均配置 Lombok 环境，避免因源码中不可见生成代码而产生困惑