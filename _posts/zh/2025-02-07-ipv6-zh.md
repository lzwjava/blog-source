---
audio: false
lang: zh
layout: post
title: 使用IPv6地址的SSH连接
translated: true
---

我正在尝试使用IPv6连接到Hetzner Cloud中的机器。`ssh 2a01:4f8:c17:2000::/64` 不起作用，但 `ssh root@2a01:4f8:c17:2000::1` 可以。

IPv6地址是从Hetzner Cloud控制台复制的。

可以配置`~/.ssh/config`文件，为IPv4和IPv6地址应用不同的代理规则。此设置允许您为IPv4地址指定代理命令，同时以不同的方式处理IPv6地址。

```bash
Host 192.168.1.*
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa
Host *.*.*.*
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa
    ProxyCommand corkscrew localhost 7890 %h %p
Host *
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa
```
