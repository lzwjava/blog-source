---
audio: false
generated: true
image: false
lang: zh
layout: post
model: x-ai/grok-4-fast
title: Unix之前的早期计算机计时系统
translated: true
type: note
---

没错，你说得很对——远在1970年代Unix时间戳出现之前，我们就有那些庞然大物般的早期机器，比如ENIAC（我想你指的是这个而不是ANNIC；它是1945年诞生的电子数字积分计算机）、Altair 8800（1975年开启个人计算机革命的套件，比尔·盖茨和保罗·艾伦正是在电传打字机上捣鼓出了那个著名的BASIC解释器），以及约翰·冯·诺依曼的基础性思想（比如他1945年的EDVAC报告催生了存储程序概念，影响了之后的一切）。

但那时候的"时间处理"？完全不像我们现在这种秒级精度的优雅方案。这些大家伙没有内置实时时钟（RTC）来记录日期或挂钟时间——它们专注于原始计算周期，而不是帮你安排牙医预约。时间处理非常基础：主要是用于同步操作的内部时钟，或是用循环计数器实现延迟的软件技巧。根本没有用于存储"现在是2025年10月15日"的持久内存。让我们从数值计算的角度快速剖析每个案例。

### ENIAC（1945年）：脉冲序列与主时钟
这个30吨的庞然大物通过插拔电缆和拨动开关来编程——没有代码存储，只有用于弹道计算等数学问题的接线。时间处理完全靠硬件定时：
- **时钟基础**：中央"循环单元"振荡器每秒产生10万次脉冲（每10微秒一次）。所有操作都与这些脉冲同步——就像真空管的心跳。
- **操作定时**：一次加法需要20个脉冲（200微秒，即五千分之一秒）。循环或延迟？你需要手动接线重复器或计数器；没有软件定时器。
- **现实时间？** 完全没有。它用30秒完成弹道计算，而模拟计算机需要15分钟，但"时间"意味着周期计数，而不是日历。冯·诺依曼曾参与咨询，并推动存储程序概念以使定时更灵活。

从数值角度看：可以把它想象成固定频率的滴答声（100kHz），你需要统计脉冲数来计算运算"持续多久"——有点像粗糙的秒表，但调试时得手动计数。

### Altair 8800（1975年）：晶体时钟与手工延迟
Altair是首台"个人"计算机——一个带英特尔8080芯片的闪灯盒子，最初没有键盘或屏幕（只有开关和LED）。盖茨的4K BASIC通过磁带加载，让爱好者可以探索。
- **时钟基础**：2MHz晶体振荡器驱动CPU——稳定的每秒200万次周期滴答，用于取指/执行指令。
- **定时技巧**：没有内置日期时钟；你需要添加"时间时钟"扩展板（88-ACC）来实现基本中断或计数。否则就用软件循环：例如在BASIC中用FOR-NEXT循环消耗周期实现延迟（比如`FOR I=1 TO 1000: NEXT I`实现粗略"暂停"）。
- **BASIC的处理**：早期Altair BASIC没有TIME$函数（后来微软BASIC才加入）。时间是相对的——需要统计指令数或连接外部硬件（如实时时钟芯片，当时很罕见）。

数值角度：在2MHz下，一条指令可能耗时4-20个周期，那么1秒延迟？需要循环约200万次。虽然粗暴，但这教会了我们效率。

### 冯·诺依曼架构（1945年后）：周期作为通用节拍
冯·诺依曼不造硬件（那是1952年的IAS机器），但他的蓝图——CPU、内存、I/O通过总线通信——奠定了基础。时间？完全关乎同步周期。
- **时钟作用**：主时钟（晶体或其他）发出脉冲来取指-解码-执行指令。每个周期（上升/下降沿）推进状态——没有重叠，纯粹串行。
- **时间表示**：指令耗时固定周期（例如加法需1-4个节拍），所以"时间"就是周期计数。延迟通过计数器分支实现；真实时钟是外部的（如墙壁插座或手动重置）。
- **遗产**：这个瓶颈（数据/指令共享总线）至今困扰我们——AI尤其讨厌它，因为移动数据比计算消耗更多周期。

用公式表示：总时间 = (指令数 × 每指令周期数) / 时钟频率。对于IAS（冯·诺依曼启发）：约1MHz时钟，所以最高每秒100万次操作——你的17.6亿秒？那相当于IAS不停运转约55年，不过它早就烧毁了。

这些设置是Unix时间戳的狂野前身——时间作为计数器，但需要你自己构建。如果想深入了解（比如Altair延迟的代码片段），随时找我！

[ENIAC维基百科](https://en.wikipedia.org/wiki/ENIAC)  
[ENIAC技术报告](https://ftp.arl.army.mil/mike/comphist/46eniac-report/chap1.html)  
[ENIAC电子计算电路](https://archive.computerhistory.org/resources/text/Knuth_Don_X4100/PDF_index/k-8-pdf/k-8-r5367-1-ENIAC-circuits.pdf)  
[Altair 8800系统架构](https://ubuntourist.codeberg.page/Altair-8800/part-2.html)  
[MITS Altair 8800宣传册](https://vtda.org/docs/computing/MITS/MITS_Altair8800ComputerSystem_Brochure.pdf)  
[冯·诺依曼架构维基百科](https://en.wikipedia.org/wiki/Von_Neumann_architecture)  
[简单冯·诺依曼架构中，时钟周期究竟是什么？](https://www.quora.com/In-a-simple-Von-Neumann_architecture-what-exactly-is-a-clock-cycle)