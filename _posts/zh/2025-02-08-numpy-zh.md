---
audio: false
lang: zh
layout: post
title: NumPy
translated: true
type: note
---

### 数组创建例程

*   `np.empty`：返回给定形状和类型的新数组，不初始化条目
*   `np.empty_like`：返回与给定数组形状和类型相同的新数组
*   `np.eye`：返回对角线为1、其余位置为0的二维数组
*   `np.identity`：返回单位数组
*   `np.ones`：返回填充1的给定形状和类型的新数组
*   `np.ones_like`：返回与给定数组形状和类型相同的全1数组
*   `np.zeros`：返回填充0的给定形状和类型的新数组
*   `np.zeros_like`：返回与给定数组形状和类型相同的全0数组
*   `np.full`：返回填充fill_value的给定形状和类型的新数组
*   `np.full_like`：返回与给定数组形状和类型相同的填充数组
*   `np.array`：创建数组
*   `np.asarray`：将输入转换为数组
*   `np.asanyarray`：将输入转换为ndarray，但保留ndarray子类
*   `np.ascontiguousarray`：返回内存中的连续数组（C顺序）
*   `np.asfortranarray`：返回内存中的连续数组（Fortran顺序）
*   `np.copy`：返回给定对象的数组副本
*   `np.frombuffer`：将缓冲区解释为一维数组
*   `np.from_dlpack`：从PyCapsule对象（DLPack）创建NumPy数组
*   `np.fromfile`：从文本或二进制文件中的数据构造数组
*   `np.fromfunction`：通过对每个坐标执行函数来构造数组
*   `np.fromiter`：从可迭代对象创建新的一维数组
*   `np.fromstring`：从字符串中的文本数据初始化的新一维数组
*   `np.loadtxt`：从文本文件加载数据
*   `np.genfromtxt`：从文本文件加载数据，按指定方式处理缺失值
*   `np.savetxt`：将数组保存到文本文件
*   `np.save`：以NumPy `.npy`格式将数组保存到二进制文件
*   `np.savez`：将多个数组保存到未压缩的`.npz`格式的单个文件中
*   `np.savez_compressed`：将多个数组保存到压缩的`.npz`格式的单个文件中

### 数组操作例程

*   `np.reshape`：在不改变数据的情况下为数组赋予新形状
*   `np.ravel`：返回连续的扁平数组
*   `np.transpose`：对数组的维度进行排列
*   `np.swapaxes`：交换数组的两个轴
*   `np.moveaxis`：将数组的轴移动到新位置
*   `np.broadcast_to`：将数组广播到新形状
*   `np.broadcast_arrays`：将任意数量的数组相互广播
*   `np.expand_dims`：扩展数组的形状
*   `np.squeeze`：从数组形状中移除单维条目
*   `np.concatenate`：沿现有轴连接数组序列
*   `np.stack`：沿新轴连接数组序列
*   `np.hstack`：按顺序水平堆叠数组（按列）
*   `np.vstack`：按顺序垂直堆叠数组（按行）
*   `np.dstack`：按顺序深度堆叠数组（沿第三维度）
*   `np.column_stack`：将一维数组作为列堆叠成二维数组
*   `np.row_stack`：按顺序垂直堆叠数组（按行）
*   `np.split`：将数组拆分为多个子数组
*   `np.array_split`：将数组拆分为多个子数组
*   `np.hsplit`：水平将数组拆分为多个子数组（按列）
*   `np.vsplit`：垂直将数组拆分为多个子数组（按行）
*   `np.dsplit`：沿第三轴将数组拆分为多个子数组（按深度）
*   `np.tile`：通过重复A reps次来构造数组
*   `np.repeat`：重复数组元素
*   `np.delete`：返回沿轴删除子数组的新数组
*   `np.insert`：在给定索引之前沿给定轴插入值
*   `np.append`：将值追加到数组末尾
*   `np.resize`：返回具有指定形状的新数组
*   `np.trim_zeros`：从一维数组或序列中修剪前导和/或尾随零
*   `np.unique`：查找数组的唯一元素

### 数组索引例程

*   `np.take`：沿轴从数组中获取元素
*   `np.choose`：从索引数组和一组数组中选择来构造数组
*   `np.searchsorted`：查找应插入元素以保持顺序的索引
*   `np.count_nonzero`：计算数组``a``中非零值的数量
*   `np.nonzero`：返回非零元素的索引
*   `np.where`：根据`condition`从`x`或`y`中选择返回元素
*   `np.indices`：返回表示网格索引的数组
*   `np.ix_`：从多个序列构造开放网格
*   `np.diag_indices`：返回访问数组主对角线的索引
*   `np.diag_indices_from`：返回访问n维数组主对角线的索引
*   `np.mask_indices`：返回使用掩码访问(n_arrays, n_elements)的索引
*   `np.tril_indices`：返回(n, n)数组下三角的索引
*   `np.tril_indices_from`：返回arr下三角的索引
*   `np.triu_indices`：返回(n, n)数组上三角的索引
*   `np.triu_indices_from`：返回arr上三角的索引

### 数组类型例程

*   `np.dtype`：创建数据类型对象
*   `np.can_cast`：如果数据类型之间可以安全转换，则返回True
*   `np.result_type`：将NumPy类型提升规则应用于参数后返回结果类型
*   `np.min_scalar_type`：返回可以安全转换为数组的最小大小和最小标量类型的数据类型
*   `np.promote_types`：返回可以容纳type1和type2的最小大小和最小标量类型的数据类型
*   `np.common_type`：返回输入数组的公共标量类型
*   `np.obj2sctype`：返回对象的Python类型的标量dtype或NumPy等效项

### 数组集合例程

*   `np.unique`：查找数组的唯一元素
*   `np.intersect1d`：查找两个数组的交集
*   `np.union1d`：查找两个数组的并集
*   `np.setdiff1d`：查找两个数组的差集
*   `np.setxor1d`：查找两个数组的对称差
*   `np.in1d`：测试数组的每个元素是否也存在于第二个数组中

### 数组排序、搜索和计数例程

*   `np.sort`：返回数组的排序副本
*   `np.argsort`：返回对数组进行排序的索引
*   `np.lexsort`：使用键序列执行间接稳定排序
*   `np.searchsorted`：查找应插入元素以保持顺序的索引
*   `np.partition`：返回数组的分区副本
*   `np.argpartition`：沿给定轴执行间接分区
*   `np.argmax`：返回沿轴的最大值的索引
*   `np.argmin`：返回沿轴的最小值的索引
*   `np.max`：返回沿给定轴的最大值
*   `np.min`：返回沿给定轴的最小值
*   `np.maximum`：数组元素的逐元素最大值
*   `np.minimum`：数组元素的逐元素最小值
*   `np.nanargmax`：返回指定轴中忽略NaN的最大值的索引
*   `np.nanargmin`：返回指定轴中忽略NaN的最小值的索引
*   `np.nanmax`：返回数组的最大值或沿轴的最大值，忽略任何NaN
*   `np.nanmin`：返回数组的最小值或沿轴的最小值，忽略任何NaN
*   `np.count_nonzero`：计算数组``a``中非零值的数量
*   `np.nonzero`：返回非零元素的索引
*   `np.where`：根据`condition`从`x`或`y`中选择返回元素

### 数组数学例程

*   `np.add`：逐元素相加参数
*   `np.subtract`：逐元素相减参数
*   `np.multiply`：逐元素相乘参数
*   `np.divide`：逐元素相除参数
*   `np.floor_divide`：返回小于或等于输入除法的最大整数
*   `np.true_divide`：返回输入的逐元素真除法
*   `np.mod`：返回逐元素的除法余数
*   `np.remainder`：返回逐元素的除法余数
*   `np.divmod`：同时返回逐元素的商和余数
*   `np.positive`：数值正数，逐元素
*   `np.negative`：数值负数，逐元素
*   `np.power`：第一个数组元素逐元素提升为第二个数组的幂
*   `np.float_power`：将数组元素视为浮点数，逐元素
*   `np.remainder`：返回逐元素的除法余数
*   `np.modf`：返回数组的小数和整数部分，逐元素
*   `np.angle`：返回复参数的辐角
*   `np.real`：返回复参数的实部
*   `np.imag`：返回复参数的虚部
*   `np.conj`：返回复共轭，逐元素
*   `np.convolve`：返回两个一维序列的离散线性卷积
*   `np.gcd`：返回``|x1|``和``|x2|``的最大公约数
*   `np.lcm`：返回``|x1|``和``|x2|``的最小公倍数

### 数组位运算例程

*   `np.bitwise_and`：逐元素计算两个数组的按位与
*   `np.bitwise_or`：逐元素计算两个数组的按位或
*   `np.bitwise_xor`：逐元素计算两个数组的按位异或
*   `np.invert`：逐元素计算按位取反或按位非
*   `np.left_shift`：将整数的位向左移动
*   `np.right_shift`：将整数的位向右移动

### 数组字符串操作

*   `np.char.add`：对两个str或unicode数组返回逐元素字符串连接
*   `np.char.multiply`：对每个元素返回(a * i)，即a的i个副本的字符串倍数
*   `np.char.mod`：对a中的每个元素返回(a % i)，即Python 2.6之前的字符串格式化（插值）
*   `np.char.capitalize`：返回`a`的副本，每个元素仅首字母大写
*   `np.char.lower`：返回元素转换为小写的数组
*   `np.char.upper`：返回元素转换为大写的数组
*   `np.char.title`：对`a`中的每个元素，返回字符串的标题化版本：单词以大写字符开头，所有其余大小写字符为小写
*   `np.char.split`：对`a`中的每个元素，使用sep作为分隔符字符串返回字符串中的单词列表
*   `np.char.splitlines`：对`a`中的每个元素，返回元素中的行列表，在行边界处断开
*   `np.char.strip`：对`a`中的每个元素，返回删除前导和尾随字符的副本
*   `np.char.lstrip`：对`a`中的每个元素，返回删除前导字符的副本
*   `np.char.rstrip`：对`a`中的每个元素，返回删除尾随字符的副本
*   `np.char.join`：返回序列seq中字符串连接而成的字符串
*   `np.char.replace`：对`a`中的每个元素，返回将所有子字符串old替换为new的字符串副本
*   `np.char.encode`：逐元素调用`str.encode`
*   `np.char.decode`：逐元素调用`str.decode`

### 数组三角函数

*   `np.sin`：逐元素三角正弦
*   `np.cos`：逐元素余弦
*   `np.tan`：逐元素计算正切
*   `np.arcsin`：逐元素反正弦
*   `np.arccos`：逐元素反余弦
*   `np.arctan`：逐元素反正切
*   `np.arctan2`：逐元素计算``x1/x2``的反正切，正确选择象限
*   `np.hypot`：给定直角三角形的"直角边"，返回其斜边
*   `np.degrees`：将角度从弧度转换为度
*   `np.radians`：将角度从度转换为弧度
*   `np.unwrap`：通过将值之间的增量更改为2\*pi补码来展开
*   `np.deg2rad`：将角度从度转换为弧度
*   `np.rad2deg`：将角度从弧度转换为度

### 数组双曲函数

*   `np.sinh`：逐元素双曲正弦
*   `np.cosh`：逐元素双曲余弦
*   `np.tanh`：逐元素计算双曲正切
*   `np.arcsinh`：逐元素反双曲正弦
*   `np.arccosh`：逐元素反双曲余弦
*   `np.arctanh`：逐元素反双曲正切

### 数组舍入

*   `np.around`：均匀舍入到给定的小数位数
*   `np.rint`：将数组元素舍入到最接近的整数
*   `np.fix`：向零舍入到最接近的整数
*   `np.floor`：返回输入的逐元素下取整
*   `np.ceil`：返回输入的逐元素上取整
*   `np.trunc`：返回输入的逐元素截断值

### 数组求和与乘积

*   `np.sum`：沿给定轴的数组元素之和
*   `np.prod`：返回沿给定轴的数组元素之积
*   `np.nansum`：沿给定轴返回数组元素之和，将非数字(NaN)视为零
*   `np.nanprod`：沿给定轴返回数组元素之积，将非数字(NaN)视为一
*   `np.cumsum`：返回沿给定轴的元素的累积和
*   `np.cumprod`：返回沿给定轴的元素的累积积
*   `np.nancumsum`：沿给定轴返回元素的累积和，将非数字(NaN)视为零
*   `np.nancumprod`：沿给定轴返回元素的累积积，将非数字(NaN)视为一
*   `np.diff`：沿给定轴计算第n个离散差分
*   `np.ediff1d`：数组连续元素之间的差值
*   `np.gradient`：返回N维数组的梯度
*   `np.cross`：返回两个（向量数组的）叉积
*   `np.trapz`：使用复合梯形规则沿给定轴积分

### 数组指数和对数

*   `np.exp`：计算输入数组中所有元素的指数
*   `np.expm1`：计算数组中所有元素的``exp(x) - 1``
*   `np.log`：逐元素自然对数
*   `np.log1p`：返回一加上输入数组的逐元素自然对数
*   `np.log2`：`x`的以2为底的对数
*   `np.log10`：返回输入数组的逐元素以10为底的对数
*   `np.logaddexp`：输入指数之和的对数
*   `np.logaddexp2`：以2为底的输入指数之和的对数

### 数组其他特殊函数

*   `np.i0`：第一类零阶修正贝塞尔函数
*   `np.sinc`：返回sinc函数

### 数组浮点例程

*   `np.signbit`：逐元素返回符号位设置（小于零）的位置为True
*   `np.copysign`：将x1的符号更改为x2的符号，逐元素
*   `np.frexp`：将元素分解为尾数和二进制指数
*   `np.ldexp`：返回x1 * 2**x2，逐元素
*   `np.nextafter`：返回x1之后朝向x2的下一个浮点值，逐元素
*   `np.spacing`：返回x与最近相邻数字之间的距离

### 数组有理数例程

*   `np.lcm`：返回``|x1|``和``|x2|``的最小公倍数
*   `np.gcd`：返回``|x1|``和``|x2|``的最大公约数

### 数组处理缺失数据

*   `np.isnan`：逐元素测试NaN并将结果作为布尔数组返回
*   `np.isinf`：逐元素测试正无穷或负无穷
*   `np.isposinf`：逐元素测试正无穷
*   `np.isneginf`：逐元素测试负无穷
*   `np.isfinite`：逐元素测试有限性（不是无穷大或不是非数字）
*   `np.nan_to_num`：将NaN替换为零，将无穷大替换为大有限数（正数用最大值，负数用最小值）
*   `np.real_if_close`：如果复数输入的复数部分接近零，则返回实数数组
*   `np.nanargmin`：返回指定轴中忽略NaN的最小值的索引
*   `np.nanargmax`：返回指定轴中忽略NaN的最大值的索引
*   `np.nansum`：沿给定轴返回数组元素之和，将非数字(NaN)视为零
*   `np.nanprod`：沿给定轴返回数组元素之积，将非数字(NaN)视为一
*   `np.nancumsum`：沿给定轴返回元素的累积和，将非数字(NaN)视为零
*   `np.nancumprod`：沿给定轴返回元素的累积积，将非数字(NaN)视为一
*   `np.nanmean`：沿指定轴计算算术平均值，忽略NaN
*   `np.nanmedian`：沿指定轴计算中位数，忽略NaN
*   `np.nanpercentile`：沿指定轴计算数据的第q百分位数，忽略nan值
*   `np.nanquantile`：沿指定轴计算数据的第q分位数，忽略nan值
*   `np.nanstd`：沿指定轴计算标准差，忽略NaN
*   `np.nanvar`：沿指定轴计算方差，忽略NaN

### 数组线性代数

*   `np.dot`：两个数组的点积
*   `np.linalg.solve`：求解线性矩阵方程或线性标量方程组
*   `np.linalg.eig`：计算方阵的特征值和右特征向量
*   `np.linalg.inv`：计算矩阵的（乘法）逆
*   `np.linalg.det`：计算数组的行列式
*   `np.linalg.norm`：矩阵或向量范数
*   `np.trace`：返回数组对角线的和
*   `np.linalg.qr`：计算矩阵的qr分解
*   `np.linalg.svd`：奇异值分解
*   `np.linalg.cholesky`：Cholesky分解

### 数组统计

*   `np.mean`：沿指定轴计算算术平均值
*   `np.average`：沿指定轴计算加权平均值
*   `np.std`：沿指定轴计算标准差
*   `np.var`：沿指定轴计算方差
*   `np.median`：沿指定轴计算中位数
*   `np.percentile`：沿指定轴计算数据的第q百分位数
*   `np.quantile`：沿指定轴计算数据的第q分位数
*   `np.corrcoef`：皮尔逊积矩相关系数
*   `np.cov`：根据数据和权重估计协方差矩阵
*   `np.histogram`：计算一组数据的直方图
*   `np.histogram2d`：计算两个数据样本的二维直方图
*   `np.histogramdd`：计算某些样本的N维直方图
*   `np.bincount`：计算非负整数数组中每个值的出现次数
*   `np.digitize`：返回输入数组中每个值所属的bin的索引

### 数组数学常数

*   `np.pi`：数学常数，圆的周长与其直径之比
*   `np.e`：数学常数，自然对数的底数

### 数组逻辑函数

*   `np.all`：测试沿给定轴的所有数组元素是否求值为True
*   `np.any`：测试沿给定轴的任何数组元素是否求值为True
*   `np.array_equal`：如果两个数组具有相同的形状和元素，则为True，否则为False
*   `np.array_equiv`：如果输入数组形状一致且所有元素相等，则返回True
*   `np.greater`：逐元素返回(x1 > x2)的真值
*   `np.greater_equal`：逐元素返回(x1 >= x2)的真值
*   `np.less`：逐元素返回(x1 < x2)的真值
*   `np.less_equal`：逐元素返回(x1 <= x2)的真值
*   `np.equal`：逐元素返回(x1 == x2)
*   `np.not_equal`：逐元素返回(x1 != x2)
*   `np.logical_and`：逐元素计算x1 AND x2的真值
*   `np.logical_or`：逐元素计算x1 OR x2的真值
*   `np.logical_not`：逐元素计算NOT x的真值
*   `np.logical_xor`：逐元素计算x1 XOR x2的真值

### 数组比较

*   `np.isclose`：返回两个数组在容差内相等的布尔数组
*   `np.allclose`：如果两个数组在容差内逐元素相等，则返回True

### 数组随机抽样

*   `np.random.rand`：创建给定形状的数组，并用均匀分布``[0, 1)``的随机样本填充
*   `np.random.randn`：从"标准正态"分布返回一个样本（或多个样本）
*   `np.random.randint`：返回从`low`（包含）到`high`（不包含）的随机整数
*   `np.random.random`：返回半开区间[0.0, 1.0)中的随机浮点数
*   `np.random.choice`：从给定的一维数组生成随机样本
*   `np.random.seed`：为生成器播种

### 数组输入和输出

*   `np.save`：以NumPy ``.npy``格式将数组保存到二进制文件
*   `np.load`：从``.npy``、``.npz``或pickled文件加载数组或pickled对象
*   `np.savetxt`：将数组保存到文本文件
*   `np.loadtxt`：从文本文件加载数据
*   `np.genfromtxt`：从文本文件加载数据，按指定方式处理缺失值

### 数组傅里叶变换

*   `np.fft.fft`：计算一维离散傅里叶变换
*   `np.fft.ifft`：计算一维逆离散傅里叶变换
*   `np.fft.fft2`：计算二维离散傅里叶变换
*   `np.fft.ifft2`：计算二维逆离散傅里叶变换
*   `np.fft.fftn`：计算N维离散傅里叶变换
*   `np.fft.ifftn`：计算N维逆离散傅里叶变换

### 数组重塑

*   `np.reshape`：在不改变数据的情况下为数组赋予新形状
*   `np.ravel`：返回连续的扁平数组

### 数组连接和拆分

*   `np.concatenate`：沿现有轴连接数组序列
*   `np.stack`：沿新轴连接数组序列
*   `np.split`：将数组拆分为多个子数组

### 数组索引

*   `np.where`：根据`condition`从`x`或`y`中选择返回元素
*   `np.take`：沿轴从数组中获取元素

### 数组数据类型

*   `np.dtype`：创建数据类型对象

### 数组内存布局

*   `np.ascontiguousarray`：返回内存中的连续数组（C顺序）

### 数组广播

*   `np.broadcast_to`：将数组广播到新形状

### 数组掩码数组操作

*   `np.ma.masked_array`：可能具有掩码值的数组类

### 数组多项式函数

*   `np.polyfit`：最小二乘多项式拟合
*   `np.polyval`：在特定值处评估多项式

### 数组窗函数

*   `np.hanning`：返回汉宁窗

### 数组日期时间支持

*   `np.datetime64`：通用日期/时间表示

### 数组性能增强

*   `np.vectorize`：定义向量化函数

### 数组杂项

*   `np.copy`：返回给定对象的数组副本
*   `np.meshgrid`：从坐标向量返回坐标矩阵