---
audio: false
generated: true
image: false
lang: zh
layout: post
title: Jenkins基于角色权限管理指南
translated: true
type: note
---

在 Jenkins 中，**基于角色的访问控制（RBAC）** 用于定义用户的操作权限范围。默认情况下 Jenkins 仅提供基础用户/管理员模型，但通过**基于角色的策略插件**（或类似授权策略）可实现细粒度权限控制。

---

### Jenkins RBAC 核心概念

1. **全局角色**  
   适用于整个 Jenkins 实例，例如：

   * **管理员**：拥有完全控制权
   * **只读用户**：可查看任务但无法执行
   * **开发者**：可创建和配置任务

2. **项目/任务角色**  
   可针对单个任务或文件夹授权，例如：

   * 用户 A 能构建*项目 X* 但不可见*项目 Y*
   * 外包人员可触发构建但不可修改配置

3. **构建权限**  
   权限可拆分为：

   * `任务/读取`（查看任务定义与构建历史）
   * `任务/构建`（触发构建）
   * `任务/配置`（修改流水线或设置）
   * `任务/删除`（移除任务或构建记录）
   * `任务/取消`（中止运行中的构建）

---

### 如何管理任务与构建访问权限

1. **安装基于角色的策略插件**

   * 进入 **管理 Jenkins → 插件管理 → 可选插件 → 基于角色的授权策略**
   * 安装后在 **管理 Jenkins → 全局安全配置 → 授权策略** 中启用

2. **定义角色**

   * 进入 **管理 Jenkins → 管理并分配角色**
   * 创建全局角色（如*管理员*、*观察者*、*开发者*）和项目角色（如*项目X构建者*）
   * 为每个角色分配对应权限（`任务/构建`、`任务/配置` 等）

3. **为用户/用户组分配角色**

   * 在 **管理并分配角色** 界面将 Jenkins 用户（或 LDAP 集成用户组）映射至角色
   * 例如：

     * 映射 *alice* → `开发者`
     * 映射 *bob* → `观察者`
     * 映射 *qa-team* → `项目X构建者`

4. **使用文件夹实现精细管控**

   * 通过**文件夹插件**将任务归类至不同文件夹
   * 在文件夹层级设置角色限制，确保仅特定团队可查看/构建/修改内部任务

---

### 典型场景示例

* **开发团队**：可构建和配置本团队任务，但不可接触管理员设置
* **测试团队**：仅可触发构建（不可重新配置流水线）
* **外部用户**：可查看任务状态但不可修改或触发构建

---

👉 实践建议：**严格控制管理员数量**，为**开发者分配其任务的配置+构建权限**，对其他人员仅授予**只读或构建权限**。这能确保一致性、减少误操作，并保护敏感任务。

---

需要为您展示**匹配企业典型设置的逐步配置示例**（含角色权限与任务映射）吗？