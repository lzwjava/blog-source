---
audio: false
generated: true
lang: zh
layout: post
title: 矩阵与多维数组
translated: true
type: note
---

以下是一个能帮助程序员清晰区分二者的快速思维模型。

---

### 1  共同核心概念

* **网格状存储** – 数学矩阵和多维数组都通过多个整数索引（行/列，或行/列/…/k）来组织元素。
* **索引访问** – 通过坐标三元组访问元素，例如 `A[i][j]`（矩阵→两个索引；通用数组→任意数量索引）。
* **批量操作** – 以数据块而非标量进行思考，有助于编写向量化或循环代码、优化缓存友好型内存布局、利用GPU等。

---

### 2  核心差异

**a. 用途与语义**

*矩阵*

* 纯**数学对象**：每个元素都是域（ℝ、ℂ等）中的数字。
* 内置代数运算：加法、标量乘法、行列式、逆矩阵、特征相关概念等。
* 形状始终为二维；“三阶张量”不称为矩阵。

*多维数组*

* **编程容器**：可存储任意数据类型（数值型或非数值型）。
* 无固有代数运算；操作取决于编写的代码（或库提供的函数）。
* 维度任意：一维（向量）、二维、五维…甚至可支持不规则结构。

**b. 实现细节**

*矩阵库*（NumPy `ndarray`、MATLAB、Eigen、BLAS等）

* 通常关注**行优先与列优先**存储顺序，因其影响代数运算性能。
* 可能包含前导维度、步长、三角/压缩形式等元数据。
* 提供重载运算符，使 `C = A @ B` 触发高性能矩阵乘法。

*通用数组*（C数组、Java数组、Rust切片、Python列表的列表）

* 内存布局取决于语言特性：连续存储、指针数组，甚至碎片化存储（如Python列表）。
* 缺少自动代数运算；需通过嵌套循环或数学库实现两个二维数组的乘法。
* 在动态类型语言中可支持稀疏数组、锯齿数组或混合类型。

**c. 典型操作**

*矩阵* – 点积、LU/QR分解、线性方程组求解、奇异值分解、机器学习中的梯度计算、图形变换。

*多维数组* – 任意场景：RGBA图像像素、三维体素世界、字符串查找表、游戏棋盘状态。

---

### 3  代码类比

```python
# 矩阵视角（NumPy）
import numpy as np
A = np.array([[1, 2],
              [3, 4]])          # 2×2矩阵
B = np.array([[5, 6],
              [7, 8]])
C = A @ B                       # 矩阵乘法，具备代数语义
detA = np.linalg.det(A)         # 行列式

# 纯多维数组视角（原生Python）
table = [[1, 2], [3, 4]]        # 列表的列表
value = table[1][0]             # 3
# 乘法？需显式循环或推导式
product = [[sum(table[i][k]*B[k][j] for k in range