---
audio: false
generated: true
lang: zh
layout: post
title: Kong Insomnia GUI 功能特性详解
translated: true
type: note
---

Kong Insomnia 提供强大的图形用户界面（GUI）来简化 API 开发。以下是关于如何在 Insomnia GUI 中使用 **参数**、**请求体**、**认证**、**Cookies**、**证书**、**设置** 和 **代理** 的详细指南。

---

#### 1. **Params（查询参数）**  
查询参数用于向 URL 追加数据，通常用于 GET 请求。

- **使用方法**：  
  - 打开 **调试标签页** 并选择或创建请求（例如 GET）。  
  - 在 URL 字段旁点击 **Query** 标签。  
  - 添加查询参数的键值对。例如，输入 `key` 为 "id"，`value` 为 "123" 会将 `?id=123` 附加到 URL。  
  - 要使用环境变量，请在值字段中输入 `{{变量名}}`（例如 `{{userId}}`）。  
  - 通过切换每对参数旁的复选框来启用或禁用特定参数。

- **示例**：  
  对于类似 `https://api.example.com/users?id=123` 的 URL，添加：  
  - 键：`id`  
  - 值：`123`  
  Insomnia 会自动将查询字符串格式化到 URL 中。

---

#### 2. **Body（请求体）**  
请求体用于在 POST 或 PUT 等请求中发送数据。

- **使用方法**：  
  - 在 **调试标签页** 中选择请求（例如 POST 或 PUT）。  
  - 切换到 URL 字段下方的 **Body** 标签。  
  - 从下拉菜单中选择请求体类型：  
    - **JSON**：输入 JSON 数据（例如 `{"name": "John", "age": 30}`）。  
    - **Form URL-Encoded**：添加键值对，类似于查询参数。  
    - **Multipart Form**：为包含文件附件的表单添加字段或上传文件。  
    - **Raw**：输入纯文本或其他格式（例如 XML）。  
  - 通过在请求体内容中输入 `{{变量名}}` 来使用环境变量。

- **示例**：  
  对于发送 JSON 的 POST 请求：  
  - 从下拉菜单中选择 **JSON**。  
  - 输入：`{"name": "John", "age": "{{userAge}}"}`。  
  Insomnia 会自动将 `Content-Type` 标头设置为 `application/json`。

---

#### 3. **Auth（认证）**  
认证设置允许您在请求中包含凭据或令牌。

- **使用方法**：  
  - 在 **调试标签页** 中选择您的请求。  
  - 转到 **Auth** 标签。  
  - 从下拉菜单中选择认证类型：  
    - **Basic Auth**：输入用户名和密码。  
    - **Bearer Token**：粘贴您的令牌（例如 JWT）。  
    - **OAuth 2.0**：为 OAuth 流程配置客户端 ID、密钥和其他详细信息。  
    - **API Key**：添加键值对（例如 键：`Authorization`，值：`您的API密钥`）。  
  - Insomnia 会自动将认证详细信息添加到请求标头中。

- **示例**：  
  对于 Bearer Token：  
  - 选择 **Bearer Token**。  
  - 粘贴您的令牌（例如 `abc123xyz`）。  
  请求标头将包含：`Authorization: Bearer abc123xyz`。

---

#### 4. **Cookies**  
Cookie 会自动管理，但可以手动查看或编辑。

- **使用方法**：  
  - Insomnia 按工作区存储从服务器响应接收到的 Cookie。  
  - 要管理 Cookie：  
    - 转到 **首选项**（Ctrl + , 或 macOS 上的 Cmd + ,）。  
    - 导航至 **数据** > **Cookie 存储库**。  
    - 根据需要查看、编辑或删除 Cookie。  
  - Cookie 在同一工作区的请求间持久存在，并自动随后续请求发送。

- **提示**：  
  如果需要使用特定 Cookie 进行测试，请在相关域的 **Cookie 存储库** 中手动添加它们。

---

#### 5. **Certificates（证书）**  
客户端证书用于需要双向 TLS 认证的 HTTPS 请求。

- **使用方法**：  
  - 转到 **首选项**（Ctrl + , 或 Cmd + ,）。  
  - 选择 **Certificates** 部分。  
  - 点击 **添加证书**：  
    - 提供证书文件（例如 `.pem`、`.crt`）。  
    - 添加私钥文件，如果需要，可输入密码短语。  
    - 将证书与特定主机关联（例如 `api.example.com`）。  
  - Insomnia 将对指定主机的请求使用该证书。

- **示例**：  
  对于需要证书的 `api.example.com`：  
  - 上传 `client.crt` 和 `client.key`。  
  - 将主机设置为 `api.example.com`。  
  发往此域的请求将包含该证书。

---

#### 6. **Settings（设置）**  
设置允许您自定义 Insomnia 的行为。

- **使用方法**：  
  - 通过 **首选项**（Ctrl + , 或 Cmd + ,）访问。  
  - 关键选项包括：  
    - **主题**：在浅色、深色或系统默认之间切换。  
    - **代理**：配置代理设置（见下文）。  
    - **插件**：安装附加功能（例如自定义响应格式化程序）。  
    - **数据**：管理本地保险库以安全存储敏感数据（如 API 密钥）。  

- **提示**：  
  使用 **本地保险库** 安全存储敏感值（例如令牌），而不是硬编码它们。

---

#### 7. **Proxy（代理）**  
代理通过指定服务器路由您的请求，对于调试或公司网络非常有用。

- **使用方法**：  
  - 转到 **首选项** > **Proxy**。  
  - 启用代理并输入代理服务器详细信息（例如 `http://proxy.example.com:8080`）。  
  - 要全局使用，请在此处保存。  
  - 对于每个请求的代理：  
    - 在 **调试标签页** 中点击请求名称旁边的齿轮图标。  
    - 在请求特定配置中覆盖代理设置。

- **示例**：  
  要通过公司代理路由请求：  
  - 在 **首选项** 中启用代理。  
  - 将代理 URL 设置为 `http://proxy.example.com:8080`。  
  除非被覆盖，否则所有请求现在都将使用此代理。

---

### 总结  
以下是关于如何在 Insomnia GUI 中使用这些功能的快速回顾：  
- **Params**：在 **Query** 标签中添加 GET 请求的查询参数。  
- **Body**：通过 **Body** 标签发送 POST/PUT 请求的数据，并选择格式。  
- **Auth**：在 **Auth** 标签中设置认证以进行安全请求。  
- **Cookies**：在 **首选项** > **Cookie 存储库** 中管理 Cookie。  
- **Certificates**：在 **首选项** > **Certificates** 中添加用于 HTTPS 的客户端证书。  
- **Settings**：在 **首选项** 中自定义 Insomnia（主题、插件等）。  
- **Proxy**：在 **首选项** 中或针对每个请求配置代理。  

通过利用这些功能，您可以在 Kong Insomnia 中高效地测试和调试 API。尝试使用每个部分来定制您的工作流程！