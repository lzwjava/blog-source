---
audio: false
generated: true
lang: zh
layout: post
title: SLF4J与Log4j对比
translated: true
type: note
---

在 SLF4J（配合相应依赖）与 Log4j 之间的选择取决于项目需求：

- **SLF4J（Java 简单日志门面）**：
  - **优势**：作为日志门面，允许在不修改代码的情况下切换日志框架（如 Log4j、Logback、JUL）。轻量灵活且应用广泛。您提供的依赖（`slf4j-api:2.0.17`）是截至 2025 年 6 月的最新 SLF4J API 版本。
  - **劣势**：需要绑定具体实现（如 `slf4j-simple`、`logback-classic` 或 `log4j-slf4j-impl`）才能实际输出日志。增加了抽象层。
  - **适用场景**：适合需要后期灵活变更日志实现方案的库或应用程序。搭配 Logback 可构建现代化高性能日志体系。

- **Log4j（Apache Log4j 2）**：
  - **优势**：具备异步日志、自定义追加器、高性能等高级功能的完整日志框架。若确定使用 Log4j 则无需门面层。最新版本（截至 2025 年 6 月）为 `2.24.1`。
  - **劣势**：与 Log4j 实现紧密耦合。相较 SLF4J 加绑定方案的组合稍显臃肿。历史上存在安全问题（如 2021 年的 Log4Shell），不过近期版本已修复。
  - **适用场景**：适用于需要丰富功能且可接受直接依赖 Log4j 的应用程序。

**建议方案**：
- 多数项目推荐使用 **SLF4J** 搭配 **Logback**（`ch.qos.logback:logback-classic:1.5.12`），该组合兼具灵活性与现代性，避免被 Log4j 绑定。
- 若需使用 Log4j 特有高级功能且接受其技术生态，可直接选择 **Log4j 2**。

如需通过 SLF4J 调用 Log4j 作为后端，请添加：
```xml
<dependency>
    <groupId>org.apache.logging.log4j</groupId>
    <artifactId>log4j-slf4j2-impl</artifactId>
    <version>2.24.1</version>
</dependency>
<dependency>
    <groupId>org.apache.logging.log4j</groupId>
    <artifactId>log4j-core</artifactId>
    <version>2.24.1</version>
</dependency>
```

**注意**：为避免运行时冲突，请确保类路径中不存在冲突的绑定实现（例如同时存在 `slf4j-simple` 与 `logback-classic`）。