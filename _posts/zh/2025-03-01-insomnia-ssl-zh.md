---
audio: false
generated: true
lang: zh
layout: post
title: Insomnia中的SSL证书验证
translated: true
type: note
---

要修复 Insomnia 中出现的 "SSL peer证书或SSH远程密钥无效" 错误，该错误通常发生在 Insomnia 无法验证目标服务器 SSL 证书时。以下是逐步解决方案：

### 1. **禁用SSL证书验证（仅限本地开发环境）**
如果您正在使用带有自签名或无效SSL证书的本地开发服务器，可以在 Insomnia 中关闭证书验证：
- 打开 Insomnia 进入 **应用** > **首选项**
- 进入 **请求/响应** 部分
- 取消勾选 **验证证书** 选项
- 重新发送请求

**重要提示**：此操作会绕过安全检测，仅适用于测试或本地开发环境。请勿在生产环境中使用，否则可能导致连接安全漏洞。

---

### 2. **检查服务器SSL证书**
该错误可能源于服务器SSL证书问题（如过期证书、自签名证书或主机名不匹配）：
- 在网页浏览器中打开服务器URL
- 点击地址栏的锁形图标查看证书详情
- 确保证书处于有效状态、未过期且与域名匹配
- 若证书无效或配置有误，请联系服务器管理员修复

---

### 3. **导入客户端证书（如需双向认证）**
若服务器要求客户端证书认证，需要在 Insomnia 中配置：
- 在 Insomnia 中进入 **客户端证书**（可通过主面板或首选项访问）
- 点击 **添加证书**
- 导入证书文件（支持 PFX 或 PEM 格式）
- 将其分配给特定域名或主机
- 重新测试请求

---

### 4. **更新Insomnia版本**
SSL相关问题可能是旧版 Insomnia 的程序缺陷所致：
- 通过 **应用** > **关于** 检查更新，或访问官网下载最新版本
- 安装更新后重试请求

---

### 5. **使用Curl进行测试**
若上述方案无效，可通过外部工具隔离问题：
- 在终端中使用 `curl` 命令测试相同URL和参数（例如 `curl -v https://example.com`）
- 若 `curl` 同样失败，问题很可能源于服务器配置
- 若 `curl` 成功，则可能是 Insomnia 特定问题，可向官方技术支持反馈

---

### 解决方案总结
对于本地服务器可暂时禁用SSL验证，随后检查服务器证书或配置客户端证书。确保使用最新版 Insomnia，必要时通过 `curl` 进行深度排查。以上步骤可解决大部分 "SSL peer证书或SSH远程密钥无效" 错误。

若问题持续存在，可能是服务器端配置错误或 Insomnia 的罕见程序缺陷。如需进一步协助，请随时告知！