---
audio: false
generated: true
lang: zh
layout: post
title: 使用MySQL
translated: true
type: note
---

以下是使用MySQL（一种流行的开源关系型数据库管理系统）的逐步指南：

---

### 1. **安装**
- **Windows**：从 [mysql.com/downloads](https://dev.mysql.com/downloads/installer/) 下载MySQL安装程序
- **macOS**：
  ```bash
  brew install mysql
  brew services start mysql
  ```
- **Linux**（Debian/Ubuntu）：
  ```bash
  sudo apt update
  sudo apt install mysql-server mysql-client
  sudo systemctl start mysql
  sudo mysql_secure_installation  # 运行安全设置
  ```

---

### 2. **连接MySQL**
- **默认root登录**：
  ```bash
  mysql -u root -p  # 根据提示输入密码
  ```
- **连接远程服务器**：
  ```bash
  mysql -u username -p -h hostname -P 3306
  ```

---

### 3. **基础数据库操作**
- **创建用户**：
  ```sql
  CREATE USER 'myuser'@'localhost' IDENTIFIED BY 'mypassword';
  ```
- **创建数据库**：
  ```sql
  CREATE DATABASE mydb;
  GRANT ALL PRIVILEGES ON mydb.* TO 'myuser'@'localhost';
  FLUSH PRIVILEGES;
  ```
- **基础SQL命令**：
  ```sql
  -- 创建表
  CREATE TABLE users (
      id INT AUTO_INCREMENT PRIMARY KEY,
      name VARCHAR(50),
      email VARCHAR(100) UNIQUE
  );

  -- 插入数据
  INSERT INTO users (name, email) VALUES ('Bob', 'bob@example.com');

  -- 查询数据
  SELECT * FROM users WHERE name LIKE 'B%';

  -- 更新数据
  UPDATE users SET email = 'new@email.com' WHERE id = 1;

  -- 删除数据
  DELETE FROM users WHERE id = 2;
  ```

---

### 4. **高级功能**
- **表连接**：
  ```sql
  SELECT orders.id, users.name 
  FROM orders
  JOIN users ON orders.user_id = users.id;
  ```
- **存储过程**：
  ```sql
  DELIMITER //
  CREATE PROCEDURE GetUsers()
  BEGIN
    SELECT * FROM users;
  END //
  DELIMITER ;
  
  CALL GetUsers();
  ```
- **JSON支持**（MySQL 5.7+）：
  ```sql
  CREATE TABLE products (
      id INT PRIMARY KEY,
      details JSON
  );
  ```

---

### 5. **维护**
- **备份**：
  ```bash
  mysqldump -u root -p mydb > backup.sql
  ```
- **恢复**：
  ```bash
  mysql -u root -p mydb < backup.sql
  ```
- **优化表**：
  ```sql
  ANALYZE TABLE users;
  OPTIMIZE TABLE users;
  ```

---

### 6. **安全**
- **创建只读用户**：
  ```sql
  CREATE USER 'reader'@'localhost' IDENTIFIED BY 'readpass';
  GRANT SELECT ON mydb.* TO 'reader'@'localhost';
  FLUSH PRIVILEGES;
  ```

---

### 7. **实用MySQL命令**
- 列出数据库：`SHOW DATABASES;`
- 使用数据库：`USE mydb;`
- 列出表：`SHOW TABLES;`
- 描述表结构：`DESCRIBE users;`
- 显示用户：`SELECT user FROM mysql.user;`
- 退出MySQL：`EXIT;` 或 `QUIT;`

---

### 8. **图形界面工具**
- **MySQL Workbench**：官方GUI工具
- **phpMyAdmin**：基于Web的界面
- **DBeaver**：跨平台数据库工具
- **HeidiSQL**：轻量级Windows客户端

---

### 9. **学习资源**
- 官方文档：[dev.mysql.com/doc](https://dev.mysql.com/doc/)
- 交互式教程：[mysqltutorial.org](https://www.mysqltutorial.org/)
- 练习平台：[sqlzoo.net](https://sqlzoo.net/) 或 [leetcode.com](https://leetcode.com/)

---

**与PostgreSQL的主要区别**：
1. 使用 `AUTO_INCREMENT` 而非 `SERIAL`
2. 默认表名不区分大小写
3. 使用 `mysqldump` 而非 `pg_dump`
4. 默认端口：**3306**（PostgreSQL为5432）
5. 不同的认证系统和用户管理

**提示**：重大变更前务必备份数据库。关键操作请使用事务（`START TRANSACTION`/`COMMIT`）。