---
audio: false
lang: zh
layout: post
title: 入门云服务
translated: true
---

Cloudflare 是一项流行的服务，提供一系列工具来增强您的网站的性能、安全性和可靠性。无论您是运营一个小型博客还是一个大型电子商务网站，Cloudflare 的功能（如 DNS 管理、内容分发网络（CDN）和安全保护）都能产生显著的差异。在本博客文章中，我们将详细介绍三个关键任务：配置 DNS、管理 A 记录和封禁 IP 地区。这些对于充分利用 Cloudflare 非常重要，而且比您想象的更容易设置！

### **为什么使用 Cloudflare？**

在深入探讨如何使用之前，让我们快速了解一下 Cloudflare 的价值所在：
- **DNS 管理**：Cloudflare 提供快速可靠的 DNS 服务，确保您的网站始终可访问。
- **CDN**：它通过将内容缓存到离访问者更近的位置来加速您的网站。
- **安全**：Cloudflare 提供 DDoS 保护、SSL/TLS 加密和阻止恶意流量的工具。
- **易于使用**：更好的地方在于，Cloudflare 提供一个免费计划，非常适合小型网站和博客。

现在，让我们进入具体内容。

---

### **步骤 1：在 Cloudflare 上配置 DNS**

DNS（域名系统）就像互联网的电话簿——它将您的域名（例如 `example.com`）转换为服务器可以理解的 IP 地址。使用 Cloudflare 时，您将通过其平台管理 DNS 记录，这提供了额外的速度和安全性。

#### **如何设置 Cloudflare DNS：**
1. **注册 Cloudflare**：如果您还没有账户，请访问 [Cloudflare 网站](https://www.cloudflare.com/) 并注册一个免费账户。
2. **添加您的域名**：登录后，点击“添加网站”并输入您的域名（例如 `example.com`）。Cloudflare 将扫描您现有的 DNS 记录。
3. **审查 DNS 记录**：扫描完成后，Cloudflare 将显示您当前的 DNS 记录列表。您可以审查它们，以确保一切正常。
4. **更改您的域名服务器**：要使用 Cloudflare 的 DNS，您需要在域名注册商（例如 GoDaddy、Namecheap）更新域名的域名服务器。Cloudflare 将为您提供两个域名服务器（例如 `ns1.cloudflare.com` 和 `ns2.cloudflare.com`）。登录到注册商的仪表板，找到域名的域名服务器设置，并用 Cloudflare 的域名服务器替换现有的域名服务器。
5. **等待传播**：DNS 更改可能需要最多 24 小时传播，但通常会更快。完成后，您的域名将使用 Cloudflare 的 DNS。

**重要提示**：确保准确复制 Cloudflare 提供的域名服务器。不正确的域名服务器可能会导致您的网站离线。

---

### **步骤 2：在 Cloudflare 上管理 A 记录**

A 记录是一种 DNS 记录类型，将域名（或子域名）映射到 IPv4 地址。例如，它告诉互联网 `example.com` 应该指向 `192.0.2.1`。Cloudflare 使添加、编辑或删除 A 记录变得非常简单。

#### **如何管理 A 记录：**
1. **登录 Cloudflare**：转到 Cloudflare 仪表板并选择要管理的域名。
2. **导航到 DNS**：在顶部菜单中点击“DNS”选项卡。
3. **添加 A 记录**：
   - 点击“添加记录”。
   - 从类型下拉菜单中选择“A”。
   - 输入名称（例如 `www` 以便 `www.example.com` 或留空以便根域）。
   - 输入要指向的 IPv4 地址。
   - 选择是否通过 Cloudflare 代理记录（下面会详细介绍）。
   - 设置 TTL（生存时间）。对于代理记录，默认值为 300 秒。
   - 点击“保存”。
4. **编辑 A 记录**：在列表中找到现有的 A 记录，点击“编辑”，进行更改并点击“保存”。
5. **删除 A 记录**：点击记录旁边的“编辑”，然后点击“删除”。确认删除。

**代理 vs. 仅 DNS**：
- **代理（橙色云）**：流量通过 Cloudflare 传输，启用 CDN、安全性和性能功能。
- **仅 DNS（灰色云）**：流量直接传输到您的服务器，绕过 Cloudflare 的保护。对于不需要 Cloudflare 功能的记录（例如邮件服务器）使用此选项。

**快速提示**：Cloudflare 还支持 AAAA 记录以用于 IPv6 地址。管理它们的过程与 A 记录相同。

---

### **步骤 3：在 Cloudflare 上封禁 IP 地区**

Cloudflare 允许您阻止来自特定国家或地区的流量，这可以帮助减少垃圾邮件、机器人和恶意攻击。如果您注意到来自某些地区的不受欢迎的流量，这项功能特别有用。

#### **如何封禁 IP 地区：**
1. **登录 Cloudflare**：转到 Cloudflare 仪表板并选择您的域名。
2. **导航到安全**：点击“安全”选项卡，然后选择“WAF”（Web 应用防火墙）。
3. **创建规则**：
   - 点击“创建防火墙规则”。
   - 为规则命名（例如，“封禁特定国家”）。
   - 设置规则以基于访问者的国家阻止流量。例如：
     - 字段：“国家”
     - 运算符：“在”
     - 值：选择要封禁的国家。
   - 选择操作：“封禁”。
   - 点击“部署”。
4. **监控封禁的流量**：您可以在“安全”选项卡下的“事件”中查看被封禁的请求。

**重要提示**：请谨慎使用此功能。封禁整个地区可能会意外阻止合法用户访问您的网站。最好监控您的流量，只有在确定必要时才封禁地区。

---

### **额外的提示和最佳实践**

- **使用 Cloudflare 的免费计划**：它非常适合小型网站，并包括基本功能，如 DNS 管理、CDN 和基本安全性。
- **代理您的记录**：为了获得最佳性能和安全性，尽可能通过 Cloudflare 代理 A 和 AAAA 记录。
- **设置 SSL/TLS**：Cloudflare 提供免费 SSL 证书以加密访问者与您网站之间的流量。您可以在“SSL/TLS”选项卡中启用它。
- **探索缓存**：Cloudflare 的缓存可以显著加速您的网站。查看“缓存”选项卡进行配置。
- **监控您的网站**：使用 Cloudflare 的分析工具来关注流量、威胁和性能。

---

### **结论**

Cloudflare 是一个强大的工具，可以增强您的网站速度、安全性和可靠性。通过遵循本指南中的步骤，您可以轻松配置 DNS、管理 A 记录并封禁 IP 地区以保护您的网站。请记住：
- **DNS 配置**：正确更新域名服务器以避免停机。
- **A 记录**：使用它们将域名映射到服务器的 IP 地址，并考虑代理它们以获得额外的好处。
- **IP 地区封禁**：谨慎使用此功能以避免封禁合法用户。

Cloudflare 提供许多其他功能，如 SSL/TLS 加密、缓存和高级安全工具。一旦您熟悉了基础知识，探索这些选项以从平台中获得更多。