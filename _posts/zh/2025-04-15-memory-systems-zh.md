---
audio: false
generated: true
lang: zh
layout: post
title: 内存系统教程
translated: true
type: note
---

本教程涵盖内存系统的核心概念，重点讲解内存分类、RAM/ROM工作原理及地址解码技术。下面我们将系统性地展开讲解。

## 1. 内存分类

计算机内存主要可分为两大类：

### 1.1 按功能分类
- **主存储器**：CPU直接访问
  - RAM（随机存取存储器）：临时存储
  - ROM（只读存储器）：永久存储
- **辅助存储器**：外部存储设备（硬盘、固态硬盘等）

### 1.2 按数据保持性分类
- **易失性存储器**：断电后数据丢失（大多数RAM）
- **非易失性存储器**：无需供电即可保持数据（ROM、闪存）

### 1.3 按访问方式分类
- **随机访问**：可直接访问任意位置（RAM、ROM）
- **顺序访问**：按顺序访问数据（磁带）

## 2. RAM工作原理

RAM（随机存取存储器）是计算机的主要工作内存。

### 2.1 DRAM（动态RAM）
- 每个比特存储于微型电容器和晶体管中
- 需要定期刷新以维持数据（通常每几毫秒一次）
- 密度更高、成本更低，主内存中更常见
- 操作周期：行地址选通（RAS）→列地址选通（CAS）→数据访问

### 2.2 SRAM（静态RAM）
- 使用触发器电路存储每个比特
- 无需刷新，只要供电即可保持数据
- 速度更快，但比DRAM成本更高、密度更低
- 用于高速缓存

### 2.3 RAM组织结构
- 以行列矩阵形式组织
- 每个单元具有唯一地址（行+列）
- 数据位通常按字长组织（8、16、32、64位）

## 3. ROM工作原理

ROM（只读存储器）存储永久或半永久数据。

### 3.1 ROM类型
- **掩膜ROM**：制造过程中编程，无法修改
- **PROM（可编程ROM）**：用户可一次性编程
- **EPROM（可擦除PROM）**：可用紫外线擦除并重新编程
- **EEPROM（电可擦除PROM）**：可通过电信号擦除和重新编程
- **闪存**：EEPROM的现代形式，支持块擦除

### 3.2 ROM操作
- 在制造或编程时包含预写数据
- 读取过程：地址→解码器→感测放大器→输出缓冲器
- 写入（可写类型）：使用较高电压修改存储单元

## 4. 内存扩展

随着程序日益复杂，内存扩展常常成为必要。

### 4.1 容量扩展
- **芯片选择**：使用多个内存芯片增加总内存
- **字长扩展**：组合芯片以增加数据总线宽度
- **地址空间扩展**：增加可寻址内存空间

### 4.2 内存库
- 内存组织成可独立访问的存储体
- 支持交错访问，降低平均访问时间
- 便于现代架构中的并行操作

## 5. 地址解码技术

地址解码对于访问正确内存位置至关重要。

### 5.1 线性选择（全解码）
- 每个地址线直接连接一个内存位置
- 简单但大内存空间效率低
- 示例：在16位地址线系统中，需要2^16（65,536）个独立连接

### 5.2 基于解码器的选择
- **地址解码器**：将二进制地址转换为独热选择信号
- **2-4解码器**：接收2位地址，激活4条输出线之一
- **3-8解码器**：接收3位地址，激活8条输出线之一
- 常用IC：74LS138（3-8）、74LS154（4-16）

### 5.3 部分解码
- 并非所有地址位都被解码，节省硬件资源
- 多个内存位置可能映射到同一物理位置
- 产生内存"影子"或"镜像"

### 5.4 内存映射
- **连续映射**：内存块按顺序排列
- **分页映射**：内存划分为固定大小的页
- **分段映射**：内存划分为可变大小的段

## 6. 实现示例

### 6.1 简单RAM扩展示例
将32K × 8 RAM系统扩展至128K × 8：
1. 使用四个32K × 8 RAM芯片
2. 使用2个高位地址位在四个芯片间选择
3. 其余地址线并行连接所有芯片
4. 使用2-4解码器进行芯片选择

### 6.2 地址解码电路

对于地址范围0x8000-0x9FFF的内存映射系统：
1. 地址线A15-A13必须为"100"（对应0x8000-0x9FFF）
2. 使用与门检测该模式
3. 检测到该模式时使能相应内存芯片

至此我们完成了内存系统的概述，重点涵盖了分类、工作原理和扩展技术。掌握这些概念对于有效设计和操作计算机系统至关重要。