---
audio: false
generated: true
lang: zh
layout: post
title: 捕获日志
translated: true
type: note
---

在 GNOME 终端中，"全选"选项（通常通过`编辑 > 全选`或`Ctrl+Shift+A`访问）仅会选择屏幕上当前可见的文本。要选择终端中的**全部文本**，包括滚动缓冲区中的内容（超出可见范围），可以使用以下方法之一：

### 方法 1：增大滚动缓冲区并手动选择
1. **确保启用滚动缓冲区**：
   - 在 GNOME 终端中进入`编辑 > 配置文件首选项`
   - 在"滚动"标签页下，确保滚动缓冲区设置为较大数值或"无限制"以捕获所有终端输出
2. **手动选择**：
   - 使用鼠标或`Shift+Page Up`滚动至终端输出顶部
   - 从顶部点击并拖动至底部以手动选择全部文本
   - 或者使用`Shift+Home`跳转到缓冲区起始位置，然后点击拖动或使用`Shift+End`选择至末尾

### 方法 2：使用命令捕获全部输出
若需捕获所有终端输出（包括滚动缓冲区），可通过命令重定向或复制输出：
1. **重定向输出到文件**：
   - 若已知生成输出的命令，可使用重定向重新运行：
     ```bash
     command > output.txt
     ```
     这将所有输出保存至`output.txt`文件，随后可打开进行选择
2. **使用`script`记录终端会话**：
   - 通过以下命令开始记录会话：
     ```bash
     script output.log
     ```
   - 运行命令后输入`exit`停止记录
   - 打开`output.log`文件即可选择全部文本

### 方法 3：通过终端命令复制滚动缓冲区
1. 运行命令时使用`tee`命令捕获输出：
   ```bash
   command | tee output.txt
   ```
   这会在终端显示输出同时将其保存至`output.txt`
2. 在文本编辑器中打开文件即可轻松选择全部文本

### 方法 4：使用`tmux`或`screen`进行高级控制
若需频繁捕获所有终端输出：
1. **安装并使用`tmux`**：
   - 安装`tmux`：
     ```bash
     sudo apt install tmux  # Debian/Ubuntu系统
     ```
   - 启动`tmux`会话：
     ```bash
     tmux
     ```
   - 运行命令
   - 通过`Ctrl+b, [`进入滚动模式，然后按`Ctrl+a, Ctrl+e`选择缓冲区中的所有文本
   - 配置`tmux`启用复制后，使用`Ctrl+b, ]`进行复制
2. **保存tmux缓冲区**：
   - 将整个缓冲区保存至文件：
     ```bash
     tmux capture-pane -S - -E - -b 0 -J > output.txt
     ```
   - 打开`output.txt`即可选择全部文本

### 注意事项
- GNOME 终端本身未提供通过图形界面"选择全部滚动缓冲区"的功能
- 若未设置为无限制，滚动缓冲区大小可能会限制可用文本量
- 对于超大量输出，使用`tmux`、`screen`或重定向至文件更为可靠

若需要进一步说明或具体命令的帮助，请随时告知！