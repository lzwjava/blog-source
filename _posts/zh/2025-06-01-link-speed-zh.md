---
audio: false
generated: true
lang: zh
layout: post
title: åœ¨Ubuntuä¸­æ£€æŸ¥ä»¥å¤ªç½‘è¿æ¥é€Ÿåº¦
translated: true
type: note
---

åœ¨ Ubuntu ç³»ç»Ÿä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡å¤šç§å‘½ä»¤è¡Œå·¥å…·æ£€æŸ¥ä»¥å¤ªç½‘è¿æ¥é€Ÿåº¦ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸ç”¨æ–¹æ³•ï¼š

### **1. ä½¿ç”¨ `ethtool`ï¼ˆæ¨èï¼‰**
`ethtool` æ˜¯æ£€æµ‹ä»¥å¤ªç½‘æ¥å£å½“å‰è¿æ¥é€Ÿåº¦æœ€å¯é çš„æ–¹æ³•ã€‚

#### å®‰è£… `ethtool`ï¼ˆè‹¥æœªé¢„è£…ï¼‰ï¼š
```bash
sudo apt install ethtool
```

#### æ£€æŸ¥è¿æ¥é€Ÿåº¦ï¼š
```bash
sudo ethtool <æ¥å£åç§°>
```
è¯·å°† `<æ¥å£åç§°>` æ›¿æ¢ä¸ºæ‚¨çš„ä»¥å¤ªç½‘æ¥å£ï¼ˆå¦‚ `eth0`ã€`enp3s0`ã€`ens33`ï¼‰ã€‚

#### ç¤ºä¾‹ï¼š
```bash
sudo ethtool enp3s0
```
åœ¨è¾“å‡ºç»“æœä¸­æŸ¥æ‰¾ `Speed` å’Œ `Duplex` å­—æ®µï¼š
```
è®¾ç½®é¡¹ enp3s0:
    æ”¯æŒçš„ç«¯å£ï¼š[ TP ]
    æ”¯æŒçš„é“¾è·¯æ¨¡å¼ï¼š   10baseT/åŠåŒå·¥ 10baseT/å…¨åŒå·¥ 
                      100baseT/åŠåŒå·¥ 100baseT/å…¨åŒå·¥ 
                      1000baseT/å…¨åŒå·¥ 
    æ”¯æŒçš„æš‚åœå¸§ä½¿ç”¨ï¼šå¦
    æ”¯æŒè‡ªåŠ¨åå•†ï¼šæ˜¯
    æ”¯æŒçš„ FEC æ¨¡å¼ï¼šæœªæŠ¥å‘Š
    é€šå‘Šçš„é“¾è·¯æ¨¡å¼ï¼š  10baseT/åŠåŒå·¥ 10baseT/å…¨åŒå·¥ 
                      100baseT/åŠåŒå·¥ 100baseT/å…¨åŒå·¥ 
                      1000baseT/å…¨åŒå·¥ 
    é€šå‘Šçš„æš‚åœå¸§ä½¿ç”¨ï¼šå¦
    é€šå‘Šè‡ªåŠ¨åå•†ï¼šæ˜¯
    é€šå‘Šçš„ FEC æ¨¡å¼ï¼šæœªæŠ¥å‘Š
    é€Ÿåº¦ï¼š1000Mb/s   # <--- å½“å‰è¿æ¥é€Ÿåº¦
    åŒå·¥ï¼šå…¨åŒå·¥     # <--- å…¨åŒå·¥æˆ–åŠåŒå·¥
    ç«¯å£ï¼šåŒç»çº¿
    PHYADï¼š1
    æ”¶å‘å™¨ï¼šå†…ç½®
    è‡ªåŠ¨åå•†ï¼šå¼€å¯
    MDI-Xï¼šå¼€å¯ï¼ˆè‡ªåŠ¨ï¼‰
    æ”¯æŒè¿œç¨‹å”¤é†’ï¼špumbg
    è¿œç¨‹å”¤é†’ï¼šd
    å½“å‰æ¶ˆæ¯çº§åˆ«ï¼š0x00000007 (7)
                  é©±åŠ¨ æ¢æµ‹ é“¾è·¯
    æ£€æµ‹åˆ°é“¾è·¯ï¼šæ˜¯      # <--- æŒ‡ç¤ºç½‘çº¿æ˜¯å¦è¿æ¥
```

---

### **2. ä½¿ç”¨ `ip` æˆ– `ifconfig`ï¼ˆåŸºç¡€ä¿¡æ¯ï¼‰**
è¿™äº›å‘½ä»¤å¯æŸ¥çœ‹æ¥å£æ˜¯å¦å¯ç”¨ï¼Œä½†ä¸ä¼šç›´æ¥æ˜¾ç¤ºè¿æ¥é€Ÿåº¦ã€‚

#### ä½¿ç”¨ `ip`ï¼š
```bash
ip link show <æ¥å£åç§°>
```
ç¤ºä¾‹ï¼š
```bash
ip link show enp3s0
```
ï¼ˆä»…æ˜¾ç¤ºé“¾è·¯çŠ¶æ€ï¼Œæ— é€Ÿåº¦ä¿¡æ¯ï¼‰

#### ä½¿ç”¨ `ifconfig`ï¼ˆå·²å¼ƒç”¨ä½†ä»å¯ä½¿ç”¨ï¼‰ï¼š
```bash
ifconfig <æ¥å£åç§°>
```
ç¤ºä¾‹ï¼š
```bash
ifconfig enp3s0
```
ï¼ˆæ˜¾ç¤ºæ¥å£å¯ç”¨çŠ¶æ€ï¼Œæ— é€Ÿåº¦ä¿¡æ¯ï¼‰

---

### **3. ä½¿ç”¨ `dmesg`ï¼ˆæ£€æŸ¥é©±åŠ¨æ—¥å¿—ï¼‰**
æœ‰æ—¶ä»¥å¤ªç½‘é©±åŠ¨ä¼šåœ¨åˆå§‹åŒ–æ—¶è®°å½•åå•†çš„é€Ÿåº¦ã€‚
```bash
dmesg | grep <æ¥å£åç§°>
```
ç¤ºä¾‹ï¼š
```bash
dmesg | grep enp3s0
```
å¯»æ‰¾ç±»ä¼¼è®°å½•ï¼š
```
[    5.123456] e1000e: enp3s0 ç½‘å¡é“¾è·¯å·²å¯ç”¨ 1000 Mbps å…¨åŒå·¥
```

---

### **4. ä½¿ç”¨ `mii-tool`ï¼ˆæ—§ç‰ˆç³»ç»Ÿï¼‰**
é’ˆå¯¹è€æ—§ç³»ç»Ÿå¯ä½¿ç”¨ï¼š
```bash
sudo apt install net-tools
sudo mii-tool -v <æ¥å£åç§°>
```
ç¤ºä¾‹ï¼š
```bash
sudo mii-tool -v eth0
```
ï¼ˆä¸é€‚ç”¨äºç°ä»£åƒå…†ä»¥å¤ªç½‘ï¼‰

---

### **æ€»ç»“**
- **æœ€ä½³æ–¹æ¡ˆï¼š** `sudo ethtool <æ¥å£>`ï¼ˆæ˜¾ç¤ºé€Ÿåº¦ã€åŒå·¥æ¨¡å¼ã€è‡ªåŠ¨åå•†ï¼‰
- **å¤‡é€‰æ–¹æ¡ˆï¼š** å½“ `ethtool` ä¸å¯ç”¨æ—¶æ£€æŸ¥ `dmesg` æ—¥å¿—
- **åŸºç¡€çŠ¶æ€ï¼š** `ip link show` æˆ– `ifconfig`ï¼ˆä¸æ˜¾ç¤ºé€Ÿåº¦ï¼‰

å¦‚éœ€è¿›ä¸€æ­¥è¯´æ˜è¯·éšæ—¶å‘ŠçŸ¥ï¼ğŸš€