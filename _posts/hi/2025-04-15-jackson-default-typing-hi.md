---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-code-fast-1
title: जैक्सन डिफ़ॉल्ट टाइपिंग समझाया
translated: true
type: note
---

### जैक्सन के ऑब्जेक्टमैपर में डिफॉल्ट टाइपिंग क्या है?

जैक्सन का `ObjectMapper` जावा के लिए जैक्सन JSON लाइब्रेरी में एक मुख्य क्लास है, जो जावा ऑब्जेक्ट्स को JSON में बदलने (serialize) और JSON को वापस ऑब्जेक्ट्स में बदलने (deserialize) के लिए जिम्मेदार है। "डिफॉल्ट टाइपिंग" एक ऐसी सुविधा है जो पॉलीमॉर्फिक टाइप्स (जैसे, जब कोई फ़ील्ड विभिन्न उप-वर्गों को रख सकती है) के प्रबंधन को बेहतर बनाती है। यह काम करती है सीरियलाइज़ेशन के दौरान JSON आउटपुट में टाइप जानकारी एम्बेड करके, जिसे मैपर डी-सीरियलाइज़ेशन के दौरान सही कंक्रीट क्लास को इंस्टेंटिएट करने के लिए उपयोग करता है।

डिफॉल्ट टाइपिंग के बिना, जैक्सन घोषित प्रकार (जैसे, एक अमूर्त आधार वर्ग या इंटरफेस) पर निर्भर करता है, और आपको उप-प्रकारों को निर्दिष्ट करने के लिए `@JsonTypeInfo` एनोटेशन जैसे कस्टम कॉन्फ़िगरेशन की आवश्यकता हो सकती है। डिफॉल्ट टाइपिंग को सक्षम करना पॉलीमॉर्फिज्म के लिए एक वैश्विक या अर्ध-वैश्विक फॉलबैक प्रदान करता है, जो विशेष रूप से मिश्रित प्रकारों वाले संग्रह (collections) या मैप्स के लिए उपयोगी होता है।

### यह कैसे काम करती है?

डिफॉल्ट टाइपिंग को सक्षम करना सीरियलाइज़ेशन प्रक्रिया को संशोधित करता है:
1. **सीरियलाइज़ेशन**: जब किसी ऑब्जेक्ट ग्राफ को सीरियलाइज़ किया जाता है, तो जैक्सन JSON में पॉलीमॉर्फिक ऑब्जेक्ट्स के रनटाइम प्रकार को इंगित करने के लिए एक विशेष `@class` फ़ील्ड या समान मेटाडेटा जोड़ता है। यह केवल उन प्रकारों के लिए होता है जहां घोषित प्रकार पूरी तरह से कंक्रीट क्लास को निर्दिष्ट नहीं करता है (जैसे, `String` और `Integer` ऑब्जेक्ट्स वाली `List`, या अमूर्त वर्ग फ़ील्ड्स)।

2. **डी-सीरियलाइज़ेशन**: डी-सीरियलाइज़ेशन के दौरान, मैपर सटीक क्लास को देखने और इंस्टेंटिएट करने के लिए इस एम्बेडेड टाइप जानकारी का उपयोग करता है। यह प्रकारों को गतिशील रूप से हल करने के लिए जैक्सन के `TypeFactory` का लाभ उठाता है।

इसे सक्षम करने के लिए, आप `ObjectMapper` इंस्टेंस पर इनमें से एक विधि को कॉल करते हैं:
- `mapper.enableDefaultTyping()`: एक अप्रचलित विधि जो स्थिर-समय पॉलीमॉर्फिक टाइपिंग समावेशन को सक्षम करती है (सुरक्षा मुद्दों के प्रति संवेदनशील)।
- `mapper.activateDefaultTyping(ObjectMapper.DefaultTyping policy)`: एक सुरक्षित, अनुशंसित विकल्प जो जैक्सन 2.10 में पेश किया गया। यह एक `DefaultTyping` enum मान निर्दिष्ट करने की अनुमति देता है, जैसे:
  - `JAVA_LANG_OBJECT`: सभी `Object` संदर्भों के लिए टाइपिंग शामिल करता है।
  - `NON_CONCRETE_AND_ARRAYS`: अमूर्त/गैर-कंक्रीट प्रकारों और arrays के लिए टाइपिंग शामिल करता है।
  - `NON_FINAL`: गैर-अंतिम (non-final) कक्षाओं के लिए टाइपिंग शामिल करता है।

उदाहरण उपयोग:
```java
import com.fasterxml.jackson.databind.ObjectMapper;
import static com.fasterxml.jackson.databind.ObjectMapper.DefaultTyping;

ObjectMapper mapper = new ObjectMapper();
mapper.activateDefaultTyping(DefaultTyping.NON_CONCRETE_AND_ARRAYS);
```

सक्षम किए बिना, यदि आप मिश्रित प्रकारों वाली `List<Object>` को सीरियलाइज़ करते हैं, तो JSON टाइप विवरण छोड़ सकती है, जिससे डी-सीरियलाइज़ेशन त्रुटियां हो सकती हैं। इसे सक्षम करने पर, JSON में टाइप संकेत शामिल होते हैं, उदाहरण के लिए: `[{"@class": "java.lang.String", "value": "hello"}, {"@class": "java.lang.Integer", "value": 42}]`.

### सुरक्षा विचार और सीमाएँ

- **भेद्यताएँ**: डिफॉल्ट टाइपिंग को अंधाधुंध सक्षम करना (विशेष रूप से पुरानी `enableDefaultTyping()`) सिस्टम को हमलों जैसे डेटा निष्कर्षण के प्रति उजागर कर सकता है, क्योंकि यह तैयार किए गए JSON के माध्यम से मनमानी कक्षाओं को डी-सीरियलाइज़ करने की अनुमति देता है। जैक्सन नए संस्करणों में इसे डिफ़ॉल्ट रूप से सीमित करता है, जब तक कि अनुकूलित न किया जाए, केवल सामान्य प्रकारों की अनुमति देता है।
- **उपयोग मामला उपयुक्तता**: यह विश्वसनीय वातावरणों में पॉलीमॉर्फिक डेटा (जैसे, आंतरिक APIs) के लिए सबसे उपयुक्त है। सार्वजनिक APIs के लिए, बेहतर सुरक्षा के लिए स्पष्ट प्रकार एनोटेशन या कस्टम सीरियलाइज़र्स/डी-सीरियलाइज़र्स को प्राथमिकता दें।
- **प्रदर्शन**: एम्बेडेड टाइप जानकारी के कारण मामूली ओवरहेड जोड़ता है, JSON आकार बढ़ाता है।

यदि यह किसी भिन्न "ऑब्जेक्ट मैपर" (जैसे, Elasticsearch का या किसी अन्य लाइब्रेरी) से संबंधित है, तो एक अनुकूलित स्पष्टीकरण के लिए अधिक संदर्भ प्रदान करें। पूर्ण विवरण के लिए, जैक्सन की आधिकारिक दस्तावेज़ीकरण देखें।