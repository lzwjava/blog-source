---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-4-fast
title: वेबस्फीयर डब्ल्यूएएस में हॉट डिप्लॉयमेंट
translated: true
type: note
---

### वेबस्फीयर एप्लिकेशन सर्वर (WAS) में हॉट डिप्लॉयमेंट और हॉटस्वैप को समझना

हॉट डिप्लॉयमेंट (जिसे हॉट रीलोडिंग या हॉट स्वैपिंग भी कहा जाता है) एक डेवलपमेंट तकनीक है जो आपको एप्लिकेशन सर्वर का पूर्ण रीस्टार्ट किए बिना, अपने एप्लिकेशन में परिवर्तन—जैसे कोड, कॉन्फ़िगरेशन, या रिसोर्सेज़—को अपडेट और डिप्लॉय करने की अनुमति देती है। यह पुनरावृत्त डेवलपमेंट चक्रों के दौरान विशेष रूप से मूल्यवान है, जहां बार-बार कोड परिवर्तन (जैसे, बग ठीक करना, लॉजिक में बदलाव करना, या UI एलिमेंट्स अपडेट करना) सर्वर स्टार्टअप के लंबे समय के कारण धीमे हो जाते हैं, खासकर IBM वेबस्फीयर एप्लिकेशन सर्वर (WAS) जैसे एंटरप्राइज़ वातावरण में। एक WAS इंस्टेंस को रीस्टार्ट करने में मिनटों या बड़े एप्लिकेशन्स के लिए और भी अधिक समय लग सकता है, जिससे वर्कफ़्लो और टेस्टिंग बाधित होती है।

आपके द्वारा प्रदान किया गया स्निपेट WAS में तेज़ पुनरावृत्तियाँ प्राप्त करने के लिए व्यावहारिक रणनीतियों पर केंद्रित है, जो "एक्सप्लोडेड" WAR डिप्लॉयमेंट्स और बेहतर हॉट स्वैपिंग के लिए टूल्स पर जोर देता है। मैं इसे चरण दर चरण तोड़कर समझाऊंगा, अवधारणाओं, उनके काम करने के तरीके, उनकी सीमाओं और कार्यान्वयन युक्तियों को समझाते हुए।

#### 1. "एक्सप्लोडेड" WAR (अनपैक्ड डिप्लॉयमेंट) के रूप में डिप्लॉय करना
एक WAR (वेब एप्लिकेशन आर्काइव) फ़ाइल अनिवार्य रूप से आपके वेब एप्लिकेशन के रिसोर्सेज़ वाला एक ज़िप्ड बंडल होता है: JSPs, सर्वलेट्स, Java क्लासेज़, स्टैटिक फ़ाइलें (HTML/CSS/JS), लाइब्रेरीज़ (JARs), और कॉन्फ़िगरेशन फ़ाइलें (जैसे, web.xml)। डिफ़ॉल्ट रूप से, WARs को **पैकेज्ड** (ज़िप्ड) फ़ाइलों के रूप में डिप्लॉय किया जाता है, जिन्हें WAS अपरिवर्तनीय मानता है—किसी भी बदलाव के लिए पूरे आर्काइव को दोबारा पैकेज करना और रीडिप्लॉय करना आवश्यक होता है।

एक **एक्सप्लोडेड WAR** डिप्लॉयमेंट से पहले WAR फ़ाइल को एक डायरेक्टरी स्ट्रक्चर में अनपैक (अनज़िप) करने को संदर्भित करता है। यह सर्वर की फ़ाइलसिस्टम पर व्यक्तिगत फ़ाइलों या सबडायरेक्टरीज़ को सीधे संशोधित करने की अनुमति देता है, बिना पूरे आर्काइव को छुए।

**यह तेज़ पुनरावृत्तियाँ कैसे सक्षम करता है:**
- **फ़ाइल-लेवल अपडेट:** आप एक एकल JSP या Java क्लास फ़ाइल को एडिट कर सकते हैं, और WAS उस घटक का पता लगाकर केवल उसे ही रीलोड कर सकता है।
- **कोई पुनः पैकेजिंग नहीं:** बड़े WARs को बार-बार ज़िप/अनज़िप करने का ओवरहेड समाप्त हो जाता है।
- **हॉट रीलोडिंग के साथ तालमेल:** सर्वर के लिए बदली हुई फ़ाइलों पर नज़र रखना और उन्हें रीफ़्रेश करना आसान बनाता है।

**WAS में एक्सप्लोडेड WAR कैसे डिप्लॉय करें:**
- **एडमिन कंसोल का उपयोग करके:**
  1. WAS इंटीग्रेटेड सॉल्यूशंस कंसोल में लॉग इन करें (आमतौर पर `http://localhost:9060/ibm/console` पर)।
  2. **Applications > New Application > New Enterprise Application** पर नेविगेट करें।
  3. एक पैकेज्ड WAR फ़ाइल चुनने के बजाय, अपने अनपैक्ड WAR की रूट डायरेक्टरी की ओर इशारा करें (जैसे, `/path/to/myapp.war/`—ध्यान दें कि यह एक डायरेक्टरी है, इसका संकेत देने के लिए ट्रेलिंग स्लैश)।
  4. डिप्लॉयमेंट विज़ार्ड को पूरा करें, यह सुनिश्चित करते हुए कि "Deploy Web services" और अन्य विकल्प आपके ऐप से मेल खाते हों।
- **wsadmin (स्क्रिप्टिंग टूल) का उपयोग करके:**
  ```bash
  wsadmin.sh -c "AdminApp.install('/path/to/myapp', '[ -MapWebModToVH [[myapp .* default_host.* virtual_host ]]]')"
  ```
  `/path/to/myapp` को अपनी एक्सप्लोडेड डायरेक्टरी से बदलें।
- **डेवलपमेंट सर्वर (जैसे, Liberty Profile):** हल्के टेस्टिंग के लिए, Open Liberty (एक WAS वेरिएंट) का उपयोग `server start` के साथ करें और अपने एक्सप्लोडेड ऐप को ऑटोमैटिक डिप्लॉयमेंट के लिए `dropins` फ़ोल्डर में रखें।

**सर्वोत्तम अभ्यास:**
- अपने IDE से एक्सप्लोडेड डायरेक्टरी में परिवर्तन सिंक करने के लिए एक सोर्स कंट्रोल टूल (जैसे, Git) का उपयोग करें।
- डिस्क स्पेस पर नज़र रखें, क्योंकि एक्सप्लोडेड डिप्लॉयमेंट अधिक स्टोरेज का उपयोग करते हैं।
- प्रोडक्शन में, सुरक्षा और स्थिरता के लिए पैकेज्ड WARs पर टिके रहें—हॉट डिप्लॉयमेंट मुख्यतः dev/test के लिए है।

एक बार एक्सप्लोडेड डिप्लॉय हो जाने के बाद, WAS के अंतर्निहित मैकेनिज़्म आंशिक हॉट रीलोडिंग के लिए काम कर सकते हैं।

#### 2. WAS का अंतर्निहित हॉट-रीलोड सपोर्ट
WAS कुछ घटकों के लिए पूर्ण रीस्टार्ट के बिना हॉट रीलोडिंग के लिए देशी सपोर्ट प्रदान करता है, लेकिन यह सीमित है। यह सर्वर के **फ़ाइल पोलिंग** मैकेनिज्म पर निर्भर करता है, जहां WAS समय-समय पर बदलावों के लिए एक्सप्लोडेड डिप्लॉयमेंट डायरेक्टरी को स्कैन करता है (JVM args जैसे `-DwasStatusCheckInterval=5` के माध्यम से कॉन्फ़िगर करने योग्य, 5-सेकंड की जांच के लिए)।

**WAS आउट-ऑफ-द-बॉक्स क्या सपोर्ट करता है:**
- **JSPs (JavaServer Pages):**
  - JSPs पहली एक्सेस पर सर्वलेट्स में डायनामिकली कंपाइल होती हैं। यदि आप एक्सप्लोडेड WAR में एक JSP फ़ाइल को संशोधित करते हैं, तो WAS परिवर्तन का पता लगा सकता है, उसे दोबारा कंपाइल कर सकता है, और सर्वलेट को रीलोड कर सकता है।
  - **यह कैसे काम करता है:** बार-बार जांच के लिए `ibm-web-ext.xmi` (WEB-INF के अंतर्गत) में `reloadInterval` को कम वैल्यू (जैसे, 1 सेकंड) पर सेट करें। या **Servers > Server Types > WebSphere application servers > [your_server] > Java and Process Management > Process definition > Java Virtual Machine > Custom properties** में ग्लोबल सेटिंग का उपयोग `com.ibm.ws.webcontainer.invokefilterscompatibility=true` के साथ करें।
  - **सीमाएँ:** केवल उन JSPs के लिए काम करता है जिन्हें अत्यधिक एग्रेसिव तरीके से कैश नहीं किया गया है। इन्क्लूड्स या टैग्स वाली कॉम्प्लेक्स JSPs को मॉड्यूल रीस्टार्ट की आवश्यकता हो सकती है।
- **कुछ Java क्लासेज़ (सर्वलेट्स और EJBs):**
  - एक्सप्लोडेड डिप्लॉयमेंट्स के लिए, WAS व्यक्तिगत क्लास फ़ाइलों को रीलोड कर सकता है यदि वे WEB-INF/classes या lib डायरेक्टरीज़ में हैं।
  - **यह कैसे काम करता है:** डिप्लॉयमेंट डिस्क्रिप्टर में या कंसोल के माध्यम से "Application reload" सक्षम करें: **Applications > [your_app] > Manage Modules > [module] > Reload behavior > Reload enabled**।
  - यह एक **मॉड्यूल-लेवल रीलोड** ट्रिगर करता है, जो पूर्ण ऐप रीस्टार्ट से तेज़ है लेकिन फिर भी पूरे मॉड्यूल (जैसे, आपका वेब ऐप) को अनलोड/रीलोड करता है।

**अंतर्निहित सपोर्ट की सीमाएँ:**
- **सच्चा हॉटस्वैप नहीं:** कोर एप्लिकेशन लॉजिक में परिवर्तन (जैसे, चल रही सर्वलेट क्लास में एक मेथड को संशोधित करना) पुराने क्लासलोडर को अनलोड किए बिना प्रभावी नहीं होंगे। आपको `ClassNotFoundException` या पुराना कोड दिखाई दे सकता है।
- **स्टेट लॉस:** सत्र, सिंगलटन, या डेटाबेस कनेक्शन रीसेट हो सकते हैं।
- **IBM JDK विशिष्टताएँ:** WAS अक्सर IBM के JDK का उपयोग करता है, जिसमें OpenJDK/HotSpot की तुलना में क्लास रीलोडिंग के साथ विशेषताएँ होती हैं।
- **संरचनात्मक परिवर्तनों के लिए कोई सपोर्ट नहीं:** नई क्लासेज़ जोड़ना, मेथड सिग्नेचर बदलना, या एनोटेशन्स अपडेट करने के लिए रीस्टार्ट की आवश्यकता होती है।
- **परफॉर्मेंस ओवरहेड:** बार-बार पोलिंग dev में रिसोर्सेज़ पर दबाव डाल सकती है।

बेसिक UI ट्वीक्स (JSP एडिट्स) या सरल क्लास अपडेट्स के लिए, यह पर्याप्त और मुफ़्त है। लेकिन "फुल हॉटस्वैप"—जहां आप बीच-बीच में चल रहे कोड को बिना किसी रीलोड के एडिट कर सकते हैं—के लिए आपको थर्ड-पार्टी टूल्स की आवश्यकता होती है।

#### 3. फुल हॉटस्वैप सॉल्यूशंस
सीमलेस कोड परिवर्तन प्राप्त करने के लिए (जैसे, Eclipse या IntelliJ जैसे डीबगर-अटैच्ड IDE में एक मेथड बॉडी को एडिट करना, और इसे तुरंत लागू होते देखना), ऐसे प्लगइन्स का उपयोग करें जो JVM के क्लास लोडिंग और इंस्ट्रुमेंटेशन को पैच करते हैं।

**विकल्प 1: JRebel (पेड प्लगइन)**
- **यह क्या है:** Perforce (पूर्व में ZeroTurnaround) से एक कमर्शियल टूल जो Java ऐप्स के लिए व्यापक हॉटस्वैप प्रदान करता है। यह स्टार्टअप पर आपके बाइटकोड को इंस्ट्रुमेंट करता है, जिससे क्लासेज़, रिसोर्सेज़ और यहां तक कि फ्रेमवर्क-स्पेसिफिक परिवर्तनों (जैसे, Spring beans, Hibernate entities) को रीलोड करने की अनुमति मिलती है।
- **WAS के साथ इसका उपयोग क्यों करें:**
  - WAS के साथ गहरा एकीकरण, जिसमें एक्सप्लोडेड WARs, OSGi बंडल्स, और IBM JDK के लिए सपोर्ट शामिल है।
  - जटिल परिदृश्यों को संभालता है जैसे मेथड सिग्नेचर बदलना या फ़ील्ड्स जोड़ना (मानक JVMTI हॉटस्वैप सीमाओं से परे)।
  - **फीचर्स:** आपके IDE से परिवर्तनों का स्वचालित पता लगाना; कोई मैन्युअल रीडिप्लॉय नहीं; ऐप स्टेट को संरक्षित रखता है।
- **इसे कैसे सेट अप करें:**
  1. आधिकारिक साइट से JRebel डाउनलोड करें और Eclipse/IntelliJ प्लगइन के रूप में इंस्टॉल करें।
  2. अपनी प्रोजेक्ट के लिए एक `rebel.xml` कॉन्फ़िग फ़ाइल जनरेट करें (स्वचालित या मैनुअल)।
  3. अपने WAS सर्वर में JVM args जोड़ें: `-javaagent:/path/to/jrebel.jar` (एजेंट JAR का पूरा पथ)।
  4. डीबग मोड में WAS स्टार्ट करें (`-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000`)।
  5. अपना IDE डीबगर अटैच करें और कोड एडिट करें—JRebel परिवर्तनों को लाइव सिंक करता है।
- **लागत:** सब्सक्रिप्शन-आधारित (~$400/उपयोगकर्ता/वर्ष व्यक्तियों के लिए; एंटरप्राइज़ लाइसेंसिंग भिन्न होती है)। निःशुल्क परीक्षण उपलब्ध।
- **फायदे:** विश्वसनीय, उपयोगकर्ता-अनुकूल, उत्कृष्ट WAS सपोर्ट।
- **नुकसान:** भुगतान योग्य; प्रति प्रोजेक्ट सेटअप की आवश्यकता होती है।

**विकल्प 2: DCEVM + HotSwapAgent (मुफ़्त विकल्प)**
- **यह क्या है:** एडवांस्ड हॉटस्वैपिंग के लिए एक ओपन-सोर्स कॉम्बो।
  - **DCEVM (डायनामिक कोड एवोल्यूशन VM):** एक संशोधित JVM जो HotSpot के JVMTI (Java वर्चुअल मशीन टूल इंटरफ़ेस) का विस्तार करती है ताकि अधिक आक्रामक क्लास पुनर्परिभाषा की अनुमति दी जा सके (जैसे, मेथड्स जोड़ना/हटाना, पदानुक्रम बदलना)।
  - **HotSwapAgent:** एक एजेंट जो DCEVM पर बनता है, और स्वचालित क्लास रीलोडिंग के लिए IDE इंटीग्रेशन प्रदान करता है।
- **WAS के साथ इसका उपयोग क्यों करें:**
  - डेवलपमेंट के लिए मुफ़्त और शक्तिशाली, JRebel की क्षमताओं की नकल करता है।
  - मेथड बॉडी परिवर्तन, रिसोर्स अपडेट, और यहां तक कि कुछ फ्रेमवर्क रीलोड्स (प्लगइन्स के माध्यम से) का समर्थन करता है।
- **WAS के IBM JDK के साथ संगतता नोट:**
  - WAS आमतौर पर IBM के J9 JDK के साथ आता है, जो **DCEVM का मूल रूप से समर्थन नहीं करता है** (DCEVM HotSpot-स्पेसिफिक है)।
  - **वर्कअराउंड:** डेवलपमेंट के लिए OpenJDK/HotSpot पर स्विच करें (जैसे, `setInitial.sh` में `JAVA_HOME` ओवरराइड के माध्यम से या Liberty के `jvm.options` के माध्यम से)। अच्छी तरह से टेस्ट करें—IBM JDK की गार्बेज कलेक्शन और सुरक्षा सुविधाएँ भिन्न हो सकती हैं।
  - प्रोडक्शन में, IBM JDK पर वापस लौटें; यह केवल डेवलपमेंट के लिए है।
- **इसे कैसे सेट अप करें:**
  1. **DCEVM इंस्टॉल करें:**
     - GitHub से DCEVM पैचर JAR डाउनलोड करें (जैसे, JDK 11+ के लिए `dcevm-11.0.0+7-full.jar`)।
     - रन करें: `java -jar dcevm.jar /path/to/your/jdk/jre/lib/server/jvm.dll server` (Windows) या Linux के लिए समकक्ष (`libjvm.so`)।
     - यह आपके JDK के JVM बाइनरी को पैच करता है—पहले बैकअप लें!
  2. **HotSwapAgent इंस्टॉल करें:**
     - GitHub से `hotswap-agent.jar` डाउनलोड करें।
     - WAS JVM args में जोड़ें: `-XXaltjvm=dcevm -XX:+TraceClassLoading -javaagent:/path/to/hotswap-agent.jar=DCEVM` (प्लस कोई भी प्लगइन्स, जैसे, Spring के लिए `=hotswap-spring`)।
  3. **IDE इंटीग्रेशन:**
     - IntelliJ/Eclipse के लिए HotSwapAgent प्लगइन इंस्टॉल करें।
     - WAS को ऊपर बताए गए डीबग args के साथ स्टार्ट करें।
     - IDE में कोड एडिट करें और सेव करें—एजेंट स्वचालित रूप से रीलोड कर देगा।
  4. **संगतता का परीक्षण:**
     - एक स्मोक टेस्ट चलाएँ: एक साधारण सर्वलेट डिप्लॉय करें, एक मेथड एडिट करें (जैसे, एक लॉग लाइन जोड़ें), एंडपॉइंट को हिट करें, और रीस्टार्ट के बिना परिवर्तन सत्यापित करें।
     - `HotSwap failed: method limit reached` जैसी त्रुटियों के लिए लॉग्स की जांच करें (DCEVM की प्रति क्लास परिवर्तनों की सीमा होती है)।
- **फायदे:** मुफ़्त, अनुकूलन योग्य (Spring, CDI, आदि के लिए प्लगइन्स के माध्यम से), कम्युनिटी-समर्थित।
- **नुकसान:** सेटअप जटिल है; गैर-मानक JVMs के साथ संभावित अस्थिरता; HotSpot तक सीमित (IBM JDK स्विच का सावधानी से परीक्षण करें); JRebel जितना परिष्कृत नहीं है।

#### क्या कब उपयोग करें
- **एक्सप्लोडेड WAR + अंतर्निहित रीलोड:** शुरुआती डेवलपमेंट में त्वरित JSP/स्टैटिक फ़ाइल ट्वीक्स के लिए।
- **JRebel:** यदि बजट अनुमति देता है और आपको एंटरप्राइज़-ग्रेड विश्वसनीयता की आवश्यकता है।
- **DCEVM + HotSwapAgent:** लागत-मुक्त फुल हॉटस्वैप के लिए, लेकिन JVM संगतता परीक्षण के लिए समय आवंटित करें।

संक्षेप में, ये तकनीकें WAS को एक हैवीवेट सर्वर से एक अधिक चुस्त डेवलपमेंट वातावरण में बदल देती हैं, जिससे पुनरावृत्ति का समय मिनटों से सेकंडों में कम हो जाता है। तत्काल लाभ के लिए एक्सप्लोडेड WARs से शुरुआत करें, फिर आवश्यकतानुसार टूल्स को जोड़ते जाएं। यदि आप विशिष्ट त्रुटियों का सामना कर रहे हैं, तो समस्या निवारण के लिए अधिक विवरण साझा करें।

**संदर्भ:**  
[JRebel Documentation for WebSphere](https://www.jrebel.com/products/jrebel/tutorials/deploy-jrebel-websphere)  
[DCEVM GitHub Repo](https://github.com/dcevm/dcevm)  
[HotSwapAgent GitHub Repo](https://github.com/HotswapProjects/HotswapAgent)  
[IBM Knowledge Center: WebSphere Hot Deployment](https://www.ibm.com/docs/en/was/9.0.5?topic=applications-hot-deployment)