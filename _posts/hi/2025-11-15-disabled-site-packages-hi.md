---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-4-fast
title: पायथन उपयोगकर्ता साइट पैकेज अक्षम
translated: true
type: note
---

पैकेज **आपके यूजर डायरेक्टरी में पहले से इंस्टॉल है** (`~/.local/lib/python3.13/site-packages`), लेकिन जब आप `python3 ./scripts/train/extract_wiki.py` चलाकर स्क्रिप्ट रन करते हैं, तो Python किसी कारण से **यूजर site-packages डायरेक्टरी में नहीं देख रहा है**।

यह Python 3.11+ के साथ कई Linux डिस्ट्रीब्यूशन (Ubuntu 22.04/24.04, Debian, Arch, आदि) पर एक बहुत ही आम समस्या है क्योंकि डिफॉल्ट `python3` में अक्सर एनवायरनमेंट वेरिएबल `PYTHONNOUSERSITE=1` सेट होता है या सिस्टम पैकेज मैनेजर द्वारा `-I` (आइसोलेटेड) फ्लैग एनेबल होता है, जो **यूजर site-packages पाथ को पूरी तरह से डिसेबल कर देता है**।

### जल्दी से पुष्टि करने के तरीके कि यही समस्या है

इन दो कमांडों को रन करें:

```bash
python3 -c "import sys, pathlib; print('user site:', pathlib.Path(sys.path[-1]).resolve() if 'site-packages' in sys.path[-1] else 'DISABLED')"
python3 -c "import site; print(site.ENABLE_USER_SITE)"
```

अगर आपको `DISABLED` या `False` या `None` दिखाई देता है, तो यही समस्या है।

### समाधान (एक चुनें)

#### विकल्प 1 – `python3 -m pip` का उपयोग करें और उसी Python के साथ रन करें (सुझाया गया)

```bash
# हमेशा मॉड्यूल फॉर्म का उपयोग करें ताकि आपको पूरा यकीन हो कि आप किस Python में इंस्टॉल कर रहे हैं
python3 -m pip install --user --upgrade mediawiki-dump

# फिर अपनी स्क्रिप्ट को उसी Python के साथ रन करें
python3 ./scripts/train/extract_wiki.py
```

अगर फिर भी फेल होता है, तो जबरन यूजर साइट ऑन करें:

```bash
python3 -s ./scripts/train/extract_wiki.py
# या
PYTHONNOUSERSITE=0 python3 ./scripts/train/extract_wiki.py
```

#### विकल्प 2 – एक वर्चुअल एनवायरनमेंट का उपयोग करें (किसी भी स्थिति में सबसे अच्छा तरीका)

```bash
cd /home/lzw/projects/blog-source
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip
pip install mediawiki-dump   # यह venv में इंस्टॉल होगा, कोई परमिशन प्रॉब्लम नहीं
python ./scripts/train/extract_wiki.py   # अब यह निश्चित रूप से इसे ढूंढ लेगा
```

#### विकल्प 3 – यूजर साइट को स्थायी रूप से फोर्स-एनेबल करें (सिस्टम Python के लिए सुझाया नहीं गया)

इसे अपने `~/.bashrc` या `~/.zshrc` में जोड़ें:

```bash
export PYTHONNOUSERSITE=
```

या यह बनाएं `~/.config/pythonstartup.py`:

```python
import site
import os
os.environ["PYTHONNOUSERSITE"] = ""
```

### अभी के लिए फास्ट वन-लाइनर टेस्ट

बस इसे अपने करंट शेल में रन करें:

```bash
python3 -s -c "from mediawiki_dump.tokenizer import WikiTokenizer; print('Works!')"
```

अगर यह "Works!" प्रिंट करता है, तो फिक्स बस इतना है कि हमेशा `python3 -s` का उपयोग करें या एक venv बना लें।

Venv वाले रास्ते (विकल्प 2) का उपयोग करें — यह आपको हर दूसरे पैकेज के साथ होने वाली endless headaches से बचा लेगा। अगर उसके बाद भी कोई नया error आता है तो मुझे बताएं!