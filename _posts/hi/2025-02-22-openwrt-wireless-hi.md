---
audio: true
lang: hi
layout: post
title: OpenWRT को वायरलेस ब्रिज के रूप में कॉन्फ़िगर करने
translated: true
---

आपके प्रश्न "क्या यह सही है?" को संबोधित करने के लिए, OpenWRT को वायरलेस ब्रिज के रूप में सेटअप करने के लिए दिए गए कदमों को सही तरीके से करने के लिए, मैं दिए गए कदमों को मूल्यांकन करूँगा और OpenWRT के लिए सर्वोत्तम प्रथाओं के आधार पर उन्हें संशोधित करूँगा। आपका उद्देश्य OpenWRT राउटर (जैसे कि Xiaomi Mi Router 4C with OpenWRT 24.10.0) को वायरलेस ब्रिज के रूप में सेटअप करना है—एक मौजूदा Wi-Fi नेटवर्क के साथ वायरलेस रूप से कनेक्ट होने के रूप में एक क्लाइंट और उस कनेक्शन को अपने Wi-Fi एक्सेस पॉइंट (AP) या ईथर्नेट पोर्ट्स के माध्यम से शेयर करना, सभी डिवाइस को मुख्य राउटर के साथ एक ही सबनेट पर रखते हुए।

आपके दिए गए कदमों में एक महत्वपूर्ण संशोधन की आवश्यकता है ताकि सही ब्रिजिंग और IP संघर्षों से बचा जा सके। नीचे, मैं पहले आपकी सेटिंग को मूल्यांकन करूँगा और फिर OpenWRT में वायरलेस ब्रिज को प्राप्त करने के लिए सही, पूर्ण कदमों को प्रस्तुत करूँगा, जो आपकी इच्छा के साथ मिलता है। मैं एक विकल्प के बारे में भी संक्षेप में उल्लेख करूँगा, जहां सरल तरीका विफल हो जाता है, हालांकि आपके सेटअप में सरल तरीका समर्थित होने की संभावना है।

---

### **आपके दिए गए कदमों का मूल्यांकन**

आपके कदमों का उद्देश्य है:
1. OpenWRT राउटर को एक मौजूदा Wi-Fi नेटवर्क के साथ क्लाइंट के रूप में कनेक्ट करना।
2. एक नया Wi-Fi नेटवर्क ब्रॉडकास्ट करने के लिए एक AP सेटअप करना।
3. क्लाइंट और AP इंटरफेस को इंटरनेट शेयर करने के लिए ब्रिज करना।

यहाँ एक तेजी से समीक्षा है:
- **कदम 1: LuCI में लॉग इन करें** - सही, वेब इंटरफेस तक पहुंचना शुरुआत है।
- **कदम 2: वायरलेस क्लाइंट को कॉन्फ़िगर करें** - लक्ष्य Wi-Fi में शामिल होने और इसे `lan` नेटवर्क को असाइन करने का एक अच्छा शुरुआत है, लेकिन OpenWRT में `lan` का डिफ़ॉल्ट कॉन्फ़िगरेशन (स्टैटिक IP, आमतौर पर 192.168.1.1) मुख्य राउटर के साथ IP संघर्ष हो सकता है यदि वह भी उसी IP का उपयोग करता है। इसको संशोधित करने की आवश्यकता है।
- **कदम 3: वायरलेस AP को कॉन्फ़िगर करें** - एक AP सेटअप करना और इसे `lan` को असाइन करना ब्रिजिंग के लिए सही है, लेकिन यह `lan` इंटरफेस को सही तरह से कॉन्फ़िगर करने पर निर्भर करता है।
- **कदम 4: नेटवर्क को ब्रिज करें** - दोनों इंटरफेस को `lan` को असाइन करना सिद्धांत रूप में उन्हें ब्रिज करता है, लेकिन बिना DHCP सर्वर को निष्क्रिय करने या IP सेटिंग्स को संशोधित करने, यह समग्र रूप से काम नहीं कर सकता है।
- **कदम 5: सेटअप को टेस्ट करें** - टेस्ट करना आवश्यक है, लेकिन सफलता पूर्ववर्ती कदमों को पूरी तरह सही होने पर निर्भर करता है।

**क्या गायब है या गलत है?**
- डिफ़ॉल्ट रूप से, OpenWRT का `lan` इंटरफेस एक स्टैटिक IP (जैसे कि 192.168.1.1) है और एक DHCP सर्वर चलाता है। अगर मुख्य राउटर भी 192.168.1.1 है, तो यह एक IP संघर्ष पैदा करता है। आपको `lan` इंटरफेस को DHCP क्लाइंट मोड में सेट करने की आवश्यकता है ताकि मुख्य राउटर से एक IP प्राप्त हो सके और स्थानीय DHCP सर्वर को निष्क्रिय करने के लिए, ताकि मुख्य राउटर सभी डिवाइसों को IP असाइन कर सके।
- `lan` को फायरवॉल ज़ोन में असाइन करना सरलता के लिए ठीक है, लेकिन IP कॉन्फ़िगरेशन महत्वपूर्ण है।

इसके साथ, आपके कदम "काफी सही" हैं लेकिन `lan` इंटरफेस सेटिंग्स को संशोधित किए बिना अधूरे हैं। नीचे संशोधित कदम हैं।

---

### **OpenWRT को वायरलेस ब्रिज के रूप में कॉन्फ़िगर करने के सही कदम (सरल ब्रिज विधि)**

यह विधि आपके OpenWRT राउटर को एक मौजूदा Wi-Fi नेटवर्क के साथ क्लाइंट के रूप में कनेक्ट करने और उस कनेक्शन को अपने AP या ईथर्नेट पोर्ट्स के माध्यम से शेयर करने के लिए सेटअप करती है, सभी मुख्य राउटर के साथ एक ही सबनेट पर (जैसे कि 192.168.1.x)। LuCI वेब इंटरफेस के माध्यम से इसे कैसे करना है:

#### **प्राथमिकताएँ**
- OpenWRT इंस्टॉल है (जैसे कि Xiaomi Mi Router 4C पर 24.10.0 संस्करण).
- आपके पास मुख्य Wi-Fi नेटवर्क का SSID, पासवर्ड और एन्क्रिप्शन प्रकार (जैसे कि WPA2-PSK) है।
- LuCI तक पहुंच `http://192.168.1.1` (या मौजूदा IP) और आपका एडमिन क्रेडेंशियल है।

#### **कदम 1: LuCI में लॉग इन करें**
- एक ब्राउज़र खोलें और `http://192.168.1.1` पर जाएँ।
- OpenWRT यूजरनेम (डिफ़ॉल्ट: `root`) और पासवर्ड (इंस्टॉलेशन के दौरान सेट किया गया) के साथ लॉग इन करें।

#### **कदम 2: वायरलेस क्लाइंट को कॉन्फ़िगर करें**
- **वायरलेस सेटिंग्स पर जाएँ:**
  - **नेटवर्क > वायरलेस** पर जाएँ।
- **नेटवर्क स्कैन करें:**
  - अपने रेडियो (जैसे कि Mi Router 4C पर 2.4 GHz के लिए `radio0`) को ढूँढें।
  - उपलब्ध Wi-Fi नेटवर्कों की सूची के लिए **स्कैन** पर क्लिक करें।
- **मुख्य Wi-Fi नेटवर्क में शामिल हों:**
  - मुख्य राउटर के Wi-Fi का SSID ढूँढें।
  - **नेटवर्क में शामिल हों** पर क्लिक करें।
- **क्लाइंट सेटिंग्स को कॉन्फ़िगर करें:**
  - **Wi-Fi की** - मुख्य Wi-Fi के पासवर्ड दर्ज करें।
  - **नेटवर्क:** `lan` पर सेट करें या सेट करें (यह क्लाइंट इंटरफेस को `br-lan` ब्रिज में जोड़ता है).
  - **फायरवॉल ज़ोन:** `lan` पर असाइन करें (यह ब्रिजिंग के लिए ट्रैफिक नियमों को सरल बनाता है).
  - **इंटरफेस नाम:** LuCI `wwan` सुझाव दे सकता है; आप इसे `client` के लिए स्पष्टता के लिए नाम बदल सकते हैं, लेकिन यह `lan` से जुड़ा होना सुनिश्चित करें।
- **सेव एंड अप्लाई:**
  - मुख्य Wi-Fi से कनेक्ट करने के लिए **सेव एंड अप्लाई** पर क्लिक करें।

#### **कदम 3: LAN इंटरफेस को DHCP क्लाइंट में संशोधित करें**
- **इंटरफेस पर जाएँ:**
  - **नेटवर्क > इंटरफेस** पर जाएँ।
- **LAN इंटरफेस को संपादित करें:**
  - `lan` इंटरफेस के पास **एडिट** पर क्लिक करें।
- **प्रोटोकॉल को DHCP क्लाइंट में सेट करें:**
  - **प्रोटोकॉल** ड्रॉपडाउन में **DHCP क्लाइंट** चुनें।
  - यह `br-lan` ब्रिज (जो अब वायरलेस क्लाइंट को शामिल करता है) को मुख्य राउटर के DHCP सर्वर से एक IP एड्रेस प्राप्त करने देता है (जैसे कि 192.168.1.x).
- **DHCP सर्वर को निष्क्रिय करें:**
  - अब `lan` एक DHCP क्लाइंट है, तो स्थानीय DHCP सर्वर स्वचालित रूप से निष्क्रिय हो जाता है। **एडवांस्ड सेटिंग्स** या **DHCP और DNS** के तहत यह सुनिश्चित करें कि "इंटरफेस को नजरअंदाज करें" चेक किया गया है यदि विकल्प दिखाई देता है।
- **सेव एंड अप्लाई:**
  - **सेव एंड अप्लाई** पर क्लिक करें। अब राउटर मुख्य राउटर से एक IP अनुरोध करेगा।

#### **कदम 4: वायरलेस एक्सेस पॉइंट को कॉन्फ़िगर करें**
- **एक नया वायरलेस नेटवर्क जोड़ें:**
  - **नेटवर्क > वायरलेस** पर वापस जाएँ।
  - उसी रेडियो (जैसे कि `radio0`) के नीचे **एड** पर क्लिक करें एक नया वायरलेस इंटरफेस बनाने के लिए।
- **AP को सेटअप करें:**
  - **ESSID:** अपने Wi-Fi के लिए एक नाम चुनें (जैसे कि `OpenWRT_AP`).
  - **मोड:** **एक्सेस पॉइंट (AP)** पर सेट करें।
  - **नेटवर्क:** `lan` पर असाइन करें (यह इसे क्लाइंट इंटरफेस और ईथर्नेट पोर्ट्स के साथ ब्रिज करता है).
- **सुरक्षा को कॉन्फ़िगर करें:**
  - **वायरलेस सिक्योरिटी** टैब पर जाएँ।
  - **एन्क्रिप्शन:** **WPA2-PSK** चुनें (सिफारिश की जाती है).
  - **की:** अपने AP के लिए एक मजबूत पासवर्ड सेट करें।
- **सेव एंड अप्लाई:**
  - **सेव एंड अप्लाई** पर क्लिक करें। अब आपका राउटर अपना Wi-Fi ब्रॉडकास्ट करेगा।

#### **कदम 5: ब्रिज को सत्यापित करें**
- **इंटरफेस चेक करें:**
  - **नेटवर्क > इंटरफेस** पर जाएँ।
  - सुनिश्चित करें कि `lan` इंटरफेस `br-lan` ब्रिज के तहत वायरलेस क्लाइंट (जैसे कि `wlan0`) और AP (जैसे कि `wlan0-1`) दोनों को सूचीबद्ध करता है।
- **IP असाइनमेंट चेक करें:**
  - **स्टेटस > ओवरव्यू** पर जाएँ।
  - `lan` इंटरफेस को मुख्य राउटर द्वारा असाइन किया गया IP एड्रेस नोट करें (जैसे कि `192.168.1.100`).

#### **कदम 6: सेटअप को टेस्ट करें**
- **Wi-Fi को टेस्ट करें:**
  - एक डिवाइस को `OpenWRT_AP` Wi-Fi से कनेक्ट करें।
  - सुनिश्चित करें कि यह मुख्य राउटर से एक IP प्राप्त करता है (जैसे कि `192.168.1.x`) और इंटरनेट तक पहुंच प्राप्त करता है।
- **ईथर्नेट को टेस्ट करें (यदि लागू हो):**
  - एक डिवाइस को राउटर के एक LAN पोर्ट में प्लग करें।
  - सुनिश्चित करें कि यह मुख्य राउटर से एक IP प्राप्त करता है और इंटरनेट से कनेक्ट होता है।
- **LuCI तक पहुंचें:**
  - नए IP एड्रेस (जैसे कि `http://192.168.1.100`) का उपयोग करके OpenWRT इंटरफेस तक पहुंचें।

---

### **यह क्यों काम करता है**
- क्लाइंट और AP इंटरफेस दोनों को `lan` नेटवर्क में असाइन करना उन्हें `br-lan` ब्रिज में जोड़ता है, जिससे लेयर 2 ट्रैफिक मुख्य राउटर के साथ फ्लो हो सकता है।
- `lan` को DHCP क्लाइंट में सेट करने से OpenWRT राउटर को मुख्य राउटर से एक अनोखा IP प्राप्त होता है, जिससे संघर्षों से बचा जाता है (जैसे कि `192.168.1.1`), और स्थानीय DHCP सर्वर को निष्क्रिय करके, मुख्य राउटर सभी IP असाइनमेंट्स को प्रबंधित करता है।
- AP या ईथर्नेट पोर्ट्स से कनेक्ट किए गए डिवाइस मुख्य नेटवर्क के साथ एक ही सबनेट पर दिखाई देते हैं (जैसे कि `192.168.1.x`), वायरलेस ब्रिज की आवश्यकता को पूरा करते हुए।

---

### **विकल्प विधि: relayd का उपयोग (प्सेउडो-ब्रिज)**
अगर सरल ब्रिज विधि विफल हो जाती है (जैसे कि वायरलेस ड्राइवर सीमाओं के कारण), आप `relayd` पैकेज का उपयोग एक प्सेउडो-ब्रिज के लिए कर सकते हैं। यह एक रूटेड सेटअप बनाता है जहां OpenWRT राउटर के क्लाइंट अलग सबनेट पर होते हैं, लेकिन कुछ हार्डवेयर पर यह अधिक विश्वसनीय है। यहाँ एक संक्षिप्त अवलोकन है:

1. **relayd इंस्टॉल करें:**
   - **सिस्टम > सॉफ्टवेयर** पर जाएँ, `relayd` खोजें और इसे इंस्टॉल करें।
2. **वायरलेस क्लाइंट को कॉन्फ़िगर करें:**
   - मुख्य Wi-Fi में शामिल हों, लेकिन इसे एक नए इंटरफेस (जैसे कि `wwan`) पर सेट करें जो DHCP क्लाइंट है।
3. **LAN को कॉन्फ़िगर करें:**
   - `lan` को एक स्टैटिक IP (जैसे कि `192.168.2.1`) पर सेट करें, अपने DHCP सर्वर के साथ।
4. **relayd को सेटअप करें:**
   - SSH या LuCI (नेटवर्क > होस्टनेम) के माध्यम से `relayd` को कॉन्फ़िगर करें ताकि `wwan` और `lan` के बीच रिले हो सके।
5. **AP को कॉन्फ़िगर करें:**
   - AP को `lan` नेटवर्क पर सेट करें।
6. **टेस्ट करें:**
   - `OpenWRT_AP` पर डिवाइस `192.168.2.x` पर होंगे, इंटरनेट मुख्य राउटर से रिले किया जाएगा।

**नोट:** यह एक सच्चा ब्रिज नहीं है (अलग सबनेट), इसलिए इसे केवल तब उपयोग करें जब सरल विधि काम नहीं करती। आपके Xiaomi Mi Router 4C के साथ OpenWRT 24.10.0 के लिए सरल ब्रिज काफी होगा।

---

### **निष्कर्ष**
आपके मूल कदम **काफी सही** हैं लेकिन `lan` इंटरफेस को DHCP क्लाइंट मोड में सेट करने के बिना IP संघर्षों से बचने और सही ब्रिजिंग सुनिश्चित करने के लिए अधूरे हैं। ऊपर दिए गए संशोधित कदम OpenWRT को वायरलेस ब्रिज के रूप में कॉन्फ़िगर करने के लिए एक विश्वसनीय तरीका प्रदान करते हैं। अगर आप इन कदमों का पालन करते हैं, तो आपका राउटर मुख्य Wi-Fi से कनेक्ट होगा और उस कनेक्शन को अपने AP या ईथर्नेट पोर्ट्स के माध्यम से बिना किसी समस्या के शेयर करेगा, सभी मुख्य राउटर के साथ एक ही सबनेट पर। सेटअप को टेस्ट करें, और अगर कोई समस्या उठती है (आधुनिक OpenWRT के साथ दुर्लभ), `relayd` विकल्प का विचार करें।