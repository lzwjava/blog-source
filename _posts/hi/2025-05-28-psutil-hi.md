---
audio: false
generated: true
lang: hi
layout: post
title: टीसीपी कनेक्शन के लिए पायथन स्क्रिप्ट
translated: true
type: note
---

PowerShell कमांड `Get-NetTCPConnection -LocalPort 80` एक Windows सिस्टम पर TCP कनेक्शन की जानकारी प्राप्त करती है जो निर्दिष्ट स्थानीय पोर्ट (इस मामले में, पोर्ट 80) का उपयोग कर रहे हैं। Python में समान कार्यक्षमता प्राप्त करने के लिए, आप `psutil` लाइब्रेरी का उपयोग कर सकते हैं, जो सिस्टम विवरणों, जिसमें नेटवर्क कनेक्शन शामिल हैं, तक क्रॉस-प्लेटफ़ॉर्म एक्सेस प्रदान करती है।

नीचे एक Python स्क्रिप्ट दी गई है जो किसी विशिष्ट स्थानीय पोर्ट (जैसे, पोर्ट 80) द्वारा फ़िल्टर किए गए TCP कनेक्शनों को सूचीबद्ध करती है, जो PowerShell कमांड के समान है:

```python
import psutil

def get_tcp_connections_by_port(local_port):
    # सभी नेटवर्क कनेक्शन प्राप्त करें
    connections = psutil.net_connections(kind='tcp')
    
    # कनेक्शनों को स्थानीय पोर्ट द्वारा फ़िल्टर करें
    matching_connections = [
        conn for conn in connections
        if conn.laddr.port == local_port and conn.status == 'LISTEN'
    ]
    
    # मिलान कनेक्शनों का विवरण प्रिंट करें
    if not matching_connections:
        print(f"पोर्ट {local_port} पर सुनने वाला कोई TCP कनेक्शन नहीं मिला")
        return
    
    print(f"पोर्ट {local_port} पर सुनने वाले TCP कनेक्शन:")
    print("PID\tस्थानीय पता\tदूरस्थ पता\tस्थिति")
    print("-" * 50)
    
    for conn in matching_connections:
        local_addr = f"{conn.laddr.ip}:{conn.laddr.port}" if conn.laddr else "N/A"
        remote_addr = f"{conn.raddr.ip}:{conn.raddr.port}" if conn.raddr else "N/A"
        pid = conn.pid if conn.pid is not None else "N/A"
        status = conn.status if conn.status else "N/A"
        print(f"{pid}\t{local_addr}\t{remote_addr}\t{status}")

if __name__ == "__main__":
    target_port = 80  # फ़िल्टर करने के लिए पोर्ट निर्दिष्ट करें (जैसे, 80)
    get_tcp_connections_by_port(target_port)
```

### स्पष्टीकरण:
1. **`psutil` इंस्टॉल करें**:
   - आपको नेटवर्क कनेक्शन विवरण तक पहुंचने के लिए `psutil` लाइब्रेरी की आवश्यकता है। इसे इस प्रकार इंस्टॉल करें:
     ```bash
     pip install psutil
     ```

2. **स्क्रिप्ट विवरण**:
   - `psutil.net_connections(kind='tcp')` सभी TCP कनेक्शन प्राप्त करता है।
   - स्क्रिप्ट उन कनेक्शनों को फ़िल्टर करती है जहां स्थानीय पोर्ट निर्दिष्ट `local_port` (जैसे, 80) से मेल खाता है और स्थिति `LISTEN` है (सुनने वाले पोर्ट्स के लिए `Get-NetTCPConnection` के व्यवहार की नकल करने के लिए)।
   - प्रत्येक मिलान कनेक्शन के लिए, यह प्रिंट करता है:
     - **PID**: कनेक्शन का उपयोग करने वाले एप्लिकेशन की प्रक्रिया ID।
     - **स्थानीय पता**: स्थानीय IP और पोर्ट।
     - **दूरस्थ पता**: दूरस्थ IP और पोर्ट (यदि लागू हो; यदि कनेक्ट नहीं है तो "N/A")।
     - **स्थिति**: कनेक्शन की स्थिति (जैसे, "LISTEN")।

3. **आउटपुट**:
   - आउटपुट को `Get-NetTCPConnection` के सारणीबद्ध आउटपुट जैसा दिखने के लिए फ़ॉर्मेट किया गया है, जो PID, स्थानीय पता, दूरस्थ पता और स्थिति दिखाता है।

### उदाहरण आउटपुट:
यदि कोई वेब सर्वर (जैसे, Apache या Nginx) पोर्ट 80 पर सुन रहा है, तो आउटपुट इस तरह दिख सकता है:
```
पोर्ट 80 पर सुनने वाले TCP कनेक्शन:
PID     स्थानीय पता         दूरस्थ पता        स्थिति
--------------------------------------------------
1234    0.0.0.0:80            N/A                   LISTEN
```

यदि पोर्ट 80 पर कोई प्रक्रिया सुन नहीं रही है:
```
पोर्ट 80 पर सुनने वाला कोई TCP कनेक्शन नहीं मिला
```

### नोट्स:
- **क्रॉस-प्लेटफ़ॉर्म**: `psutil` लाइब्रेरी Windows, Linux, और macOS पर काम करती है, जबकि `Get-NetTCPConnection` केवल Windows के लिए है।
- **अनुमतियाँ**: कुछ सिस्टम पर (जैसे, Linux या macOS), आपको कुछ कनेक्शन विवरणों तक पहुंचने के लिए root/admin विशेषाधिकारों की आवश्यकता हो सकती है।
- **फ़िल्टरिंग**: स्क्रिप्ट `Get-NetTCPConnection -LocalPort 80` के सामान्य उपयोग के मामले से मेल खाने के लिए `LISTEN` कनेक्शनों के लिए फ़िल्टर करती है। आप अन्य कनेक्शन स्थितियों जैसे `ESTABLISHED` को शामिल करने के लिए फ़िल्टर को संशोधित कर सकते हैं (जैसे, `conn.status == 'LISTEN'` शर्त हटा सकते हैं)।
- **अतिरिक्त जानकारी**: आप PID उपलब्ध होने पर `psutil.Process(conn.pid).name()` का उपयोग करके अधिक विवरण (जैसे, प्रक्रिया नाम) शामिल करने के लिए स्क्रिप्ट का विस्तार कर सकते हैं।

यह स्क्रिप्ट PowerShell कमांड के लिए एक Python समकक्ष प्रदान करती है, जिसमें समान कार्यक्षमता और आउटपुट है। यदि आपको अतिरिक्त सुविधाओं की आवश्यकता है या कोई विशिष्ट आवश्यकताएं हैं, तो मुझे बताएं!