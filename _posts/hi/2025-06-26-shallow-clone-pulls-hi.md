---
audio: false
generated: true
lang: hi
layout: post
title: उथले क्लोन के साथ गिट पुल और पुश का उपयोग
translated: true
type: note
---

हाँ, आप `--depth=20` का उपयोग करके सीमित इतिहास वाली repository को clone करने के बाद भी `git pull` या `git push` का उपयोग कर सकते हैं। हालाँकि, कुछ महत्वपूर्ण बातों का ध्यान रखना जरूरी है:

### 1. **`--depth=20` क्या करता है**
   - `--depth=20` विकल्प एक *उथला क्लोन (shallow clone)* बनाता है, जो डिफ़ॉल्ट ब्रांच (या निर्दिष्ट ब्रांच यदि आप `--branch` का उपयोग करते हैं) से केवल सबसे हाल के 20 commits (या निर्दिष्ट संख्या) fetch करता है।
   - यह डाउनलोड किए गए इतिहास की मात्रा को कम कर देता है, जिससे क्लोन तेज और आकार में छोटा हो जाता है, लेकिन repository में पूर्ण commit इतिहास शामिल नहीं होगा।

### 2. **शैलो क्लोन के साथ `git pull` का उपयोग**
   - **हाँ, आप `git pull` का उपयोग कर सकते हैं** एक शैलो क्लोन में रिमोट repository से नए commits fetch करने और मर्ज करने के लिए।
   - डिफ़ॉल्ट रूप से, `git pull` नए commits fetch करेगा और शैलो इतिहास को अपडेट करेगा, इसे रिमोट ब्रांच के साथ सुसंगत रखते हुए।
   - यदि रिमोट ब्रांच में नए commits जोड़े जाते हैं, तो `git pull` उन्हें fetch करेगा और आपकी local repository में इतिहास को बढ़ाएगा, फिर भी क्लोन की उथली प्रकृति का सम्मान करते हुए।

   **नोट**: यदि ब्रांच का इतिहास इस तरह से बदलता है कि वह आपके शैलो इतिहास से पुराने commits को प्रभावित करता है (जैसे, रिमोट पर एक फोर्स पुश या रीबेस), तो आपको समस्याओं का सामना करना पड़ सकता है। ऐसे मामलों में, conflicts को हल करने या काम जारी रखने के लिए आपको इतिहास को गहरा करने की आवश्यकता हो सकती है (`git fetch --deepen=<n>` या `git fetch --unshallow` का उपयोग करके पूरा इतिहास fetch करने के लिए)।

### 3. **शैलो क्लोन के साथ `git push` का उपयोग**
   - **हाँ, आप `git push` का उपयोग कर सकते हैं** अपने local commits को रिमोट repository पर push करने के लिए।
   - एक शैलो क्लोन नए commits बनाने और उन्हें रिमोट repository पर push करने की आपकी क्षमता को प्रतिबंधित नहीं करता है, जब तक कि रिमोट आपके परिवर्तनों को स्वीकार करता है।
   - हालाँकि, यदि रिमोट repository को ऐसे operations की आवश्यकता होती है जो पूर्ण इतिहास पर निर्भर करते हैं (जैसे, पुराने commits को शामिल करने वाला एक merge या rebase), तो push को सफलतापूर्वक पूरा करने के लिए आपको अधिक इतिहास fetch करने की आवश्यकता हो सकती है।

### 4. **शैलो क्लोन की सीमाएँ**
   - **सीमित इतिहास**: कुछ Git operations, जैसे `git log`, `git blame`, या `git rebase`, सीमित हो सकते हैं क्योंकि पुराने commits स्थानीय रूप से उपलब्ध नहीं हैं।
   - **मर्जिंग और रीबेसिंग**: यदि आपको अपने शैलो इतिहास के बाहर के commits के साथ merge या rebase करने की आवश्यकता है, तो आपको `git fetch --deepen=<n>` या `git fetch --unshallow` का उपयोग करके अधिक इतिहास fetch करने की आवश्यकता हो सकती है।
   - **फोर्स पुश**: यदि रिमोट ब्रांच को फिर से लिखा जाता है (जैसे, `git push --force` के साथ), तो आपके शैलो क्लोन में परिवर्तनों को संभालने के लिए पर्याप्त context नहीं हो सकता है, जिससे आपको इतिहास को गहरा करने या फिर से clone करने की आवश्यकता होगी।

### 5. **शैलो क्लोन को कैसे गहरा करें (यदि आवश्यक हो)**
   यदि आप सीमित इतिहास के कारण `git pull` या `git push` के साथ समस्याओं का सामना करते हैं, तो आप अतिरिक्त इतिहास fetch कर सकते हैं:
   - **commits की एक विशिष्ट संख्या से गहरा करें**:
     ```bash
     git fetch --deepen=20
     ```
     यह इतिहास के 20 और commits fetch करता है।
   - **पूरा इतिहास fetch करें**:
     ```bash
     git fetch --unshallow
     ```
     यह आपके शैलो क्लोन को पूरे इतिहास वाले पूर्ण क्लोन में बदल देता है।

### 6. **व्यावहारिक सलाह**
   - `--depth=20` के साथ एक शैलो क्लोन आमतौर पर अधिकांश वर्कफ़्लो के लिए पर्याप्त होता है, खासकर यदि आप केवल हाल के परिवर्तनों पर काम कर रहे हैं या छोटे अपडेट योगदान दे रहे हैं।
   - यदि आप पूर्ण इतिहास की आवश्यकता की आशा करते हैं (जैसे, जटिल merges, rebases, या debugging के लिए), तो `--depth` विकल्प के बिना पूरी repository को clone करने पर विचार करें या बाद में आवश्यकतानुसार इतिहास को गहरा करें।
   - Push करने का प्रयास करने से पहले हमेशा सुनिश्चित करें कि आपके पास रिमोट repository (जैसे, `git@github.com:cisco/ChezScheme.git`) तक लिखने का अधिकार है।

### उदाहरण वर्कफ़्लो
```bash
# सीमित इतिहास के साथ क्लोन करें
git clone git@github.com:cisco/ChezScheme.git --depth=20
cd ChezScheme

# परिवर्तन करें और commit करें
git commit -m "मेरे परिवर्तन"

# नवीनतम परिवर्तन pull करें
git pull origin main

# अपने परिवर्तन push करें
git push origin main
```

यदि आपको शैलो क्लोन के कारण कोई समस्या आती है, तो ऊपर बताए अनुसार इतिहास को गहरा करें।

### सारांश
हाँ, आप `--depth=20` का उपयोग करके बनाए गए शैलो क्लोन के साथ `git pull` और `git push` का उपयोग कर सकते हैं। हालाँकि, यदि शैलो इतिहास अपर्याप्त है तो कुछ operations के लिए आपको अतिरिक्त इतिहास fetch करने की आवश्यकता हो सकती है। किसी भी सीमा को दूर करने के लिए `git fetch --deepen` या `git fetch --unshallow` का उपयोग करें।