---
audio: false
generated: true
lang: hi
layout: post
title: क्लाउडफ्लेयर बायपास के लिए सेलेनियम स्क्रिप्ट
translated: true
type: note
---

आपकी Selenium स्क्रिप्ट Firefox और एक विशिष्ट प्रोफाइल का उपयोग करके "https://grok.com" के साथ इंटरैक्ट करने के लिए डिज़ाइन की गई है, लेकिन उसे Cloudflare बॉट डिटेक्शन चुनौती का सामना करना पड़ रहा है, विशेष रूप से "Verify you are human" चेकबॉक्स। चेकबॉक्स पर क्लिक करने के बाद भी, स्क्रिप्ट सत्यापन को बायपास करने में संघर्ष करती प्रतीत होती है, जिससे मुख्य सामग्री (जैसे कि टेक्स्टएरिया) तक पहुंच रुक जाती है। Cloudflare स्वचालित ब्राउज़रों का पता लगाने के लिए परिष्कृत तरीकों का उपयोग करता है, जैसे HTTP हेडर विश्लेषण, TLS फिंगरप्रिंटिंग, और व्यवहारिक जांचें, जो Selenium अकेले का उपयोग करके इस चुनौती को पार करना मुश्किल बना सकती हैं। हालांकि, ऐसी रणनीतियाँ हैं जिन्हें आप अपने मौजूदा Firefox-आधारित सेटअप के भीतर रहते हुए Cloudflare टेस्ट पास करने के लिए आज़मा सकते हैं। नीचे आपकी स्क्रिप्ट के लिए तैयार किए गए दो व्यावहारिक दृष्टिकोण दिए गए हैं, उसके बाद अतिरिक्त विचार दिए गए हैं यदि ये पर्याप्त न हों।

---

### **विधि 1: प्रोफाइल पुन: उपयोग के साथ मैन्युअल चुनौती पूर्ण करना**
चूंकि आपकी स्क्रिप्ट एक विशिष्ट Firefox प्रोफाइल (`/home/lzw/.mozilla/firefox/wzfodx6v.default`) का उपयोग करती है, आप Cloudflare चुनौती को मैन्युअल रूप से पार करने के बाद सत्र डेटा संग्रहीत करने के लिए इसका लाभ उठा सकते हैं। यहां बताया गया है कि इसे कैसे करें:

1. **मैन्युअल रूप से प्रोफाइल के साथ Firefox खोलें**:
   - अपनी स्क्रिप्ट में निर्दिष्ट उसी प्रोफाइल का उपयोग करके Firefox लॉन्च करें। आप इसे कमांड लाइन के माध्यम से कर सकते हैं:
     ```bash
     firefox --profile "/home/lzw/.mozilla/firefox/wzfodx6v.default"
     ```
   - वैकल्पिक रूप से, `wzfodx6v.default` का चयन करने के लिए Firefox के प्रोफाइल मैनेजर (`firefox --ProfileManager`) का उपयोग करें।

2. **नेविगेट करें और चुनौती पास करें**:
   - ब्राउज़र में "https://grok.com" पर जाएं।
   - जब Cloudflare का "Verify you are human" चेकबॉक्स दिखाई दे, तो उस पर क्लिक करें और कोई अतिरिक्त सत्यापन चरण दिखाई दे तो उन्हें पूरा करें।
   - तब तक प्रतीक्षा करें जब तक आप मुख्य पेज पर नहीं पहुंच जाते (जहां `aria-label="Ask Grok anything"` वाला टेक्स्टएरिया दिखाई दे रहा हो)।

3. **ब्राउज़र बंद करें**:
   - Firefox से बाहर निकलें ताकि यह सुनिश्चित हो सके कि प्रोफाइल सत्र कुकीज़, जिसमें कोई भी Cloudflare क्लीयरेंस टोकन (जैसे `cf_clearance`) शामिल हैं, को सेव कर लेती है।

4. **अपनी Selenium स्क्रिप्ट चलाएँ**:
   - अपनी स्क्रिप्ट को वैसे ही निष्पादित करें। चूंकि यह उसी प्रोफाइल का उपयोग करती है, इसे संग्रहीत कुकीज़ और सत्र डेटा विरासत में मिलना चाहिए, जिससे संभवतः उसे चुनौती को बायपास करने की अनुमति मिल सके।

**यह क्यों काम कर सकता है**: Cloudflare अक्सर यह याद रखने के लिए कुकीज़ पर निर्भर करता है कि एक ब्राउज़र ने इसका टेस्ट पास कर लिया है। प्रोफाइल को मैन्युअल रूप से पहले से प्रमाणित करके, आपका स्वचालित सत्र एक सत्यापित विज़िट की निरंतरता के रूप में प्रकट हो सकता है।

**सीमाएँ**: यदि Cloudflare प्रत्येक पेज लोड पर अतिरिक्त जांच करता है (जैसे, Selenium के ऑटोमेशन फिंगरप्रिंट का पता लगाना), तो यह विधि विफल हो सकती है। उस स्थिति में, अगले दृष्टिकोण को आज़माएं।

---

### **विधि 2: स्क्रिप्ट में कुकीज़ निकालें और सेट करें**
यदि प्रोफाइल का पुन: उपयोग काम नहीं करता है, तो आप चुनौती पास करने के बाद कुकीज़ को मैन्युअल रूप से निकाल सकते हैं और उन्हें अपने Selenium ड्राइवर में इंजेक्ट कर सकते हैं। यहां चरण-दर-चरण प्रक्रिया दी गई है:

1. **मैन्युअल रूप से चुनौती पास करें**:
   - "https://grok.com" के मुख्य पेज तक पहुंचने के लिए विधि 1 के चरण 1 और 2 का पालन करें।

2. **कुकीज़ निकालें**:
   - Firefox के Developer Tools खोलें (F12 दबाएं या राइट-क्लिक > Inspect करें)।
   - **Storage** टैब पर जाएं (या **Network** टैब, फिर कुकीज़ का निरीक्षण करने के लिए पेज को रीलोड करें)।
   - `.grok.com` से जुड़ी कुकीज़ देखें, विशेष रूप से `cf_clearance` (Cloudflare की सत्यापन कुकी)।
   - प्रत्येक प्रासंगिक कुकी का `नाम`, `मान`, और `डोमेन` नोट करें। उदाहरण के लिए:
     - नाम: `cf_clearance`, मान: `abc123...`, डोमेन: `.grok.com`
     - अन्य कुकीज़ जैसे `__cfduid` या सत्र-विशिष्ट कुकीज़ भी मौजूद हो सकती हैं।

3. **अपनी स्क्रिप्ट संशोधित करें**:
   - URL पर नेविगेट करने से पहले अपने Selenium ड्राइवर में कुकीज़ जोड़ें। अपना कोड इस तरह अपडेट करें:
     ```python
     # ... (मौजूदा इम्पोर्ट और सेटअप अपरिवर्तित रहेंगे)

     # geckodriver service सेट अप करें
     service = Service(executable_path="/home/lzw/bin/geckodriver")
     driver = webdriver.Firefox(service=service, options=firefox_options)

     # कुकीज़ सेट करने के लिए पहले एक ब्लैंक पेज खोलें (कुकीज़ केवल पेज लोड के बाद सेट की जा सकती हैं)
     driver.get("about:blank")

     # आपके द्वारा निकाली गई कुकीज़ जोड़ें
     cookies = [
         {"name": "cf_clearance", "value": "abc123...", "domain": ".grok.com"},
         # आवश्यकतानुसार अन्य कुकीज़ जोड़ें, उदाहरण के लिए:
         # {"name": "__cfduid", "value": "xyz789...", "domain": ".grok.com"},
     ]
     for cookie in cookies:
         driver.add_cookie(cookie)

     # अब टारगेट URL पर नेविगेट करें
     driver.get("https://grok.com")

     # पेज का शीर्षक प्रिंट करें
     print("Title of the page:", driver.title)

     # ... (आपकी स्क्रिप्ट का बाकी हिस्सा वही रहता है)
     ```

4. **स्क्रिप्ट का परीक्षण करें**:
   - संशोधित स्क्रिप्ट चलाएँ। पहले से सेट की गई कुकीज़ Cloudflare को संकेत देनी चाहिए कि ब्राउज़र ने पहले ही चुनौती पास कर ली है।

**यह क्यों काम कर सकता है**: `cf_clearance` कुकी को स्पष्ट रूप से सेट करना एक सत्यापित सत्र की नकल करता है, जिससे संभवतः चेकबॉक्स के साथ इंटरैक्ट करने की आवश्यकता समाप्त हो जाती है।

**सीमाएँ**: कुकीज़ ब्राउज़र फिंगरप्रिंट (जैसे, यूजर एजेंट, आईपी, या टीएलएस सेटिंग्स) से बंधी हो सकती हैं। यदि Selenium का फिंगरप्रिंट मैन्युअल सत्र से भिन्न है, तो Cloudflare कुकीज़ को अस्वीकार कर सकता है या ब्राउज़र को फिर से चुनौती दे सकता है।

---

### **अतिरिक्त डीबगिंग और एन्हांसमेंट्स**
यदि कोई भी विधि समस्या को पूरी तरह से हल नहीं करती है, तो यह सुनिश्चित करने के लिए कि आपकी स्क्रिप्ट Cloudflare चुनौती के साथ सही ढंग से इंटरैक्ट कर रही है, अपनी स्क्रिप्ट में इन समायोजनों पर विचार करें:

- **Iframes के लिए जाँच करें**: "Verify you are human" चेकबॉक्स एक iframe के अंदर हो सकता है। पहले iframe पर स्विच करने के लिए अपने चेकबॉक्स-क्लिक करने वाले कोड को संशोधित करें:
  ```python
  try:
      wait = WebDriverWait(driver, 20)
      iframe = wait.until(EC.presence_of_element_located((By.XPATH, "//iframe[contains(@src, 'cloudflare')]")))
      driver.switch_to.frame(iframe)
      label = wait.until(EC.presence_of_element_located((By.XPATH, "//label[@class='cb-lb']")))
      checkbox = label.find_element(By.TAG_NAME, "input")
      print("Checkbox found:", checkbox.is_displayed())
      checkbox.click()
      driver.switch_to.default_content()  # मुख्य सामग्री पर वापस स्विच करें
      print("Checkbox clicked.")
  except Exception as e:
      print("Checkbox not found or not clickable:", e)
  ```

- **वेटिंग लॉजिक में सुधार करें**: चेकबॉक्स पर क्लिक करने के बाद, एक स्पष्ट संकेत के लिए प्रतीक्षा करें कि चुनौती पास हो गई है (जैसे, सत्यापन पेज का गायब होना):
  ```python
  try:
      wait.until(EC.invisibility_of_element_located((By.XPATH, "//*[contains(text(), 'Verify you are human')]")))
      print("Challenge passed.")
  except Exception as e:
      print("Challenge not passed:", e)
  ```

- **ऑटोमेशन को छुपाएँ**: Selenium के ऑटोमेशन ट्रेस को छुपाने के लिए JavaScript जोड़ें:
  ```python
  driver.execute_script("Object.defineProperty(navigator, 'webdriver', {get: () => undefined})")
  ```

---

### **यदि सब कुछ विफल हो जाए: वैकल्पिक दृष्टिकोण**
यदि Cloudflare का पता लगाना बना रहता है, तो यह उन्नत फिंगरप्रिंटिंग के कारण हो सकता है जिसे आपका वर्तमान सेटअप नहीं बचा सकता है। यहां एस्केलेशन विकल्प दिए गए हैं, हालांकि वे आपकी Firefox प्राथमिकता से हटकर हैं:

- **Undetected ChromeDriver के साथ Chrome पर स्विच करें**:
  - इंस्टॉल करें: `pip install undetected-chromedriver`
  - सेटअप संशोधित करें:
    ```python
    import undetected_chromedriver as uc
    driver = uc.Chrome()
    driver.get("https://grok.com")
    ```
  - यह लाइब्रेरी सामान्य डिटेक्शन विधियों से बचने के लिए Chrome को पैच करती है।

- **प्रॉक्सी या CAPTCHA सॉल्वर का उपयोग करें**: 2Captcha या रेजिडेंशियल प्रॉक्सी जैसी सेवाएं चुनौतियों को संभाल सकती हैं, लेकिन वे जटिलता और लागत जोड़ती हैं।

---

### **अनुशंसित अगले कदम**
**विधि 1** (प्रोफाइल पुन: उपयोग) से शुरुआत करें क्योंकि यह सबसे सरल है और आपके स्क्रिप्ट के सेटअप के अनुरूप है। यदि यह विफल हो जाती है, तो iframe चेक जोड़कर **विधि 2** (कुकी इंजेक्शन) आज़माएं। ये विधियाँ नए टूल्स की आवश्यकता के बिना आपके मौजूदा Firefox कॉन्फ़िगरेशन को अधिकतम करती हैं। प्रत्येक दृष्टिकोण का परीक्षण करें और यह पुष्टि करने के लिए आउटपुट (जैसे, `driver.title` और एक्सेप्शन संदेशों) की निगरानी करें कि क्या चुनौती बायपास हो गई है। यदि आपको अभी भी समस्याओं का सामना करना पड़ रहा है, तो अपनी परियोजना की लचीलेपन के आधार पर वैकल्पिक दृष्टिकोणों पर विचार करें।

यदि आपको इन समाधानों को लागू करने या ट्रबलशूट करने में सहायता की आवश्यकता हो तो मुझे बताएं!