---
audio: false
generated: true
lang: hi
layout: post
title: मेवेन रिलीज़ प्लगइन
translated: true
type: note
---

यहाँ **Maven Release Plugin** का उपयोग करके अपने Maven प्रोजेक्ट के रिलीज़ प्रक्रिया को प्रबंधित और स्वचालित करने के लिए एक व्यापक गाइड दी गई है।

---

### Maven Release Plugin क्या है?

**Maven Release Plugin** एक ऐसा टूल है जो एक Maven प्रोजेक्ट को रिलीज़ करने की प्रक्रिया को स्वचालित करता है। यह निम्नलिखित कार्यों को संभालता है:

- आपके प्रोजेक्ट की POM फ़ाइल(फ़ाइलों) में वर्जन नंबर अपडेट करना।
- आपके वर्जन कंट्रोल सिस्टम (VCS), जैसे कि Git, में परिवर्तनों को कमिट करना।
- VCS में रिलीज़ के लिए एक टैग बनाना।
- रिलीज़ आर्टिफैक्ट्स को बिल्ड और डिप्लॉय करना।
- वर्जन नंबरों को फिर से अपडेट करके अगले डेवलपमेंट साइकिल के लिए प्रोजेक्ट को तैयार करना।

प्लगइन के दो प्राथमिक लक्ष्य हैं:

- **`release:prepare`**: वर्जन अपडेट करके, परिवर्तनों को कमिट करके, और VCS में रिलीज़ को टैग करके प्रोजेक्ट को रिलीज़ के लिए तैयार करता है।
- **`release:perform`**: VCS से टैग की गई कोड का उपयोग करके रिलीज़ किए गए वर्जन को बिल्ड और डिप्लॉय करता है।

---

### Maven Release Plugin का उपयोग करने के लिए चरण-दर-चरण गाइड

#### 1. अपनी POM फ़ाइल में Maven Release Plugin जोड़ें

प्लगइन का उपयोग करने के लिए, आपको इसे अपने प्रोजेक्ट की `pom.xml` में शामिल करना होगा। इसे `<build><plugins>` सेक्शन के अंतर्गत इस प्रकार जोड़ें:

```xml
<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-release-plugin</artifactId>
            <version>2.5.3</version> <!-- नवीनतम स्थिर वर्जन का उपयोग करें -->
        </plugin>
    </plugins>
</build>
```

**नोट**: नवीनतम वर्जन के लिए [आधिकारिक Maven Release Plugin पेज](https://maven.apache.org/maven-release/maven-release-plugin/) जांचें और `2.5.3` को तदनुसार बदलें।

#### 2. SCM (सोर्स कंट्रोल मैनेजमेंट) सेक्शन कॉन्फ़िगर करें

प्लगइन परिवर्तनों को कमिट करने और टैग बनाने के लिए आपके VCS (जैसे Git) के साथ इंटरैक्ट करता है। आपको अपनी `pom.xml` के `<scm>` सेक्शन में अपने VCS का विवरण निर्दिष्ट करना होगा। GitHub पर होस्ट किए गए Git रिपॉजिटरी के लिए, यह इस प्रकार दिख सकता है:

```xml
<scm>
    <connection>scm:git:git://github.com/username/project.git</connection>
    <developerConnection>scm:git:git@github.com:username/project.git</developerConnection>
    <url>https://github.com/username/project</url>
</scm>
```

- `username` और `project` को अपने वास्तविक GitHub यूज़रनेम और रिपॉजिटरी नाम से बदलें।
- यदि आप कोई अलग Git होस्टिंग सर्विस (जैसे GitLab, Bitbucket) उपयोग कर रहे हैं तो URLs को एडजस्ट करें।
- सुनिश्चित करें कि रिपॉजिटरी में परिवर्तन पुश करने के लिए आपके पास आवश्यक क्रेडेंशियल्स (जैसे SSH keys या personal access token) कॉन्फ़िगर हैं।

#### 3. रिलीज़ के लिए अपने प्रोजेक्ट को तैयार करें

रिलीज़ कमांड्स चलाने से पहले, सुनिश्चित करें कि आपका प्रोजेक्ट तैयार है:

- सभी टेस्ट पास होते हैं (`mvn test`)।
- आपके वर्किंग डायरेक्टरी में कोई अनकमिटेड परिवर्तन नहीं हैं (जांचने के लिए `git status` चलाएँ)।
- आप रिलीज़ के लिए सही ब्रांच (जैसे `master` या `main`) पर हैं।

#### 4. `release:prepare` चलाएँ

`release:prepare` गोल आपके प्रोजेक्ट को रिलीज़ के लिए तैयार करता है। अपने टर्मिनल में निम्नलिखित कमांड execute करें:

```bash
mvn release:prepare
```

**`release:prepare` के दौरान क्या होता है**:

- **अनकमिटेड परिवर्तनों की जांच करता है**: सुनिश्चित करता है कि आपकी वर्किंग डायरेक्टरी क्लीन है।
- **वर्जन के लिए प्रॉम्प्ट करता है**: रिलीज़ वर्जन और अगले डेवलपमेंट वर्जन के लिए पूछता है।
  - उदाहरण: यदि आपका करंट वर्जन `1.0-SNAPSHOT` है, तो यह रिलीज़ के लिए `1.0` और अगले डेवलपमेंट वर्जन के लिए `1.1-SNAPSHOT` सुझा सकता है। आप डिफ़ॉल्ट स्वीकार कर सकते हैं या कस्टम वर्जन (जैसे पैच रिलीज़ के लिए `1.0.1`) एंटर कर सकते हैं।
- **POM फ़ाइलों को अपडेट करता है**: वर्जन को रिलीज़ वर्जन (जैसे `1.0`) में बदलता है, परिवर्तन को कमिट करता है, और इसे VCS में टैग करता है (जैसे `project-1.0`)।
- **अगले साइकिल के लिए तैयार करता है**: POM को अगले डेवलपमेंट वर्जन (जैसे `1.1-SNAPSHOT`) में अपडेट करता है और इसे कमिट करता है।

**ऑप्शनल ड्राई रन**: बिना कोई परिवर्तन किए प्रक्रिया का टेस्ट करने के लिए, उपयोग करें:

```bash
mvn release:prepare -DdryRun=true
```

यह कमिट या टैग किए बिना तैयारी के चरणों का सिमुलेशन करता है।

#### 5. `release:perform` चलाएँ

रिलीज़ तैयार करने के बाद, इसे बिल्ड और डिप्लॉय करें:

```bash
mvn release:perform
```

**`release:perform` के दौरान क्या होता है**:

- VCS से टैग किए गए वर्जन को चेक आउट करता है।
- प्रोजेक्ट को बिल्ड करता है।
- आर्टिफैक्ट्स को आपकी POM के `<distributionManagement>` सेक्शन में निर्दिष्ट रिपॉजिटरी में डिप्लॉय करता है।

**`<distributionManagement>` कॉन्फ़िगर करें** (यदि किसी रिमोट रिपॉजिटरी में डिप्लॉय कर रहे हैं):

```xml
<distributionManagement>
    <repository>
        <id>releases</id>
        <url>http://my-repository-manager/releases</url>
    </repository>
    <snapshotRepository>
        <id>snapshots</id>
        <url>http://my-repository-manager/snapshots</url>
    </snapshotRepository>
</distributionManagement>
```

- URLs को अपने रिपॉजिटरी मैनेजर के एड्रेस (जैसे Nexus, Artifactory) से बदलें।
- सुनिश्चित करें कि क्रेडेंशियल्स आपकी `~/.m2/settings.xml` फ़ाइल में `<servers>` के अंतर्गत मिलान करने वाले `id` के साथ सेट अप हैं।

#### 6. रिलीज़ को वेरिफाई करें

`release:perform` के बाद, रिलीज़ को वेरिफाई करें:

- सुनिश्चित करें कि आर्टिफैक्ट्स (जैसे JARs, sources) डिप्लॉय हो गए हैं, इसके लिए अपने रिपॉजिटरी मैनेजर को चेक करें।
- रिलीज़ किए गए वर्जन को किसी अन्य प्रोजेक्ट में इसकी POM में डिपेंडेंसी के रूप में जोड़कर टेस्ट करें।

---

### अतिरिक्त कॉन्फ़िगरेशन और टिप्स

#### फेलियर को हैंडल करना

- **क्लीनअप**: यदि रिलीज़ प्रक्रिया फेल हो जाती है, तो उपयोग करें:
  ```bash
  mvn release:clean
  ```
  प्लगइन द्वारा बनाई गई अस्थायी फ़ाइलों को हटाने के लिए।
- **रोलबैक**: `release:prepare` द्वारा किए गए परिवर्तनों को पूर्ववत करने के लिए:
  ```bash
  mvn release:rollback
  ```
  सावधान रहें और वेरिफाई करें कि कौन से परिवर्तन पूर्ववत हो रहे हैं।

#### मल्टी-मॉड्यूल प्रोजेक्ट्स

मल्टी-मॉड्यूल प्रोजेक्ट्स के लिए, प्लगइन डिफ़ॉल्ट रूप से सभी मॉड्यूल में वर्जन को सुसंगत रूप से अपडेट करता है। सुनिश्चित करें कि पैरेंट POM में प्लगइन और SCM कॉन्फ़िगरेशन शामिल है।

#### ऑटोमेशन के लिए बैच मोड

रिलीज़ को नॉन-इंटरएक्टिवली चलाने के लिए (जैसे कि CI/CD पाइपलाइन में), `-B` फ्लैग का उपयोग करें और वर्जन निर्दिष्ट करें:

```bash
mvn release:prepare -B -DreleaseVersion=1.0 -DdevelopmentVersion=1.1-SNAPSHOT
mvn release:perform -B
```

#### सामान्य समस्याएं और समाधान

- **VCS एरर्स**: सुनिश्चित करें कि Git कमांड्स (जैसे `git commit`, `git push`) मैन्युअल रूप से काम करते हैं। ऑथेंटिकेशन (SSH keys, tokens) चेक करें।
- **बिल्ड फेलियर्स**: वेरिफाई करें कि बिल्ड स्थानीय रूप से सफल होता है (`mvn clean install`) और डिपेंडेंसीज़ सही ढंग से रिज़ॉल्व होती हैं।
- **वर्जन स्ट्रैटेजी**: यदि डिफ़ॉल्ट आपकी आवश्यकताओं के अनुरूप नहीं हैं तो प्रॉम्प्ट के दौरान या प्रॉपर्टीज़ के माध्यम से वर्जन को कस्टमाइज़ करें।

---

### कमांड्स का सारांश

1. **रिलीज़ तैयार करें**:
   ```bash
   mvn release:prepare
   ```
2. **रिलीज़ परफॉर्म करें**:
   ```bash
   mvn release:perform
   ```
3. **ऑप्शनल ड्राई रन**:
   ```bash
   mvn release:prepare -DdryRun=true
   ```
4. **आवश्यकता पड़ने पर क्लीनअप या रोलबैक**:
   ```bash
   mvn release:clean
   mvn release:rollback
   ```

---

### निष्कर्ष

Maven Release Plugin वर्जन प्रबंधन, VCS इंटरैक्शन और डिप्लॉयमेंट को स्वचालित करके रिलीज़ प्रक्रिया को सरल बनाता है। प्लगइन को अपनी POM में जोड़कर, अपने SCM को कॉन्फ़िगर करके, और `release:prepare` व `release:perform` चरणों का पालन करके, आप अपने Maven प्रोजेक्ट्स को कुशलतापूर्वक रिलीज़ कर सकते हैं। एक स्मूद रिलीज़ प्रक्रिया सुनिश्चित करने के लिए हमेशा अपने कॉन्फ़िगरेशन को ड्राई रन से टेस्ट करें और परिणामों को वेरिफाई करें।