---
audio: false
generated: true
lang: hi
layout: post
title: 'एडवांस्ड गिट: रीबेस, मर्ज, कॉन्फ्लिक्ट रेजोल्यूशन, स्क्वॉश'
translated: true
type: note
---

यह गाइड `git rebase` और `git merge` के उन्नत उपयोग, कॉन्फ्लिक्ट्स को हल करने, `ours` और `theirs` स्ट्रैटेजी का उपयोग करने, और कमिट्स को स्क्वॉश करने को कवर करती है। मैं प्रत्येक विषय के लिए संक्षिप्त स्पष्टीकरण और व्यावहारिक उदाहरण प्रदान करूंगा, जो बेसिक Git कमांड्स से परिचितता मानकर उन्नत वर्कफ़्लोज़ पर केंद्रित होंगे।

## 1. Git Merge: उन्नत उपयोग
`git merge` विकास के कई सीक्वेंस को एक एकीकृत इतिहास में जोड़ता है। उन्नत उपयोग में कॉम्प्लेक्स मर्ज को हैंडल करना, मर्ज स्ट्रैटेजी का उपयोग करना, और मर्ज कमिट्स को मैनेज करना शामिल है।

### मुख्य मर्ज स्ट्रैटेजी
- **Recursive (डिफ़ॉल्ट)**: मल्टीपल कॉमन एन्सेस्टर्स को हैंडल करती है और ज़्यादातर मर्ज के लिए उपयुक्त है।
  - उदाहरण: `git merge --strategy=recursive branch-name`
- **Ours**: करंट ब्रांच के बदलावों को रखती है, मर्ज की जा रही ब्रांच के बदलावों को छोड़ देती है।
  - उदाहरण: `git merge --strategy=ours feature-branch`
- **Theirs**: एक वास्तविक स्ट्रैटेजी नहीं है, लेकिन इसे एमुलेट किया जा सकता है (कॉन्फ्लिक्ट रिज़ॉल्यूशन के लिए नीचे देखें)।
- **Octopus**: एक साथ कई ब्रांचेज़ को मर्ज करती है (>2 ब्रांचेज़ के लिए उपयोग की जाती है)।
  - उदाहरण: `git merge branch1 branch2 branch3`

### उन्नत मर्ज ऑप्शन
- `--no-ff`: फास्ट-फॉरवर्ड संभव होने पर भी एक मर्ज कमिट को फोर्स करती है, ब्रांच हिस्ट्री को प्रिज़र्व करते हुए।
  - उदाहरण: `git merge --no-ff feature-branch`
- `--squash`: मर्ज की जा रही ब्रांच की सभी कमिट्स को करंट ब्रांच पर एक सिंगल कमिट में कंबाइन करती है।
  - उदाहरण: `git merge --squash feature-branch && git commit`
- `--allow-unrelated-histories`: कोई कॉमन हिस्ट्री न होने वाली ब्रांचेज़ को मर्ज करती है।
  - उदाहरण: `git merge --allow-unrelated-histories external-repo-branch`

### उदाहरण: नो फास्ट-फॉरवर्ड के साथ मर्ज करना
```bash
git checkout main
git merge --no-ff feature-branch
# एक मर्ज कमिट बनाता है, feature-branch की हिस्ट्री को प्रिज़र्व करते हुए
```

## 2. Git Rebase: उन्नत उपयोग
`git rebase` कमिट्स को मूव या मॉडिफ़ाई करके एक लीनियर हिस्ट्री बनाने के लिए इतिहास को रिराइट करता है। यह ब्रांचेज़ को साफ़ करने के लिए शक्तिशाली है लेकिन इतिहास को बदल देता है, इसलिए शेयर्ड ब्रांचेज़ पर सावधानी से उपयोग करें।

### रीबेस के प्रकार
- **स्टैंडर्ड रीबेस**: करंट ब्रांच की कमिट्स को बेस ब्रांच पर रीप्ले करता है।
  - उदाहरण: `git rebase main` (`feature-branch` पर होते हुए)
- **इंटरैक्टिव रीबेस**: कमिट्स को एडिट करने, स्क्वॉश करने, या रीऑर्डर करने की अनुमति देता है।
  - उदाहरण: `git rebase -i main`

### इंटरैक्टिव रीबेस कमांड
`git rebase -i <base>` चलाएं (जैसे, `git rebase -i HEAD~3` आखिरी 3 कमिट्स के लिए)। यह कमांड्स के साथ एक एडिटर खोलता है जैसे:
- `pick`: कमिट को वैसे ही रखें।
- `reword`: कमिट मैसेज को एडिट करें।
- `edit`: कमिट को ठीक करने के लिए रीबेस को पॉज़ करें।
- `squash`: पिछली कमिट के साथ कंबाइन करें।
- `fixup`: स्क्वॉश की तरह, लेकिन कमिट मैसेज को डिस्कार्ड कर देता है।
- `drop`: कमिट को रिमूव करें।

### उदाहरण: इंटरैक्टिव रीबेस
आखिरी 3 कमिट्स को स्क्वॉश करने के लिए:
```bash
git rebase -i HEAD~3
# एडिटर में, कंबाइन करने वाली कमिट्स के लिए "pick" को "squash" या "fixup" में बदलें
# पूरा करने के लिए सेव करें और बाहर निकलें
```

### अलग बेस पर रीबेस करना
किसी ब्रांच को नए बेस पर मूव करने के लिए (जैसे, `feature-branch` को `old-base` से `main` पर मूव करना):
```bash
git rebase --onto main old-base feature-branch
```

### मर्ज कमिट्स के साथ रीबेस
डिफ़ॉल्ट रूप से, रीबेस मर्ज कमिट्स को फ्लैटन कर देता है। उन्हें प्रिज़र्व करने के लिए:
```bash
git rebase -i --preserve-merges main
```

### रीबेस को अबॉर्ट करना
अगर कुछ गलत हो जाए:
```bash
git rebase --abort
```

## 3. मर्ज/रीबेस कॉन्फ्लिक्ट्स को हल करना
कॉन्फ्लिक्ट तब होते हैं जब Git बदलावों को ऑटोमैटिकली रिकॉन्साइल नहीं कर सकता। `merge` और `rebase` दोनों के परिणामस्वरूप कॉन्फ्लिक्ट हो सकते हैं, जिन्हें समान तरीके से हल किया जाता है।

### कॉन्फ्लिक्ट्स हल करने के चरण
1. **कॉन्फ्लिक्ट्स की पहचान करें**: Git पॉज़ हो जाता है और कॉन्फ्लिक्टेड फ़ाइलों की सूची देता है।
   - मर्ज के लिए: `git status` कॉन्फ्लिक्ट वाली फ़ाइलें दिखाता है।
   - रीबेस के लिए: `git rebase -i` के दौरान कॉन्फ्लिक्ट्स को कमिट-बाय-कमिट हल किया जाता है।
2. **कॉन्फ्लिक्टेड फ़ाइलों को एडिट करें**: फ़ाइलें खोलें और कॉन्फ्लिक्ट मार्कर देखें:
   ```text
   <<<<<<< HEAD
   आपके बदलाव
   =======
   आने वाले बदलाव
   >>>>>>> branch-name
   ```
   मैन्युअली वांछित बदलाव रखने के लिए एडिट करें, फिर मार्कर हटा दें।
3. **हल के रूप में मार्क करें**:
   - मर्ज के लिए: `git add <file>`
   - रीबेस के लिए: `git add <file>`, फिर `git rebase --continue`
4. **प्रक्रिया पूरी करें**:
   - मर्ज: `git commit` (Git ऑटो-जेनरेटेड कमिट मैसेज बना सकता है)।
   - रीबेस: `git rebase --continue` तब तक जब तक सभी कमिट्स अप्लाई न हो जाएं।

### उदाहरण: मर्ज कॉन्फ्लिक्ट हल करना
```bash
git checkout main
git merge feature-branch
# कॉन्फ्लिक्ट होता है
git status  # कॉन्फ्लिक्टेड फ़ाइलों की सूची देता है
# कॉन्फ्लिक्ट हल करने के लिए फ़ाइलों को एडिट करें
git add resolved-file.txt
git commit  # मर्ज को फाइनलाइज़ करें
```

### उदाहरण: रीबेस कॉन्फ्लिक्ट हल करना
```bash
git checkout feature-branch
git rebase main
# कॉन्फ्लिक्ट होता है
# कॉन्फ्लिक्टेड फ़ाइलों को एडिट करें
git add resolved-file.txt
git rebase --continue
# तब तक दोहराएं जब तक रीबेस पूरा न हो जाए
```

## 4. कॉन्फ्लिक्ट रिज़ॉल्यूशन में Ours और Theirs का उपयोग
कॉन्फ्लिक्ट्स के दौरान, आप एक तरफ के बदलावों (`ours` या `theirs`) को प्राथमिकता देना चाह सकते हैं। `ours` और `theirs` का अर्थ ऑपरेशन पर निर्भर करता है।

### मर्ज: Ours बनाम Theirs
- `ours`: करंट ब्रांच के बदलाव (जैसे, `main`)।
- `theirs`: मर्ज की जा रही ब्रांच के बदलाव (जैसे, `feature-branch`)।
- `--strategy-option` (`-X`) फ्लैग का उपयोग करें:
  - `ours` रखें: `git merge -X ours feature-branch`
  - `theirs` रखें: `git merge -X theirs feature-branch`

### रीबेस: Ours बनाम Theirs
- `ours`: बेस ब्रांच के बदलाव (जैसे, `main`)।
- `theirs`: रीबेस की जा रही ब्रांच के बदलाव (जैसे, `feature-branch`)।
- रीबेस कॉन्फ्लिक्ट रिज़ॉल्यूशन के दौरान उपयोग करें:
  ```bash
  git checkout --ours file.txt  # बेस ब्रांच के वर्ज़न को रखें
  git checkout --theirs file.txt  # रीबेस्ड ब्रांच के वर्ज़न को रखें
  git add file.txt
  git rebase --continue
  ```

### उदाहरण: Theirs के साथ मर्ज
`feature-branch` को `main` में मर्ज करने और `feature-branch` के बदलावों को प्राथमिकता देने के लिए:
```bash
git checkout main
git merge -X theirs feature-branch
```

### उदाहरण: Ours के साथ रीबेस
`feature-branch` को `main` पर रीबेस करते समय, `main` के वर्ज़न को रखकर एक कॉन्फ्लिक्ट हल करना:
```bash
git checkout feature-branch
git rebase main
# कॉन्फ्लिक्ट होता है
git checkout --ours file.txt
git add file.txt
git rebase --continue
```

## 5. कमिट्स को स्क्वॉश करना
स्क्वॉशिंग कई कमिट्स को एक में कंबाइन करती है, जिससे एक साफ़ हिस्ट्री बनती है। यह आमतौर पर इंटरैक्टिव रीबेस के साथ किया जाता है।

### कमिट्स स्क्वॉश करने के चरण
1. वांछित कमिट्स के लिए एक इंटरैक्टिव रीबेस शुरू करें:
   ```bash
   git rebase -i HEAD~n  # n = स्क्वॉश करने वाली कमिट्स की संख्या
   ```
2. एडिटर में, पिछली कमिट में कंबाइन करने वाली कमिट्स के लिए `pick` को `squash` (या `fixup`) में बदलें।
3. सेव करें और बाहर निकलें। Git कंबाइन्ड कमिट के लिए कमिट मैसेज एडिट करने का प्रॉम्प्ट कर सकता है।
4. अपडेटेड हिस्ट्री को पुश करें (अगर पहले से शेयर्ड है तो फोर्स पुश करें):
   ```bash
   git push --force-with-lease
   ```

### उदाहरण: 3 कमिट्स को स्क्वॉश करना
```bash
git rebase -i HEAD~3
# एडिटर दिखाता है:
# pick abc123 Commit 1
# pick def456 Commit 2
# pick ghi789 Commit 3
# इसमें बदलें:
# pick abc123 Commit 1
# squash def456 Commit 2
# squash ghi789 Commit 3
# सेव करें और बाहर निकलें
# अगर प्रॉम्प्ट किया जाए तो कंबाइन्ड कमिट मैसेज एडिट करें
git push --force-with-lease
```

### मर्ज के दौरान स्क्वॉशिंग
मर्ज के दौरान किसी ब्रांच की सभी कमिट्स को स्क्वॉश करने के लिए:
```bash
git checkout main
git merge --squash feature-branch
git commit  # एक सिंगल कमिट बनाएं
```

## बेस्ट प्रैक्टिसेज़ और टिप्स
- **रीबेस से पहले बैकअप लें**: रीबेसिंग इतिहास को रिराइट करती है। एक बैकअप ब्रांच बनाएं:
  ```bash
  git branch backup-branch
  ```
- **शेयर्ड ब्रांचेज़ को रीबेस करने से बचें**: पब्लिक ब्रांचेज़ पर इतिहास रिराइट करने से सहयोगियों के लिए समस्याएं हो सकती हैं। इसके बजाय `merge` का उपयोग करें।
- **सुरक्षा के लिए `--force-with-lease` का उपयोग करें**: जब रिरिटन हिस्ट्री पुश कर रहे हों, यह दूसरों के बदलावों को ओवरराइट करने से रोकता है।
- **कॉन्फ्लिक्ट्स हल करने के बाद टेस्ट करें**: कॉन्फ्लिक्ट्स हल करने के बाद सुनिश्चित करें कि आपका प्रोजेक्ट बिल्ड होता है और टेस्ट पास होते हैं।
- **कॉन्फ्लिक्ट्स के लिए टूल्स का उपयोग करें**: VS Code, SourceTree, या `git mergetool` जैसे GUI टूल कॉन्फ्लिक्ट रिज़ॉल्यूशन को सरल बना सकते हैं।
- **टीम के साथ कम्युनिकेट करें**: अगर टीम में काम कर रहे हैं, तो कॉन्फ्लिक्ट्स से बचने के लिए रीबेस को कोऑर्डिनेट करें।

## कॉमन पिटफॉल
- **रीबेस में काम खोना**: हमेशा बैकअप लें या खोई हुई कमिट्स को रिकवर करने के लिए `git reflog` का उपयोग करें।
- **Ours/Theirs का गलत उपयोग**: मर्ज बनाम रीबेस कॉन्टेक्स्ट में कौन सी ब्रांच `ours` बनाम `theirs` है, उसे डबल-चेक करें।
- **कोऑर्डिनेशन के बिना फोर्स पुशिंग**: शेयर्ड ब्रांचेज़ को फोर्स-पुश करने से टीममेट्स का काम डिसरप्ट हो सकता है। `--force-with-lease` का उपयोग करें और कम्युनिकेट करें।

## गलतियों से रिकवरी
- **हिस्ट्री देखें**: पिछले स्टेट्स देखने और खोई हुई कमिट्स को रिकवर करने के लिए `git reflog` का उपयोग करें:
  ```bash
  git reflog
  git checkout <commit-hash>
  ```
- **प्री-मर्ज स्टेट पर रीसेट करें**:
  ```bash
  git reset --hard HEAD^  # आखिरी मर्ज कमिट को अंडू करें
  ```
- **मर्ज को अबॉर्ट करें**: अगर मर्ज गलत हो जाए:
  ```bash
  git merge --abort
  ```

यह गाइड उन्नत Git वर्कफ़्लोज़ के लिए एक ठोस आधार प्रदान करती है। विशिष्ट परिदृश्यों या त्रुटियों के लिए, मुझे बताएं, और मैं गहराई से खोज सकता हूं या रीयल-टाइम समाधानों के लिए खोज सकता हूं!