---
audio: false
generated: true
image: false
lang: hi
layout: post
model: deepseek/deepseek-v3.2-exp
title: рд▓реАрдирдЪреИрдЯ рдЖрдИрдУрдПрд╕ рдЪреИрдЯ рд░реВрдо рдирд┐рдпрдВрддреНрд░рдХ
translated: true
type: note
---

рдпрд╣ **рдЪреИрдЯ рд░реВрдо рд╡реНрдпреВ рдХрдВрдЯреНрд░реЛрд▓рд░** (`CDChatRoomVC`) LeanChat iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рд╣реИ, рдЬреЛ рдПрдХ рдкреВрд░реНрдг-рд╕реБрд╡рд┐рдзрд╛ рд╡рд╛рд▓рд╛ рдЪреИрдЯ рдЗрдВрдЯрд░рдлреЗрд╕ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред рдЗрд╕рдХреА рдореБрдЦреНрдп рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛ рд╡рд┐рд╡рд░рдг рдпрд╣рд╛рдБ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:

## ЁЯПЧя╕П **рдХреЛрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░**
- **рдЗрдирд╣реЗрд░рд┐рдЯ рдХрд░рддрд╛ рд╣реИ** `XHMessageTableViewController` рд╕реЗ (рдПрдХ рдореИрд╕реЗрдЬ UI рдлреНрд░реЗрдорд╡рд░реНрдХ)
- **рдмреИрдХреЗрдВрдб рдХреЗ рд▓рд┐рдП LeanCloud (AVIM)** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рдореИрд╕реЗрдЬрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП
- **рдореИрдиреЗрдЬ рдХрд░рддрд╛ рд╣реИ** рдПрдХ AVIMConversation рдЧреНрд░реБрдк рдпрд╛ 1-on-1 рдЪреИрдЯреНрд╕ рдХреЗ рд▓рд┐рдП

## ЁЯУ▒ **рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ**

### **рдореИрд╕реЗрдЬ рд╣реИрдВрдбрд▓рд┐рдВрдЧ**
- **рдореИрд╕реЗрдЬ рднреЗрдЬреЗрдВ**: рдЯреЗрдХреНрд╕реНрдЯ, рдЗрдореЗрдЬ, рд╡реАрдбрд┐рдпреЛ, рд╡реЙрдЗрд╕, рдЗрдореЛрд╢рди рдФрд░ рд▓реЛрдХреЗрд╢рди
- **рдореИрд╕реЗрдЬ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ** рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рдореЗрдВ рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ
- **рдореИрд╕реЗрдЬ рд╕реНрдЯреЗрдЯрд╕ рдЯреНрд░реИрдХрд┐рдВрдЧ**: рднреЗрдЬрдирд╛, рднреЗрдЬрд╛ рдЧрдпрд╛, рдбрд┐рд▓реАрд╡рд░, рдлреЗрд▓
- **рдлреЗрд▓ рд╣реБрдП рдореИрд╕реЗрдЬ рдХреЛ рджреЛрдмрд╛рд░рд╛ рднреЗрдЬреЗрдВ**
- **рдореИрд╕реЗрдЬ рд╣рд┐рд╕реНрдЯреНрд░реА рд▓реЛрдб рдХрд░реЗрдВ** рдкреЗрдЬрд┐рдиреЗрд╢рди рдХреЗ рд╕рд╛рде

### **рдореАрдбрд┐рдпрд╛ рд╕рдкреЛрд░реНрдЯ**
- **рдЗрдореЗрдЬ**: рдХреИрдорд░реЗ рд╕реЗ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ рдпрд╛ рдЧреИрд▓рд░реА рд╕реЗ рдЪреБрдиреЗрдВ
- **рд╡реЙрдЗрд╕ рдореИрд╕реЗрдЬ**: рд░рд┐рдХреЙрд░реНрдб рдФрд░ рдкреНрд▓реЗ рдХрд░реЗрдВ рд╡рд┐рдЬреБрдЕрд▓ рдПрдирд┐рдореЗрд╢рди рдХреЗ рд╕рд╛рде
- **рд╡реАрдбрд┐рдпреЛ**: рднреЗрдЬреЗрдВ рдФрд░ рдбрд┐рд╕реНрдкреНрд▓реЗ рдХрд░реЗрдВ
- **рд▓реЛрдХреЗрд╢рди рд╢реЗрдпрд░рд┐рдВрдЧ**: рдореИрдк рдкреНрд░рд┐рд╡реНрдпреВ рдХреЗ рд╕рд╛рде
- **рдЗрдореЛрд╢рди/рд╕реНрдЯрд┐рдХрд░**: рдХрд╕реНрдЯрдо рдЗрдореЛрд╢рди рдкреИрдХ

### **UI рдХрдВрдкреЛрдиреЗрдВрдЯреНрд╕**
- **рдореИрд╕реЗрдЬ рдмрдмрд▓реНрд╕** рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реНрдЯрд╛рдЗрд▓ рдХреЗ рд╕рд╛рде рднреЗрдЬреЗ/рдкреНрд░рд╛рдкреНрдд рд╣реБрдП рдореИрд╕реЗрдЬ рдХреЗ рд▓рд┐рдП
- **рдЗрдирдкреБрдЯ рдЯреВрд▓рдмрд╛рд░** рдЗрдореЛрд╢рди рдкрд┐рдХрд░ рдФрд░ рдореАрдбрд┐рдпрд╛ рдСрдкреНрд╢рди рдХреЗ рд╕рд╛рде
- **рд╕реНрдЯреЗрдЯрд╕ рдЗрдВрдбрд┐рдХреЗрдЯрд░** рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреЗрдЯ рдХреЗ рд▓рд┐рдП
- **рдЯрд╛рдЗрдорд╕реНрдЯреИрдВрдк рдбрд┐рд╕реНрдкреНрд▓реЗ** рдореИрд╕реЗрдЬ рдХреЗ рд▓рд┐рдП
- **рдЕрд╡рддрд╛рд░ рдбрд┐рд╕реНрдкреНрд▓реЗ** рдпреВрдЬрд░реНрд╕ рдХреЗ рд▓рд┐рдП

### **рдбреЗрдЯрд╛ рдореИрдиреЗрдЬрдореЗрдВрдЯ**
- **рд▓реЛрдХрд▓ рдХреИрд╢рд┐рдВрдЧ** рдореИрд╕реЗрдЬ рдФрд░ рдпреВрдЬрд░ рдбреЗрдЯрд╛ рдХреА
- **рдСрдлрд▓рд╛рдЗрди рд╕рдкреЛрд░реНрдЯ** рдлреЗрд▓ рд╣реБрдП рдореИрд╕реЗрдЬ рд╕реНрдЯреЛрд░ рдХреЗ рд╕рд╛рде
- **рдореАрдбрд┐рдпрд╛ рдлрд╛рдЗрд▓ рдХреИрд╢рд┐рдВрдЧ** (рдЗрдореЗрдЬ, рд╡реАрдбрд┐рдпреЛ, рдСрдбрд┐рдпреЛ)
- **рдХрдиреНрд╡рд░реНрд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдкрд░реНрд╕рд┐рд╕реНрдЯреЗрдВрд╕**

## ЁЯФз **рддрдХрдиреАрдХреА рдЗрдореНрдкреНрд▓реАрдореЗрдВрдЯреЗрд╢рди**

### **рд▓рд╛рдЗрдлрд╕рд╛рдЗрдХрд▓ рдореИрдиреЗрдЬрдореЗрдВрдЯ**
```objc
- viewDidLoad: UI рд╕реЗрдЯрдЕрдк рдХрд░рддрд╛ рд╣реИ, рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рддрд╛ рд╣реИ, рд╢реБрд░реБрдЖрддреА рдореИрд╕реЗрдЬ рд▓реЛрдб рдХрд░рддрд╛ рд╣реИ
- viewDidAppear/Disappear: рдХрдиреНрд╡рд░реНрд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдФрд░ рдСрдбрд┐рдпреЛ рдкреНрд▓реЗрдмреИрдХ рдореИрдиреЗрдЬ рдХрд░рддрд╛ рд╣реИ
- dealloc: рдСрдмреНрдЬрд░реНрд╡рд░реНрд╕ рдФрд░ рд░рд┐рд╕реЛрд░реНрд╕реЗрдЬ рдХреЛ рдХреНрд▓реАрди рдЕрдк рдХрд░рддрд╛ рд╣реИ
```

### **рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рд╣реИрдВрдбрд▓рд┐рдВрдЧ**
- `kCDNotificationMessageReceived`: рдирдП рдЖрдиреЗ рд╡рд╛рд▓реЗ рдореИрд╕реЗрдЬ
- `kCDNotificationMessageDelivered`: рдореИрд╕реЗрдЬ рдбрд┐рд▓реАрд╡рд░реА рдХрдиреНрдлрд░реНрдореЗрд╢рди
- `kCDNotificationConversationUpdated`: рдХрдиреНрд╡рд░реНрд╕реЗрд╢рди рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдореЗрдВ рдмрджрд▓рд╛рд╡
- `kCDNotificationConnectivityUpdated`: рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрд╢рди рдореЗрдВ рдмрджрд▓рд╛рд╡

### **рдореИрд╕реЗрдЬ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдкрд╛рдЗрдкрд▓рд╛рдЗрди**
1. **рдХрдиреНрд╡рд░реНрдЯ** AVIM рдореИрд╕реЗрдЬ рдХреЛ XHMessage рдлреЙрд░реНрдореЗрдЯ рдореЗрдВ рдбрд┐рд╕реНрдкреНрд▓реЗ рдХреЗ рд▓рд┐рдП
2. **рдХреИрд╢** рдореАрдбрд┐рдпрд╛ рдлрд╛рдЗрд▓ рдФрд░ рдпреВрдЬрд░ рдбреЗрдЯрд╛ рд▓реЛрдХрд▓реА
3. **рдЕрдкрдбреЗрдЯ** UI рдФрд░ рдирдП рдореИрд╕реЗрдЬ рдкрд░ рд╕реНрдХреНрд░реЙрд▓ рдХрд░реЗрдВ
4. **рдЯреНрд░реИрдХ** рдбрд┐рд▓реАрд╡рд░реА рд╕реНрдЯреЗрдЯ рдФрд░ рдЙрд╕рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ

### **рдПрд░рд░ рд╣реИрдВрдбрд▓рд┐рдВрдЧ**
- **рдиреЗрдЯрд╡рд░реНрдХ рдлреЗрд▓рд┐рдпрд░**: рдСрдЯреЛрдореЗрдЯрд┐рдХ рд░рд┐рдЯреНрд░рд╛рдИ рд╡рд┐рдЬреБрдЕрд▓ рдлреАрдбрдмреИрдХ рдХреЗ рд╕рд╛рде
- **рдлрд╛рдЗрд▓ рдСрдкрд░реЗрд╢рди**: рд▓реЛрдХрд▓ рд╕реНрдЯреЛрд░реЗрдЬ рдПрд░рд░ рд╣реИрдВрдбрд▓рд┐рдВрдЧ
- **рдореИрд╕реЗрдЬ рднреЗрдЬрдирд╛**: рдлреЗрд▓ рд╣реЛрдиреЗ рдкрд░ рд▓реЛрдХрд▓ рд╕реНрдЯреЛрд░реЗрдЬ рдХрд╛ рдлреЙрд▓рдмреИрдХ

рдпрд╣ рдХрдВрдЯреНрд░реЛрд▓рд░ рдореБрдЦреНрдп рдЪреИрдЯ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИ, рдпреВрдЬрд░ рдЗрдВрдЯрд░реИрдХреНрд╢рди рд╕реЗ рд▓реЗрдХрд░ рдмреИрдХреЗрдВрдб рдХрдореНрдпреБрдирд┐рдХреЗрд╢рди рддрдХ рд╕рдм рдХреБрдЫ рд╣реИрдВрдбрд▓ рдХрд░рддреЗ рд╣реБрдП рдПрдХ рд╕реНрдореВрдж, рд░рд┐рд╕реНрдкреЙрдиреНрд╕рд┐рд╡ рдореИрд╕реЗрдЬрд┐рдВрдЧ рдЕрдиреБрднрд╡ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред