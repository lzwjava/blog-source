---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-4-fast
title: क्रोन द्वारा स्वचालित गिट सिंक
translated: true
type: note
---

एक लैपटॉप के Git पुश से अपडेट्स को दूसरे लैपटॉप पर उसी रेपो की क्लोन में स्वचालित रूप से सिंक करने के लिए (बिना मैन्युअल `git pull` के), आप वास्तविक समय के "स्वचालित" अपडेट्स के लिए केवल Git पर भरोसा नहीं कर सकते - Git डिज़ाइन के अनुसार पुल-आधारित है। हालाँकि, आप दूसरे लैपटॉप पर एक निर्धारित कार्य सेट कर सकते हैं जो रिमोट (आपके मामले में GitHub) से परिवर्तनों को समय-समय पर फ़ेच और मर्ज करे। यह आपके जैसे व्यक्तिगत सेटअप के लिए सबसे सरल और विश्वसनीय तरीका है।

यहाँ बताया गया है कि आप इसे अपने Mac पर कैसे कर सकते हैं (चूंकि आप MacBook Air का उपयोग कर रहे हैं)। हम शेड्यूलिंग के लिए `cron` का उपयोग करेंगे, क्योंकि यह इन-बिल्ट और हल्का है। मान लें कि दोनों लैपटॉप में `github.com:lzwjava/blog-source` की क्लोन हैं, और आप `main` ब्रांच पर हैं।

### चरण 1: सुनिश्चित करें कि दूसरे लैपटॉप का रेपो सही तरीके से सेट है
दूसरे लैपटॉप पर:
1. अपने रेपो में नेविगेट करें: `cd /path/to/blog-source`
2. सुनिश्चित करें कि यह रिमोट को ट्रैक करता है: `git remote -v` (आपके GitHub रेपो को `origin` दिखाना चाहिए)।
3. यदि नहीं है, तो इसे जोड़ें: `git remote add origin git@github.com:lzwjava/blog-source.git`
4. वर्तमान स्थिति फ़ेच करें: `git fetch origin`
5. main पर स्विच करें: `git checkout main`
6. अपस्ट्रीम सेट करें: `git branch --set-upstream-to=origin/main main`

एक मैन्युअल पुल का परीक्षण करें: `git pull origin main`। यह आपके आउटपुट की तरह काम करना चाहिए।

### चरण 2: स्वचालित पुल के लिए एक स्क्रिप्ट बनाएँ
पुल को सुरक्षित रूप से संभालने के लिए एक साधारण शेल स्क्रिप्ट बनाएँ (यह फ़ेच करती है, संघर्षों की जाँच करती है, और यदि साफ है तो पुल करती है)।

1. अपने रेपो रूट में, `auto-pull.sh` बनाएँ:
   ```bash:disable-run
   #!/bin/bash
   cd "$(dirname "$0")"  # रेपो डायरेक्टरी में बदलें
   git fetch origin
   if git diff HEAD origin/main --quiet; then
       git pull origin main
       echo "Auto-pull completed: $(date)"
   else
       echo "Warning: Local changes detected. Skipping pull. Resolve manually: $(date)"
       # वैकल्पिक: ईमेल या नोटिफिकेशन भेजें (नीचे देखें)
   fi
   ```

2. इसे एक्ज़िक्यूटेबल बनाएँ: `chmod +x auto-pull.sh`

यह स्क्रिप्ट:
- बिना मर्ज किए अपडेट फ़ेच करती है।
- जाँचती है कि क्या आपकी लोकल ब्रांच साफ है (कोई अनकमिटेड परिवर्तन नहीं)।
- केवल सुरक्षित होने पर ही पुल करती है; अन्यथा, आपको चेतावनी देती है।

### चरण 3: इसे Cron के साथ शेड्यूल करें
Cron नौकरियों को समय-समय पर चलाता है। हम इसे हर 5 मिनट में चलाएंगे (आवश्यकतानुसार समायोजित करें; उदाहरण के लिए, प्रति घंटा)।

1. Crontab एडिटर खोलें: `crontab -e` (यदि संकेत दिया जाए तो nano का उपयोग करें: `nano ~/.crontab`)।

2. अंत में यह लाइन जोड़ें (हर 5 मिनट के लिए):
   ```
   */5 * * * * /path/to/blog-source/auto-pull.sh >> /path/to/blog-source/pull-log.txt 2>&1
   ```
   - `/path/to/blog-source` को अपनी वास्तविक रेपो पथ से बदलें (उदाहरण के लिए, `~/blog-source`)।
   - `>> pull-log.txt` आउटपुट को डीबगिंग के लिए एक फ़ाइल में लॉग करता है।

3. सेव करें और बाहर निकलें (nano में Ctrl+O, Enter, Ctrl+X)।
4. सत्यापित करें: `crontab -l` (आपकी लाइन दिखानी चाहिए)।
5. परीक्षण: 5 मिनट प्रतीक्षा करें या अस्थायी रूप से `* * * * *` जोड़ने के लिए फिर से `crontab -e` चलाएं (हर मिनट), फिर वापस लौटाएं।

Cron आपके उपयोगकर्ता के रूप में चलता है, इसलिए यह GitHub प्रमाणीकरण के लिए आपकी SSH कुंजी का सम्मान करता है (जैसे आपके पुल आउटपुट में)।

### वैकल्पिक सुधार
- **संघर्ष/सूचनाएँ संभालें**: यदि स्क्रिप्ट को कोई समस्या दिखती है, तो एक सूचना जोड़ें। `auto-pull.sh` को संपादित करें और इसे जोड़ें:
  ```bash
  # यदि चेतावनी है, तो macOS नोटिफिकेशन भेजें
  osascript -e 'display notification "Git pull skipped due to local changes" with title "Blog Repo Sync"'
  ```
- **पुश पर चलाएँ (पहले लैपटॉप से)**: अधिक "पुश-जैसी" सिंक के लिए, पहले लैपटॉप पर GitHub Actions का उपयोग करें। `.github/workflows/sync.yml` बनाएँ:
  ```yaml
  name: Auto Sync
  on: [push]
  jobs:
    sync:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
        - name: Notify (e.g., via webhook to second laptop)
          run: curl -X POST https://your-second-laptop-webhook-endpoint  # दूसरे लैपटॉप पर एक सरल सर्वर सेट करें
  ```
  लेकिन इसके लिए दूसरी मशीन पर एक लिसनर की आवश्यकता होती है (उदाहरण के लिए, ngrok + एक छोटा Flask ऐप के माध्यम से), जो अधिकांश मामलों के लिए अत्यधिक है।
- **फ्रीक्वेंसी ट्रेड-ऑफ़**: एक ब्लॉग रेपो के लिए हर 5 मिनट ठीक है। रियल-टाइम के लिए, टर्मिनल में `watch` जैसे टूल पर विचार करें (`watch -n 300 git pull`), लेकिन cron हाथों-हाथ है।
- **प्रॉक्सी नोट**: आपका आउटपुट HTTP/HTTPS प्रॉक्सी दिखाता है - cron उन्हें इनहेरिट करेगा, इसलिए पुल वैसे ही काम करने चाहिए।

अब, जब आप पहले लैपटॉप से पुश करेंगे (`git push origin main`), तो दूसरा हर 5 मिनट में स्वचालित रूप से सिंक हो जाएगा। इतिहास के लिए `pull-log.txt` देखें।

यदि आपको cron में प्रमाणीकरण/प्रॉक्सी समस्याएँ आती हैं, तो स्क्रिप्ट में `export HTTP_PROXY=http://127.0.0.1:7890` आदि जोड़ें। दूसरे लैपटॉप पर Windows के लिए, इसके बजाय Task Scheduler का उपयोग करें।