---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-code-fast-1
title: Node.js ओपनएसएसएल लीगेसी प्रोवाइडर फ्लैग
translated: true
type: note
---

### समस्या को समझना
Node.js 16 (और इसके पहले के वर्शन) OpenSSL 1.x का उपयोग करते हैं, जबकि Node.js 22 OpenSSL 3.x पेश करता है, जिसमें सुरक्षा के सख्त डिफॉल्ट सेटिंग्स हैं। इससे कुछ एप्लिकेशन में एरर आ सकते हैं, खासकर वे जो लीगेसी क्रिप्टोग्राफिक प्रोवाइडर या डिप्रिकेटेड एल्गोरिदम (जैसे, MD4 हैश) पर निर्भर करते हैं। `--openssl-legacy-provider` फ्लैग OpenSSL 1.x के बिहेवियर के साथ कम्पैटिबिलिटी को अस्थायी रूप से एनेबल करता है ताकि अपग्रेड के दौरान इन समस्याओं को ठीक किया जा सके।

**नोट**: यह फ्लैग एक वर्कअराउंड है और भविष्य के Node.js वर्जन में इसे हटाया जा सकता है। यह शॉर्ट-टर्म फिक्स के लिए सबसे अच्छा है—जब भी संभव हो, आधुनिक OpenSSL 3.x APIs का उपयोग करने के लिए अपने कोड को अपडेट करें।

### फ्लैग का उपयोग कैसे करें
आप इस फ्लैग को सीधे Node.js चलाते समय या npm/yarn स्क्रिप्ट के माध्यम से लागू कर सकते हैं। यह एक रनटाइम ऑप्शन है, कोई परमानेंट कॉन्फ़िगरेशन नहीं।

#### सीधे Node कमांड के लिए
अपनी स्क्रिप्ट या कमांड से पहले फ्लैग जोड़ें। उदाहरण:
- बेसिक स्क्रिप्ट एक्सेक्यूशन: `node --openssl-legacy-provider app.js`
- REPL (इंटरैक्टिव मोड): `node --openssl-legacy-provider`
- अगर कोई मॉड्यूल चला रहे हैं: `node --openssl-legacy-provider --input-type=module index.mjs`
- अतिरिक्त फ्लैग के साथ: `node --openssl-legacy-provider --max-old-space-size=4096 script.js`

यह लीगेसी प्रोवाइडर सपोर्ट को एनेबल करता है, जिससे "digital envelope routines unsupported" (जो पुराने हैश या साइफर से संबंधित है) जैसी कॉमन एरर से बचा जा सकता है।

#### npm/Yarn स्क्रिप्ट के लिए
अपने `package.json` में `"scripts"` सेक्शन को संबंधित कमांड में फ्लैग शामिल करने के लिए संशोधित करें। उदाहरण:
```json
{
  "scripts": {
    "start": "node --openssl-legacy-provider app.js",
    "dev": "node --openssl-legacy-provider --watch app.js"
  }
}
```
फिर हमेशा की तरह चलाएं: `npm start` या `yarn dev`।

अगर nodemon या vite जैसे टूल का उपयोग कर रहे हैं जो Node प्रोसेस स्पॉन करते हैं, तो इसकी कॉन्फ़िगरेशन में फ्लैग प्रीपेंड करें (जैसे, nodemon.json में: `"exec": "node --openssl-legacy-provider"`)।

#### ग्लोबल कमांड के लिए (जैसे, nvm या सिस्टम Node के माध्यम से)
अगर आप nvm के साथ Node वर्जन मैनेज करते हैं, तो Node 22 पर स्विच करें और फ्लैग के साथ कमांड चलाएं जैसा ऊपर दिखाया गया है। Docker या CI/CD के लिए, इसे अपनी रन स्क्रिप्ट में जोड़ें (जैसे, `CMD ["node", "--openssl-legacy-provider", "app.js"]`)।

### ट्रबलशूटिंग और विकल्प
- **सत्यापित करें कि फ्लैग काम कर रहा है**: `node --openssl-legacy-provider --version` चलाएं—इससे बिना एरर के Node 22 का वर्जन आउटपुट होना चाहिए।
- **ठीक होने वाली कॉमन समस्याएं**: क्रिप्टो मॉड्यूल के `require()` में एरर, webpack बिल्ड, या ऐप स्टार्टअप में एरर। अगर यह बनी रहती है, तो OpenSSL-स्पेसिफिक कोड के लिए चेक करें (जैसे, `crypto.createCipher` के विकल्पों जैसे `crypto.createCipheriv` का उपयोग करें)।
- **लॉन्ग-टर्म समाधान**: डिप्रिकेटेड क्रिप्टो उपयोग के लिए स्कैन करें (ESLint प्लगइन जैसे टूल का उपयोग करें) और OpenSSL 3.x-कम्पैटिबल मेथड में अपडेट करें। Node 22 डॉक्यूमेंटेशन हैशिंग के लिए `bcrypt` या `crypto.scrypt` जैसी लाइब्रेरीज की सिफारिश करता है।
- **परफॉर्मेंस/कम्पैटिबिलिटी नोट**: लीगेसी प्रोवाइडर मोड सुरक्षा/फीचर्स पर थोड़ा प्रभाव डाल सकता है लेकिन माइग्रेशन के दौरान मदद करता है। अच्छी तरह से टेस्ट करें, क्योंकि कुछ OpenSSL 3 फीचर्स (जैसे, एन्हांस्ड एन्ट्रॉपी सोर्सेज) उपलब्ध नहीं होंगे।

अधिक जानकारी के लिए, Node.js OpenSSL डॉक्यूमेंटेशन nodejs.org/api/crypto.html पर देखें। अगर आप कोई विशिष्ट एरर मैसेज शेयर करते हैं, तो मैं अधिक टार्गेटेड सलाह दे सकता हूं!