---
audio: true
generated: true
lang: hi
layout: post
title: SAX (Simple API for XML) का उपयोग
translated: true
---

`org.xml.sax` पैकेज का उपयोग Java में XML दस्तावेज़ को पर्स करने के लिए, आप SAX (Simple API for XML) पर्सिंग एप्रोच का उपयोग करके एक सरल प्रक्रिया का पालन कर सकते हैं। SAX एक इवेंट-ड्राइवन पर्सर है जो एक XML दस्तावेज़ को क्रमिक रूप से पढ़ता है और विभिन्न भागों जैसे तत्वों या पाठ सामग्री को मिलने पर कॉलबैक विधियों को ट्रिगर करता है। यह विशेष रूप से बड़े XML फाइलों के लिए मेमोरी-एफिशेंट है, क्योंकि यह DOM की तरह पूरे दस्तावेज़ को मेमोरी में लोड नहीं करता है। नीचे `org.xml.sax` का उपयोग करने के लिए एक चरण-दर-चरण गाइड है।

---

### चरण 1: SAX पर्सर सेट अप करें
SAX के साथ XML पर्सिंग शुरू करने के लिए, आपको `SAXParserFactory` क्लास का उपयोग करके एक `SAXParser` इंस्टेंस बनाना होगा। यह फैक्ट्री आपको पर्सर की व्यवहार को कॉन्फ़िगर करने की अनुमति देता है, इससे पहले कि आप इसे बनाएं।

यहां `SAXParser` बनाने का तरीका है:

```java
import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;

public class SAXExample {
    public static void main(String[] args) {
        try {
            // एक SAXParserFactory इंस्टेंस बनाएं
            SAXParserFactory factory = SAXParserFactory.newInstance();

            // विकल्प: फैक्ट्री को कॉन्फ़िगर करें (उदाहरण के लिए, नामस्थान जागरूकता को सक्षम करें)
            factory.setNamespaceAware(true); // अगर आपका XML नामस्थान का उपयोग करता है, तो इसे true पर सेट करें

            // एक SAXParser बनाएं
            SAXParser parser = factory.newSAXParser();

            // अगले चरण यहाँ जाएंगे
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

- **`SAXParserFactory.newInstance()`**: एक नया फैक्ट्री इंस्टेंस बनाता है।
- **`factory.setNamespaceAware(true)`**: विकल्प। अगर आपका XML नामस्थान का उपयोग करता है, तो नामस्थान प्रोसेसिंग को सक्षम करता है। डिफ़ॉल्ट पर, यह `false` है।
- **`factory.newSAXParser()`**: एक `SAXParser` बनाता है। अगर पर्सर को कॉन्फ़िगर या प्रारंभ नहीं किया जा सकता, तो यह `ParserConfigurationException` या `SAXException` फेंक सकता है।

---

### चरण 2: XML इवेंट्स के लिए एक हैंडलर बनाएं
SAX पर्सिंग एक हैंडलर पर निर्भर करता है जो XML इवेंट्स को प्रोसेस करता है, जैसे कि एक तत्व की शुरुआत, एक तत्व की समाप्ति, या पाठ सामग्री। इसके लिए प्राथमिक इंटरफ़ेस `ContentHandler` है, लेकिन सरलता के लिए, आप `DefaultHandler` क्लास को विस्तारित कर सकते हैं, जो `ContentHandler` और अन्य हैंडलर इंटरफ़ेसों (`ErrorHandler`, `DTDHandler`, आदि) के खाली कार्यान्वयन प्रदान करता है। आपको केवल उन विधियों को ओवरराइड करना होगा जिनसे आपको चिंता है।

यहां एक कस्टम हैंडलर का उदाहरण है:

```java
import org.xml.sax.Attributes;
import org.xml.sax.helpers.DefaultHandler;

public class MyHandler extends DefaultHandler {
    // पाठ सामग्री को संग्रहित करने के लिए एक चर
    private StringBuilder content = new StringBuilder();

    @Override
    public void startElement(String uri, String localName, String qName, Attributes attributes) {
        // नए तत्व के लिए पाठ बफर को साफ करें
        content.setLength(0);
        System.out.println("Start element: " + qName);

        // अगर तत्व में गुण हैं, तो उन्हें प्रोसेस करें
        for (int i = 0; i < attributes.getLength(); i++) {
            System.out.println("Attribute: " + attributes.getQName(i) + " = " + attributes.getValue(i));
        }
    }

    @Override
    public void characters(char[] ch, int start, int length) {
        // पाठ सामग्री को संग्रहित करें (एक तत्व के पाठ के लिए कई बार बुलाया जा सकता है)
        content.append(ch, start, length);
    }

    @Override
    public void endElement(String uri, String localName, String qName) {
        // संग्रहित पाठ सामग्री को प्रोसेस करें
        String text = content.toString().trim();
        if (!text.isEmpty()) {
            System.out.println("Content: " + text);
        }
        System.out.println("End element: " + qName);
        content.setLength(0); // अगले तत्व के लिए रीसेट करें
    }

    @Override
    public void startDocument() {
        System.out.println("Document parsing started");
    }

    @Override
    public void endDocument() {
        System.out.println("Document parsing completed");
    }
}
```

- **`startElement`**: जब पर्सर एक तत्व की शुरुआत को मिलता है, तो बुलाया जाता है। पैरामीटर शामिल हैं:
  - `uri`: नामस्थान URI (अगर नामस्थान जागरूक है)।
  - `localName`: तत्व का स्थानीय नाम (नामस्थान जागरूक होने पर, बिना प्रीफ़िक्स के)।
  - `qName`: क्वालीफाइड नाम (अगर कोई है, तो प्रीफ़िक्स शामिल है)।
  - `attributes`: तत्व के गुणों की सूची।
- **`characters`**: एक तत्व के भीतर पाठ सामग्री के लिए बुलाया जाता है। ध्यान दें कि यह एक तत्व के पाठ के लिए कई बार बुलाया जा सकता है, इसलिए एक `StringBuilder` का उपयोग करके इसे संग्रहित करें।
- **`endElement`**: जब एक तत्व समाप्त होता है, तो बुलाया जाता है।
- **`startDocument` और `endDocument`**: XML दस्तावेज़ की शुरुआत और समाप्ति पर बुलाया जाता है।

---

### चरण 3: XML को पर्स करें
पर्सर और हैंडलर तैयार होने के बाद, आप एक XML स्रोत (उदाहरण के लिए, एक फाइल, `InputStream`, या स्ट्रिंग) को पर्स करने के लिए `SAXParser` पर `parse` विधि को बुलाकर अपने हैंडलर को पास कर सकते हैं।

यहां एक XML फाइल को पर्स करने का तरीका है:

```java
import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;
import java.io.File;

public class SAXExample {
    public static void main(String[] args) {
        try {
            // पर्सर बनाएं
            SAXParserFactory factory = SAXParserFactory.newInstance();
            SAXParser parser = factory.newSAXParser();

            // हैंडलर बनाएं
            MyHandler handler = new MyHandler();

            // एक XML फाइल को पर्स करें
            File xmlFile = new File("example.xml");
            parser.parse(xmlFile, handler);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

- **`parser.parse`**: एक XML स्रोत (उदाहरण के लिए, `File`) और एक `DefaultHandler` लेता है। यह `IOException` (इनपुट त्रुटियों के लिए) या `SAXException` (पर्सिंग त्रुटियों के लिए) फेंक सकता है।

एक स्ट्रिंग के बजाय एक फाइल के लिए, `InputSource` का उपयोग करें:

```java
import org.xml.sax.InputSource;
import java.io.StringReader;

// मुख्य विधि के अंदर
String xml = "<book><title>XML Parsing</title></book>";
InputSource inputSource = new InputSource(new StringReader(xml));
parser.parse(inputSource, handler);
```

---

### चरण 4: अपवादों का प्रबंधन करें
SAX पर्सिंग में कई अपवाद हैं जिनका आप प्रबंधन कर सकते हैं:

- **`ParserConfigurationException`**: `newSAXParser()` द्वारा फेंका गया, अगर पर्सर को कॉन्फ़िगर नहीं किया जा सकता।
- **`SAXException`**: `newSAXParser()` या `parse()` द्वारा फेंका गया, सामान्य पर्सिंग त्रुटियों के लिए।
- **`IOException`**: `parse()` द्वारा फेंका गया, अगर इनपुट स्रोत को पढ़ने में कोई समस्या है।

अपनी कोड को एक `try-catch` ब्लॉक में लपेटें:

```java
try {
    SAXParserFactory factory = SAXParserFactory.newInstance();
    SAXParser parser = factory.newSAXParser();
    MyHandler handler = new MyHandler();
    parser.parse(new File("example.xml"), handler);
} catch (ParserConfigurationException e) {
    System.err.println("Parser configuration error: " + e.getMessage());
} catch (SAXException e) {
    System.err.println("SAX error: " + e.getMessage());
} catch (IOException e) {
    System.err.println("IO error: " + e.getMessage());
}
```

---

### चरण 5: विकल्पीय विशेषताएं
#### त्रुटि प्रबंधन
`DefaultHandler` भी `ErrorHandler` को लागू करता है। अपने त्रुटियों को प्रबंधित करने के लिए इसके विधियों को ओवरराइड करें:

```java
public class MyHandler extends DefaultHandler {
    @Override
    public void error(SAXParseException e) {
        System.err.println("Parsing error: " + e.getMessage());
    }

    @Override
    public void fatalError(SAXParseException e) throws SAXException {
        System.err.println("Fatal error: " + e.getMessage());
        throw e; // पर्सिंग रोकें
    }

    @Override
    public void warning(SAXParseException e) {
        System.out.println("Warning: " + e.getMessage());
    }
    // अन्य विधियाँ ऊपर की तरह
}
```

#### नामस्थान प्रबंधन
अगर आपका XML नामस्थान का उपयोग करता है, तो `factory.setNamespaceAware(true)` सेट करें और अपने हैंडलर विधियों में `uri` और `localName` का उपयोग करें `qName` के बजाय तत्वों को सही ढंग से पहचानने के लिए।

#### वैधता
एक DTD या स्कीमा के खिलाफ XML को वैधता के लिए, `factory.setValidating(true)` सेट करें। आपको एक `ErrorHandler` की भी जरूरत हो सकती है ताकि वैधता त्रुटियों को प्रबंधित किया जा सके।

---

### उदाहरण XML और आउटपुट
एक XML फाइल `example.xml` के लिए:
```xml
<book id="123">
    <title>XML Parsing</title>
    <author>John Doe</author>
</book>
```

उपरोक्त कोड को चलाने से संभवतः यह आउटपुट आएगा:
```
Document parsing started
Start element: book
Attribute: id = 123
Start element: title
Content: XML Parsing
End element: title
Start element: author
Content: John Doe
End element: author
End element: book
Document parsing completed
```

---

### सारांश
`org.xml.sax` का उपयोग करने के लिए:
1. `SAXParserFactory` का उपयोग करके एक `SAXParser` बनाएं।
2. `DefaultHandler` को विस्तारित करके एक हैंडलर को लागू करें और विधियों जैसे `startElement`, `endElement`, और `characters` को ओवरराइड करें।
3. अपने हैंडलर और XML स्रोत के साथ `parser.parse()` को बुलाकर XML को पर्स करें।
4. अपवादों का प्रबंधन करें (`SAXException`, `IOException`, `ParserConfigurationException`).
5. विकल्प के रूप में नामस्थान जागरूकता, वैधता, या त्रुटि प्रबंधन को कॉन्फ़िगर करें।

यह एप्रोच विशेष रूप से बड़े XML दस्तावेज़ों को पर्स करने के लिए आदर्श है जब आप केवल विशेष डेटा को निकालना चाहते हैं बिना मेमोरी में एक पेड़ बनाए।