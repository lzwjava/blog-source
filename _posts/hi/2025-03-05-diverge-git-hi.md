---
audio: false
generated: true
lang: hi
layout: post
title: विचलित गिट शाखाएँ
translated: true
type: note
---

जब आपकी स्थानीय `main` शाखा और रिमोट `origin/main` शाखा Git में अलग-अलग दिशा में विकसित हो जाती हैं—जिसमें क्रमशः 74 और 70 अलग-अलग कमिट शामिल हों—इसका मतलब है कि उनमें एक सामान्य पूर्वज (कमिट) है लेकिन उसके बाद से उनमें अद्वितीय कमिट जुड़ गए हैं। आपका लक्ष्य अपनी स्थानीय `main` शाखा को `origin/main` के समान बनाना है, अपनी स्थानीय शाखा को सामान्य पूर्वज ( "दोनों का जनक" ) पर रीसेट करके और फिर `git pull` का उपयोग करके रिमोट परिवर्तनों को लाना, जिससे रिमोट वाले के पक्ष में आपकी स्थानीय भिन्न कमिट्स को प्रभावी ढंग से हटा दिया जाएगा। इसे प्राप्त करने के चरण नीचे दिए गए हैं।

### विचलन को ठीक करने के चरण

1. **नवीनतम रिमोट परिवर्तन फ़ेच करें**  
   शुरुआत यह सुनिश्चित करके करें कि आपके स्थानीय रिपॉजिटरी के पास रिमोट से नवीनतम जानकारी है। यह आपके स्थानीय `main` शाखा को अभी तक बदले बिना, `origin/main` के लिए आपके संदर्भ को अपडेट करता है।

   ```bash
   git fetch origin
   ```

2. **सामान्य पूर्वज कमिट खोजें**  
   अपनी स्थानीय `main` और `origin/main` के बीच के सामान्य पूर्वज कमिट की पहचान करने के लिए `git merge-base` का उपयोग करें। यह वह बिंदु है जहाँ से शाखाएँ अलग हुई थीं।

   ```bash
   ancestor=$(git merge-base main origin/main)
   ```

   यह कमांड सामान्य पूर्वज के कमिट हैश को `ancestor` वेरिएबल में स्टोर कर देती है।

3. **स्थानीय `main` को सामान्य पूर्वज पर रीसेट करें**  
   अपनी स्थानीय `main` शाखा को सामान्य पूर्वज कमिट पर रीसेट करें। `--hard` विकल्प यह सुनिश्चित करता है कि शाखा पॉइंटर और आपका वर्किंग डायरेक्टरी दोनों अपडेट हो जाएँ, इस बिंदु के बाद बने सभी स्थानीय कमिट और परिवर्तनों को हटा दिया जाएगा।

   ```bash
   git reset --hard $ancestor
   ```

   **सावधानी**: यह चरण आपके वर्किंग डायरेक्टरी और स्टेजिंग एरिया में सभी अनकमिट किए गए परिवर्तनों के साथ-साथ आपकी स्थानीय `main` की 74 अद्वितीय कमिट्स को हटा देगा। यदि आपको इन्हें सुरक्षित रखने की आवश्यकता है, तो पहले एक बैकअप शाखा बनाने पर विचार करें (नीचे "वैकल्पिक बैकअप" देखें)।

4. **रिमोट परिवर्तन पुल करें**  
   अब, `origin/main` से परिवर्तनों को पुल करें। चूंकि आपकी स्थानीय `main` अब सामान्य पूर्वज पर है, और `origin/main` 70 कमिट्स आगे है, यह आपकी स्थानीय `main` को `origin/main` से मेल खाने के लिए फास्ट-फॉरवर्ड कर देगा।

   ```bash
   git pull origin main
   ```

   इसके बाद, आपकी स्थानीय `main` शाखा `origin/main` के समान होगी, जिसमें सभी स्थानीय भिन्न कमिट्स हटा दी गई होंगी।

### पूर्ण कमांड अनुक्रम

निष्पादित करने के लिए कमांड का पूरा अनुक्रम यहाँ दिया गया है:

```bash
git fetch origin
ancestor=$(git merge-base main origin/main)
git reset --hard $ancestor
git pull origin main
```

### क्या होता है?
- **चरण 1 के बाद**: आपका स्थानीय रिपॉजिटरी `origin/main` की नवीनतम स्थिति जानता है।
- **चरण 2 के बाद**: आपने सामान्य पूर्वज कमिट (जैसे, `abc123` जैसा एक हैश) की पहचान कर ली है।
- **चरण 3 के बाद**: आपकी स्थानीय `main` `abc123` पर रीसेट हो गई है, जिससे 74 अद्वितीय स्थानीय कमिट्स खो गई हैं।
- **चरण 4 के बाद**: `git pull` `main` को `origin/main` पर फास्ट-फॉरवर्ड कर देता है, जिससे रिमोट शाखा से 70 कमिट्स आ जाती हैं।

परिणाम यह होता है कि आपकी स्थानीय `main` बिल्कुल `origin/main` से मेल खाती है, जिससे रिमोट शाखा का उपयोग करने के आपके लक्ष्य को पूरा किया जाता है।

### वैकल्पिक बैकअप
यदि आप अपनी स्थानीय कमिट्स को हटाने को लेकर अनिश्चित हैं और उन्हें बाद के लिए सुरक्षित रखना चाहते हैं, तो रीसेट करने से पहले एक बैकअप शाखा बनाएँ:

```bash
git branch backup-main
```

इसे `git reset` कमांड से *पहले* चलाएँ। आपकी 74 स्थानीय कमिट्स `backup-main` पर बनी रहेंगी, और यदि आवश्यकता हो तो आप बाद में उन पर वापस जा सकते हैं।

### महत्वपूर्ण नोट्स
- **अनकमिट किए गए परिवर्तन**: यदि आपके पास अनकमिट किए गए परिवर्तन (आपके वर्किंग डायरेक्टरी या स्टेजिंग एरिया में) हैं जिन्हें आप रखना चाहते हैं, तो रीसेट करने से पहले उन्हें स्टैश कर लें:
  ```bash
  git stash
  ```
  प्रक्रिया पूरी होने के बाद, आप उन्हें `git stash pop` के साथ वापस प्राप्त कर सकते हैं।
- **यह क्यों काम करता है**: सामान्य पूर्वज पर रीसेट करना और फिर पुल करना, `origin/main` पर एक साफ फास्ट-फॉरवर्ड सुनिश्चित करता है, जो विचलित शाखाओं से सीधे पुल करने पर उत्पन्न होने वाले मर्ज कॉन्फ्लिक्ट्स से बचाता है।

इन चरणों का पालन करके, आप अपनी स्थानीय `main` को वांछित रूप से `origin/main` से मेल खाने के लिए सफलतापूर्वक रीसेट कर लेंगे।