---
audio: false
generated: true
lang: hi
layout: post
title: рдЬрд╛рд╡рд╛ рдПрд╕рдХреНрдпреВрдПрд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА
translated: true
type: note
---

`java.sql` рдкреИрдХреЗрдЬ **Java рдХреЗ JDBC API (Java Database Connectivity) рдХрд╛ рдПрдХ рдореБрдЦреНрдп рд╣рд┐рд╕реНрд╕рд╛** рд╣реИ, рдЬреЛ Java рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдХреЛ MySQL, PostgreSQL, Oracle, SQL Server рдФрд░ рдЕрдиреНрдп рд░рд┐рд▓реЗрд╢рдирд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдмрдирд╛рддрд╛ рд╣реИред рдпрд╣ **рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛрдиреЗ, SQL рдХреНрд╡реЗрд░реАрдЬрд╝ execute рдХрд░рдиреЗ рдФрд░ рд░рд┐рдЬрд▓реНрдЯреНрд╕ retrieve рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдФрд░ рдХреНрд▓рд╛рд╕реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

---

## ЁЯУШ **`java.sql` рдХрд╛ рдЕрд╡рд▓реЛрдХрди**

`java.sql` рдкреИрдХреЗрдЬ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рд╕реЗрд╕ рдФрд░ рдЗрдВрдЯрд░рдлреЗрд╕ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:

* рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛрдирд╛ (`DriverManager`, `Connection`)
* SQL рдХреНрд╡реЗрд░реАрдЬрд╝ execute рдХрд░рдирд╛ (`Statement`, `PreparedStatement`, `CallableStatement`)
* рд░рд┐рдЬрд▓реНрдЯреНрд╕ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдирд╛ (`ResultSet`)
* рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╣реИрдВрдбрд▓ рдХрд░рдирд╛ (`DatabaseMetaData`, `ResultSetMetaData`)
* рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рдиреНрд╕ рдореИрдиреЗрдЬ рдХрд░рдирд╛
* SQL рдПрдХреНрд╕реЗрдкреНрд╢рдиреНрд╕ рд╣реИрдВрдбрд▓ рдХрд░рдирд╛ (`SQLException`)

---

## ЁЯФз **рд╕реЗрдЯрдЕрдк: рдЖрдкрдХреЛ рдХреНрдпрд╛ рдЪрд╛рд╣рд┐рдП**

### 1. **JDBC рдбреНрд░рд╛рдЗрд╡рд░**

* рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЯрд╛рд░реНрдЧреЗрдЯ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ JDBC рдбреНрд░рд╛рдЗрд╡рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рдЬреИрд╕реЗ, MySQL: `mysql-connector-java`, PostgreSQL: `postgresql`)ред
* рдЖрдк рдЗрд╕реЗ Maven/Gradle рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдореИрдиреНрдпреБрдЕрд▓реА `.jar` рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред

### 2. **рдбреЗрдЯрд╛рдмреЗрд╕ URL**

рдкреНрд░рддреНрдпреЗрдХ JDBC рдбреНрд░рд╛рдЗрд╡рд░ рдХрд╛ рдПрдХ рдХрдиреЗрдХреНрд╢рди URL рдлреЙрд░реНрдореЗрдЯ рд╣реЛрддрд╛ рд╣реИ:

```java
jdbc:mysql://localhost:3306/mydatabase
jdbc:postgresql://localhost:5432/mydatabase
```

---

## ЁЯзй **рдореБрдЦреНрдп рдХреНрд▓рд╛рд╕реЗрд╕ рдФрд░ рдЗрдВрдЯрд░рдлреЗрд╕**

### ЁЯФМ 1. `DriverManager`

рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред

```java
Connection conn = DriverManager.getConnection(url, user, password);
```

### ЁЯз╡ 2. `Connection`

рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рддреНрд░ рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред

* `Statement` рдпрд╛ `PreparedStatement` рдмрдирд╛рдирд╛
* рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рдиреНрд╕ рдореИрдиреЗрдЬ рдХрд░рдирд╛ (commit, rollback)
* рдХрдиреЗрдХреНрд╢рди рдмрдВрдж рдХрд░рдирд╛

```java
Connection conn = DriverManager.getConnection(...);
conn.setAutoCommit(false);  // рдореИрдиреНрдпреБрдЕрд▓ рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рди рдХрдВрдЯреНрд░реЛрд▓ рдХреЗ рд▓рд┐рдП
```

### ЁЯУд 3. `Statement` / `PreparedStatement` / `CallableStatement`

#### `Statement`

рд╕реНрдЯреИрдЯрд┐рдХ SQL рдХреНрд╡реЗрд░реАрдЬрд╝ execute рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

```java
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery("SELECT * FROM users");
```

#### `PreparedStatement`

рдкреИрд░рд╛рдореАрдЯрд░рд╛рдЗрдЬреНрдб рдХреНрд╡реЗрд░реАрдЬрд╝ execute рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред SQL рдЗрдВрдЬреЗрдХреНрд╢рди рд╕реЗ рдмрдЪрд╛рддрд╛ рд╣реИред

```java
PreparedStatement ps = conn.prepareStatement("SELECT * FROM users WHERE id = ?");
ps.setInt(1, 101);
ResultSet rs = ps.executeQuery();
```

#### `CallableStatement`

рд╕реНрдЯреЛрд░реНрдб рдкреНрд░реЛрд╕реАрдЬрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

```java
CallableStatement cs = conn.prepareCall("{call getUser(?)}");
cs.setInt(1, 5);
ResultSet rs = cs.executeQuery();
```

### ЁЯУе 4. `ResultSet`

рдХреНрд╡реЗрд░реА рдХреЗ рд░рд┐рдЬрд▓реНрдЯ рдХреЛ рд╣реЛрд▓реНрдб рдХрд░рддрд╛ рд╣реИред

```java
while (rs.next()) {
    int id = rs.getInt("id");
    String name = rs.getString("name");
}
```

### ЁЯУЪ 5. рдореЗрдЯрд╛рдбреЗрдЯрд╛

* `DatabaseMetaData`: рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА
* `ResultSetMetaData`: рд░рд┐рдЬрд▓реНрдЯ рдХреЙрд▓рдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА

```java
DatabaseMetaData dbMeta = conn.getMetaData();
ResultSetMetaData rsMeta = rs.getMetaData();
```

---

## ЁЯзк **рдмреЗрд╕рд┐рдХ рдЙрджрд╛рд╣рд░рдг**

```java
import java.sql.*;

public class JdbcExample {
    public static void main(String[] args) {
        String url = "jdbc:mysql://localhost:3306/testdb";
        String user = "root";
        String password = "password";

        try (Connection conn = DriverManager.getConnection(url, user, password)) {
            String sql = "SELECT * FROM users WHERE age > ?";
            PreparedStatement ps = conn.prepareStatement(sql);
            ps.setInt(1, 18);

            ResultSet rs = ps.executeQuery();
            while (rs.next()) {
                System.out.println(rs.getInt("id") + " - " + rs.getString("name"));
            }

        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}
```

---

## ЁЯФБ **рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рдиреНрд╕**

```java
conn.setAutoCommit(false);  // рдСрдЯреЛ-рдХрдорд┐рдЯ рдбрд┐рд╕реЗрдмрд▓ рдХрд░реЗрдВ

try {
    PreparedStatement ps1 = conn.prepareStatement("UPDATE accounts SET balance = balance - ? WHERE id = ?");
    ps1.setDouble(1, 100.0);
    ps1.setInt(2, 1);
    ps1.executeUpdate();

    PreparedStatement ps2 = conn.prepareStatement("UPDATE accounts SET balance = balance + ? WHERE id = ?");
    ps2.setDouble(1, 100.0);
    ps2.setInt(2, 2);
    ps2.executeUpdate();

    conn.commit(); // рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рди рдХрдорд┐рдЯ рдХрд░реЗрдВ

} catch (SQLException ex) {
    conn.rollback(); // рдПрд░рд░ рдкрд░ рд░реЛрд▓ рдмреИрдХ рдХрд░реЗрдВ
}
```

---

## тЭЧ **рдПрдХреНрд╕реЗрдкреНрд╢рди рд╣реИрдВрдбрд▓рд┐рдВрдЧ**

```java
try {
    // рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛрдб
} catch (SQLException ex) {
    System.err.println("Error Code: " + ex.getErrorCode());
    System.err.println("SQL State: " + ex.getSQLState());
    ex.printStackTrace();
}
```

---

## ЁЯз░ **`java.sql` рдореЗрдВ рдЙрдкрдпреЛрдЧреА рдлреАрдЪрд░реНрд╕**

| рдлреАрдЪрд░                 | рдЗрдВрдЯрд░рдлреЗрд╕/рдХреНрд▓рд╛рд╕                         | рдЙрджреНрджреЗрд╢реНрдп                                           |
| -------------------- | ----------------------------------- | -------------------------------------------- |
| рдореЗрдЯрд╛рдбреЗрдЯрд╛             | `DatabaseMetaData`                  | рдбреЗрдЯрд╛рдмреЗрд╕ рд╡рд░реНрдЬрди, рд╕рдкреЛрд░реНрдЯреЗрдб рдлреАрдЪрд░реНрд╕, рдЯреЗрдмрд▓реНрд╕, рдЖрджрд┐ |
| рд░рд┐рдЬрд▓реНрдЯ рдХреЙрд▓рдо рдЬрд╛рдирдХрд╛рд░реА | `ResultSetMetaData`                 | рдХреЙрд▓рдо рдХрд╛рдЙрдВрдЯ, рдЯрд╛рдЗрдк, рд▓реЗрдмрд▓, рдЖрджрд┐                 |
| BLOB/CLOB рд╣реИрдВрдбрд▓рд┐рдВрдЧ  | `Blob`, `Clob`                      | рдмрдбрд╝реЗ рдмрд╛рдЗрдирд░реА/рдЯреЗрдХреНрд╕реНрдЯ рдбреЗрдЯрд╛ рдХреЛ рд╕реНрдЯреЛрд░/retrieve рдХрд░рдирд╛ |
| рдмреИрдЪ рдПрдХреНрд╕реЗрдХреНрдпреВрд╢рди     | `addBatch()`, `executeBatch()`      | рдХрдИ рд╕реНрдЯреЗрдЯрдореЗрдВрдЯреНрд╕ рдХреЛ рдПрдХ рд╕рд╛рде execute рдХрд░рдирд╛       |
| рд╕реНрдХреНрд░реЙрд▓реЗрдмрд▓ рд░рд┐рдЬрд▓реНрдЯрд╕реЗрдЯ| `ResultSet.TYPE_SCROLL_INSENSITIVE` | рдХрд░реНрд╕рд░ рдХреЛ рдЖрдЧреЗ-рдкреАрдЫреЗ рдШреБрдорд╛рдирд╛                   |
| рдЕрдкрдбреЗрдЯреЗрдмрд▓ рд░рд┐рдЬрд▓реНрдЯрд╕реЗрдЯ  | `ResultSet.CONCUR_UPDATABLE`        | `ResultSet` рдореЗрдВ рд╕реАрдзреЗ рд░реЛрдЬрд╝ рдореЙрдбрд┐рдлрд╛рдИ рдХрд░рдирд╛      |

---

## ЁЯУж **Maven рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА рдЙрджрд╛рд╣рд░рдг (MySQL)**

```xml
<dependency>
    <groupId>mysql</groupId>
    <artifactId>mysql-connector-java</artifactId>
    <version>8.0.33</version>
</dependency>
```

---

## ЁЯза **рдмреЗрд╕реНрдЯ рдкреНрд░реИрдХреНрдЯрд┐рд╕реЗрдЬрд╝**

* рд╣рдореЗрд╢рд╛ `Connection`, `Statement`, `ResultSet` рдХреЛ `finally` рдмреНрд▓реЙрдХ рдореЗрдВ рдмрдВрдж рдХрд░реЗрдВ рдпрд╛ try-with-resources рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
* SQL рдЗрдВрдЬреЗрдХреНрд╢рди рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП `Statement` рдкрд░ `PreparedStatement` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
* рдкреНрд░реЛрдбрдХреНрд╢рди рдореЗрдВ рдХрдиреЗрдХреНрд╢рди рдкреВрд▓рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ (HikariCP, Apache DBCP рдЬреИрд╕реА рд▓рд╛рдЗрдмреНрд░реЗрд░реАрдЬрд╝ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ)ред
* рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрдмрдВрдзрд┐рдд рдХреНрд╡реЗрд░реАрдЬрд╝ рдХреЗ рд▓рд┐рдП рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рдиреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред
* рдмрд┐рдЬрдиреЗрд╕ рд▓реЙрдЬрд┐рдХ рдореЗрдВ SQL рдХреЛ рд╣рд╛рд░реНрдбрдХреЛрдб рди рдХрд░реЗрдВ тАФ DAO рдпрд╛ ORM рдкреИрдЯрд░реНрди (рдЬреИрд╕реЗ JPA, Hibernate) рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред

---

## ЁЯзо **рдПрдбрд╡рд╛рдВрд╕реНрдб рдЯреЙрдкрд┐рдХреНрд╕**

* **RowSet**: рд░рд┐рдЬрд▓реНрдЯрд╕реЗрдЯ рдХрд╛ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯреЗрдб рд╡рд░реНрдЬрди (`javax.sql.rowset`)
* **рдХрдиреЗрдХреНрд╢рди рдкреВрд▓рд┐рдВрдЧ**: рдкреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде `DataSource` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
* **JDBC 4+ рдлреАрдЪрд░реНрд╕**: рдСрдЯреЛ-рд▓реЛрдбрд┐рдВрдЧ рдбреНрд░рд╛рдЗрд╡рд░реНрд╕, try-with-resources рд╕рдкреЛрд░реНрдЯ
* **JDBC + Spring**: Spring JDBC рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреЗ рд╕рд╛рде рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди
* **JDBC + ORM**: Hibernate, JPA, MyBatis рдХреЗ рдЕрдВрджрд░ `java.sql` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

---

## ЁЯз╛ **рд╕рд╛рд░рд╛рдВрд╢ рддрд╛рд▓рд┐рдХрд╛**

| рдЯрд╛рд╕реНрдХ                  | рдХреНрд▓рд╛рд╕/рдЗрдВрдЯрд░рдлреЗрд╕                         |
| ------------------ | ----------------------------------- |
| рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛрдирд╛ | `DriverManager`, `Connection`       |
| SQL execute рдХрд░рдирд╛   | `Statement`, `PreparedStatement`    |
| рд╕реНрдЯреЛрд░реНрдб рдкреНрд░реЛрд╕реАрдЬрд░реНрд╕ | `CallableStatement`                 |
| рд░рд┐рдЬрд▓реНрдЯреНрд╕ рдкрдврд╝рдирд╛      | `ResultSet`                         |
| рдбреЗрдЯрд╛рдмреЗрд╕ рдЬрд╛рдирдХрд╛рд░реА     | `DatabaseMetaData`                  |
| рдХреЙрд▓рдо рдЬрд╛рдирдХрд╛рд░реА        | `ResultSetMetaData`                 |
| рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рдиреНрд╕       | `Connection.commit()`, `rollback()` |
| рдПрдХреНрд╕реЗрдкреНрд╢рди рд╣реИрдВрдбрд▓рд┐рдВрдЧ  | `SQLException`                      |

---

рдпрджрд┐ рдЖрдк рдЪрд╛рд╣реЗрдВ, рддреЛ рдореИрдВ рдпрд╣ рднреА рджреЗ рд╕рдХрддрд╛ рд╣реВрдВ:

* рдПрдХ рдЪреАрдЯ рд╢реАрдЯ
* рдПрдХ DAO-рд╕реНрдЯрд╛рдЗрд▓ рд░реАрдпреВрдЬреЗрдмрд▓ рд░реИрдкрд░ рдХреНрд▓рд╛рд╕
* рд░рд┐рдпрд▓ рдбреЗрдЯрд╛рдмреЗрд╕ (MySQL/PostgreSQL) рдХреЗ рд╕рд╛рде рдЙрджрд╛рд╣рд░рдг

рдореБрдЭреЗ рдмрддрд╛рдПрдВ!