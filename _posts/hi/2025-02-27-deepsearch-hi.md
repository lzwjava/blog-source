---
audio: false
generated: true
lang: hi
layout: post
title: ग्रोक के भीतर एक डीपसर्च प्रयोग
translated: true
type: note
---

### मुख्य बिंदु
- ऐसा प्रतीत होता है कि स्क्रिप्ट में `create-original` कमांड जोड़ने से Markdown फ़ाइलें सीधे `_posts/en` डायरेक्टरी में बनेंगी, जिनका फॉर्मेट ड्राफ्ट फ़ाइलों के समान होगा, जिसमें फ़ाइलनाम में तारीख भी शामिल होगी।
- शोध से पता चलता है कि नया कमांड वर्तमान तारीख (27 फरवरी, 2025) का उपयोग करेगा और नामकरण परंपरा `{date_str}-{name}-en.md` का पालन करेगा, जो ड्राफ्ट निर्माण प्रक्रिया से मेल खाता है।
- साक्ष्य इस बात की ओर इशारा करते हैं कि फ्रंट मैटर ड्राफ्ट के समान ही रहेगा, जिसमें `audio: false`, `lang: en`, `layout: post`, `title: {name}`, और `translated: false` जैसे फ़ील्ड शामिल होंगे।

### सीधा जवाब

#### अवलोकन
यह प्रतिक्रिया आपकी Python स्क्रिप्ट में एक `create-original` कमांड जोड़ती है, जो आपको ड्राफ्ट प्रक्रिया को दरकिनार करते हुए, Markdown फ़ाइलें सीधे `_posts/en` डायरेक्टरी में बनाने की अनुमति देती है। फ़ाइलें ड्राफ्ट फ़ाइलों के समान फॉर्मेट का पालन करेंगी, जिसमें फ़ाइलनाम में वर्तमान तारीख शामिल होगी, और फ्रंट मैटर संरचना भी समान रखी जाएगी।

#### यह कैसे काम करता है
नया `create-original` कमांड:
- आज की तारीख, 27 फरवरी 2025, का उपयोग करेगा, जिसे `YYYY-MM-DD` (उदाहरण के लिए, `2025-02-27`) फॉर्मेट में प्रस्तुत किया जाएगा।
- `_posts/en` डायरेक्टरी में `2025-02-27-{name}-en.md` जैसे नामों वाली फ़ाइलें बनाएगा, जहाँ `{name}` प्रदान किया गया नाम है (उदाहरण के लिए, `test-post` बन जाता है `2025-02-27-test-post-en.md`)।
- ड्राफ्ट फ़ाइलों के समान फ्रंट मैटर शामिल करेगा, जैसे:
  ```
  ---
  audio: false
  lang: en
  layout: post
  title: {name}
  translated: false
  ---
  ```
- यह सुनिश्चित करेगा कि `_posts/en` डायरेक्टरी मौजूद हो, और यदि आवश्यक हो तो इसे बना देगा।

#### अप्रत्याशित विवरण
दिलचस्प बात यह है कि जबकि ड्राफ्ट फ़ाइलें और नई ओरिजिनल फ़ाइलें एक ही तारीख-आधारित नामकरण परंपरा साझा करती हैं, मौजूदा `delete_md` फ़ंक्शन बिना तारीख वाली फ़ाइलों (जैसे `{name}-en.md`) को ढूंढता है, जिससे फ़ाइल प्रबंधन में असंगतताएँ हो सकती हैं। पूर्ण संगतता के लिए आपको डेटेड फ़ाइलनाम को संभालने के लिए डिलीशन लॉजिक को अपडेट करने की आवश्यकता हो सकती है।

---

### सर्वे नोट: `create-original` कमांड जोड़ने का विस्तृत विश्लेषण

यह खंड प्रदान की गई Python स्क्रिप्ट में `create-original` कमांड के कार्यान्वयन का एक व्यापक विश्लेषण प्रदान करता है, जो स्क्रिप्ट की संरचना, कार्यान्वयन के पीछे के तर्क और संभावित प्रभावों में विस्तृत अंतर्दृष्टि के साथ सीधे जवाब का विस्तार करता है। यह विश्लेषण स्क्रिप्ट की मौजूदा कार्यक्षमता और उपयोगकर्ता के उस अनुरोध पर आधारित है कि एक नया कमांड जोड़ा जाए जो ड्राफ्ट फ़ाइलों के समान फॉर्मेट के साथ "original dir" में सीधे फ़ाइलें बनाता है।

#### पृष्ठभूमि और संदर्भ
"scripts" डायरेक्टरी में स्थित और "file.py" नाम की यह स्क्रिप्ट, एक मल्टीलिंगुअल ब्लॉग या कंटेंट मैनेजमेंट सिस्टम, संभवतः Jekyll जैसे स्टेटिक साइट जनरेटर के लिए Markdown फ़ाइलों के निर्माण और विलोपन को संभालती है। यह वर्तमान में तीन कमांड्स को सपोर्ट करती है:
- `create`: `_drafts` डायरेक्टरी में एक ड्राफ्ट Markdown फ़ाइल बनाता है, जिसके फ़ाइलनाम में वर्तमान तारीख शामिल होती है, उदा. `2025-02-27-{name}-en.md`।
- `create-note`: `notes` डायरेक्टरी में एक नोट फ़ाइल बनाता है, जिसके फ़ाइलनाम में तारीख भी होती है।
- `delete`: `_posts` डायरेक्टरी और कई भाषाओं के लिए संबद्ध एसेट डायरेक्टरी से Markdown फ़ाइलें, PDFs, और ऑडियो फ़ाइलें हटाता है, जो बिना तारीख वाली `{name}-{lang}.md` नाम की फ़ाइलों को ढूंढता है।

उपयोगकर्ता ने एक `create-original` कमांड जोड़ने का अनुरोध किया था जो सीधे "original dir" में फ़ाइलें बनाता है, डिफ़ॉल्ट ड्राफ्ट निर्माण (`create` कमांड) के समान फॉर्मेट बनाए रखता है। संदर्भ को देखते हुए, "original dir" की व्याख्या स्क्रिप्ट की संरचना और `delete_md` फ़ंक्शन के व्यवहार के आधार पर `_posts/en` के रूप में की गई है।

#### कार्यान्वयन विवरण
अनुरोध को पूरा करने के लिए, एक नए फ़ंक्शन `create_original` को डिजाइन किया गया, जो `create_md` फ़ंक्शन को दर्शाता है लेकिन `_posts/en` डायरेक्टरी को लक्षित करता है। कार्यान्वयन विवरण इस प्रकार हैं:

- **तारीख प्रबंधन**: फ़ंक्शन `datetime.date.today()` का उपयोग करके वर्तमान तारीख प्राप्त करता है, जो 27 फरवरी, 2025 को 04:00 AM PST पर, `2025-02-27` का परिणाम देता है। यह तारीख ड्राफ्ट फ़ाइलनाम के साथ स्थिरता के लिए `YYYY-MM-DD` के रूप में फॉर्मेट की जाती है।
- **डायरेक्टरी और फ़ाइल पथ**: फ़ंक्शन जांचता है कि क्या `_posts/en` डायरेक्टरी मौजूद है, यदि आवश्यक हो तो `os.makedirs` का उपयोग करके इसे बना देता है। फ़ाइल फिर `os.path.join('_posts', 'en', f"{date_str}-{name}-en.md")` पर बनाई जाती है, यह सुनिश्चित करते हुए कि फ़ाइलनाम में तारीख शामिल है, उदा. नाम `test-post` के लिए `2025-02-27-test-post-en.md`।
- **फ्रंट मैटर**: फ्रंट मैटर `create_md` में जैसा है वैसा ही है, जिसे इस प्रकार परिभाषित किया गया है:
  ```
  ---
  audio: false
  lang: en
  layout: post
  title: {name}
  translated: false
  ---
  ```
  यह ड्राफ्ट फ़ाइलों के साथ स्थिरता सुनिश्चित करता है, जिसमें `audio: false` (कोई ऑडियो अटैचमेंट नहीं), `lang: en` (अंग्रेजी के लिए), और `title: {name}` (पोस्ट शीर्षक के लिए) जैसे फ़ील्ड बनाए रखे जाते हैं।
- **फ़ाइल निर्माण**: फ़ाइल `open(file_path, 'w', encoding='utf-8')` का उपयोग करके लिखी जाती है, जो व्यापक संगतता के लिए UTF-8 एन्कोडिंग सुनिश्चित करती है, और एक पुष्टिकरण संदेश प्रिंट किया जाता है, उदा. `Created original file: _posts/en/2025-02-27-test-post-en.md`।

स्क्रिप्ट के मुख्य भाग को `create-original` को एक वैध एक्शन के रूप में शामिल करने के लिए अपडेट किया गया, उपयोग संदेश को इस प्रकार संशोधित किया गया:
```
Usage: python scripts/file.py <create|create-note|create-original|delete> <name>
```
और एक शर्त जोड़ी गई कि जब एक्शन `create-original` हो तो `create_original(name)` को कॉल किया जाए।

#### मौजूदा फ़ंक्शन के साथ तुलना
अंतर और समानताओं को उजागर करने के लिए, `create_md`, `create_note`, और नए `create_original` की तुलना करते हुए निम्नलिखित तालिका पर विचार करें:

| फ़ंक्शन         | डायरेक्टरी       | फ़ाइलनाम फॉर्मेट               | फ्रंट मैटर फ़ील्ड्स                     | नोट्स                                      |
|------------------|-----------------|-------------------------------|-----------------------------------------|--------------------------------------------|
| `create_md`      | `_drafts`      | `{date_str}-{name}-en.md`     | audio, lang, layout, title, translated  | अंग्रेजी पोस्ट के लिए ड्राफ्ट फ़ाइलें बनाता है      |
| `create_note`    | `notes`        | `{date_str}-{name}-en.md`     | title, lang, layout, audio, translated  | नोट फ़ाइलें बनाता है, समान फ्रंट मैटर   |
| `create_original`| `_posts/en`    | `{date_str}-{name}-en.md`     | audio, lang, layout, title, translated  | नया कमांड, ड्राफ्ट के समान फॉर्मेट, पोस्ट में|

यह तालिका दर्शाती है कि `create_original` फ़ाइलनाम फॉर्मेट और फ्रंट मैटर में `create_md` के साथ संरेखित है, लेकिन ड्राफ्ट स्टेज को दरकिनार करते हुए `_posts/en` डायरेक्टरी को लक्षित करता है।

#### संभावित प्रभाव और विचार
हालांकि कार्यान्वयन उपयोगकर्ता के अनुरोध को पूरा करता है, लेकिन विशेष रूप से मौजूदा `delete_md` फ़ंक्शन के साथ उल्लेखनीय प्रभाव हैं:
- **फ़ाइलनाम असंगति**: `delete_md` फ़ंक्शन `_posts/lang` में `{name}-{lang}.md` नाम वाली फ़ाइलें ढूंढता है, उदा. `_posts/en/test-post-en.md`, बिना तारीख के। हालाँकि, `create_original` तारीख वाली फ़ाइलें बनाता है, उदा. `_posts/en/2025-02-27-test-post-en.md`। यह विसंगति इसका मतलब है कि जब तक डेटेड फ़ाइलनाम को संभालने के लिए `delete_md` को संशोधित नहीं किया जाता, संभवतः `*{-en,-zh,...}.md` जैसे पैटर्न के साथ `glob.glob` का उपयोग करके, यह `create_original` द्वारा बनाई गई फ़ाइलों को नहीं ढूंढ पाएगा।
- **साइट संरचना**: स्क्रिप्ट एक मल्टीलिंगुअल सेटअप का सुझाव देती है जहाँ प्रत्येक भाषा (`en`, `zh`, आदि) के लिए `_posts` में सबडायरेक्टरीज़ हैं, और `delete_md` के पैटर्न में तारीख का अभाव इस बात का संकेत देता है कि `_posts` में पोस्ट सॉर्टिंग के लिए फ़ाइलनाम की तारीखों पर निर्भर नहीं हो सकती हैं, संभवतः फ्रंट मैटर या अन्य मेटाडेटा का उपयोग करती हैं। यह Jekyll-आधारित साइटों के लिए असामान्य है, जहाँ फ़ाइलनाम में तारीखें आमतौर पर पोस्ट की तारीख तय करती हैं, लेकिन यह स्क्रिप्ट के वर्तमान व्यवहार के साथ संरेखित करती है।
- **भाषा दायरा**: कार्यान्वयन अंग्रेजी (`lang: en`) पर केंद्रित है, क्योंकि `create_md` और उपयोगकर्ता के अनुरोध से यही संकेत मिलता है। यदि उपयोगकर्ता को अन्य भाषाओं के लिए `create-original` की आवश्यकता है, तो फ़ंक्शन को विस्तार की आवश्यकता होगी, जैसे कि `delete_md` कई भाषाओं को कैसे संभालता है।

#### तर्क और निर्णय लेना
"same format with default create draft one" की व्याख्या महत्वपूर्ण थी। शुरू में, अनिश्चितता थी कि क्या यह फ़ाइलनाम फॉर्मेट (तारीख सहित) को संदर्भित करता है या फ्रंट मैटर को। उपयोगकर्ता के "format" पर जोर और `create_md` में उदाहरण (जिसमें फ़ाइलनाम में तारीख शामिल है) को देखते हुए, यह निर्णय लिया गया कि `create_original` को `{date_str}-{name}-en.md` का उपयोग करना चाहिए, जिससे स्थिरता सुनिश्चित हो सके। हालाँकि, यह निर्णय `delete_md` के साथ एक संभावित संघर्ष को उजागर करता है, जो सुझाव देता है कि फ़ाइल प्रबंधन के लिए भविष्य में समायोजन की आवश्यकता हो सकती है।

"original dir" का अनुमान स्क्रिप्ट की संरचना, विशेष रूप से `_posts/lang` में `delete_md` के ऑपरेशन के आधार पर `_posts/en` के रूप में लगाया गया था। यह धारणा विशिष्ट ब्लॉग सेटअप के साथ संरेखित करती है जहाँ पोस्ट `_posts` में रहती हैं, और `/en` सबडायरेक्टरी मल्टीलिंगुअल संदर्भ में फिट बैठती है।

#### निष्कर्ष
`create-original` कमांड का जोड़ स्क्रिप्ट की कार्यक्षमता को बढ़ाता है, जो ड्राफ्ट के समान फ्रंट मैटर के साथ `_posts/en` में डेटेड Markdown फ़ाइलों के सीधे निर्माण की अनुमति देता है। 27 फरवरी, 2025 को, इसका मतलब है कि `2025-02-27-{name}-en.md` जैसी फ़ाइलें बनाई जाएंगी, जो ड्राफ्ट फॉर्मेट के साथ स्थिरता बनाए रखेगी। हालाँकि, उपयोगकर्ताओं को `delete_md` फ़ंक्शन के साथ संभावित फ़ाइलनाम बेमेल के बारे में पता होना चाहिए, जिसके लिए पूर्ण संगतता के लिए अपडेट की आवश्यकता हो सकती है।

#### मुख्य उद्धरण
- [Python os Module Documentation](https://docs.python.org/3/library/os.html)
- [Python datetime Module Documentation](https://docs.python.org/3/library/datetime.html)
- [Jekyll Posts Documentation](https://jekyllrb.com/docs/posts/)