---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-code-fast-1
title: पायथन टारफ़ाइल मॉड्यूल उपयोग गाइड
translated: true
type: note
---

### tarfile मॉड्यूल को इम्पोर्ट करना

Python में `tarfile` लाइब्रेरी का उपयोग करने के लिए, सबसे पहले इसे इम्पोर्ट करें:

```python
import tarfile
```

यह मॉड्यूल Python की स्टैंडर्ड लाइब्रेरी का हिस्सा है, इसलिए किसी अतिरिक्त इंस्टालेशन की आवश्यकता नहीं है। यह POSIX tar फॉर्मेट पर आधारित है और कम्प्रेस्ड या अनकम्प्रेस्ड tar आर्काइव्स को पढ़ने और लिखने का सपोर्ट करता है।

### Tar आर्काइव्स खोलना और बनाना

- **मौजूदा tar फ़ाइल खोलना**: एक मोड के साथ `tarfile.open()` का उपयोग करें। मोड्स में `'r'` (रीड), `'w'` (राइट खाली), `'a'` (ऐपेंड), या कम्प्रेशन वाले वेरिएंट जैसे gzip के लिए `'r:gz'` शामिल हैं।
  ```python
  import tarfile
  
  # पढ़ने के लिए खोलें (अनकम्प्रेस्ड)
  with tarfile.open('example.tar', 'r') as tar:
      # यहां tar के साथ काम करें
      pass
  ```
- **नई tar फ़ाइल बनाना**: एक खाली आर्काइव बनाने के लिए `'w'` मोड का उपयोग करें। gzip के लिए `'w:gz'` या bzip2 के लिए `'w:bz2'` जैसे कम्प्रेशन प्रीफिक्स जोड़ें।
  ```python
  # एक कम्प्रेस्ड tar.gz फ़ाइल बनाएं
  with tarfile.open('archive.tar.gz', 'w:gz') as tar:
      pass
  ```

### एक आर्काइव में फ़ाइलें जोड़ना

- **एक फ़ाइल जोड़ें**: tar फ़ाइल ऑब्जेक्ट पर `add()` को कॉल करें, फ़ाइल पथ पास करें। आप आर्काइव के अंदर एक अलग नाम के लिए एक arcname निर्दिष्ट कर सकते हैं।
  ```python
  with tarfile.open('archive.tar.gz', 'w:gz') as tar:
      tar.add('file.txt')  # फ़ाइल को ज्यों का त्यों जोड़ता है
      tar.add('data.csv', arcname='renamed_data.csv')  # आर्काइव के अंदर नाम बदलें
  ```
- **एकाधिक फ़ाइलें या एक डायरेक्टरी जोड़ें**: लूप में `add()` का उपयोग करें या पूरी डायरेक्टरी को रिकर्सिवली जोड़ें।
  ```python
  import os
  
  with tarfile.open('backup.tar', 'w') as tar:
      for root, dirs, files in os.walk('my_folder'):
          for file in files:
              tar.add(os.path.join(root, file))
  ```

### एक आर्काइव से फ़ाइलें निकालना

- **सभी फ़ाइलें निकालें**: एक निर्दिष्ट डायरेक्टरी में निकालने के लिए `extractall()` का उपयोग करें (डिफ़ॉल्ट वर्तमान डायरेक्टरी है)।
  ```python
  with tarfile.open('archive.tar.gz', 'r:gz') as tar:
      tar.extractall(path='extracted_folder')  # यदि आवश्यक हो तो फ़ोल्डर बनाता है
  ```
- **विशिष्ट फ़ाइलें निकालें**: पहले `getmembers()` के साथ मेंबर्स की सूची बनाएं, फिर `extract()` का उपयोग करें।
  ```python
  with tarfile.open('example.tar', 'r') as tar:
      members = tar.getmembers()
      for member in members:
          if 'important' in member.name:  # उदाहरण फिल्टर
              tar.extract(member, path='output_dir')
  ```
- नोट: सुरक्षा के लिए, पाथ ट्रैवर्सल अटैक्स को रोकने के लिए पाथ को फिल्टर करें (जैसे, `..` से बचें)। `tarfile` कुछ जांच करता है, लेकिन अनट्रस्टेड आर्काइव्स के लिए मैन्युअल फिल्टरिंग की सलाह दी जाती है।

### आर्काइव सामग्री की सूची बनाना

- **फ़ाइलों पर पुनरावृति करें**: TarInfo ऑब्जेक्ट्स के लिए `getmembers()` का उपयोग करें या सीधे tar ऑब्जेक्ट पर पुनरावृति करें।
  ```python
  with tarfile.open('example.tar', 'r') as tar:
      for member in tar.getmembers():
          print(f"{member.name}: {member.size} bytes")
  ```

### मुख्य मोड और कम्प्रेशन

- `'r'`: अनकम्प्रेस्ड tar पढ़ें।
- `'r:gz'`, `'r:bz2'`, `'r:xz'`: कम्प्रेस्ड वेरायटी पढ़ें।
- `'w'`: नया अनकम्प्रेस्ड tar लिखें (ओवरराइट करता है)।
- `'a'`: मौजूदा tar में ऐपेंड करें।
- पढ़ने पर कम्प्रेशन ऑटो-डिटेक्शन; लिखते समय निर्दिष्ट करें।

### टिप्स और बेस्ट प्रैक्टिसेज़

- यह सुनिश्चित करने के लिए कि फ़ाइलें ठीक से बंद हों, हमेशा कॉन्टेक्स्ट मैनेजर्स (`with` स्टेटमेंट्स) का उपयोग करें।
- बड़े आर्काइव्स के लिए, मेमोरी बचाने के लिए फिल्टरिंग या चुनिंदा रूप से निकालने पर विचार करें।
- `tarfile` एन्क्रिप्टेड आर्काइव्स को सीधे हैंडल नहीं करता है—आवश्यकता पड़ने पर बाहरी टूल्स का उपयोग करें या मैन्युअल रूप से `gzip` के साथ कॉम्बाइन करें।
- एरर हैंडलिंग: आर्काइव संबंधी समस्याओं के लिए `tarfile.TarError` को कैच करें।
- पूरी डॉक्स: कस्टम फिल्टर्स जैसी एडवांस्ड फीचर्स के लिए Python की ऑफिशियल [tarfile डॉक्यूमेंटेशन](https://docs.python.org/3/library/tarfile.html) देखें।