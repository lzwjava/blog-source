---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-code-fast-1
title: जैक्सन ऐरे से स्ट्रिंग मैपिंग त्रुटि
translated: true
type: note
---

### समस्या का सिंहावलोकन
यदि आप Jackson (JSON सीरियलाइज़ेशन/डीसीरियलाइज़ेशन के लिए एक लोकप्रिय Java लाइब्रेरी) का उपयोग कर रहे हैं और एक JSON ऐरे (जैसे `[1, 2, 3]` या `["a", "b"]`) को सीधे एक Java फ़ील्ड पर मैप करने का प्रयास कर रहे हैं जो `String` के रूप में घोषित है, तो यह डीसीरियलाइज़ेशन के दौरान विफल हो जाएगा। Jackson, JSON ऐरे से स्ट्रिंग में डिफ़ॉल्ट रूपांतरण प्रदान नहीं करता है, क्योंकि वे मौलिक रूप से अलग डेटा प्रकार हैं। इससे एक रनटाइम त्रुटि उत्पन्न होती है।

### अपेक्षित त्रुटि
Jackson आमतौर पर एक `JsonMappingException` फेंकता है जिसमें प्रकार की बेमेलता को दर्शाने वाला संदेश होता है। उदाहरण के लिए:
- यदि `[1, 2, 3]` को एक `String` फ़ील्ड में डीसीरियलाइज़ कर रहे हैं, तो आप कुछ इस तरह देखेंगे:  
  `'java.lang.String' की instance को START_ARRAY टोकन से बाहर डीसीरियलाइज़ नहीं कर सकते`

सटीक संदेश Jackson के संस्करण के अनुसार थोड़ा भिन्न हो सकता है (आमतौर पर 2.x में), लेकिन इसकी जड़ `com.fasterxml.jackson.core.JsonMappingException` में है।

### ऐसा क्यों होता है
- Jackson, JSON को पार्स करने का तरीका निर्धारित करने के लिए प्रकार संकेत या फ़ील्ड सिग्नेचर का उपयोग करता है। एक JSON ऐरे `[` (START_ARRAY) से शुरू होता है, जिसे Jackson, ऐरे/सूची प्रकारों जैसे `List<String>`, `int[]`, या ऐरे में मैप करने की अपेक्षा करता है।
- एक `String` फ़ील्ड एक JSON प्रिमिटिव (जैसे `"hello"`) या null की अपेक्षा करती है, ऐरे की नहीं।
- Jackson में कोई अंतर्निहित कोर्सर सुरक्षा कारणों से इस बेमेल को अनुमति नहीं देता है, जैसे कि संख्याओं/स्ट्रिंग्स के लिए कुछ हल्के प्रकार के रूपांतरण।

### इसे ठीक करने या बायपास करने के तरीके
- **Java फ़ील्ड प्रकार बदलें**: एक संगत ऐरे या संग्रह का उपयोग करें, जैसे `List<String>`, `String[]`, या `Object` यदि आपको लचीलेपन की आवश्यकता है।
- **कस्टम डीसीरियलाइज़ेशन**: फ़ील्ड को `@JsonDeserialize(using = CustomDeserializer.class)` से एनोटेट करें और एक डीसीरियलाइज़र को परिभाषित करें ताकि ऐरे को आवश्यकतानुसार परिवर्तित किया जा सके (जैसे, इसे जोड़ना)।
- **यदि स्ट्रिंग प्रतिनिधित्व की अपेक्षा है**: सुनिश्चित करें कि JSON एक स्ट्रिंग भेजता है (जैसे `"[1, 2, 3]"`) और उसी के अनुसार डीसीरियलाइज़ करें।
- **परीक्षण सुझाव**: ऐसी त्रुटियों को सहजता से संभालने और डिफ़ॉल्ट पर वापस जाने के लिए Jackson के `ObjectMapper` का try-catch के साथ उपयोग करें।

अधिक जानकारी के लिए, डीसीरियलाइज़ेशन एक्सेप्शन पर Jackson का दस्तावेज़ीकरण देखें। यदि यह आपके सटीक परिदृश्य से मेल नहीं खाता है, तो बेहतर सहायता के लिए कोड स्निपेट प्रदान करें!