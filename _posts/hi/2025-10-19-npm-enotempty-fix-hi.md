---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-4-fast
title: npm ENOTEMPTY इंस्टालेशन त्रुटि को ठीक करना
translated: true
type: note
---

### त्रुटि को समझना

आपका `sudo npm i -g @anthropic-ai/claude-code --verbose` कमांड इंस्टालेशन प्रक्रिया के दौरान एक `ENOTEMPTY` त्रुटि के साथ विफल हो रहा है। यह एक सामान्य npm समस्या है जो तब होती है जब npm किसी पैकेज को अपडेट या पुनः इंस्टॉल करने के हिस्से के रूप में मौजूदा डायरेक्टरी का नाम बदलने (या उसे मूव करने) का प्रयास करता है, लेकिन डायरेक्टरी खाली नहीं होती है। इस मामले में, यह विशेष रूप से `/usr/lib/node_modules/@anthropic-ai/claude-code` को एक अस्थायी बैकअप लोकेशन (`/usr/lib/node_modules/@anthropic-ai/.claude-code-ZjqcDZyQ`) पर नाम बदलने में विफल हो रहा है।

यह आमतौर पर निम्न कारणों से होता है:
- पिछली आंशिक या बाधित इंस्टालेशन द्वारा फाइलें या सबडायरेक्टरीज़ पीछे छूट जाना।
- किसी अन्य प्रक्रिया (जैसे, अगर पैकेज आंशिक रूप से लोड हो गया था या कोई अन्य npm कमांड चल रहा है) के कारण फाइल लॉक।
- शायद ही कभी, `sudo` के तहत ग्लोबल इंस्टॉल के साथ अनुमति संबंधी समस्याएं।

पैकेज स्वयं (`@anthropic-ai/claude-code`) वैध है—यह Anthropic का आधिकारिक CLI टूल है "Claude Code" के लिए, जो एक एजेंटिक कोडिंग असिस्टेंट है जो आपके टर्मिनल और कोडबेस के साथ एकीकृत होता है।

### त्वरित समाधान

इन चरणों को क्रम में आज़माएं। उन्हें रूट के रूप में या `sudo` के साथ चलाएं जहां नोट किया गया है, क्योंकि यह एक ग्लोबल इंस्टॉल है।

1. **मौजूदा डायरेक्टरी को मैन्युअली हटाएं**
   यह समस्याग्रस्त आंशिक इंस्टॉल को साफ करता है:
   ```
   sudo rm -rf /usr/lib/node_modules/@anthropic-ai/claude-code
   ```
   - यदि अब पैरेंट स्कोप्ड डायरेक्टरी (`@anthropic-ai`) खाली है, तो आप इसे भी हटा सकते हैं:
     ```
     sudo rm -rf /usr/lib/node_modules/@anthropic-ai
     ```
   फिर अपने मूल कमांड को दोबारा आज़माएं:
   ```
   sudo npm i -g @anthropic-ai/claude-code --verbose
   ```

2. **npm कैशे साफ करें**
   यदि उपरोक्त काम नहीं करता है, तो दूषित कैश एंट्रीज़ शामिल हो सकती हैं:
   ```
   sudo npm cache clean --force
   sudo npm cache verify
   ```
   इसके बाद इंस्टॉल को दोबारा आज़माएं।

3. **चल रही प्रक्रियाओं की जांच करें**
   सुनिश्चित करें कि कोई अन्य npm/Node प्रक्रिया डायरेक्टरी का उपयोग नहीं कर रही है:
   ```
   ps aux | grep npm
   ```
   यदि आवश्यक हो तो किसी भी लिंगरिंग प्रक्रिया को मार दें (उदाहरण के लिए, `sudo kill <PID>`), फिर दोबारा प्रयास करें।

4. **विकल्प: परीक्षण के लिए npx का उपयोग करें**
   यदि आप पूर्ण ग्लोबल इंस्टॉल के बिना सिर्फ टूल का परीक्षण करना चाहते हैं, तो आज़माएं:
   ```
   npx @anthropic-ai/claude-code --help
   ```
   यह आपके ग्लोबल मॉड्यूल को बदले बिना इसे अस्थायी रूप से डाउनलोड और रन करता है।

### अतिरिक्त सुझाव
- **अनुमति सर्वोत्तम अभ्यास**: `sudo` के साथ ग्लोबल इंस्टॉल बाद में स्वामित्व संबंधी मुद्दों का कारण बन सकते हैं। `sudo` से पूरी तरह बचने के लिए `nvm` जैसे node version manager का उपयोग करने पर विचार करें, या एक कस्टम ग्लोबल प्रीफ़िक्स सेट करें:
  ```
  mkdir ~/.npm-global
  npm config set prefix '~/.npm-global'
  export PATH=~/.npm-global/bin:$PATH
  ```
  फिर `sudo` के बिना इंस्टॉल करें।
- **इंस्टॉल के बाद सत्यापित करें**: एक बार इंस्टॉल हो जाने के बाद, `claude-code --version` के साथ जांचें (यह मानते हुए कि यह बाइनरी नाम है—डॉक्स में पुष्टि करें)।
- यदि समस्याएं बनी रहती हैं, तो अधिक निदान के लिए `npm ls -g @anthropic-ai/claude-code` के आउटपुट को साझा करें।

इससे आपको जल्दी ही चलने-फिरने लायक बना देना चाहिए। यदि आपको कोई और समस्या आती है, तो नया लॉग पेस्ट करें!

[Claude Code on npm](https://www.npmjs.com/package/@anthropic-ai/claude-code)
[Anthropic Docs: Set up Claude Code](https://docs.claude.com/en/docs/claude-code/setup)