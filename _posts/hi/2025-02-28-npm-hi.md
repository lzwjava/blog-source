---
audio: false
generated: true
lang: hi
layout: post
title: एनपीएम कॉन्फ़िगर करना
translated: true
type: note
---

### मुख्य बिंदु
- ऐसा प्रतीत होता है कि NPM को कॉन्फ़िगर करने में प्रॉक्सी और रजिस्ट्री सेटिंग्स सेट करने के लिए `.npmrc` फ़ाइल को एडिट करना शामिल है, जो मैन्युअल रूप से या कमांड्स के माध्यम से किया जा सकता है।
- शोध से पता चलता है कि प्रॉक्सी सेटिंग्स के लिए `proxy = http://user:password@proxy_server:port` फॉर्मेट की आवश्यकता होती है, जिसमें विशेष वर्णों को URL एन्कोडेड किया जाना चाहिए।
- साक्ष्य डिफ़ॉल्ट रूप से रजिस्ट्री को `registry = https://registry.npmjs.org/` के रूप में सेट करने की ओर इशारा करते हैं, और यदि आवश्यक हो तो SSL वेरिफिकेशन को अक्षम करने के विकल्प भी मौजूद हैं।

### NPM को कॉन्फ़िगर करना और `.npmrc` के साथ कार्य करना
NPM, या Node Package Manager, JavaScript डिपेंडेंसी को प्रबंधित करने के लिए एक टूल है, और इसे कॉन्फ़िगर करने में अक्सर रजिस्ट्री और प्रॉक्सी जैसी सेटिंग्स के लिए `.npmrc` फ़ाइल शामिल होती है।

#### `.npmrc` क्या है और यह कहाँ स्थित होती है?
`.npmrc` फ़ाइल NPM के लिए एक कॉन्फ़िगरेशन फ़ाइल है, जो यह कस्टमाइज़ करने की अनुमति देती है कि यह कैसे व्यवहार करती है। यह हो सकती है:
- **ग्लोबल**: यूनिक्स-जैसी सिस्टम पर `~./.npmrc` पर या विंडोज़ पर `%APPDATA%\npm\npmrc` पर पाई जाती है (आमतौर पर `C:\Users\<username>\AppData\Roaming\npm\npmrc`)।
- **प्रोजेक्ट के लिए लोकल**: प्रोजेक्ट की रूट डायरेक्टरी में `./package/.npmrc` पर स्थित होती है। लोकल सेटिंग्स ग्लोबल सेटिंग्स को ओवरराइड कर देती हैं।

#### प्रॉक्सी और HTTPS प्रॉक्सी सेट करना
प्रॉक्सी के पीछे काम करने के लिए, `.npmrc` में इन लाइनों को जोड़ें:
- `proxy = http://user:password@proxy_server:port`
- `https_proxy = http://user:password@proxy_server:port`

ध्यान दें कि `https_proxy` के लिए भी, प्रोटोकॉल के रूप में `http://` का उपयोग करें। यदि आपके यूज़रनेम या पासवर्ड में विशेष वर्ण हैं (जैसे, `\`, `@`), तो उन्हें URL एन्कोड करें (उदाहरण के लिए, `domain\user`, `domain%5Cuser` बन जाता है)। आप इन्हें कमांड्स के माध्यम से भी सेट कर सकते हैं:
- `npm config set proxy http://user:password@proxy_server:port`
- `npm config set https_proxy http://user:password@proxy_server:port`

#### रजिस्ट्री सेट करना
रजिस्ट्री वह URL है जिसका उपयोग NPM पैकेज फ़ेच करने के लिए करता है, जो आमतौर पर इस प्रकार सेट होती है:
- `registry = https://registry.npmjs.org/`

कस्टम रजिस्ट्री के लिए, इसे अपने URL से बदलें (उदाहरण के लिए, किसी कंपनी की प्राइवेट रजिस्ट्री)। इसे इसके माध्यम से सेट करें:
- `npm config set registry https://your_custom_registry.com/`

#### SSL और वेरिफिकेशन को हैंडल करना
यदि आपको SSL समस्याओं का सामना करना पड़ता है, तो विचार करें:
- `.npmrc` में `strict-ssl = false` SSL एररों को इग्नोर करने के लिए, हालाँकि यह कम सुरक्षित है। इसे इसके माध्यम से सेट करें:
- `npm config set strict-ssl false`

#### कॉन्फ़िगरेशन का उपयोग और सत्यापन
`.npmrc` को सीधे टेक्स्ट एडिटर का उपयोग करके एडिट करें, या `npm config set` कमांड्स का उपयोग करें। सत्यापित करने के लिए:
- सभी सेटिंग्स को `npm config list` के साथ सूचीबद्ध करें।
- किसी विशिष्ट सेटिंग को `npm config get proxy` के साथ चेक करें।
- विस्तृत आउटपुट के लिए `npm install --verbose` के साथ समस्याओं को डीबग करें।

एक उदाहरण `.npmrc` फ़ाइल इस तरह दिख सकती है:
```
proxy = http://user:password@proxy_server:8080
https_proxy = http://user:password@proxy_server:8080
registry = https://registry.npmjs.org/
strict-ssl = false
```

### सर्वे नोट: `.npmrc` के साथ NPM को कॉन्फ़िगर करने की व्यापक गाइड
यह खंड NPM को कॉन्फ़िगर करने की एक विस्तृत खोज प्रदान करता है, जो रजिस्ट्री और प्रॉक्सी सेटिंग्स के लिए `.npmrc` फ़ाइल पर केंद्रित है, और सीधे उत्तर पर अतिरिक्त संदर्भ और तकनीकी विवरणों के साथ विस्तार करता है।

#### `.npmrc` और इसकी भूमिका का परिचय
`.npmrc` फ़ाइल NPM के लिए एक महत्वपूर्ण कॉन्फ़िगरेशन फ़ाइल है, जो पैकेज प्रबंधन व्यवहारों को कस्टमाइज़ करने में सक्षम बनाती है। यह की-वैल्यू पेयर के साथ एक INI फॉर्मेट को सपोर्ट करती है, जहाँ कमेंट्स एक सेमीकोलन (`;`) से शुरू होते हैं। यह ग्लोबली या लोकली स्थित हो सकती है:
- **ग्लोबल लोकेशन**: यूनिक्स-जैसी सिस्टम पर, यह `~./.npmrc` पर होती है; विंडोज़ पर, `%APPDATA%\npm\npmrc` पर, आमतौर पर `C:\Users\<username>\AppData\Roaming\npm\npmrc`।
- **लोकल लोकेशन**: किसी प्रोजेक्ट की रूट डायरेक्टरी के अंदर `./package/.npmrc` के रूप में। लोकल सेटिंग्स ग्लोबल सेटिंग्स को ओवरराइड कर देती हैं, जो प्रोजेक्ट-विशिष्ट कॉन्फ़िगरेशन प्रदान करती हैं।

यह हायरार्की लचीलापन सुनिश्चित करती है, जो डेवलपर्स को यूज़र और प्रोजेक्ट दोनों स्तरों पर सेटिंग्स प्रबंधित करने की अनुमति देती है, जो कई प्रोजेक्ट्स या शेयर्ड सिस्टम वाले वातावरण में विशेष रूप से उपयोगी होती है।

#### विस्तृत प्रॉक्सी कॉन्फ़िगरेशन
प्रॉक्सी के पीछे काम करने के लिए `.npmrc` में `proxy` और `https_proxy` दोनों को सेट करने की आवश्यकता होती है। फॉर्मेट है:
- `proxy = http://user:password@proxy_server:port`
- `https_proxy = http://user:password@proxy_server:port`

उल्लेखनीय है कि `https_proxy` प्रोटोकॉल के रूप में `http://` का उपयोग करती है, `https://` का नहीं, क्योंकि प्रॉक्सी सर्वर कनेक्शन को हैंडल करता है, न कि प्रॉक्सी से ही एन्क्रिप्ट करता है। यह भ्रम का एक सामान्य बिंदु है, क्योंकि गंतव्य तक पेलोड SSL-एन्क्रिप्टेड रहता है।

प्रमाणीकरण के लिए, यूज़रनेम और पासवर्ड शामिल करें, लेकिन यदि उनमें विशेष वर्ण हैं, तो URL एन्कोडिंग आवश्यक है:
- बैकस्लैश (`\`) `%5C` बन जाता है।
- एट सिंबल (`@`) `%40` बन जाता है।
- कोलन (`:`) `%3A` बन जाता है।

उदाहरण के लिए, यदि यूज़रनेम `domain\user` है और पासवर्ड `pass@word` है, तो यह `proxy = http://domain%5Cuser:pass%40word@proxy_server:8080` होगा। यह एन्कोडिंग NPM द्वारा उचित पार्सिंग सुनिश्चित करती है।

विंडोज़ यूज़र्स, विशेष रूप से कॉर्पोरेट वातावरण में Active Directory के साथ, बैकस्लैश के साथ समस्याओं का सामना कर सकते हैं। कुछ रिपोर्ट्स इंगित करती हैं कि `.npmrc` में `domain\username` पढ़े जाने पर `domain/username` में परिवर्तित हो सकता है, जिससे प्रमाणीकरण विफलताएँ हो सकती हैं। ऐसे मामलों में, NTLM Authorization Proxy Server या Cntlm जैसे टूल मदद कर सकते हैं, हालाँकि वे सीधे `.npmrc` कॉन्फ़िगरेशन के बाहर हैं।

#### रजिस्ट्री कॉन्फ़िगरेशन और SSL विचार
रजिस्ट्री सेटिंग परिभाषित करती है कि NPM पैकेज कहाँ से फ़ेच करता है, जो डिफ़ॉल्ट रूप से `https://registry.npmjs.org/` पर सेट होती है। कस्टम या प्राइवेट रजिस्ट्री के लिए, सेट करें:
- `registry = https://your_custom_registry.com/`

यदि SSL वेरिफिकेशन विफल हो जाता है, जो अक्सर कॉर्पोरेट प्रॉक्सी के साथ सेल्फ-साइन्ड सर्टिफिकेट के कारण होता है, तो आप स्ट्रिक्ट SSL को अक्षम कर सकते हैं:
- `strict-ssl = false`

हालाँकि, यह सुरक्षा को कम करता है, क्योंकि यह सर्टिफिकेट वैलिडेशन को बायपास करता है। वैकल्पिक रूप से, सर्टिफिकेट अथॉरिटी को कॉन्फ़िगर करें:
- विश्वसनीय CA फ़ाइल निर्दिष्ट करने के लिए `npm config -g set cafile [YOUR_CERTIFICATE_DIR]/[CERTIFICATE_NAME].crt` का उपयोग करें।

कुछ डेवलपर्स SSL से पूरी तरह बचने के लिए `registry = http://registry.npmjs.org/` चुनते हैं, लेकिन सुरक्षा कारणों से, विशेष रूप से प्रोडक्शन में, यह अनुशंसित नहीं है।

#### `.npmrc` का उपयोग: मैन्युअल एडिटिंग बनाम कमांड लाइन
आप `.npmrc` को सीधे किसी भी टेक्स्ट एडिटर के साथ एडिट कर सकते हैं, यह सुनिश्चित करते हुए कि प्रत्येक सेटिंग `key = value` फॉर्मेट के साथ एक नई लाइन पर है। कमेंट्स `;` से शुरू होते हैं, उदाहरण के लिए:
```
; कॉर्पोरेट नेटवर्क के लिए प्रॉक्सी सेटिंग्स
proxy = http://user:password@proxy_server:8080
https_proxy = http://user:password@proxy_server:8080
registry = https://registry.npmjs.org/
strict-ssl = false
```

वैकल्पिक रूप से, सुविधा के लिए NPM कमांड्स का उपयोग करें:
- प्रॉक्सी सेट करें: `npm config set proxy http://user:password@proxy_server:port`
- रजिस्ट्री सेट करें: `npm config set registry https://registry.npmjs.org/`
- स्ट्रिक्ट-ssl सेट करें: `npm config set strict-ssl false`

ये कमांड्स संदर्भ (ग्लोबल या लोकल) के आधार पर उपयुक्त `.npmrc` फ़ाइल को अपडेट करते हैं। ग्लोबल और लोकल के बीच स्विच करने के लिए, ग्लोबल के लिए `-g` का उपयोग करें, उदाहरण के लिए, `npm config set -g proxy ...`।

#### सत्यापन और समस्या निवारण
कॉन्फ़िगरेशन को सत्यापित करने के लिए, उपयोग करें:
- `npm config list` सभी सेटिंग्स को सूचीबद्ध करने के लिए, जो प्रभावी और डिफ़ॉल्ट दोनों मान दिखाता है।
- किसी विशिष्ट सेटिंग को पुनः प्राप्त करने के लिए `npm config get proxy`।

समस्या निवारण के लिए, विशेष रूप से प्रॉक्सी के पीछे, चलाएँ:
- `npm install --verbose` विस्तृत लॉग देखने के लिए, जो कनेक्शन समस्याओं, जैसे `ECONNREFUSED` या `socket hang up` की पहचान करने में मदद कर सकता है।

यदि सेटिंग्स प्रभावी नहीं होती हैं, तो एनवायरनमेंट वेरिएबल्स (`HTTP_PROXY`, `HTTPS_PROXY`) के लिए चेक करें जो `.npmrc` को ओवरराइड कर सकते हैं। ये सिस्टम-वाइड सेट किए जा सकते हैं और प्राथमिकता लेते हैं, इसलिए स्थिरता सुनिश्चित करें।

#### सर्वोत्तम प्रथाएँ और अतिरिक्त विचार
- **सुरक्षा**: प्रोडक्शन में `strict-ssl = false` से बचें; इसके बजाय, विश्वसनीय सर्टिफिकेट्स को कॉन्फ़िगर करें।
- **एनवायरनमेंट वेरिएबल्स**: ध्यान रखें कि `NODE_ENV` और `HTTPS_PROXY` `.npmrc` सेटिंग्स को ओवरराइड कर सकते हैं, जो CI/CD पाइपलाइनों के लिए उपयोगी होते हैं लेकिन स्थानीय रूप से भ्रमित करने वाले हो सकते हैं।
- **लॉग लेवल**: डीबगिंग के दौरान अधिक विस्तृत आउटपुट के लिए `.npmrc` में `loglevel` एडजस्ट करें (उदाहरण के लिए, `loglevel = http`), जिसके विकल्प `silent` से `silly` (कुल 7 लेवल) तक होते हैं।
- **कॉर्पोरेट प्रॉक्सी**: NTLM प्रॉक्सी के लिए, Cntlm जैसे टूल पर विचार करें, एक लोकल प्रॉक्सी सर्वर सेट अप करें, और `.npmrc` को `localhost:3128` की ओर इशारा करने के लिए कॉन्फ़िगर करें, जिससे प्रमाणीकरण सरल हो जाता है।

#### उदाहरण कॉन्फ़िगरेशन
यहाँ प्रॉक्सी और रजिस्ट्री के लिए सामान्य `.npmrc` सेटिंग्स को सारांशित करने वाली एक तालिका दी गई है, जिसमें उदाहरण शामिल हैं:

| **सेटिंग**    | **विवरण**                              | **उदाहरण**                                      |
|----------------|----------------------------------------------|--------------------------------------------------|
| proxy          | HTTP प्रॉक्सी सर्वर URL                        | `proxy = http://user:password@proxy:8080`        |
| https_proxy    | HTTPS प्रॉक्सी सर्वर URL                       | `https_proxy = http://user:password@proxy:8080`  |
| registry       | पैकेज रजिस्ट्री URL                         | `registry = https://registry.npmjs.org/`         |
| strict-ssl     | SSL वेरिफिकेशन सक्षम/अक्षम करें              | `strict-ssl = false`                             |
| loglevel       | कंसोल आउटपुट लेवल (silent से silly, 7 लेवल) | `loglevel = http`                                |

यह तालिका त्वरित संदर्भ में सहायता करती है, विशेष रूप से `.npmrc` से नए डेवलपर्स के लिए।

#### अप्रत्याशित विवरण: ग्लोबल बनाम लोकल सेटिंग्स पर प्रभाव
एक अप्रत्याशित पहलू यह है कि ग्लोबल `.npmrc` सेटिंग्स सभी प्रोजेक्ट्स को कैसे प्रभावित करती हैं, जबकि लोकल सेटिंग्स विशिष्ट प्रोजेक्ट्स के लिए ओवरराइड कर सकती हैं। यह लेयरिंग भ्रम पैदा कर सकती है यदि, उदाहरण के लिए, एक ग्लोबल प्रॉक्सी सेट है लेकिन एक लोकल प्रोजेक्ट एक अलग रजिस्ट्री का उपयोग करता है, जिससे संभावित रूप से प्रमाणीकरण समस्याएँ हो सकती हैं। बहु-प्रोजेक्ट वातावरण के लिए इस हायरार्की को समझना महत्वपूर्ण है।

#### निष्कर्ष
एन्कोडिंग और SSL के लिए विचारों के साथ सही फॉर्मेट के साथ प्रॉक्सी और रजिस्ट्री सेटिंग्स के लिए `.npmrc` के माध्यम से NPM को कॉन्फ़िगर करना सीधा है। सीधे एडिट करके या कमांड्स का उपयोग करके, और `npm config list` के साथ सत्यापित करके, आप स्मूथ पैकेज प्रबंधन सुनिश्चित करते हैं, विशेष रूप से प्रॉक्सी वाले कॉर्पोरेट नेटवर्क में। आगे पढ़ने के लिए, आधिकारिक दस्तावेज़ [NPM CLI Config](https://docs.npmjs.com/cli-config) पर सलाह लें या सर्वोत्तम प्रथाओं को [Configuring Your .nmprc for an Optimal Node.js Environment](https://nodesource.com/blog/configuring-your-nmprc-for-an-optimal-node-js-environment) पर एक्सप्लोर करें।

### मुख्य उद्धरण
- [NPM CLI Config Documentation](https://docs.npmjs.com/cli-config)
- [Configuring Your .nmprc for an Optimal Node.js Environment](https://nodesource.com/blog/configuring-your-nmprc-for-an-optimal-node-js-environment)
- [How to setup npm proxy settings behind proxy on Windows](https://gist.github.com/zillingen/5c4b8da657025c83ead59e1e547c7436)