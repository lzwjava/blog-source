---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-4-fast
title: рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ рдбрдВрдк рд╕реЗ рдкрд╛рда рдирд┐рд╖реНрдХрд░реНрд╖рдг
translated: true
type: note
---

рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ рдХреЗ `.bz2` рдбрдВрдк рдлрд╛рдЗрд▓реЛрдВ (рдЬреИрд╕реЗ рдЖрдкрдХреА `enwiki-latest-pages-articles1.xml-p1p41242.bz2`) рд╕реЗ рд╕рд╛рджрд╛ рдЯреЗрдХреНрд╕реНрдЯ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд╕рдмрд╕реЗ рдЖрдо рдФрд░ рдкреНрд░рднрд╛рд╡реА рддрд░реАрдХреЗ рдпрд╣рд╛рдВ рджрд┐рдП рдЧрдП рд╣реИрдВред

### рдЕрдиреБрд╢рдВрд╕рд┐рдд рдЯреВрд▓ рдФрд░ рд╡рд┐рдзрд┐рдпрд╛рдВ (рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рд╕реЗ рд╕рдмрд╕реЗ рдХреБрд╢рд▓ рддрдХ)

#### 1. wikiextractor рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ (рдЬрд╝реНрдпрд╛рджрд╛рддрд░ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ тАУ рддреЗрдЬрд╝ рдФрд░ рд╕рд╛рдл)
рдпрд╣ NLP/ML рдореЗрдВ рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ рдбрдВрдк рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ рдорд╛рдирдХ рдЯреВрд▓ рд╣реИред

```bash
# рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВ (рдПрдХ рдмрд╛рд░)
pip install wikiextractor

# рдЯреЗрдХреНрд╕реНрдЯ рдирд┐рдХрд╛рд▓реЗрдВ (рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕, рдЯреЗрдмрд▓реНрд╕ рдЖрджрд┐ рдХреЛ рд╣рдЯрд╛ рджреЗрддрд╛ рд╣реИ, рдкреНрд░рддрд┐ рд▓реЗрдЦ рд╕рд╛рдл рдЯреЗрдХреНрд╕реНрдЯ рджреЗрддрд╛ рд╣реИ)
wikiextractor enwiki-latest-pages-articles1.xml-p1p41242.bz2 --output wiki_text
```

- рдЖрдЙрдЯрдкреБрдЯ: `wiki_text/` рдирд╛рдо рдХрд╛ рдПрдХ рдлреЛрд▓реНрдбрд░ рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ AA, AB, ... рд╕рдмрдлреЛрд▓реНрдбрд░ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЗрдирдореЗрдВ рд╕рд╛рдл JSON/рдЯреЗрдХреНрд╕реНрдЯ рдХреА `.bz2` рдлрд╛рдЗрд▓реЗрдВ рд╣реЛрддреА рд╣реИрдВред
- рд╕рд╛рджрд╛ рдЯреЗрдХреНрд╕реНрдЯ (рдПрдХ рд▓реЗрдЦ рдкреНрд░рддрд┐ рд▓рд╛рдЗрди) рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
wikiextractor enwiki-latest-pages-articles1.xml-p1p41242.bz2 --processes 8 -o wiki_text --json
# рдлрд┐рд░ JSON рдХреЛ рд╕рд╛рджреЗ рдЯреЗрдХреНрд╕реНрдЯ рдореЗрдВ рдмрджрд▓реЗрдВ рдЕрдЧрд░ рдЬрд╝рд░реВрд░рдд рд╣реЛ
find wiki_text -name '*' -exec cat {} \; | grep '"text":' | sed 's/.*"text": "//;s/"$//' > all_text.txt
```

#### 2. gensim рдХреЗ WikiCorpus рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ (рдмреЗрд╣рддрд░реАрди рдЕрдЧрд░ рдЖрдк Python рдореЗрдВ NLP рдХрд░ рд░рд╣реЗ рд╣реИрдВ)

```python
from gensim.corpora import WikiCorpus

# рдпрд╣ рдЕрдкрдиреЗ рдЖрдк .bz2 рдХреЛ рд╣реИрдВрдбрд▓ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЯреЗрдХреНрд╕реНрдЯ рдирд┐рдХрд╛рд▓рддрд╛ рд╣реИ + рдЯреЛрдХрдирд╛рдЗрдЬрд╝ рдХрд░рддрд╛ рд╣реИ
wiki = WikiCorpus("enwiki-latest-pages-articles1.xml-p1p41242.bz2", dictionary=False)

# рд▓реЗрдЦреЛрдВ рдкрд░ рдЗрдЯрд░реЗрдЯ рдХрд░реЗрдВ
with open("output.txt", "w", encoding="utf-8") as f:
    for i, text in enumerate(wiki.get_texts()):
        f.write(" ".join(text) + "\n")
        if i % 10000 == 0:
            print(f"Processed {i} articles")
```

#### 3. рд╕рд╛рдзрд╛рд░рдг bzip2 + grep/awk (рдЬрд▓реНрджреА рдФрд░ рдЧрдиреНрджрд╛, рдХреЛрдИ рд╕рдлрд╛рдИ рдирд╣реАрдВ)

```bash
# рдмрд╕ рдбреАрдХрдореНрдкреНрд░реЗрд╕ рдХрд░реЗрдВ рдФрд░ рдХрдЪреНрдЪрд╛ XML рджреЗрдЦреЗрдВ
bzip2 -dc enwiki-latest-pages-articles1.xml-p1p41242.bz2 | less

# рд╕рд┐рд░реНрдл <text> рдХрдВрдЯреЗрдВрдЯ рдирд┐рдХрд╛рд▓реЗрдВ (рдмрд╣реБрдд рд╣реА рд░рдл, рд╡рд┐рдХрд┐ рдорд╛рд░реНрдХрдЕрдк рд░рд╣рддрд╛ рд╣реИ)
bzip2 -dc enwiki-latest-pages-articles1.xml-p1p41242.bz2 | \
  sed -n '/<text /,/<\/text>/p' | \
  sed 's/<text[^>]*>//g;s/<\/text>//g' > raw_text_with_markup.txt
```

#### 4. рдЕрдЧрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкреВрд░рд╛ рдбрдВрдк рд╣реИ рдФрд░ рд╕рдм рдХреБрдЫ рддреЗрдЬрд╝реА рд╕реЗ рдЪрд╛рд╣рд┐рдП (рд╕рдорд╛рдирд╛рдВрддрд░)
рдЖрдкрдХреА рдлрд╛рдЗрд▓ рд╕рд┐рд░реНрдл рдкрд╣рд▓рд╛ рдЪрдВрдХ (p1p41242) рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдмрд╛рдж рдореЗрдВ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╕рд╛рд░реЗ ~30+ рдЪрдВрдХ рд╣реЛрдВ:

```bash
# рд╕рдм рдХреБрдЫ рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рдирд┐рдХрд╛рд▓реЗрдВ
ls *.bz2 | xargs -P 8 -I {} wikiextractor {} --output wiki_extracted
```

### рд╕рд╛рд░рд╛рдВрд╢ тАУ рдореИрдВ рдЖрдкрдХреЗ рд▓рд┐рдП рдЕрднреА рдХреНрдпрд╛ рд╕реБрдЭрд╛рддрд╛ рд╣реВрдВ:

```bash
pip install wikiextractor
wikiextractor enwiki-latest-pages-articles1.xml-p1p41242.bz2 -o extracted_wiki --bytes 1M --json
```

рдпрд╣ рдЖрдкрдХреЛ рдХреБрдЫ рд╣реА рдорд┐рдирдЯреЛрдВ рдореЗрдВ рд╕рд╛рдл, рдкрдардиреАрдп рд▓реЗрдЦ рджреЗ рджреЗрдЧрд╛ (рдЖрдкрдХреА рдлрд╛рдЗрд▓ рд╕рд┐рд░реНрдл ~2-3 GB рдХрдореНрдкреНрд░реЗрд╕реНрдб рд╣реИ, рдЗрд╕рд▓рд┐рдП рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИ)ред

рдореБрдЭреЗ рдмрддрд╛рдПрдВ рдЕрдЧрд░ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ:
- рд╕рд┐рд░реНрдл рдореБрдЦреНрдп рдиреЗрдорд╕реНрдкреЗрд╕ (рдЕрд╕рд▓реА рд▓реЗрдЦ, рдЯреЙрдХ рдкреЗрдЬ рдирд╣реАрдВ)
- JSON рдХреЗ рдмрдЬрд╛рдп рд╕рд╛рджрд╛ рдЯреЗрдХреНрд╕реНрдЯ
- рдЯреЛрдХрдирд╛рдЗрдЬрд╝реНрдб рдЖрдЙрдЯрдкреБрдЯ
- рдЗрд╕рдХреЗ рдмрдЬрд╛рдп рдЪрд╛рдЗрдиреАрдЬрд╝ рд╡рд┐рдХрд┐рдкреАрдбрд┐рдпрд╛ (zhwiki) тАУ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдПрдХ рдЬреИрд╕реА рд╣реИ

рдПрдХреНрд╕рдЯреНрд░реИрдХреНрдЯрд┐рдВрдЧ рдХрд╛ рдордЬрд╝рд╛ рд▓реЗрдВ! ЁЯЪА