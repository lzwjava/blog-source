---
audio: false
generated: true
lang: hi
layout: post
title: एनपीएम रजिस्ट्री का परीक्षण रॉ एचटीटीपी अनुरोधों का उपयोग करके
translated: true
type: note
---

अपने NPM रजिस्ट्री को `curl` या इनसोम्निया जैसे टूल्स के साथ रॉ HTTP रिक्वेस्ट्स का उपयोग करके टेस्ट करने के लिए, आप कनेक्टिविटी, ऑथेंटिकेशन और पैकेज डेटा सर्व करने की क्षमता की जांच करके इसके कार्यक्षमता को सत्यापित कर सकते हैं—यह सब NPM क्लाइंट पर निर्भर हुए बिना। चूंकि आपके रजिस्ट्री को यूजरनेम और पासवर्ड की आवश्यकता होती है, इसलिए आपको अपनी रिक्वेस्ट्स में मैन्युअल रूप से ऑथेंटिकेशन को हैंडल करना होगा। नीचे रॉ HTTP रिक्वेस्ट्स का उपयोग करके अपने रजिस्ट्री को टेस्ट करने के लिए एक संपूर्ण गाइड दी गई है, यह मानते हुए कि यह एक NPM-संगत रजिस्ट्री (जैसे वर्डैसियो, नेक्सस, या कस्टम इम्प्लीमेंटेशन) है जो टोकन-आधारित या बेसिक ऑथेंटिकेशन को सपोर्ट करती है।

---

## रॉ HTTP रिक्वेस्ट्स के साथ रजिस्ट्री टेस्ट करने के चरण

### 1. ऑथेंटिकेट करें और एक टोकन प्राप्त करें (यदि आवश्यक हो)

अधिकांश NPM रजिस्ट्री टोकन-आधारित ऑथेंटिकेशन का उपयोग करती हैं, जिसके लिए आपको आगे की रिक्वेस्ट्स करने से पहले लॉग इन करके टोकन प्राप्त करना होता है। कुछ रजिस्ट्री सीधे बेसिक ऑथेंटिकेशन का भी समर्थन कर सकती हैं। `curl` का उपयोग करके ऑथेंटिकेट करने का तरीका यहां बताया गया है:

#### लॉग इन करने के लिए `curl` का उपयोग करना
रजिस्ट्री के ऑथेंटिकेशन एंडपॉइंट पर एक PUT रिक्वेस्ट भेजकर टोकन प्राप्त करें:

```bash
curl -X PUT \
  -H "Content-Type: application/json" \
  -d '{"name": "<username>", "password": "<password>"}' \
  <registry-url>/-/user/org.couchdb.user:<username>
```

- **बदलें**:
  - `<username>`: आपका रजिस्ट्री यूजरनेम।
  - `<password>`: आपका रजिस्ट्री पासवर्ड।
  - `<registry-url>`: आपके रजिस्ट्री का पूर्ण URL (उदाहरण के लिए, `https://my-registry.example.com`)।
- **अपेक्षित प्रतिक्रिया**: यदि सफल होता है, तो आपको एक टोकन के साथ JSON प्रतिक्रिया मिलेगी:
  ```json
  {
    "token": "your-auth-token"
  }
  ```
- **टोकन सहेजें**: बाद की रिक्वेस्ट्स में उपयोग के लिए `your-auth-token` मान को कॉपी करें।

**नोट**: यदि आपका रजिस्ट्री किसी भिन्न ऑथेंटिकेशन एंडपॉइंट या विधि (जैसे बेसिक ऑथ या कस्टम API) का उपयोग करता है, तो इसके डॉक्यूमेंटेशन की जांच करें। यदि यह सीधे बेसिक ऑथ का समर्थन करता है, तो आप इस चरण को छोड़ सकते हैं और बाद की रिक्वेस्ट्स में `-u "<username>:<password>"` शामिल कर सकते हैं।

---

### 2. रजिस्ट्री को पिंग करें

रजिस्ट्री के रूट URL या पिंग एंडपॉइंट पर GET रिक्वेस्ट भेजकर बुनियादी कनेक्टिविटी का परीक्षण करें।

#### पिंग करने के लिए `curl` का उपयोग करना
```bash
curl -H "Authorization: Bearer your-auth-token" <registry-url>
```

- **बदलें**:
  - `your-auth-token`: चरण 1 से प्राप्त टोकन।
  - `<registry-url>`: आपका रजिस्ट्री URL।
- **अपेक्षित प्रतिक्रिया**: एक सफल प्रतिक्रिया (HTTP 200) रजिस्ट्री का होमपेज या एक सरल स्टेटस संदेश लौटा सकती है (उदाहरण के लिए, CouchDB-आधारित रजिस्ट्री के लिए `{"db_name":"registry"}`)।
- **विकल्प**: कुछ रजिस्ट्री एक `/-/ping` एंडपॉइंट प्रदान करती हैं:
  ```bash
  curl -H "Authorization: Bearer your-auth-token" <registry-url>/-/ping
  ```

**यदि बेसिक ऑथ का उपयोग कर रहे हैं**: यदि आपका रजिस्ट्री टोकन का उपयोग नहीं करता है और बेसिक ऑथेंटिकेशन का समर्थन करता है:
```bash
curl -u "<username>:<password>" <registry-url>
```

---

### 3. पैकेज मेटाडेटा प्राप्त करें

यह सत्यापित करें कि रजिस्ट्री पैकेज मेटाडेटा सर्व कर सकती है, एक विशिष्ट पैकेज के लिए विवरण का अनुरोध करके।

#### मेटाडेटा प्राप्त करने के लिए `curl` का उपयोग करना
```bash
curl -H "Authorization: Bearer your-auth-token" <registry-url>/<package-name>
```

- **बदलें**:
  - `<package-name>`: एक पैकेज जिसके बारे में आप जानते हैं कि वह आपके रजिस्ट्री पर मौजूद है (उदाहरण के लिए, `lodash` यदि यह पब्लिक रजिस्ट्री को प्रॉक्सी करता है, या एक प्राइवेट पैकेज जैसे `my-org-utils`)।
- **अपेक्षित प्रतिक्रिया**: पैकेज के मेटाडेटा के साथ एक JSON ऑब्जेक्ट, जिसमें वर्जन, डिपेंडेंसी और टारबॉल URL शामिल हैं। उदाहरण के लिए:
  ```json
  {
    "name": "lodash",
    "versions": {
      "4.17.21": {
        "dist": {
          "tarball": "<registry-url>/lodash/-/lodash-4.17.21.tgz"
        }
      }
    }
  }
  ```

**यदि बेसिक ऑथ का उपयोग कर रहे हैं**:
```bash
curl -u "<username>:<password>" <registry-url>/<package-name>
```

- **सफलता**: मेटाडेटा के साथ 200 OK प्रतिक्रिया पुष्टि करती है कि रजिस्ट्री पैकेज डेटा सही ढंग से सर्व कर रही है।

---

### 4. एक पैकेज टारबॉल डाउनलोड करें (वैकल्पिक)

रजिस्ट्री के पूर्ण परीक्षण के लिए, एक पैकेज टारबॉल डाउनलोड करें ताकि यह सुनिश्चित हो सके कि यह वास्तविक पैकेज फाइलें डिलीवर कर सकती है।

#### टारबॉल डाउनलोड करने के लिए `curl` का उपयोग करना
1. चरण 3 के मेटाडेटा से, किसी विशिष्ट वर्जन के लिए `tarball` URL ढूंढें (उदाहरण के लिए, `<registry-url>/lodash/-/lodash-4.17.21.tgz`)।
2. इसे डाउनलोड करें:
```bash
curl -H "Authorization: Bearer your-auth-token" -O <tarball-url>
```

- **बदलें**: `<tarball-url>` को मेटाडेटा से प्राप्त URL से बदलें।
- **`-O` फ्लैग**: फाइल को उसके मूल नाम के साथ सेव करता है (उदाहरण के लिए, `lodash-4.17.21.tgz`)।
- **यदि बेसिक ऑथ का उपयोग कर रहे हैं**:
  ```bash
  curl -u "<username>:<password>" -O <tarball-url>
  ```
- **सफलता**: फाइल सफलतापूर्वक डाउनलोड हो जाती है, और आप इसकी सामग्री को सत्यापित करने के लिए इसे एक्सट्रैक्ट कर सकते हैं (उदाहरण के लिए, `tar -xzf <filename>` के साथ)।

---

## इनसोम्निया के साथ परीक्षण

यदि आप इनसोम्निया जैसे GUI टूल को प्राथमिकता देते हैं, तो इन चरणों का पालन करें:

### 1. ऑथेंटिकेशन सेट अप करें
- इनसोम्निया में एक नई रिक्वेस्ट बनाएं।
- **Auth** टैब पर जाएं:
  - **Bearer Token**: यदि आपने चरण 1 में टोकन प्राप्त किया है, तो "Bearer Token" चुनें और `your-auth-token` पेस्ट करें।
  - **Basic Auth**: यदि रजिस्ट्री बेसिक ऑथ का उपयोग करती है, तो "Basic Auth" चुनें और अपना `<username>` और `<password>` दर्ज करें।

### 2. रजिस्ट्री को पिंग करें
- **Method**: GET
- **URL**: `<registry-url>` या `<registry-url>/-/ping`
- **Send** पर क्लिक करें।
- **अपेक्षित प्रतिक्रिया**: एक सरल प्रतिक्रिया बॉडी के साथ 200 OK स्टेटस।

### 3. पैकेज मेटाडेटा प्राप्त करें
- **Method**: GET
- **URL**: `<registry-url>/<package-name>`
- सुनिश्चित करें कि ऑथेंटिकेशन Auth टैब में सेट है।
- **Send** पर क्लिक करें।
- **अपेक्षित प्रतिक्रिया**: JSON में पैकेज मेटाडेटा के साथ 200 OK स्टेटस।

### 4. एक टारबॉल डाउनलोड करें
- **Method**: GET
- **URL**: मेटाडेटा से प्राप्त टारबॉल URL (उदाहरण के लिए, `<registry-url>/<package-name>/-/<package-name>-<version>.tgz`)।
- फाइल को लोकल रूप से सेव करने के लिए **Send and Download** पर क्लिक करें।
- **सफलता**: फाइल डाउनलोड हो जाती है, जो पुष्टि करती है कि रजिस्ट्री पैकेज सर्व कर रही है।

---

## समस्या निवारण

- **401 अनऑथराइज्ड**:
  - अपने टोकन या क्रेडेंशियल्स की जांच करें।
  - सुनिश्चित करें कि `Authorization` हेडर या बेसिक ऑथ सही ढंग से फॉर्मेट किया गया है।
- **404 नॉट फाउंड**:
  - सत्यापित करें कि पैकेज रजिस्ट्री पर मौजूद है।
  - यदि पब्लिक पैकेज (जैसे `lodash`) का परीक्षण कर रहे हैं, तो पुष्टि करें कि रजिस्ट्री पब्लिक NPM रजिस्ट्री को प्रॉक्सी करती है।
- **कनेक्शन एरर**:
  - `<registry-url>` को दोबारा जांचें (उदाहरण के लिए, यदि आवश्यक हो तो `https://` शामिल करें)।
  - HTTPS रजिस्ट्री के लिए, यदि आपको `curl` के साथ SSL एरर मिलते हैं, तो सर्टिफिकेट चेक को बायपास करने के लिए `-k` जोड़ें (केवल परीक्षण के लिए)।
- **कस्टम रजिस्ट्री व्यवहार**:
  - यदि ये चरण विफल होते हैं, तो विशिष्ट एंडपॉइंट्स या ऑथेंटिकेशन विधियों के लिए अपने रजिस्ट्री के डॉक्यूमेंटेशन से परामर्श लें।

---

## निष्कर्ष

`curl` या इनसोम्निया के साथ इन चरणों का पालन करके, आप रॉ HTTP रिक्वेस्ट्स का उपयोग करके अपने NPM रजिस्ट्री की कनेक्टिविटी, ऑथेंटिकेशन और पैकेज-सर्व करने की क्षमताओं का परीक्षण कर सकते हैं। ऑथेंटिकेट करके शुरू करें (यदि आवश्यक हो), फिर रजिस्ट्री को पिंग करें, एक ज्ञात पैकेज के लिए मेटाडेटा प्राप्त करें, और वैकल्पिक रूप से एक टारबॉल डाउनलोड करें। यह दृष्टिकोण सुनिश्चित करता है कि आपका रजिस्ट्री HTTP स्तर पर पूरी तरह से कार्यात्मक है।