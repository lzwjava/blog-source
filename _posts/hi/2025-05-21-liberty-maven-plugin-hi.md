---
audio: false
generated: true
lang: hi
layout: post
title: लिबर्टी मेवेन प्लगइन
translated: true
type: note
---

आपके लक्ष्य को प्राप्त करने के लिए - जो कि Windows पर IntelliJ IDEA में एक स्क्रिप्ट चलाना है जो आपके Liberty सर्वर को तेजी से प्रबंधित करे और आपके प्रोग्राम को बिल्ड करे, यह सुनिश्चित करते हुए कि EAR फ़ाइल को रिप्लेस करने से पहले सर्वर बंद हो - मैं **Liberty Maven Plugin** का उपयोग करने की सलाह देता हूं। यह तरीका सीधा है, आपकी Maven बिल्ड प्रक्रिया के साथ अच्छी तरह एकीकृत होता है, और कमांड फॉर्मेटिंग तथा बैच फ़ाइलों में आई समस्याओं से बचाता है।

इसे सेट अप करने का तरीका यहां बताया गया है:

---

### समाधान: Liberty Maven Plugin का उपयोग

#### चरण 1: अपने `pom.xml` में Liberty Maven Plugin जोड़ें
Liberty Maven Plugin आपको Liberty सर्वर को सीधे Maven से नियंत्रित (start, stop, deploy, आदि) करने की अनुमति देता है, जिससे जटिल स्क्रिप्ट्स या बैच फ़ाइलों की आवश्यकता समाप्त हो जाती है।

- अपने प्रोजेक्ट की `pom.xml` फ़ाइल खोलें।
- `<build>` सेक्शन के अंदर निम्नलिखित प्लगइन कॉन्फ़िगरेशन जोड़ें:

```xml
<build>
    <plugins>
        <plugin>
            <groupId>io.openliberty.tools</groupId>
            <artifactId>liberty-maven-plugin</artifactId>
            <version>3.3.4</version>
            <configuration>
                <serverName>default</serverName>
                <installDirectory>C:\path\to\liberty</installDirectory>
            </configuration>
        </plugin>
    </plugins>
</build>
```

- **बदलें** `C:\path\to\liberty` को आपके Liberty इंस्टॉलेशन डायरेक्टरी के वास्तविक पथ से (जैसे, `C:\Program Files\IBM\WebSphere\Liberty`)।
- `<serverName>default</serverName>` आपके द्वारा `server start default` और `server stop default` कमांड्स में `default` के उपयोग से मेल खाता है।

#### चरण 2: IntelliJ IDEA में एक Maven Run Configuration बनाएं
स्क्रिप्ट या बैच फ़ाइल का उपयोग करने के बजाय, आप IntelliJ IDEA को Maven goals का एक क्रम चलाने के लिए कॉन्फ़िगर कर सकते हैं जो सर्वर को बंद करे, आपके प्रोजेक्ट को बिल्ड करे, और सर्वर को फिर से शुरू करे।

- IntelliJ IDEA में, **Run > Edit Configurations...** पर जाएं।
- **+** बटन पर क्लिक करें और सूची से **Maven** चुनें।
- रन कॉन्फ़िगरेशन को कॉन्फ़िगर करें:
  - **Name:** इसे एक सार्थक नाम दें, जैसे, `Run Liberty`।
  - **Working directory:** सुनिश्चित करें कि यह आपके प्रोजेक्ट डायरेक्टरी पर सेट है (आमतौर पर स्वतः पता चल जाता है)।
  - **Command line:** Maven goals का निम्नलिखित क्रम दर्ज करें:
    ```
    liberty:stop package liberty:start
    ```
- **Apply** और फिर **OK** पर क्लिक करें।

#### चरण 3: कॉन्फ़िगरेशन को रन करें
- IntelliJ IDEA में **Run** बटन (हरा त्रिकोण) का उपयोग करके इस कॉन्फ़िगरेशन को निष्पादित करें।
- यह निम्न कार्य करेगा:
  1. **Liberty सर्वर को बंद करेगा** (`liberty:stop`): यह सुनिश्चित करता है कि EAR फ़ाइल रिप्लेस होते समय सर्वर चल नहीं रहा है।
  2. **आपके प्रोजेक्ट को बिल्ड करेगा** (`package`): EAR फ़ाइल जनरेट करने के लिए `mvn package` चलाता है।
  3. **Liberty सर्वर को शुरू करेगा** (`liberty:start`): अपडेटेड EAR फ़ाइल के साथ सर्वर को पुनः आरंभ करता है।

---

### यह आपके लिए क्यों काम करता है
- **कमांड फॉर्मेट समस्याओं को ठीक करता है:** आपने उल्लेख किया कि रन कॉन्फ़िगरेशन में "Script text" का उपयोग `server start default` को अलग-अलग arguments (`server`, `start`, `default`) में विभाजित कर देता है। Maven तरीका अच्छी तरह से परिभाषित प्लगइन goals का उपयोग करके इसे पूरी तरह से टाल देता है।
- **बैच फ़ाइल जटिलता से बचाता है:** आपको एक `.bat` फ़ाइल को सही ढंग से काम करवाना मुश्किल लगा (जैसे, पथ या एनवायरनमेंट सेटिंग्स के कारण)। Liberty Maven Plugin आंतरिक रूप से सर्वर प्रबंधन संभालता है, इसलिए आपको बैच फ़ाइल कमांड्स या पथों को डीबग करने की आवश्यकता नहीं है।
- **आपकी आवश्यकता को पूरा करता है:** आपको स्टार्टअप समस्याओं से बचने के लिए EAR फ़ाइल को रिप्लेस करते समय सर्वर के बंद होने की आवश्यकता है। यह समाधान स्पष्ट रूप से बिल्ड करने से पहले सर्वर को बंद करता है और बाद में इसे शुरू करता है, जिससे एक साफ प्रक्रिया सुनिश्चित होती है।

---

### वैकल्पिक: बैच फ़ाइल का उपयोग (यदि पसंद हो)
यदि आप बैच फ़ाइल के साथ बने रहना पसंद करते हैं, तो यहां एक काम करने वाला उदाहरण है, हालांकि आपके सामने आई समस्याओं के कारण इसे कम अनुशंसित किया जाता है:

1. अपने प्रोजेक्ट डायरेक्टरी में `runLiberty.bat` नाम की एक फ़ाइल बनाएं जिसमें निम्नलिखित सामग्री हो:

```bat
@echo off
set LIBERTY_BIN=C:\path\to\liberty\bin
set MAVEN_HOME=C:\path\to\maven
set PATH=%PATH%;%LIBERTY_BIN%;%MAVEN_HOME%\bin

"%LIBERTY_BIN%\server" stop default
mvn package
"%LIBERTY_BIN%\server" start default
```

- `C:\path\to\liberty` और `C:\path\to\maven` को आपके Liberty और Maven इंस्टॉलेशन के वास्तविक पथों से बदलें।

2. IntelliJ IDEA में:
   - **Run > Edit Configurations...** पर जाएं।
   - **+** पर क्लिक करें और **Batch file** चुनें।
   - **Path to batch file** को `runLiberty.bat` के स्थान पर सेट करें।
   - **Working directory** को आपके प्रोजेक्ट डायरेक्टरी पर सेट करें।
   - **Apply** और **OK** पर क्लिक करें।

3. **Run** बटन का उपयोग करके इसे रन करें।

हालांकि, इस विधि के लिए आपको मैन्युअल रूप से यह सुनिश्चित करना होगा कि पथ और एनवायरनमेंट वेरिएबल सही हैं, जो आपको मुश्किल लगा। Maven प्लगइन तरीका सरल और अधिक विश्वसनीय है।

---

### सिफारिश
ऊपर बताए गए **Liberty Maven Plugin** विधि का उपयोग करें। यह है:
- **एकीकृत:** आपकी मौजूदा Maven बिल्ड प्रक्रिया से जुड़ जाता है।
- **सरल:** बैच फ़ाइल सिंटैक्स या पथों से जूझने की कोई आवश्यकता नहीं है।
- **विश्वसनीय:** सर्वर को सही ढंग से बंद करना और शुरू करना संभालता है, EAR रिप्लेसमेंट समस्याओं से बचाता है।

यह सेटअप आपको अपने Liberty सर्वर पर IntelliJ IDEA में अपने प्रोग्राम को तेजी और लगातार चलाने देगा!