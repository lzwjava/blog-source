---
audio: false
generated: true
lang: hi
layout: post
title: एफ़टीपी सर्वर
translated: true
type: note
---

Ubuntu पर FTP सर्वर सेट अप करने के लिए ताकि आप अपने iPad या अन्य डिवाइस से अपनी फाइलों (जैसे `/var/www/movies/` में那些 `.mkv` फाइलें) तक पहुंच सकें, आप **vsftpd** (Very Secure FTP Daemon) का उपयोग कर सकते हैं, जो एक हल्का और सुरक्षित विकल्प है। यहां आपके सेटअप के अनुरूप एक चरण-दर-चरण मार्गदर्शिका दी गई है:

### पूर्वापेक्षाएँ
- आप Ubuntu (उदाहरण के लिए, 22.04 या 24.04 जैसा कि 15 मार्च, 2025 तक है) पर हैं।
- आपके पास sudo विशेषाधिकार हैं।
- आपका Nginx सर्वर `192.168.1.27` पर है, और फाइलें `/var/www/movies/` में हैं।

### चरण 1: vsftpd इंस्टॉल करें
1. **पैकेज सूची अपडेट करें**:
   ```bash
   sudo apt update
   ```
2. **vsftpd इंस्टॉल करें**:
   ```bash
   sudo apt install vsftpd -y
   ```
3. **इंस्टॉलेशन सत्यापित करें**:
   ```bash
   sudo systemctl status vsftpd
   ```
   - इसे `active (running)` कहना चाहिए। यदि नहीं, तो इसे शुरू करें:
     ```bash
     sudo systemctl start vsftpd
     sudo systemctl enable vsftpd  # बूट पर शुरू करने के लिए
     ```

### चरण 2: vsftpd कॉन्फ़िगर करें
डिफ़ॉल्ट कॉन्फ़िग फ़ाइल `/etc/vsftpd.conf` है। हम इसे बुनियादी एक्सेस के लिए ट्विक करेंगे।

1. **मूल कॉन्फ़िग का बैकअप लें**:
   ```bash
   sudo cp /etc/vsftpd.conf /etc/vsftpd.conf.bak
   ```

2. **कॉन्फ़िग एडिट करें**:
   ```bash
   sudo nano /etc/vsftpd.conf
   ```
   ये परिवर्तन करें:
   - स्थानीय उपयोगकर्ताओं को सक्षम करें:
     ```bash
     local_enable=YES
     ```
   - फाइल अपलोड की अनुमति दें (वैकल्पिक, यदि आप फाइलें अपलोड करना चाहते हैं):
     ```bash
     write_enable=YES
     ```
   - उपयोगकर्ताओं को उनके होम डायरेक्टरी तक सीमित करें (वैकल्पिक, सुरक्षा के लिए):
     ```bash
     chroot_local_user=YES
     ```
   - अपनी मूवीज़ डायरेक्टरी की ओर इशारा करें (वैकल्पिक, उपयोगकर्ता सेटअप के लिए चरण 3 देखें):
     - डिफ़ॉल्ट रूप से, उपयोगकर्ता अपनी होम डायरेक्टरी तक पहुंचते हैं। हम इसे बाद में एडजस्ट करेंगे।

   सेव करें (`Ctrl + O`, Enter, `Ctrl + X`).

3. **vsftpd रीस्टार्ट करें**:
   ```bash
   sudo systemctl restart vsftpd
   ```

### चरण 3: एक FTP उपयोगकर्ता सेट अप करें
आप `/var/www/movies/` तक पहुंचने के लिए एक मौजूदा उपयोगकर्ता का उपयोग कर सकते हैं या एक नया उपयोगकर्ता बना सकते हैं।

#### विकल्प 1: एक मौजूदा उपयोगकर्ता का उपयोग करें
यदि आप अपने वर्तमान Ubuntu उपयोगकर्ता (जैसे `user`) का उपयोग करना चाहते हैं:
1. **अपना यूज़रनेम चेक करें**:
   ```bash
   whoami
   ```
2. **पासवर्ड सेट करें (यदि आवश्यक हो)**:
   ```bash
   sudo passwd user  # "user" को अपने यूज़रनेम से बदलें
   ```
3. **मूवीज़ डायरेक्टरी से लिंक करें**:
   - डिफ़ॉल्ट रूप से, इस उपयोगकर्ता की होम डायरेक्टरी (जैसे `/home/user/`) FTP रूट है। `/var/www/movies/` तक पहुंचने के लिए, एक symlink बनाएं:
     ```bash
     ln -s /var/www/movies/ /home/user/movies
     ```
   - या, अनुमतियाँ एडजस्ट करें (कम सुरक्षित):
     ```bash
     sudo chown -R user:user /var/www/movies
     ```

#### विकल्प 2: एक समर्पित FTP उपयोगकर्ता बनाएँ
बेहतर सुरक्षा के लिए:
1. **उपयोगकर्ता जोड़ें**:
   ```bash
   sudo adduser ftpuser
   ```
   - पासवर्ड और विवरण सेट करने के लिए प्रॉम्प्ट का पालन करें।
2. **होम डायरेक्टरी को मूवीज़ पर सेट करें**:
   ```bash
   sudo usermod -d /var/www/movies ftpuser
   sudo chown -R ftpuser:ftpuser /var/www/movies
   ```

3. **एक्सेस प्रतिबंधित करें** (यदि `chroot_local_user=YES` है):
   - सुनिश्चित करें कि `/var/www/movies` `ftpuser` द्वारा लिखने योग्य है:
     ```bash
     sudo chmod -R 755 /var/www/movies
     ```

### चरण 4: फ़ायरवॉल पोर्ट खोलें
FTP डिफ़ॉल्ट रूप से पोर्ट 20 और 21 का उपयोग करता है।
1. **UFW में FTP की अनुमति दें**:
   ```bash
   sudo ufw allow 21/tcp
   sudo ufw allow 20/tcp
   sudo ufw status
   ```
   - `20/tcp ALLOW` और `21/tcp ALLOW` दिखाना चाहिए।

2. **vsftpd रीस्टार्ट करें**:
   ```bash
   sudo systemctl restart vsftpd
   ```

### चरण 5: iPad से FTP टेस्ट करें
आपको अपने iPad पर एक FTP क्लाइंट ऐप की आवश्यकता होगी।

#### अनुशंसित iPad ऐप: FileZilla या FE File Explorer
- **FileZilla** (मुफ़्त):
  1. App Store से इंस्टॉल करें ("FileZilla" खोजें)।
  2. FileZilla खोलें।
  3. **New Site** या **Connect** टैप करें।
  4. दर्ज करें:
     - Host: `192.168.1.27`
     - Username: `ftpuser` (या आपका यूज़रनेम)
     - Password: [आपका पासवर्ड]
     - Port: 21 (डिफ़ॉल्ट)
  5. **Connect** टैप करें।
- **FE File Explorer** (इन-ऐप खरीदारी के साथ मुफ़्त):
  1. App Store से इंस्टॉल करें।
  2. **+** > **FTP** टैप करें।
  3. ऊपर के समान विवरण दर्ज करें।
  4. कनेक्ट करें।

#### FTP से स्ट्रीमिंग
- अधिकांश FTP ऐप फाइलों को ब्राउज़ करने देते हैं। `.mkv` फाइलों को स्ट्रीम करने के लिए:
  - ऐप में `.mkv` फाइल टैप करें।
  - यदि यह सीधे नहीं चलती है, तो **VLC for Mobile** जैसा स्ट्रीमिंग ऐप डाउनलोड करें (पिछला जवाब देखें), फिर FTP URL के साथ इसके **Network Stream** विकल्प का उपयोग करें:
    ```
    ftp://ftpuser:password@192.168.1.27/yourfile.mkv
    ```

### चरण 6: एक्सेस सत्यापित करें
- अपने iPad से, FTP ऐप के माध्यम से `192.168.1.27` से कनेक्ट करें।
- आपको `/var/www/movies/` की सामग्री (जैसे `yourfile.mkv`) दिखनी चाहिए।
- प्रीव्यू या स्ट्रीम करने के लिए टैप करें (ऐप पर निर्भर करता है)।

### समस्या निवारण
- **Connection Refused**: `sudo ufw status` चेक करें और सुनिश्चित करें कि पोर्ट 20/21 खुले हैं। सत्यापित करें कि vsftpd चल रहा है (`sudo systemctl status vsftpd`)।
- **Permission Denied**: पुष्टि करें कि उपयोगकर्ता के पास `/var/www/movies/` का स्वामित्व है या इसे पढ़ सकता है (`ls -l /var/www/movies/`)।
- **404 या No Files**: सुनिश्चित करें कि डायरेक्टरी पथ उपयोगकर्ता के होम या symlink सेटअप से मेल खाता है।

### अंतिम नोट्स
- **सुरक्षा**: लोकल नेटवर्क के लिए, यह सेटअप ठीक है। बाहरी एक्सेस के लिए, `vsftpd.conf` में SSL सक्षम करके FTPS (एन्क्रिप्टेड FTP) पर विचार करें।
- **Nginx बनाम FTP**: आप पहले से ही Nginx के साथ HTTP के माध्यम से स्ट्रीमिंग कर रहे हैं—FTP फाइल प्रबंधन जोड़ता है। यदि FTP सेटअप अनावश्यक लगे तो HTTP स्ट्रीमिंग के लिए अपने iPad पर VLC का उपयोग करें।

अब आपके iPad के पास आपके Ubuntu सर्वर की फाइलों तक पहुंचने के लिए FTP "जादू" है! यदि आपको कोई समस्या आती है तो मुझे बताएं।