---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-code-fast-1
title: जैकसन पॉलीमॉर्फिक डिसीरियलाइज़ेशन अवलोकन
translated: true
type: note
---

### जैकसन पॉलीमॉर्फिक डिसीरियलाइज़ेशन का अवलोकन

जैकसन JSON सीरियलाइज़ेशन और डिसीरियलाइज़ेशन के लिए एक Java लाइब्रेरी है। पॉलीमॉर्फिक डिसीरियलाइज़ेशन जैकसन को JSON में एम्बेडेड टाइप इनफार्मेशन के आधार पर, डिसीरियलाइज़ेशन के दौरान एक बेस क्लास की सही सबक्लास को स्वचालित रूप से इंस्टेंटिएट करने की अनुमति देता है। यह इनहेरिटेंस हायरार्की के साथ काम करते समय उपयोगी होता है, यह सुनिश्चित करता है कि JSON डेटा से सही ऑब्जेक्ट प्रकार बनाया जाए।

मुख्य घटक:
- **@JsonTypeInfo**: एनोटेशन जो नियंत्रित करते हैं कि JSON में टाइप इनफार्मेशन कहाँ और कैसे संग्रहीत होती है।
- **@JsonSubTypes**: एनोटेशन जो सबक्लासेज (सबटाइप्स) और उनके आइडेंटिफायर की सूची बनाते हैं।
- जैकसन का सबटाइप रेजोल्यूशन मैपिंग को संभालता है।

इनके बिना, जैकसन सभी ऑब्जेक्ट्स को बेस क्लास के रूप में डिसीरियलाइज़ करने के लिए डिफ़ॉल्ट हो जाएगा, जिससे संभावित रूप से सबक्लास-विशिष्ट डेटा खो सकता है।

### यह कदम दर कदम कैसे काम करता है

1. **बेस क्लास पर एनोटेशन**:
   - `@JsonTypeInfo` का उपयोग यह निर्दिष्ट करने के लिए करें कि टाइप इनफो कहाँ एम्बेडेड है (उदाहरण के लिए, JSON ऑब्जेक्ट में एक प्रॉपर्टी के रूप में)।
   - उदाहरण:
     ```java
     @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "@type")
     @JsonSubTypes({
         @JsonSubType(value = Cat.class, name = "cat"),
         @JsonSubType(value = Dog.class, name = "dog")
     })
     public abstract class Animal {
         public String name;
     }
     ```
     - `use = JsonTypeInfo.Id.NAME`: टाइप के लिए एक नाम (स्ट्रिंग आइडेंटिफायर) का उपयोग करता है।
     - `include = JsonTypeInfo.As.PROPERTY`: JSON ऑब्जेक्ट में टाइप इनफो को एक प्रॉपर्टी ("@type") के रूप में जोड़ता है।
     - `@JsonSubTypes`: सबक्लास नामों को उनकी Java क्लासेज से मैप करता है (उदाहरण के लिए, "cat" → Cat.class)।

2. **सीरियलाइज़ेशन प्रक्रिया**:
   - जब एक Cat या Dog ऑब्जेक्ट को सीरियलाइज़ किया जाता है, तो जैकसन JSON में टाइप आइडेंटिफायर जोड़ता है।
   - उदाहरण आउटपुट: `{"@type": "cat", "name": "Whiskers", "purr": true}` (यदि Cat में एक "purr" फ़ील्ड है)।

3. **डिसीरियलाइज़ेशन प्रक्रिया**:
   - जैकसन JSON को पढ़ता है और टाइप इनफो (उदाहरण के लिए, "@type" प्रॉपर्टी) की जांच करता है।
   - यह आइडेंटिफायर ("cat") को `@JsonSubTypes` का उपयोग करके रजिस्टर्ड सबक्लास (Cat.class) पर मैप करता है।
   - सही सबक्लास को इंस्टेंटिएट करता है और उसकी फ़ील्ड्स को पॉप्युलेट करता है।
   - यदि कोई मिलान नहीं होता है या टाइप इनफो गायब है, तो यह बेस क्लास पर डिफ़ॉल्ट हो जाता है या एक्सेप्शन फेंकता है (`defaultImpl` के माध्यम से कॉन्फ़िगर करने योग्य)।

4. **समर्थित टाइप इनफो फॉर्मेट**:
   - `@JsonTypeInfo.As.PROPERTY`: एक फ़ील्ड के रूप में टाइप (उदाहरण के लिए, `{"@type": "cat", ...}`)।
   - `@JsonTypeInfo.As.WRAPPER_OBJECT`: ऑब्जेक्ट को एक रैपर में लपेटता है जिसमें टाइप की (उदाहरण के लिए, `{"cat": {...}}`)।
   - `@JsonTypeInfo.As.WRAPPER_ARRAY`: एक ऐरे फॉर्मेट का उपयोग करता है।
   - `@JsonTypeInfo.As.EXTERNAL_PROPERTY`: एक अलग फ़ील्ड में टाइप इनफो (एडवांस्ड, XML-जैसी संरचनाओं के लिए)।

### उन्नत कॉन्फ़िगरेशन और एज केस

- **कस्टम नाम मैपर्स**: JSON में पूरी तरह से योग्य क्लास नाम को सीधे एम्बेड करने के लिए `@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS)` का उपयोग करें (उदाहरण के लिए, `{"@class": "com.example.Cat", ...}`), जो रीफैक्टरिंग के दौरान भंगुर हो सकता है।
- **डिफ़ॉल्ट इम्प्लीमेंटेशन**: यदि टाइप इनफो गायब है तो फॉल बैक करने के लिए `defaultImpl = Animal.class` जोड़ें।
- **विजिबिलिटी और मिक्स-इन्स**: यदि आप सोर्स क्लासेज को संशोधित नहीं कर सकते हैं तो मिक्स-इन क्लासेज के माध्यम से एनोटेशन लागू करें।
- **एरर हैंडलिंग**: यदि टाइप इनफो किसी रजिस्टर्ड सबटाइप से मेल नहीं खाता है, तो जैकसन एक `JsonMappingException` फेंकता है। इसे कस्टम डिसीरियलाइज़र्स के साथ हैंडल किया जा सकता है।
- **परफॉर्मेंस**: कुशल लुकअप के कारण डिसीरियलाइज़ेशन के दौरान न्यूनतम ओवरहेड, लेकिन टाइप इनफो को एम्बेड करने से JSON पेलोड का आकार बढ़ जाता है।

पूर्ण दस्तावेज़ के लिए, जैकसन की आधिकारिक गाइड देखें: [Polymorphic Type Handling](https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization)। यह फीचर जैकसन 2.x के बाद से स्थिर रहा है, जिसमें Gson जैसी अन्य JSON लाइब्रेरीज में समान अवधारणाएँ हैं। यदि और कस्टमाइज़ कर रहे हैं, तो अनट्रस्टेड इनपुट में सुरक्षा के लिए `PolymorphicTypeValidator` का विस्तार करें।