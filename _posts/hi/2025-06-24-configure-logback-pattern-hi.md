---
audio: false
generated: true
lang: hi
layout: post
title: कस्टम लॉग प्रारूप के लिए लॉगबैक कॉन्फ़िगर करना
translated: true
type: note
---

आपके द्वारा प्रदान किए गए लॉग फॉर्मेट को प्राप्त करने के लिए, आपको अपनी `logback.xml` फ़ाइल को कॉन्फ़िगर करने की आवश्यकता होगी। मुख्य बात यह है कि अपने ऐपेंडर के भीतर एक `PatternLayout` का उपयोग करें और `pattern` गुण को सही ढंग से सेट करें।

यहां आपके वांछित लॉग फॉर्मेट के घटकों का विवरण दिया गया है और उन्हें Logback पैटर्न कन्वर्टर्स पर कैसे मैप किया जाए:

*   **`2025-06-15T01:37:52.452+08:00`**: यह टाइमस्टैम्प है। इसके लिए आप `%d{yyyy-MM-dd'T'HH:mm:ss.SSSXXX}` का उपयोग करेंगे।
    *   `yyyy-MM-dd'T'HH:mm:ss.SSS`: मिलीसेकंड के साथ तारीख और समय।
    *   `XXX`: UTC से ISO 8601 ऑफसेट (उदाहरण के लिए, `+08:00`)।
*   **`DEBUG`**: यह लॉगिंग स्तर है। आप `%-5p` (बाएं-संरेखित, 5 वर्ण चौड़ा) का उपयोग करेंगे।
*   **`302244`**: यह प्रक्रिया ID (PID) है। Logback सीधे तौर पर अपने मानक कन्वर्टर्स में प्रक्रिया ID को एक्सपोज़ नहीं करता है। हालांकि, यह **थ्रेड ID** (`%t` या `%thread`) को एक्सपोज़ *करता है*। यदि आपके उदाहरण में "302244" वास्तव में एक थ्रेड ID है (जो एप्लिकेशन लॉग में बहुत आम है), तो `%thread` की आपको आवश्यकता होगी। यदि यह *अवश्य* ही OS प्रक्रिया ID होना चाहिए, तो आपको एक कस्टम Logback कन्वर्टर या सिस्टम प्रॉपर्टी की आवश्यकता हो सकती है यदि आपका वातावरण अनुमति देता है। विशिष्ट Spring Boot एप्लिकेशन के लिए, यह आमतौर पर थ्रेड ID ही होता है। मैं इस उदाहरण के लिए मानूंगा कि यह थ्रेड ID है।
*   **`---`**: एक शाब्दिक स्ट्रिंग।
*   **`[nio-8090-exec-1]`**: यह थ्रेड का नाम है। आप `[%thread]` या `%-40.40thread` का उपयोग करेंगे यदि आप इसे निश्चित चौड़ाई में चाहते हैं।
*   **`o.s.w.s.m.m.a.HttpEntityMethodProcessor`**: यह लॉगर का नाम है (आमतौर पर पूरी तरह से योग्य क्लास नाम)। आप एक दाएं-संरेखित, 39 वर्णों तक कटा हुआ लॉगर नाम प्राप्त करने के लिए `%-40.40logger{39}` का उपयोग करेंगे।
*   **`:`**: एक शाब्दिक कोलन।
*   **`Writing ["{"vnstatversion":"2.9","jsonversion":"2","interfaces":[{"name":"enp4s0","alias":"","created":{"date" (truncated)..."]`**: यह लॉग संदेश है। आप `%msg%n` का उपयोग करेंगे।

यहां एक नमूना `logback.xml` कॉन्फ़िगरेशन दिया गया है जो एक बहुत समान आउटपुट उत्पन्न करना चाहिए:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>

    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{yyyy-MM-dd'T'HH:mm:ss.SSSXXX} %highlight(%-5p) %thread --- [%thread] %-40.40logger{39} : %msg%n</pattern>
        </encoder>
    </appender>

    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
    </root>

    <logger name="org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor" level="DEBUG"/>
    <logger name="org.springframework.web.servlet.DispatcherServlet" level="DEBUG"/>

</configuration>
```

**`pattern` की व्याख्या:**

*   `%d{yyyy-MM-dd'T'HH:mm:ss.SSSXXX}`: मिलीसेकंड और टाइमज़ोन ऑफसेट के साथ ISO 8601 फॉर्मेट में तारीख और समय।
*   `%highlight(%-5p)`: यह लॉगिंग स्तर (जैसे, DEBUG, INFO) को 5 वर्णों में बाएं-संरेखित आउटपुट करेगा, और यदि आप कंसोल पर आउटपुट कर रहे हैं, तो Logback इसे रंगीन करने का प्रयास करेगा।
*   `%thread`: उस थ्रेड का नाम जिसने इवेंट लॉग किया। (यदि आपको प्रक्रिया ID की आवश्यकता है, तो यह अधिक जटिल है, लेकिन Spring ऐप्स के लिए, थ्रेड ID आमतौर पर यहां प्रासंगिक होता है)।
*   `---`: एक शाब्दिक स्ट्रिंग सेपरेटर।
*   `[%thread]`: वर्ग कोष्ठक में enclosed थ्रेड का नाम।
*   `%-40.40logger{39}`: लॉगर का नाम (आमतौर पर क्लास नाम)।
    *   `%-40`: बाएं-संरेखित और 40 वर्णों तक पैड किया गया।
    *   `.40logger`: लॉगर नाम को काट देता है यदि यह 40 वर्णों से अधिक लंबा है।
    *   `{39}`: यह Logback को लॉगर नाम के अधिकतम 39 वर्ण प्रदर्शित करने के लिए कहता है, पैकेज नाम के अंत से शुरू करते हुए (उदाहरण के लिए, `o.s.w.s.m.m.a.HttpEntityMethodProcessor` यदि यह फिट बैठता है तो `o.s.w.s.m.m.a.HttpEntityMethodProcessor` बन सकता है, या `...HttpEntityMethodProcessor` यदि शुरुआत से काटा गया हो)। आप इस संख्या को समायोजित कर सकते हैं।
*   ` :  `: एक शाब्दिक कोलन और स्पेस।
*   `%msg%n`: वास्तविक लॉग संदेश जिसके बाद एक नई लाइन हो।

**महत्वपूर्ण नोट्स:**

1.  **प्लेसमेंट:** इस XML को `logback.xml` के रूप में अपने Spring Boot प्रोजेक्ट की `src/main/resources` डायरेक्टरी में सेव करें।
2.  **प्रक्रिया ID बनाम थ्रेड ID:** जैसा कि उल्लेख किया गया है, Logback के मानक पैटर्न कन्वर्टर्स सीधे OS प्रक्रिया ID को एक्सपोज़ नहीं करते हैं। यदि `302244` *अवश्य* ही प्रक्रिया ID होना चाहिए, तो आपको आमतौर पर एक कस्टम `PatternLayoutConverter` लागू करना होगा या स्टार्टअप पर एक सिस्टम प्रॉपर्टी सेट करनी होगी जिसे आप तब अपने लॉगबैक पैटर्न में संदर्भित करते हैं। हालांकि, अधिकांश एप्लिकेशन लॉगिंग के लिए, थ्रेड ID (`%thread`) पर्याप्त है और आमतौर पर इस स्थिति में उपयोग किया जाता है।
3.  **Spring Boot डिफॉल्ट्स:** Spring Boot अक्सर अपनी स्वयं की डिफॉल्ट Logback कॉन्फ़िगरेशन प्रदान करता है यदि आप एक प्रदान नहीं करते हैं। `src/main/resources` में `logback.xml` रखकर, आप डिफॉल्ट को ओवरराइड करते हैं।
4.  **लॉगर स्तर:** सुनिश्चित करें कि विशिष्ट लॉगर्स (जैसे `HttpEntityMethodProcessor` और `DispatcherServlet`) `DEBUG` स्तर पर सेट हैं यदि आप उनके DEBUG संदेश देखना चाहते हैं। यदि रूट लेवल `INFO` है, तो डिफ़ॉल्ट रूप से, DEBUG संदेश तब तक नहीं दिखाई देंगे जब तक कि आप विशिष्ट लॉगर्स के लिए स्तर स्पष्ट रूप से सेट नहीं करते।

यह कॉन्फ़िगरेशन आपको आपके वांछित लॉग फॉर्मेट के बहुत करीब ले जाना चाहिए।