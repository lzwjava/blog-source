---
audio: false
generated: true
image: false
lang: hi
layout: post
model: x-ai/grok-4-fast
title: मल्टी एसएलओ एलएलएम सर्विंग का अनुकूलन
translated: true
type: note
---

### अवलोकन
पेपर "SLOs-Serve: ऑप्टिमाइज्ड सर्विंग ऑफ मल्टी-SLO एलएलएम्स" SLOs-Serve सिस्टम का परिचय देता है, जिसे बड़े भाषा मॉडल (एलएलएम्स) को बहु-चरणीय अनुप्रयोगों में कुशलतापूर्वक सर्व करने के लिए डिज़ाइन किया गया है, जहाँ प्रत्येक चरण (जैसे, इनपुट प्रोसेसिंग के लिए प्रीफिल, टोकन जनरेशन के लिए डिकोड) और अनुप्रयोग (जैसे, चैटबॉट्स, कोडिंग असिस्टेंट्स) के विशिष्ट सर्विस लेवल ऑब्जेक्टिव्स (एसएलओ) होते हैं। ये एसएलओ उपयोगकर्ता-सामने वाले पहलुओं, जैसे प्रीफिल के लिए टाइम-टू-फर्स्ट-टोकन (TTFT) और डिकोड के लिए टोकन्स-पर-आउटपुट-टाइम (TPOT) के लिए कम विलंबता सुनिश्चित करते हैं। vLLM या Sarathi-Serve जैसी पारंपरिक सर्विंग सिस्टम थ्रूपुट को प्राथमिकता देती हैं लेकिन साझा संसाधनों के तहत, विशेष रूप से बर्स्ट या मिश्रित वर्कलोड के दौरान, अक्सर इन सूक्ष्म एसएलओ का उल्लंघन करती हैं।

### प्रमुख चुनौतियाँ और योगदान
लेखक बहु-एसएलओ सर्विंग में निम्नलिखित चुनौतियों की पहचान करते हैं:
- **बहु-चरणीय अनुरोध**: रीजनिंग एलएलएम्स ("सोच" के चरणों के दौरान सख्त एसएलओ) या टूल-कॉलिंग एजेंट्स (सख्त प्रीफिल/डिकोड वाले लूप्स) जैसे अनुप्रयोगों को चरण-विशिष्ट गारंटी की आवश्यकता होती है।
- **संसाधन प्रतिस्पर्धा**: साझा जीपीयू सह-स्थित या विकेंद्रीकृत सेटअप में एसएलओ उल्लंघन का कारण बनते हैं।
- **अचानक आने वाला ट्रैफिक**: अचानक स्पाइक्स शेड्यूलर को अभिभूत कर देती हैं।

SLOs-Serve के योगदान में शामिल हैं:
- एक डायनेमिक प्रोग्रामिंग (डीपी)-आधारित शेड्यूलर जो एसएलओ को पूरा करते हुए थ्रूपुट को अधिकतम करने के लिए टोकन आवंटन (प्रीफिल बजट, बैच आकार) को ऑप्टिमाइज करता है।
- चंक्ड प्रीफिल, एसएलओ-अनुकूली स्पेक्युलेटिव डिकोडिंग (प्रति एसएलओ टियर स्पेक्युलेशन लंबाई को अनुकूलित करना), और सॉफ्ट एडमिशन कंट्रोल (स्वीकृत अनुरोधों के लिए एसएलओ की गारंटी, अन्य को स्थगित करना) के लिए समर्थन।
- vLLM पर बैचिंग और Ray पर ऑर्केस्ट्रेशन के साथ निर्मित, मल्टी-रिप्लिका रूटिंग और बर्स्ट रेजिलिएंस वाला एक वितरित आर्किटेक्चर।

| अनुप्रयोग | प्रीफिल एसएलओ | डिकोड एसएलओ | उदाहरण |
|-------------|-------------|------------|---------|
| सारांशीकरण | सख्त (जैसे, अधिकतम 3x धीमापन) | ढीला (100ms TPOT) | दस्तावेज़ प्रसंस्करण |
| कोडिंग | ढीला | सख्त (50ms TPOT) | कोड जनरेशन |
| चैटबॉट | ढीला | ढीला | इंटरैक्टिव क्वेरीज़ |
| टूल-कॉलिंग | सख्त (लूप्स) | सख्त (लूप्स), ढीला (अंतिम) | एजेंटिक वर्कफ़्लोज़ |
| रीजनिंग | सख्त (सोच) | सख्त (सोच), ढीला (प्रतिक्रिया) | चेन-ऑफ-थॉट |

### सिस्टम डिज़ाइन
- **शेड्यूलर (एल्गोरिदम 1)**: अनुरोधों को स्वीकार करने और बैचों की योजना बनाने के लिए डीपी का उपयोग करता है, एक रूफलाइन-प्रेरित प्रेडिक्टर (R² > 0.8 सटीकता) के माध्यम से निष्पादन समय को मॉडल करता है। स्टेट्स मेमोरी, प्रीफिल बजट, और स्वीकृत अनुरोधों को ट्रैक करती हैं; ट्रांज़िशन शीघ्र समाप्ति तिथियों और एसएलओ प्राप्ति को प्राथमिकता देते हैं।
- **बैच गठन**: सबसे सख्त TPOT के आधार पर डायनामिक साइज़िंग (512+ टोकन तक), एसएलओ उल्लंघन के बिना उच्च थ्रूपुट के लिए बड़े बैच सक्षम करता है।
- **स्पेक्युलेटिव डिकोडिंग**: प्रीफिल बजट को बढ़ावा देने के लिए प्रति एसएलओ टियर स्पेक्युलेशन लंबाई (जैसे, 1-10 टोकन) को अनुकूलित करता है, इष्टतम प्रीफिल/डिकोड संतुलन के लिए एन्यूमरेशन के माध्यम से हल करता है।
- **मल्टी-रिप्लिका और बर्स्ट**: केंद्रीकृत नियंत्रक अनुरोधों को सक्रिय रूप से रूट करता है; अप्राप्य अनुरोध एक बेस्ट-एफर्ट कतार में जाते हैं, आवश्यकता पड़ने पर प्रीम्प्ट किए जाते हैं।

डिज़ाइन ट्रेड-ऑफ़ की खोज करता है, जैसे कि बड़े बैच थ्रूपुट बढ़ाते हैं लेकिन विलंबता का जोखिम बढ़ाते हैं (एसएलओ-संभव क्षेत्रों को दर्शाने वाले आंकड़ों में दृश्यमान)।

### मूल्यांकन
वास्तविक ट्रेस (Azure एलएलएम वर्कलोड) और डेटासेट (ShareGPT, HumanEval, आदि) का उपयोग करके 6 परिदृश्यों (चैटबॉट, कोडिंग, सारांशीकरण, मिश्रित, टूल-कॉलिंग, रीजनिंग) पर परीक्षण किया गया। मॉडल: OPT-7B/13B/30B, ToolLlama-7B। हार्डवेयर: 4×A100 जीपीयू (मुख्य), 8×H100 तक।

- **क्षमता लाभ**: vLLM/Sarathi-Serve/DistServe पर 2.2× औसत सुधार (परिदृश्यों में जियो-मीन)। जैसे, रीजनिंग में 2.4×, बर्स्टी कोडिंग में 2.1×।
- **स्केलिंग**: रूटिंग के माध्यम से रिप्लिका के साथ सुपर-लीनियर (बर्स्ट के तहत टूल-कॉलिंग में 6.2× तक)।
- **एब्लेशन**: स्पेक्युलेशन 1.66× जोड़ता है, रूटिंग 1.19×, बर्स्ट हैंडलिंग 1.34×।
- ओवरहेड: प्रति शेड्यूल इनवोकेशन <10ms।

आंकड़े दिखाते हैं कि SLOs-Serve स्पाइक्स के दौरान p99 विलंबता को लक्ष्य के निकट बनाए रखता है, जबकि बेसलाइन खराब हो जाती हैं।

### निष्कर्ष
SLOs-Serve विविध, बर्स्टी वातावरण में बहु-एसएलओ की गारंटी देकर एलएलएम सर्विंग को आगे बढ़ाता है, जिससे 2x+ दक्षता लाभ प्राप्त होता है। भविष्य का कार्य अज्ञात डिकोड लंबाई या अधिक चरणों तक विस्तारित हो सकता है। यह सिस्टम प्रदर्शित करता है कि एसएलओ-अनुकूलित शेड्यूलिंग प्रोडक्शन-ग्रेड एलएलएम डिप्लॉयमेंट के लिए महत्वपूर्ण है।

[SLOs-Serve: ऑप्टिमाइज्ड सर्विंग ऑफ मल्टी-SLO एलएलएम्स](https://arxiv.org/abs/2504.08784)