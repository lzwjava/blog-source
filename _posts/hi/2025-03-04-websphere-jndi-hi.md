---
audio: false
generated: true
lang: hi
layout: post
title: JNDI Datasource Configuration in WebSphere Liberty का अनुवाद
translated: true
---

WebSphere Liberty में EAR Java प्रोग्राम द्वारा `server.xml` फ़ाइल में परिभाषित डेटासोर्स का उपयोग करने के लिए, आपको यह जांचना होगा कि एप्लिकेशन एक डेटासोर्स को एक JNDI (Java Naming and Directory Interface) नाम के माध्यम से एक्सेस कर रहा है जो सर्वर के कॉन्फ़िगरेशन में परिभाषित डेटासोर्स के साथ मिलता है, विशेष रूप से `server.xml` फ़ाइल या इसमें शामिल किसी भी फ़ाइल में। नीचे दिए गए चरणों का पालन करके आप इस बात की पुष्टि कर सकते हैं:

### चरण 1: एप्लिकेशन द्वारा उपयोग की जाने वाली JNDI नाम की पहचान करें
पहला कार्य यह है कि EAR एप्लिकेशन डेटासोर्स को लुकअप करने के लिए कौन सा JNDI नाम उपयोग करता है। एक Java EE एप्लिकेशन जो एक EAR फ़ाइल के रूप में डिप्लॉय किया जाता है, इसे कई जगहों पर स्पष्ट किया जा सकता है:

- **डिप्लॉयमेंट डिस्क्रिप्टर्स**: एप्लिकेशन के डिप्लॉयमेंट डिस्क्रिप्टर्स, जैसे `web.xml` (वेब मॉड्यूल के लिए) या `ejb-jar.xml` (EJB मॉड्यूल के लिए), में एक `<resource-ref>` तत्व की जांच करें। यह तत्व एक रिसोर्स रेफरेंस घोषित करता है जिसे एप्लिकेशन डेटासोर्स को एक्सेस करने के लिए उपयोग करता है। उदाहरण के लिए:

  ```xml
  <resource-ref>
      <res-ref-name>jdbc/myDataSource</res-ref-name>
      <res-type>javax.sql.DataSource</res-type>
      <res-auth>Container</res-auth>
  </resource-ref>
  ```

  यहाँ, एप्लिकेशन डेटासोर्स को JNDI नाम `java:comp/env/jdbc/myDataSource` का उपयोग करके लुकअप करता है।

- **बाइंडिंग फ़ाइलें**: WebSphere Liberty में, डिप्लॉयमेंट डिस्क्रिप्टर से रिसोर्स रेफरेंस को सर्वर द्वारा परिभाषित JNDI नाम से बाइंड किया जा सकता है, जैसे `ibm-web-bnd.xml` (वेब मॉड्यूल के लिए) या `ibm-ejb-jar-bnd.xml` (EJBs के लिए)। एक `<resource-ref>` बाइंडिंग की तलाश करें, जैसे:

  ```xml
  <resource-ref name="jdbc/myDataSource" binding-name="jdbc/actualDataSource"/>
  ```

  इस मामले में, एप्लिकेशन का रेफरेंस `jdbc/myDataSource` सर्वर के JNDI नाम `jdbc/actualDataSource` से मैप किया जाता है।

- **एप्लिकेशन कोड**: अगर आप स्रोत कोड तक पहुंच रखते हैं, तो JNDI लुकअप या एनोटेशन की तलाश करें:
  - **JNDI लुकअप**: इस तरह के कोड की तलाश करें:

    ```java
    Context ctx = new InitialContext();
    DataSource ds = (DataSource) ctx.lookup("java:comp/env/jdbc/myDataSource");
    ```

    यह JNDI नाम `java:comp/env/jdbc/myDataSource` को इंगित करता है।

  - **एनोटेशन**: आधुनिक Java EE एप्लिकेशन में `@Resource` एनोटेशन का उपयोग किया जा सकता है, जैसे:

    ```java
    @Resource(name = "jdbc/myDataSource")
    private DataSource ds;
    ```

    यह भी `java:comp/env/jdbc/myDataSource` को इंगित करता है।

अगर कोई बाइंडिंग फ़ाइल मौजूद नहीं है, तो कोड या डिप्लॉयमेंट डिस्क्रिप्टर में JNDI नाम (जैसे `jdbc/myDataSource`) सर्वर कॉन्फ़िगरेशन में अपेक्षित नाम के साथ सीधे मिल सकता है।

### चरण 2: `server.xml` कॉन्फ़िगरेशन की जांच करें
एक बार जब आपने एप्लिकेशन द्वारा उपयोग की जाने वाली JNDI नाम की पहचान कर ली है (सीधे या बाइंडिंग के माध्यम से), तो WebSphere Liberty `server.xml` फ़ाइल (और किसी भी कॉन्फ़िगरेशन फ़ाइल को `<include>` तत्व के माध्यम से शामिल किया गया है) में एक मिलान डेटासोर्स परिभाषा की तलाश करें। एक डेटासोर्स `server.xml` में आमतौर पर एक `<dataSource>` तत्व के साथ परिभाषित किया जाता है, जैसे:

```xml
<dataSource id="myDataSource" jndiName="jdbc/myDataSource">
    <jdbcDriver libraryRef="myDBLib"/>
    <properties url="jdbc:mysql://localhost:3306/mydb" user="user" password="pass"/>
</dataSource>
```

- `jndiName` गुण (जैसे `jdbc/myDataSource`) की तलाश करें।
- इसे एप्लिकेशन द्वारा उपयोग की जाने वाली JNDI नाम (जैसे `jdbc/myDataSource` या बाइंड नाम जैसे `jdbc/actualDataSource`) के साथ तुलना करें।

अगर JNDI नाम मिलता है, तो एप्लिकेशन `server.xml` डेटासोर्स का उपयोग कर रहा है।

### चरण 3: परिणामों का व्याख्या करें
- **मिलान मिला**: अगर एप्लिकेशन द्वारा उपयोग की जाने वाली JNDI नाम `server.xml` (या किसी भी शामिल फ़ाइल) में एक `<dataSource>` तत्व के साथ मिलती है, तो EAR Java प्रोग्राम `server.xml` डेटासोर्स का उपयोग कर रहा है।
- **कोई मिलान नहीं मिला**: अगर `server.xml` में कोई मिलान JNDI नाम नहीं है, तो एप्लिकेशन सर्वर परिभाषित डेटासोर्स का उपयोग नहीं कर सकता है। यह संभव है कि यह अपने डेटासोर्स को प्रोग्रामेटिक रूप से बनाए (जैसे एक JDBC ड्राइवर के साथ सीधे URL, उपयोगकर्ता नाम और पासवर्ड का उपयोग करके), हालांकि यह एक प्रबंधित वातावरण जैसे WebSphere Liberty में कम आम और अनुशंसित नहीं है।

### अतिरिक्त विचार
- **सहित कॉन्फ़िगरेशन फ़ाइलें**: अगर `server.xml` `<include>` तत्वों का उपयोग करता है (जैसे `<include location="datasources.xml"/>`), तो डेटासोर्स परिभाषाओं की तलाश करने के लिए उन फ़ाइलों की जांच करें।
- **डिफ़ॉल्ट व्यवहार**: अगर कोई बाइंडिंग फ़ाइल JNDI नाम को ओवरराइड नहीं करती, तो एप्लिकेशन रिसोर्स रेफरेंस नाम (जैसे `jdbc/myDataSource`) को `server.xml` में डेटासोर्स के साथ मिलने की उम्मीद कर सकता है।
- **सर्वर लॉग्स या टूल्स**: हालांकि यह कॉन्फ़िगरेशन जांच का हिस्सा नहीं है, आप सर्वर लॉग्स की समीक्षा कर सकते हैं या WebSphere Liberty Admin Center का उपयोग कर सकते हैं ताकि देख सकें कि कौन से डेटासोर्स एप्लिकेशन के साथ सक्रिय हैं और संबद्ध हैं, हालांकि यह अधिकतर एक रनटाइम पुष्टि है।

### निष्कर्ष
WebSphere Liberty में EAR Java प्रोग्राम द्वारा `server.xml` डेटासोर्स का उपयोग करने की पुष्टि करने के लिए:
1. एप्लिकेशन द्वारा उपयोग की जाने वाली JNDI नाम की पहचान करें (डिप्लॉयमेंट डिस्क्रिप्टर्स, बाइंडिंग फ़ाइलों या कोड के माध्यम से).
2. यह जांच करें कि वह JNDI नाम `server.xml` या इसके शामिल फ़ाइलों में परिभाषित डेटासोर्स के साथ मिलता है।

अगर कोई मिलान मिलता है, तो एप्लिकेशन `server.xml` डेटासोर्स पर निर्भर करता है; अन्यथा, यह संभवतः एक विकल्प का उपयोग करता है।