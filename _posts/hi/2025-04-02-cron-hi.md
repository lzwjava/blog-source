---
audio: false
generated: true
lang: hi
layout: post
title: क्रॉन की एक व्यापक मार्गदर्शिका
translated: true
type: note
---

Cron यूनिक्स-जैसी ऑपरेटिंग सिस्टम में एक शक्तिशाली समय-आधारित जॉब शेड्यूलर है जो उपयोगकर्ताओं को निर्दिष्ट समय या अंतराल पर कमांड या स्क्रिप्ट स्वचालित रूप से चलाने की अनुमति देता है। यहाँ cron को प्रभावी ढंग से समझने और उपयोग करने के लिए एक संपूर्ण गाइड है।

## Cron क्या है?

Cron एक डेमन (बैकग्राउंड सर्विस) है जो शेड्यूल किए गए कमांड्स को निष्पादित करता है। यह "crontabs" (cron टेबल) नामक कॉन्फ़िगरेशन फ़ाइलों को पढ़ता है ताकि यह निर्धारित किया जा सके कि कब विशेष कमांड चलाए जाएँ। Cron इनके लिए आदर्श है:
- नियमित सिस्टम रखरखाव
- स्वचालित बैकअप
- आवधिक डेटा प्रोसेसिंग शेड्यूल करना
- विशिष्ट समय पर स्क्रिप्ट चलाना
- कोई भी कार्य जिसे मैन्युअल हस्तक्षेप के बिना नियमित रूप से चलाने की आवश्यकता हो

## Cron घटक

### Crontab फ़ाइल

Crontab (cron टेबल) एक कॉन्फ़िगरेशन फ़ाइल है जो आवधिक रूप से चलाने के लिए शेल कमांड निर्दिष्ट करती है। प्रत्येक उपयोगकर्ता की अपनी crontab हो सकती है, और एक सिस्टम-व्यापी crontab भी होती है।

अपनी व्यक्तिगत crontab संपादित करने के लिए:
```bash
crontab -e
```

अपनी वर्तमान crontab देखने के लिए:
```bash
crontab -l
```

अपनी crontab हटाने के लिए:
```bash
crontab -r
```

### Crontab सिंटैक्स

Crontab फ़ाइल की प्रत्येक पंक्ति एक शेड्यूल्ड जॉब का प्रतिनिधित्व करती है और इस प्रारूप का पालन करती है:

```
* * * * * command-to-execute
│ │ │ │ │
│ │ │ │ └─── दिन का दिन (0-6, रविवार=0)
│ │ │ └───── महीना (1-12)
│ │ └─────── महीने का दिन (1-31)
│ └───────── घंटा (0-23)
└─────────── मिनट (0-59)
```

प्रत्येक स्थिति में हो सकता है:
- एक विशिष्ट संख्या
- एक रेंज (जैसे, `1-5`)
- मानों की एक सूची (जैसे, `1,3,5`)
- एक तारांकन (`*`) जिसका अर्थ है "हर"
- एक स्टेप वैल्यू (`*/n`) जिसका अर्थ है "हर n"

पाँच समय/तारीख फ़ील्ड्स के बाद निष्पादित करने के लिए कमांड आता है।

## सामान्य Cron शेड्यूल उदाहरण

# सामान्य Cron शेड्यूल उदाहरण

## बेसिक टाइम इंटरवल

| Cron एक्सप्रेशन | विवरण | उदाहरण |
|----------------|-------------|---------|
| `* * * * *` | हर मिनट चलाएं | `* * * * * date >> /tmp/date_log.txt` |
| `*/5 * * * *` | हर 5 मिनट में चलाएं | `*/5 * * * * /scripts/check_server.sh` |
| `0 * * * *` | हर घंटे की शुरुआत में चलाएं | `0 * * * * /scripts/hourly_backup.sh` |
| `0 0 * * *` | रोजाना आधी रात को चलाएं | `0 0 * * * /scripts/daily_backup.sh` |
| `0 0 * * 0` | रविवार की आधी रात को चलाएं | `0 0 * * 0 /scripts/weekly_maintenance.sh` |
| `0 0 1 * *` | हर महीने के पहले दिन आधी रात को चलाएं | `0 0 1 * * /scripts/monthly_report.sh` |
| `0 0 1 1 *` | 1 जनवरी की आधी रात को चलाएं (वार्षिक) | `0 0 1 1 * /scripts/yearly_cleanup.sh` |

## विशिष्ट समय

| Cron एक्सप्रेशन | विवरण | उदाहरण |
|----------------|-------------|---------|
| `30 8 * * 1-5` | कार्यदिवस (सोमवार-शुक्रवार) पर सुबह 8:30 बजे चलाएं | `30 8 * * 1-5 /scripts/workday_start.sh` |
| `0 18 * * 1-5` | कार्यदिवस पर शाम 6:00 बजे चलाएं | `0 18 * * 1-5 /scripts/workday_end.sh` |
| `0 9-17 * * *` | व्यावसायिक घंटों (सुबह 9 बजे - शाम 5 बजे) के दौरान हर घंटे की शुरुआत में चलाएं | `0 9-17 * * * /scripts/hourly_check.sh` |
| `0 0,12 * * *` | आधी रात और दोपहर को चलाएं | `0 0,12 * * * /scripts/twice_daily.sh` |

## एकाधिक समय विनिर्देश

| Cron एक्सप्रेशन | विवरण | उदाहरण |
|----------------|-------------|---------|
| `0 */4 * * *` | हर 4 घंटे में चलाएं | `0 */4 * * * /scripts/periodic_task.sh` |
| `0 4,16 * * *` | सुबह 4:00 बजे और शाम 4:00 बजे चलाएं | `0 4,16 * * * /scripts/twice_daily_at_4.sh` |
| `15,45 * * * *` | हर घंटे के 15 और 45 मिनट पर चलाएं | `15,45 * * * * /scripts/quarter_hourly.sh` |

## विशेष समय विनिर्देश

| Cron एक्सप्रेशन | विवरण | उदाहरण |
|----------------|-------------|---------|
| `@reboot` | स्टार्टअप पर एक बार चलाएं | `@reboot /scripts/startup_task.sh` |
| `@yearly` या `@annually` | साल में एक बार चलाएं (`0 0 1 1 *`) | `@yearly /scripts/annual_task.sh` |
| `@monthly` | महीने में एक बार चलाएं (`0 0 1 * *`) | `@monthly /scripts/monthly_task.sh` |
| `@weekly` | हफ्ते में एक बार चलाएं (`0 0 * * 0`) | `@weekly /scripts/weekly_task.sh` |
| `@daily` या `@midnight` | दिन में एक बार चलाएं (`0 0 * * *`) | `@daily /scripts/daily_task.sh` |
| `@hourly` | घंटे में एक बार चलाएं (`0 * * * *`) | `@hourly /scripts/hourly_task.sh` |

## जटिल उदाहरण

| Cron एक्सप्रेशन | विवरण | उदाहरण |
|----------------|-------------|---------|
| `0 0 */2 * *` | हर दूसरे दिन आधी रात को चलाएं | `0 0 */2 * * /scripts/every_other_day.sh` |
| `0 3 * * 1,3,5` | सोमवार, बुधवार और शुक्रवार को सुबह 3:00 बजे चलाएं | `0 3 * * 1,3,5 /scripts/mwf_task.sh` |
| `30 23 * * 2,4` | मंगलवार और गुरुवार को रात 11:30 बजे चलाएं | `30 23 * * 2,4 /scripts/tue_thu_night.sh` |
| `45 11 1-7 * *` | हर महीने के पहले हफ्ते के दौरान सुबह 11:45 बजे चलाएं | `45 11 1-7 * * /scripts/first_week_task.sh` |
| `0 20 * 10,11,12 *` | अक्टूबर, नवंबर और दिसंबर के दौरान रात 8:00 बजे चलाएं | `0 20 * 10,11,12 * /scripts/q4_evening_task.sh` |
| `0 9-17/2 * * 1-5` | कार्यदिवस पर व्यावसायिक घंटों के दौरान हर दूसरे घंटे चलाएं | `0 9-17/2 * * 1-5 /scripts/biweekly_workday.sh` |

## विशेष Cron स्ट्रिंग्स

Cron सामान्य समय विनिर्देशों के लिए कई विशेष स्ट्रिंग्स का भी समर्थन करता है:

- `@reboot`: स्टार्टअप पर एक बार चलाएं
- `@yearly` या `@annually`: साल में एक बार चलाएं (`0 0 1 1 *` के बराबर)
- `@monthly`: महीने में एक बार चलाएं (`0 0 1 * *` के बराबर)
- `@weekly`: हफ्ते में एक बार चलाएं (`0 0 * * 0` के बराबर)
- `@daily` या `@midnight`: दिन में एक बार चलाएं (`0 0 * * *` के बराबर)
- `@hourly`: घंटे में एक बार चलाएं (`0 * * * *` के बराबर)

## आउटपुट और एरर्स को हैंडल करना

डिफ़ॉल्ट रूप से, cron कमांड्स का आउटपुट ईमेल के माध्यम से उस उपयोगकर्ता को भेजता है जिसके पास crontab है। आप आउटपुट को एक फ़ाइल में रीडायरेक्ट कर सकते हैं या उसे छोड़ सकते हैं:

```bash
# आउटपुट को लॉग फ़ाइल में एपेंड करें
30 5 * * * /path/to/script.sh >> /path/to/logfile.log 2>&1

# सभी आउटपुट को छोड़ दें
0 12 * * * /path/to/script.sh > /dev/null 2>&1
```

## Cron में एनवायरनमेंट वेरिएबल्स

Cron जॉब्स एक न्यूनतम एनवायरनमेंट के साथ चलती हैं, जिसके कारण स्क्रिप्ट्स फेल हो सकती हैं। आप crontab फ़ाइल में वेरिएबल्स सेट कर सकते हैं:

```bash
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
SHELL=/bin/bash
MAILTO=your-email@example.com

# जॉब्स अब इन एनवायरनमेंट वेरिएबल्स का उपयोग करेंगी
0 5 * * * /path/to/script.sh
```

## Cron सुरक्षा विचार

1. सभी कमांड्स और स्क्रिप्ट्स के लिए पूर्ण पथ (absolute paths) का उपयोग करें
2. Crontab फ़ाइल अनुमतियों को प्रतिबंधित करें
3. Cron जॉब्स सेटअप करते समय कम से कम विशेषाधिकार (principle of least privilege) के सिद्धांत का उपयोग करें
4. डीबगिंग के लिए cron जॉब आउटपुट को लॉग और मॉनिटर करें
5. संवेदनशील cron जॉब्स के लिए एक समर्पित उपयोगकर्ता का उपयोग करने पर विचार करें

## Cron जॉब्स का ट्रबलशूटिंग

Cron जॉब्स के सामान्य मुद्दों में शामिल हैं:

1. **जॉब नहीं चलती**: अनुमतियाँ और पथ जांचें
2. **समय संबंधी मुद्दे**: सत्यापित करें कि समय प्रारूप सही है
3. **एनवायरनमेंट समस्याएं**: सुनिश्चित करें कि आवश्यक वेरिएबल्स सेट हैं
4. **स्क्रिप्ट एरर्स**: पहले स्क्रिप्ट को मैन्युअल रूप से टेस्ट करें

Cron-संबंधित संदेशों के लिए सिस्टम लॉग जांचें:
```bash
grep CRON /var/log/syslog
```

## Cron विकल्प

हालांकि cron प्रचलित है, लेकिन विकल्प मौजूद हैं:

- **Anacron**: उन सिस्टम्स के लिए बेहतर जो 24/7 नहीं चल रहे हैं
- **Systemd Timers**: systemd-आधारित सिस्टम्स पर आधुनिक विकल्प
- **Fcron**: बढ़ी हुई cron जिसमें anacron-जैसी सुविधाएँ हैं
- **Schedule**: वेब एप्लिकेशन में अक्सर उपयोग किए जाने वाले उच्च-स्तरीय जॉब शेड्यूलर

## एडवांस्ड Cron उपयोग

### विभिन्न उपयोगकर्ताओं के रूप में जॉब्स चलाना

दूसरे उपयोगकर्ता के लिए crontab संपादित करने के लिए (रूट की आवश्यकता है):
```bash
sudo crontab -u username -e
```

### सिस्टम-व्यापी Crontabs

सिस्टम-व्यापी cron जॉब्स इसमें जोड़ी जा सकती हैं:
- `/etc/crontab`
- `/etc/cron.d/` में फ़ाइलें
- `/etc/cron.daily/`, `/etc/cron.hourly/`, आदि जैसे डायरेक्टरीज़

सिस्टम crontabs के लिए सिंटैक्स में एक अतिरिक्त उपयोगकर्ता फ़ील्ड शामिल होता है:
```
* * * * * user command-to-execute
```

### विशिष्ट एनवायरनमेंट के साथ Cron जॉब्स चलाना

अपने वास्तविक कमांड को चलाने से पहले एनवायरनमेंट सेटअप करने के लिए एक रैपर स्क्रिप्ट बनाएं:

```bash
#!/bin/bash
source /home/user/.profile
cd /path/to/working/directory
/path/to/actual/command
```

फिर इस रैपर स्क्रिप्ट को cron से कॉल करें।

## Cron जॉब्स के लिए बेस्ट प्रैक्टिसेज़

1. **अपनी cron जॉब्स को डॉक्यूमेंट करें**: यह समझाने के लिए कमेंट्स जोड़ें कि प्रत्येक जॉब क्या करती है
2. **वर्णनात्मक स्क्रिप्ट नामों का उपयोग करें**: रखरखाव आसान बनाता है
3. **आउटपुट लॉग करें**: ट्रबलशूटिंग के लिए जॉब आउटपुट सहेजें
4. **जॉब निष्पादन की निगरानी करें**: महत्वपूर्ण जॉब्स के लिए मॉनिटरिंग लागू करें
5. **विफलताओं को सहजता से हैंडल करें**: अपनी स्क्रिप्ट्स में एरर हैंडलिंग जोड़ें
6. **लॉकफ़ाइल्स का उपयोग करें**: जब जॉब्स अपेक्षा से अधिक समय लेती हैं तो ओवरलैपिंग निष्पादन को रोकें
7. **टाइम ज़ोन पर विचार करें**: सिस्टम टाइम ज़ोन सेटिंग्स के प्रति सजग रहें

इस गाइड का पालन करके, आपको अपने यूनिक्स-जैसी सिस्टम पर cron जॉब्स को प्रभावी ढंग से सेट अप, प्रबंधित और ट्रबलशूट करने में सक्षम होना चाहिए।