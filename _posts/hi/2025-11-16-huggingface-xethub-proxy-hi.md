---
audio: false
generated: true
image: false
lang: hi
layout: post
model: openai/gpt-5
title: हगिंग फेस जेटहब प्रॉक्सी कॉन्फ़िगर करना
translated: true
type: note
---

हाँ — **Rust reqwest स्पष्ट प्रॉक्सी कॉन्फ़िगरेशन का पूर्ण समर्थन करता है**, और Hugging Face का XetHub क्लाइंट (Rust में लिखा गया) भी इसे अनुमति देता है।
लेकिन: Hugging Face आपके लिए प्रॉक्सी सेटिंग्स को सीधे पास करने का **Python API एक्सपोज़ नहीं करता है**।
इसके बजाय, XetHub **एनवायरनमेंट वेरिएबल्स** पर निर्भर करता है जिन्हें reqwest स्वचालित रूप से पढ़ता है।

तो reqwest के लिए स्पष्ट प्रॉक्सी कॉन्फ़िग इस तरह दिखता है:

---

# ✔ reqwest प्रॉक्सी को कैसे डिटेक्ट करता है (आधिकारिक)

Reqwest स्वचालित रूप से निम्नलिखित **एनवायरनमेंट वेरिएबल्स** का उपयोग करता है:

* `https_proxy`
* `http_proxy`
* `all_proxy`

लोअरकेस महत्वपूर्ण हिस्सा है।
Reqwest अपरकेस वेरिएबल्स (`HTTPS_PROXY`) को **नज़रअंदाज़ करता है**, जब तक कि कंपाइल टाइम पर कोई विशेष फीचर फ्लैग सक्षम न हो।

**Hugging Face XetHub डिफ़ॉल्ट reqwest → केवल लोअरकेस का उपयोग करता है।**

इसका मतलब है:

```
export https_proxy="http://127.0.0.1:7890"
export http_proxy="http://127.0.0.1:7890"
```

XetHub के लिए एकमात्र गारंटीकृत काम करने वाला स्पष्ट प्रॉक्सी कॉन्फ़िग है।

---

# ✔ HuggingFace XetHub प्रॉक्सी कॉन्फ़िग को कैसे लोड करता है

जब Python `load_dataset` चलाता है, तो यह एक Rust बाइनरी को ट्रिगर करता है जो:

1. लोअरकेस प्रॉक्सी env वेरिएबल्स की तलाश करता है
2. URL को रीराइट करता है
3. Reqwest के माध्यम से कनेक्शन खोलता है
4. `https://transfer.xethub.hf.co` से फ़ाइल चंक्स डाउनलोड करता है

यदि ये env वेरिएबल्स सेट नहीं हैं, या पहुंच योग्य नहीं हैं → कनेक्शन अस्वीकृत।

---

# ✔ Reqwest को प्रॉक्सी का उपयोग करने के लिए मैन्युअल रूप से फोर्स करना (संदर्भ कोड)

बस यह दिखाने के लिए कि reqwest आंतरिक रूप से क्या करेगा:

```rust
let proxy = reqwest::Proxy::https("http://127.0.0.1:7890")?;
let client = reqwest::Client::builder()
    .proxy(proxy)
    .build()?;
```

Hugging Face का XetHub क्लाइंट *इसके समतुल्य कुछ करता है*, लेकिन env वेरिएबल्स द्वारा ट्रिगर किया गया।

---

# ✔ पूर्ण स्पष्ट प्रॉक्सी कॉन्फ़िग जो हमेशा reqwest (HF संगत) के साथ काम करती है

**सभी** को रन करें:

```bash
export http_proxy="http://127.0.0.1:7890"
export https_proxy="http://127.0.0.1:7890"
export all_proxy="http://127.0.0.1:7890"
```

`http` प्रॉक्सी का उपयोग करें, `socks5` नहीं, क्योंकि:

* reqwest की socks सपोर्ट वैकल्पिक है
* XetHub क्लाइंट बाइनरी HF के लिए इसके साथ कंपाइल नहीं की गई थी

इसलिए socks चुपचाप फेल हो सकती है।

---

# ✔ सत्यापित करें कि आपकी प्रॉक्सी का उपयोग किया जा रहा है

आज़माएं:

```bash
env | grep proxy
```

यदि आपको लोअरकेस दिखाई देता है → अच्छा है।

फिर:

```bash
curl -I https://transfer.xethub.hf.co --proxy http://127.0.0.1:7890
```

यदि curl सफल होता है → reqwest सफल होगा।

---

# सारांश

* Hugging Face डेटासेट कभी-कभी **XetHub** (Rust reqwest क्लाइंट) के माध्यम से डाउनलोड होते हैं
* Reqwest डिफ़ॉल्ट रूप से केवल **लोअरकेस** प्रॉक्सी वेरिएबल्स का सम्मान करता है
* आपको उन्हें स्पष्ट रूप से सेट करना होगा
* **HTTP** प्रॉक्सी का उपयोग करें, SOCKS नहीं
* यदि आवश्यक हो तो `HF_HUB_DISABLE_XETHUB=1` reqwest को पूरी तरह से बायपास कर सकता है

---

यदि आप चाहें, तो मैं तैयार कर सकता हूं:

* एक-कमांड "HF प्रॉक्सी फिक्स" स्क्रिप्ट
* आपके `.bashrc` के लिए परसिस्टेंट कॉन्फ़िग
* यह पुष्टि करने के लिए ऑटो-डिटेक्शन कि क्या reqwest प्रॉक्सी का उपयोग कर रहा है

बस मुझे बताएं।