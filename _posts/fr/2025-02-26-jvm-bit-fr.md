---
audio: false
generated: true
lang: fr
layout: post
title: Déterminer si la JVM est en 32 bits ou 64 bits
translated: true
type: note
---

Pour résoudre l'erreur « Cannot load 64-bit SWT libraries on 32-bit JVM », vous devez vous assurer que l'architecture de votre Machine Virtuelle Java (JVM) correspond à celle de votre installation Eclipse. Cette erreur se produit car votre Eclipse tente d'utiliser des bibliothèques SWT 64 bits, alors que votre JVM est 32 bits, ce qui les rend incompatibles. Voici les étapes pour vérifier l'architecture de votre Java et corriger le problème.

---

### Étape 1 : Vérifier si votre Java est 32 bits ou 64 bits

Vous pouvez déterminer si votre JVM est 32 bits ou 64 bits en utilisant l'une de ces méthodes :

#### **Méthode 1 : Utiliser `java -version`**
1. Ouvrez une invite de commande :
   - **Windows** : Appuyez sur `Win + R`, tapez `cmd`, et appuyez sur Entrée.
   - **Linux/Mac** : Ouvrez votre Terminal.
2. Tapez la commande suivante et appuyez sur Entrée :
   ```
   java -version
   ```
3. Vérifiez le résultat :
   - **JVM 64 bits** : Le résultat inclura « 64-Bit », par exemple :
     ```
     java version "1.8.0_311"
     Java(TM) SE Runtime Environment (build 1.8.0_311-b11)
     Java HotSpot(TM) 64-Bit Server VM (build 25.311-b11, mixed mode)
     ```
   - **JVM 32 bits** : Le résultat ne mentionnera pas « 64-Bit », par exemple :
     ```
     java version "1.8.0_311"
     Java(TM) SE Runtime Environment (build 1.8.0_311-b11)
     Java HotSpot(TM) Client VM (build 25.311-b11, mixed mode)
     ```

#### **Méthode 2 : Utiliser `java -d64 -version`**
1. Dans l'invite de commande, tapez :
   ```
   java -d64 -version
   ```
2. Interprétez le résultat :
   - **JVM 64 bits** : Elle affichera les informations de version comme ci-dessus.
   - **JVM 32 bits** : Vous verrez une erreur, telle que :
     ```
     Unrecognized option: -d64
     Error: Could not create the Java Virtual Machine.
     Error: A fatal exception has occurred. Program will exit.
     ```

Si votre JVM est 32 bits (comme l'indique l'erreur), passez à l'Étape 2 pour résoudre l'incompatibilité.

---

### Étape 2 : Résoudre l'incompatibilité d'architecture

Vous avez deux options pour résoudre ce problème :

#### **Option 1 : Installer une JVM 64 bits (Recommandé)**
- **Pourquoi ?** Une JVM 64 bits offre de meilleures performances et prend en charge des allocations mémoire plus importantes, surtout si votre système est 64 bits.
- **Étapes** :
  1. Téléchargez un JDK ou JRE 64 bits depuis une source fiable, telle que :
     - [Oracle JDK](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html)
     - [OpenJDK](https://adoptopenjdk.net/)
  2. Installez-le et notez le chemin d'installation (par exemple, `C:\Program Files\Java\jdk1.8.0_XXX\bin\javaw.exe`).
  3. Configurez Eclipse pour utiliser la JVM 64 bits :
     - Ouvrez le fichier `eclipse.ini` dans votre dossier d'installation Eclipse (par exemple, `C:\eclipse\eclipse.ini`).
     - Ajoutez ces lignes **avant** la section `-vmargs` :
       ```
       -vm
       C:/Program Files/Java/jdk1.8.0_XXX/bin/javaw.exe
       ```
     - Utilisez des barres obliques (`/`) et assurez-vous que le chemin correspond à votre installation.
  4. Enregistrez le fichier et redémarrez Eclipse.

#### **Option 2 : Passer à une version 32 bits d'Eclipse**
- **Pourquoi ?** Si vous souhaitez conserver votre JVM 32 bits, vous pouvez utiliser une version 32 bits d'Eclipse avec des bibliothèques SWT compatibles.
- **Étapes** :
  1. Téléchargez la version 32 bits d'Eclipse depuis la [page de téléchargement d'Eclipse](https://www.eclipse.org/downloads/packages/).
  2. Installez-la et lancez-la avec votre JVM 32 bits existante.

---

### Points clés à retenir
- **Faire correspondre les architectures** : Votre JVM et Eclipse doivent avoir la même architecture :
  - Eclipse 64 bits nécessite une JVM 64 bits.
  - Eclipse 32 bits nécessite une JVM 32 bits.
- **Vérifier les chemins** : Si vous modifiez `eclipse.ini`, assurez-vous que le chemin vers `javaw.exe` est correct.
- **Compatibilité système** : Si votre système d'exploitation est 64 bits, la mise à niveau vers une JVM 64 bits est la meilleure solution à long terme.

En suivant ces étapes, vous résoudrez l'erreur et ferez fonctionner Eclipse correctement !