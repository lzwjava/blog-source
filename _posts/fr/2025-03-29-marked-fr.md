---
audio: false
generated: true
lang: fr
layout: post
title: Passage de Kramdown à Marked
translated: true
type: note
---

Pour passer de Kramdown à Marked dans votre blog Jekyll, vous devrez apporter quelques modifications à votre configuration et à votre installation Jekyll. Marked est une bibliothèque JavaScript pour analyser et compiler le Markdown, et elle peut être utilisée conjointement avec MathJax pour un meilleur rendu des mathématiques. Voici un guide étape par étape pour effectuer le changement :

### Étape 1 : Installer Marked
Tout d'abord, vous devez inclure la bibliothèque Marked dans votre projet Jekyll. Vous pouvez le faire en l'ajoutant à la section `<head>` de votre site dans votre fichier de mise en page (par exemple, `default.html`).

```html
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
```

### Étape 2 : Désactiver Kramdown
Dans votre fichier `_config.yml`, désactivez Kramdown en définissant l'option `markdown` sur `none` ou supprimez-la simplement si elle est définie sur Kramdown.

```yaml
markdown: none
```

### Étape 3 : Configurer Marked avec MathJax
Vous devez configurer Marked pour qu'il fonctionne avec MathJax. Créez un fichier JavaScript (par exemple, `marked-mathjax.js`) dans votre projet Jekyll et incluez le code suivant :

```javascript
document.addEventListener("DOMContentLoaded", function() {
  // Rendre le contenu Markdown en utilisant Marked
  const elements = document.querySelectorAll('.markdown-content');
  elements.forEach(element => {
    const html = marked(element.textContent);
    element.innerHTML = html;
  });

  // Rendre MathJax
  MathJax.typesetPromise().then(() => {
    console.log('MathJax rendering complete!');
  }).catch((err) => console.log('Typeset failed:', err));
});
```

Incluez ce script dans votre fichier de mise en page après avoir inclus Marked et MathJax :

```html
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="{{ '/assets/js/marked-mathjax.js' | relative_url }}"></script>
```

### Étape 4 : Mettre à jour votre contenu Markdown
Assurez-vous que votre contenu Markdown est encapsulé dans un conteneur avec la classe `markdown-content` afin que le JavaScript puisse le cibler pour le rendu.

```html
<div class="markdown-content">
  <!-- Votre contenu Markdown ici -->
</div>
```

### Étape 5 : Tester votre installation
Générez et servez votre site Jekyll localement pour vous assurer que Marked rend correctement votre Markdown et que MathJax affiche correctement les expressions mathématiques.

```bash
bundle exec jekyll serve
```

### Notes supplémentaires
- Assurez-vous que votre configuration MathJax est compatible avec votre contenu Markdown. Vous devrez peut-être ajuster la configuration en fonction de vos besoins spécifiques.
- Si vous rencontrez des problèmes, vérifiez la console du navigateur pour les erreurs et ajustez votre code JavaScript en conséquence.

En suivant ces étapes, vous devriez pouvoir passer de Kramdown à Marked dans votre blog Jekyll et profiter d'une meilleure prise en charge de MathJax pour les expressions mathématiques.