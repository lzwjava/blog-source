---
audio: false
generated: true
lang: fr
layout: post
title: Migration de Jekyll vers JBake
translated: true
type: note
---

Migrer votre blog Jekyll vers un framework de blog basé sur Java peut être une entreprise enrichissante, surtout si vous souhaitez tirer parti de l'écosystème Java tout en conservant la simplicité d'un générateur de site statique. L'option la plus adaptée pour cette transition est **JBake**, un générateur de site statique basé sur Java qui partage de nombreuses similitudes avec Jekyll, comme la génération de HTML statique à partir de contenu écrit en Markdown ou AsciiDoc. Ci-dessous, je vous guiderai à travers les étapes clés et les considérations pour rendre cette migration aussi fluide que possible.

### Pourquoi JBake ?
JBake est un excellent choix car :
- C'est un **générateur de site statique**, comme Jekyll, produisant des fichiers HTML statiques qui peuvent être hébergés n'importe où sans base de données ni traitement côté serveur.
- Il prend en charge le **Markdown**, donc votre contenu existant devrait être transféré avec des modifications minimes.
- Il est **basé sur Java**, correspondant à votre souhait de passer à un framework Java.
- Il offre une flexibilité avec plusieurs moteurs de templates (par exemple, Freemarker, Groovy, Thymeleaf, Jade), vous permettant de choisir celui qui convient à vos besoins.

Bien qu'il existe d'autres plateformes de blogging basées sur Java comme Apache Roller, celles-ci sont dynamiques et peuvent introduire une complexité inutile si vous êtes habitué à la nature statique de Jekyll. JBake garde les choses simples et efficaces, ce qui en fait un choix naturel pour votre migration.

### Étapes pour migrer de Jekyll vers JBake

#### 1. Configurer un nouveau projet JBake
- **Installer JBake** : Suivez les instructions sur le [site web de JBake](https://jbake.org) pour télécharger et installer JBake.
- **Créer un nouveau projet** : Utilisez l'interface en ligne de commande (CLI) de JBake pour initialiser un projet :
  ```bash
  jbake -i
  ```
  Cela génère une structure de projet basique avec des répertoires pour le contenu, les templates et les assets.

#### 2. Choisir un moteur de template
- JBake prend en charge plusieurs moteurs de templates, notamment **Freemarker**, **Groovy**, **Thymeleaf** et **Jade**. Sélectionnez-en un avec lequel vous êtes à l'aise ou qui correspond le mieux à vos templates Jekyll.
- Si vous débutez avec ces moteurs, **Freemarker** est une option largement utilisée avec une syntaxe simple qui pourrait vous sembler familière.

#### 3. Migrer votre contenu
- **Copier les fichiers Markdown** : Transférez vos articles du répertoire `_posts` de Jekyll vers le répertoire `content` de JBake.
- **Front matter** : Jekyll utilise le front matter YAML (par exemple, `title`, `date`), et JBake prend en charge les formats YAML, JSON ou properties. Si votre front matter est en YAML, il devrait fonctionner dans JBake sans modifications, mais vérifiez que tous les champs de métadonnées (par exemple, `tags`, `categories`) sont reconnus.
- **Nommage des fichiers** : Jekyll utilise des noms de fichiers comme `AAAA-MM-JJ-titre.md`. JBake peut gérer cette convention, mais vous devrez peut-être ajuster la configuration pour conserver votre structure d'URL (voir étape 5).

#### 4. Réécrire ou adapter vos templates
- **Templates Jekyll vers JBake** : Jekyll utilise des templates Liquid, tandis que JBake utilise le moteur de template que vous avez choisi. Réécrivez vos templates pour correspondre à la syntaxe du moteur sélectionné.
- **Thèmes** : Si votre blog Jekyll utilise un thème, vous pouvez :
  - Trouver ou créer un thème similaire pour JBake.
  - Convertir manuellement vos templates Liquid vers la syntaxe du nouveau moteur.
- Cette étape peut prendre du temps, surtout si vos templates incluent une logique complexe. Vous devrez apprendre la nouvelle syntaxe de template et reproduire le design et la fonctionnalité de votre site.

#### 5. Configurer le site
- **Fichier de configuration** : Jekyll utilise `_config.yml`, tandis que JBake utilise `jbake.properties`. Traduisez vos paramètres (par exemple, titre du site, description, URL de base) au format de JBake. Par exemple :
  ```
  site.title=Mon Blog
  site.description=Un blog propulsé par Java
  ```
- **Permaliens** : Pour éviter de casser les liens, configurez les paramètres de permaliens de JBake pour qu'ils correspondent à la structure d'URL de Jekyll (par exemple, `/AAAA/MM/JJ/titre/`). Cela peut impliquer de personnaliser le modèle de permalien ou de s'assurer que les dates sont incluses dans les URL.

#### 6. Gérer les fonctionnalités personnalisées ou les plugins
- **Plugins** : Si votre blog Jekyll dépend de plugins (par exemple, pour le SEO, les redirections ou la coloration syntaxique), vérifiez si JBake offre une fonctionnalité équivalente ou des plugins. Sinon, vous devrez peut-être implémenter des solutions personnalisées.
- **Brouillons** : Pour les articles non publiés, Jekyll utilise un répertoire `_drafts`. Dans JBake, définissez `status=draft` dans le front matter de ces articles.

#### 7. Migrer les assets (images, CSS, etc.)
- **Copier les assets** : Déplacez vos répertoires d'assets (par exemple, `images`, `css`, `js`) de Jekyll vers les répertoires correspondants de JBake (généralement `assets`).
- **Prétraitement CSS** : Si vous utilisez Sass ou d'autres préprocesseurs dans Jekyll, soit :
  - Précompilez-les en CSS pour JBake.
  - Utilisez des outils externes (par exemple, Webpack, Gulp) pour traiter les assets, car JBake ne prend pas en charge nativement Sass mais peut s'intégrer à de tels outils.

#### 8. Générer et prévisualiser le site
- **Construire le site** : Générez les fichiers statiques avec :
  ```bash
  jbake -b
  ```
- **Prévisualiser localement** : Démarrez un serveur local pour examiner votre site :
  ```bash
  jbake -s
  ```
- Vérifiez les problèmes de contenu, de templates ou de chemins d'assets, et ajustez si nécessaire.

#### 9. Déployer le site
- **Générer les fichiers finaux** : Exécutez `jbake -b` pour produire les fichiers HTML statiques (trouvés dans le répertoire `build`).
- **Hébergement** : Déployez ces fichiers sur votre service d'hébergement :
  - Pour **GitHub Pages**, poussez les fichiers HTML générés vers votre dépôt (contrairement à Jekyll, où GitHub construit le site pour vous).
  - Alternativement, utilisez des services comme Netlify, Vercel, ou tout serveur web qui héberge des fichiers statiques.

### Défis potentiels
- **Conversion des templates** : Adapter les templates Liquid à un nouveau moteur peut être long, surtout pour les designs ou logiques complexes.
- **Structure des URL** : Maintenir vos URL existantes nécessite une configuration minutieuse des permaliens pour éviter les liens cassés.
- **Ajustements du contenu** : Bien que le Markdown se transfère facilement, vous devrez peut-être modifier le front matter ou les noms de fichiers pour les aligner avec les conventions de JBake.
- **Courbe d'apprentissage** : Vous devrez vous familiariser avec le moteur de template et les options de configuration de JBake.

### Conseils supplémentaires
- **Automatisation** : Pour les grands blogs, écrivez un script pour ajuster les noms de fichiers ou le front matter pendant la migration.
- **Outils de build** : Intégrez JBake avec Gradle ou Maven pour automatiser les builds, surtout si vous êtes à l'aise avec les écosystèmes Java.
- **Ressources** : Consultez la [documentation](https://jbake.org/docs) de JBake et les forums de la communauté pour des conseils détaillés et des exemples.

### Conclusion
Migrer de Jekyll vers JBake implique de configurer un nouveau projet, de transférer le contenu et les assets, de réécrire les templates, de configurer les paramètres et de déployer le site statique. Bien que cela demande des efforts—en particulier pour les templates—les similitudes entre Jekyll et JBake en tant que générateurs de sites statiques rendent le processus gérable. Une fois terminé, vous disposerez d'un framework de blog basé sur Java qui correspond à vos objectifs tout en préservant la simplicité et les performances d'un site statique. Bonne migration !