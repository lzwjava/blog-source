---
audio: false
generated: false
image: false
lang: fr
layout: post
title: D√©couvrir la programmation avec Rust
translated: true
type: post
---

Rust est un langage de programmation qui a gagn√© en popularit√© ces derni√®res ann√©es. En 2006, un employ√© de Mozilla a commenc√© un projet personnel, qui a ensuite re√ßu le soutien de l'entreprise et a √©t√© publi√© en 2010. Ce projet s'appelle Rust.

Ensuite, lan√ßons le premier programme en Rust. Ouvrez le site officiel et voyons comment ex√©cuter un programme.

Le site officiel fournit un script :

```shell
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

Sur Mac, vous pouvez √©galement utiliser Homebrew, le gestionnaire de paquets du syst√®me Mac, pour l'installation. Vous pouvez ex√©cuter la commande suivante :

```shell
brew install rust
```

Je vais utiliser Homebrew pour installer Rust. Pendant l'installation, continuons √† consulter le site officiel.

Ensuite, nous voyons que le site officiel mentionne Cargo, un outil de construction et de gestion de paquets pour Rust.

Le site officiel indique :

- construisez votre projet avec `cargo build`
- ex√©cutez votre projet avec `cargo run`
- testez votre projet avec `cargo test`

Nous explique comment construire, ex√©cuter et tester un programme Cargo.

Ex√©cuter :

```shell
brew install rust
```

Sortie :

```shell
==> T√©l√©chargement de https://homebrew.bintray.com/bottles/rust-1.49.0_1.big_sur.bottle.tar.gz
==> T√©l√©chargement depuis https://d29vzk4ow07wi7.cloudfront.net/5a238d58c3fa775fed4e12ad74109deff54a82a06cb6a3a4f51b5d37587fb319?response-content-disposition=a
######################################################################## 100.0%
==> Extraction de rust-1.49.0_1.big_sur.bottle.tar.gz
==> Avertissements
La compl√©tion Bash a √©t√© install√©e dans :
  /usr/local/etc/bash_completion.d
==> R√©sum√©
üç∫  /usr/local/Cellar/rust/1.49.0_1: 15 736 fichiers, 606,2 Mo
```

Cela signifie que l'installation a r√©ussi.

Lorsque vous ex√©cutez `cargo` dans le terminal, la sortie est la suivante :

```shell
Le gestionnaire de paquets de Rust
```

UTILISATION :
    cargo [OPTIONS] [SOUS-COMMANDE]

OPTIONS :
    -V, --version           Affiche les informations de version et quitte
        --list              Liste les commandes install√©es
        --explain <CODE>    Ex√©cute `rustc --explain CODE`
    -v, --verbose           Utilise une sortie d√©taill√©e (-vv tr√®s d√©taill√©e/sortie de build.rs)
    -q, --quiet             Aucune sortie imprim√©e sur stdout
        --color <WHEN>      Coloration : auto, toujours, jamais
        --frozen            Exige que Cargo.lock et le cache soient √† jour
        --locked            Exige que Cargo.lock soit √† jour
        --offline           Ex√©cute sans acc√©der au r√©seau
    -Z <FLAG>...            Options instables (uniquement pour les versions nightly) pour Cargo, voir 'cargo -Z help' pour plus de d√©tails
    -h, --help              Affiche les informations d'aide

Voici quelques commandes courantes de Cargo (vous pouvez voir toutes les commandes avec `--list`) :
    build, b    Compile le package actuel
    check, c    Analyse le package actuel et signale les erreurs, mais ne g√©n√®re pas les fichiers objets
    clean       Supprime le r√©pertoire target
    doc         G√©n√®re la documentation du package actuel et de ses d√©pendances
    new         Cr√©e un nouveau package Cargo
    init        Cr√©e un nouveau package Cargo dans un r√©pertoire existant
    run, r      Ex√©cute un binaire ou un exemple du package local
    test, t     Ex√©cute les tests
    bench       Ex√©cute les benchmarks
    update      Met √† jour les d√©pendances list√©es dans Cargo.lock
    search      Recherche des crates dans le registre
    publish     Empaquette et t√©l√©verse ce package vers le registre
    install     Installe un binaire Rust. L'emplacement par d√©faut est $HOME/.cargo/bin
    uninstall   D√©sinstalle un binaire Rust

Voir 'cargo help <commande>' pour plus d'informations sur une commande sp√©cifique.
```

Il n'est pas n√©cessaire de comprendre toutes les commandes. Il suffit de conna√Ætre les commandes couramment utilis√©es. Les commandes `build` et `run` sont particuli√®rement importantes.

Continuons √† consulter la documentation officielle :

```c
√âcrivons une petite application avec notre nouvel environnement de d√©veloppement Rust. Pour commencer, nous allons utiliser Cargo pour cr√©er un nouveau projet. Dans votre terminal pr√©f√©r√©, ex√©cutez :

```bash
cargo new hello-rust
```

Cela g√©n√©rera un nouveau r√©pertoire appel√© `hello-rust` avec les fichiers suivants :

hello-rust
|- Cargo.toml
|- src
  |- main.rs
Cargo.toml est le fichier manifeste pour Rust. C'est l√† que vous conservez les m√©tadonn√©es de votre projet, ainsi que les d√©pendances.

`src/main.rs` est l'endroit o√π nous √©crirons le code de notre application.
```
Cela explique comment cr√©er un projet. Ensuite, nous allons le cr√©er.
```

```shell
$ cargo new hello-rust
```

Cr√©ation du paquet binaire (application) `hello-rust`
```

Nous ouvrons le projet avec VSCode.

main.rs :

```rust
fn main() {
    println!("Hello, world!");
}
```

Ensuite, il est tout naturel de penser √† **build** et **run** le programme.

```shell
$ cargo build
```

erreur : impossible de trouver `Cargo.toml` dans `/Users/lzw/ideas/curious-courses/program/run/rust` ou dans aucun r√©pertoire parent
```

Une erreur s'est produite. Pourquoi ? Cela indique que `cargo` ne peut √™tre ex√©cut√© que dans le r√©pertoire du projet. Ensuite, pour entrer dans le sous-r√©pertoire, j'ai ex√©cut√© la commande `cd hello-rust`.

√Ä ce moment-l√†, je me suis demand√© ce qui se passerait si je l'ex√©cutais directement.

```shell
$ cargo run
   
   Compilation de hello-rust v0.1.0 (/Users/lzw/ideas/curious-courses/program/run/rust/hello-rust)
    Termin√© en mode dev [non optimis√© + debuginfo] target(s) en 4.43s
     Ex√©cution de `target/debug/hello-rust`
Bonjour, le monde !
```

Parfait, √ßa a fonctionn√©. La cha√Æne de caract√®res a √©t√© affich√©e, le programme commence √† fonctionner.

Essayez de modifier le programme.

```rust
fn main() {
    println!(2+3);
}
```

Apr√®s avoir ex√©cut√© `cargo run`, le message suivant est apparu :

```shell
   Compilation de hello-rust v0.1.0 (/Users/lzw/ideas/curious-courses/program/run/rust/hello-rust)
erreur: l'argument de format doit √™tre un litt√©ral de cha√Æne
 --> src/main.rs:2:14
  |
2 |     println!(2+3);
  |              ^^^
  |
aide: il se peut qu'il vous manque un litt√©ral de cha√Æne pour formater
  |
2 |     println!("{}", 2+3);
  |              ^^^^^
```

erreur : abandon en raison d'une erreur pr√©c√©dente

erreur : impossible de compiler `hello-rust`

Pour en savoir plus, ex√©cutez √† nouveau la commande avec l'option `--verbose`.
```

Je n'ai encore appris aucune syntaxe Rust. En essayant de modifier le code en suivant mon intuition, j'ai fait une erreur. Ce message d'erreur est tr√®s utile, car il nous indique d√©j√† comment corriger le probl√®me.

```rust
fn main() {
    println!("{}", 2+3);
}
```

Cette fois-ci, c'est correct, et effectivement, cela a bien affich√© 5.

Et pour la commande `build`, qu'en est-il ?

```shell
$ cargo build
    Finished dev [unoptimized + debuginfo] target(s) in 0.00s
```

Pourquoi avons-nous besoin de `build` ? Parce qu'il est possible que nous souhaitions simplement g√©n√©rer un programme ex√©cutable sans vouloir l'ex√©cuter imm√©diatement. Pour certains programmes volumineux, l'ex√©cution peut √™tre chronophage. Il se peut √©galement que nous voulions g√©n√©rer le programme localement, puis le transf√©rer vers un serveur distant pour l'ex√©cution.

Nous avons d√©j√† r√©ussi √† ex√©cuter un programme en Rust. La prochaine √©tape consiste √† se familiariser davantage avec la syntaxe du langage Rust, afin de retrouver les concepts que nous avons abord√©s dans ¬´ D√©mystifier l'informatique ¬ª, tels que les variables, les fonctions, les appels de fonctions et les expressions, et de comprendre comment ils sont repr√©sent√©s symboliquement en Rust.

***

##### Petit exercice

* Essayez, comme ci-dessus, de programmer en Rust sur votre propre ordinateur en tant qu'√©tudiant.
* Apr√®s avoir termin√© les exercices, vous pouvez soumettre un r√©sum√© de cent mots maximum ou des compl√©ments √† cet article.

***