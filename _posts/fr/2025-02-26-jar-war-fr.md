---
audio: false
generated: true
lang: fr
layout: post
title: JAR contre WAR
translated: true
type: note
---

En matière de packaging Java, **JAR** (Java ARchive) et **WAR** (Web ARchive) sont tous deux des formats de fichiers d'archive basés sur la structure ZIP, mais ils ont des objectifs distincts et présentent des caractéristiques différentes. Voici une explication détaillée de leurs différences :

---

### 1. Objectif
- **JAR** : Un fichier JAR est une archive à usage général utilisée pour empaqueter des classes Java, des bibliothèques ou des applications autonomes. Il est couramment employé pour distribuer des bibliothèques réutilisables (par exemple, des classes utilitaires) ou des programmes Java exécutables pouvant s'exécuter sur la machine virtuelle Java (JVM).
- **WAR** : Un fichier WAR est spécifiquement conçu pour les applications web. Il regroupe tous les composants nécessaires à une application web, tels que les servlets, les JSP (JavaServer Pages), le HTML, le CSS, le JavaScript et les fichiers de configuration, en une seule unité pour un déploiement sur un serveur web ou un serveur d'applications (par exemple, Apache Tomcat, JBoss).

---

### 2. Contenu
- **JAR** : Contient des fichiers de classes Java (`.class`), un fichier `MANIFEST.MF` (sous le répertoire `META-INF`) qui fournit des métadonnées (par exemple, la classe principale pour les JAR exécutables) et des ressources optionnelles comme des fichiers de configuration, des images ou des fichiers de propriétés.
- **WAR** : Inclut des composants spécifiques au web avec une structure définie :
  - **WEB-INF/** : Un répertoire obligatoire contenant :
    - `web.xml` (descripteur de déploiement pour configurer les servlets, les mappings, etc.),
    - `classes/` (classes Java compilées),
    - `lib/` (fichiers JAR utilisés comme dépendances par l'application web).
  - Les ressources statiques (par exemple, HTML, CSS, JavaScript) se trouvent généralement dans le répertoire racine ou des sous-répertoires en dehors de `WEB-INF`, bien que les JSP puissent être placées à l'intérieur de `WEB-INF` pour en restreindre l'accès direct.

---

### 3. Structure
- **JAR** : A une structure plate, principalement constituée de fichiers de classe et de ressources, le fichier manifeste spécifiant les métadonnées. Exemple :
  ```
  monappli.jar
  ├── META-INF/
  │   └── MANIFEST.MF
  ├── com/
  │   └── exemple/
  │       └── MaClasse.class
  └── ressources/
      └── config.properties
  ```
- **WAR** : Suit une structure hiérarchique adaptée aux applications web. Exemple :
  ```
  monappweb.war
  ├── index.html
  ├── css/
  │   └── style.css
  ├── WEB-INF/
  │   ├── web.xml
  │   ├── classes/
  │   │   └── com/
  │   │       └── exemple/
  │   │           └── MaServlet.class
  │   └── lib/
  │       └── dependance.jar
  ```

---

### 4. Déploiement et Utilisation
- **JAR** :
  - Inclus dans le classpath d'une application pour fournir des bibliothèques ou du code réutilisable.
  - S'il est exécutable (avec une `Main-Class` spécifiée dans le manifeste), il peut être exécuté directement en utilisant `java -jar monappli.jar`.
- **WAR** :
  - Déployé sur un conteneur de servlets ou un serveur d'applications (par exemple, Tomcat), qui le décompresse et rend l'application web accessible à une URL spécifique (chemin de contexte).
  - Non exécutable de manière autonome ; il dépend du serveur pour gérer son cycle de vie.

---

### 5. Gestion des Dépendances
- **JAR** : Ne contient pas intrinsèquement d'autres JAR ; les dépendances sont gérées de manière externe (par exemple, via le classpath ou des outils de build comme Maven).
- **WAR** : Peut regrouper les JAR dépendants dans le répertoire `WEB-INF/lib/`, garantissant que l'application web utilise des versions spécifiques des bibliothèques, isolées des autres applications sur le même serveur.

---

### 6. Création
Les fichiers JAR et WAR peuvent tous deux être créés en utilisant l'outil en ligne de commande `jar` du JDK ou des outils de build modernes comme Maven ou Gradle :
- **Exemple JAR** : `jar cvf monappli.jar -C classes .`
- **Exemple WAR** : `jar cvf monappweb.war .` (en supposant que le répertoire soit structuré avec `WEB-INF`, etc.).
- Dans **Maven**, le type de packaging est spécifié dans le `pom.xml` :
  - `<packaging>jar</packaging>` pour JAR.
  - `<packaging>war</packaging>` pour WAR.

---

### Tableau Récapitulatif

| Caractéristique    | JAR                              | WAR                                   |
|--------------------|----------------------------------|---------------------------------------|
| **Nom Complet**    | Java ARchive                    | Web ARchive                          |
| **Objectif**       | Bibliothèques, apps autonomes   | Applications web                     |
| **Contenu**        | Classes, manifeste, ressources  | Servlets, JSP, HTML, WEB-INF, etc.   |
| **Structure**      | Plate                           | Hiérarchique (WEB-INF, etc.)         |
| **Déploiement**    | Classpath ou `java -jar`        | Serveur web (par exemple, Tomcat)    |
| **Dépendances**    | Externes                        | Incluses dans `WEB-INF/lib/`         |

---

### Point Clé à Retenir
En substance, un **JAR** est une archive polyvalente pour du code Java général, tandis qu'un **WAR** est une archive spécialisée pour les applications web, dotée d'une structure et de composants adaptés à un déploiement sur un serveur web. Comprendre leurs rôles distincts assure une utilisation correcte dans les scénarios de développement et de déploiement Java.