---
audio: false
generated: true
image: false
lang: hant
layout: post
title: æ¯”è¼ƒ Liberty Agent èˆ‡ JaCoCo Agent
translated: true
type: note
---

åœ¨ WebSphere Liberty (WLP) ä¸­ï¼Œ`ws-javaagent.jar` æ˜¯ IBM è‡ªå®¶çš„ Java æª¢æ¸¬ä»£ç†ç¨‹å¼ã€‚å®ƒä¸»è¦ç”¨æ–¼é‹è¡Œæ™‚ç›£æ§ã€è¨ºæ–·ä»¥åŠèˆ‡æ‡‰ç”¨ç¨‹å¼æ•ˆèƒ½ç®¡ç† (APM)ã€Health Center æˆ– Liberty è‡ªèº«ç›£æ§åŠŸèƒ½çš„æ•´åˆã€‚å•Ÿç”¨å¾Œï¼ŒLiberty èƒ½è‡ªå‹•æ”¶é›†æ€§èƒ½åˆ†æã€åƒåœ¾å›æ”¶ã€åŸ·è¡Œç·’åŠå…¶ä»– JVM å±¤ç´šçš„æŒ‡æ¨™ã€‚

ç›¸å°åœ°ï¼ŒJaCoCo çš„ `jacocoagent.jar` å‰‡å°ˆé–€æ˜¯**ç¨‹å¼ç¢¼è¦†è“‹ç‡ä»£ç†ç¨‹å¼**ã€‚å…¶ç”¨é€”æ˜¯åœ¨é‹è¡Œæ™‚å°å­—ç¯€ç¢¼é€²è¡Œæª¢æ¸¬ï¼Œä½¿æ¸¬è©¦é‹è¡Œæˆ–æ‡‰ç”¨ç¨‹å¼åŸ·è¡Œèƒ½ç”¢ç”Ÿè¦†è“‹ç‡æ•¸æ“šï¼ˆä¾‹å¦‚å“ªäº›é¡åˆ¥ã€æ–¹æ³•åŠåˆ†æ”¯è¢«åŸ·è¡Œï¼‰ã€‚

å› æ­¤å…©è€…çš„å€åˆ¥åœ¨æ–¼ï¼š

* **`ws-javaagent.jar`** â†’ ç”¨æ–¼ Liberty åŠ IBM å·¥å…·çš„é€šç”¨ç›£æ§ã€æ€§èƒ½åˆ†æèˆ‡è¨ºæ–·
* **`jacocoagent.jar`** â†’ ç”¨æ–¼æ¸¬è©¦/ç¨‹å¼ç¢¼è¦†è“‹ç‡å ±å‘Šï¼Œèˆ‡ Liberty ç„¡é—œ

æ‚¨ä¸æ‡‰ä»¥ Liberty çš„ä»£ç†ç¨‹å¼å–ä»£ JaCoCo çš„ä»£ç†ç¨‹å¼ã€‚è‹¥æ‚¨çš„ç›®æ¨™æ˜¯**æ¸¬è©¦è¦†è“‹ç‡å ±å‘Š**ï¼ˆç”¨æ–¼ CI æµæ°´ç·šã€SonarQubeã€Maven/Gradle å ±å‘Šç­‰ï¼‰ï¼Œå¿…é ˆç¹¼çºŒä½¿ç”¨ **JaCoCo ä»£ç†ç¨‹å¼**ã€‚Liberty ä»£ç†ç¨‹å¼ä¸æœƒç”¢ç”Ÿ JaCoCo çš„ `.exec` è¦†è“‹ç‡æª”æ¡ˆã€‚

ä½†å¦‚æœ‰éœ€è¦ï¼Œæ‚¨*å¯ä»¥*åŒæ™‚é‹è¡Œå…©è€…â€”â€”Java æ”¯æ´å¤šå€‹ `-javaagent` åƒæ•¸ã€‚ä¾‹å¦‚ï¼š

```bash
-javaagent:/path/to/ws-javaagent.jar
-javaagent:/path/to/jacocoagent.jar=destfile=jacoco.exec,output=file
```

ğŸ‘‰ ç°¡è€Œè¨€ä¹‹ï¼š
ä½¿ç”¨ **`jacocoagent.jar`** è™•ç†è¦†è“‹ç‡
ä½¿ç”¨ **`ws-javaagent.jar`** é€²è¡Œ Liberty è¨ºæ–·/æ€§èƒ½åˆ†æ
å…©è€…ç”¨é€”ä¸åŒä¸”ä¸å¯äº’æ›ã€‚

éœ€è¦æˆ‘åŒæ™‚ç¤ºç¯„å¦‚ä½•åœ¨ Liberty ä¼ºæœå™¨ JVM é¸é …æª”æ¡ˆä¸­é…ç½®é€™å…©è€…å—ï¼Ÿ