---
audio: false
generated: true
lang: hant
layout: post
title: 大型語言模型印證我的特許金融分析師見解
translated: true
type: note
---

https://weibo.com/6347862377/5183994120372979

https://substack.com/inbox/post/167355695

---

正如我之前在微博所說，我喜歡用 LLM 來處理那些複雜繁瑣、我不喜歡做或閱讀的事情，包括許多學術論文。

在我於 2009-2010 年創建 PySonar2（一個 Python 類型推斷和靜態分析器）的十多年後，我發現自己與 ChatGPT 討論控制流分析（CFA），這讓我想起了十年前與某位「CFA 學生」的辯論。

https://www.yinwang.org/blog-cn/2016/04/07/cfa

（我當時上傳到網站的截圖現在已經不見了。就湊合看剩下的內容吧。）

這相當有趣——我十多年前就清楚看到的事情，現在被 ChatGPT「證實」了。

十五年前，PySonar2 剛問世時，就已經超越了當時所有的學術 CFA 研究（包括最新的 CFA2）。對於像 Python 這樣帶有 lambda 閉包的準函數式語言，它是第一個實現如此精確類型推斷的工具。它不僅準確度極高，性能也足夠好，能夠分析 GitHub 上所有大型 Python 項目。

Sourcegraph 的創始人，PySonar2 的最大用戶，當時告訴我 PySonar2 的分析精確得令人驚訝。那時我沒多想，因為我的方法非常簡單，我以為任何人都能想到。直到我意識到之前沒有人做到過，我才想也許我應該強調它的價值。

即使是現在，JetBrains 的 PyCharm IDE 也無法實現如此精確的分析或「查找定義」功能。例如，如果你定義了一個初始化為 None 的全局變量，後來在某個「初始化函數」中為其賦予了一個結構體，你將無法找到該結構體的成員。我不是說你應該寫這麼糟糕的代碼，但這是一個例子。

如果你知道我在印第安納大學的成就，你就會明白 PySonar2 對我來說真的不算什麼——它只花了我極小的精力。那時候，我對 Python 語言並不太在意。而那些 CFA 論文晦澀難懂，我根本沒興趣深入研究。我只是粗略看了一下，就能斷定它們大多是胡說八道。所以，我花了幾個月時間構建了 PySonar2，讓別人免費使用，也懶得寫論文。它的原理我幾句話就能解釋清楚。

我當時太謙虛了。看看那些 CFA、k-CFA、CFA2 論文——堆積如山，卻解決不了實際問題，也從未被投入實際應用。k-CFA 甚至有一個基本問題：「調用和返回無法匹配」，這是我從未想過會發生的問題。PySonar2 從未有過這個問題。怎麼會有人做出如此愚蠢的設計，還發表論文，並讓後繼者繼續「改進」它？

Matt Might 的 CFA2 引入了某種「下推自動機」，這不過是從早期有缺陷的設計中恢復函數調用堆棧的一種方式。PySonar2 一直都有「下推自動機」，因為在解釋函數調用時自然會產生堆棧。

Matt Might 有個博客，他在那裡自豪地解釋「自動 CPS 轉換」是如何實現的，彷彿只有他一個人懂似的。但他的想法顯然是從過於複雜的 CPS 論文中演變而來，並非獨立思考的結果，背負著很多歷史包袱。他的文章聽起來常常高深莫測，但難以理解——你真的能看懂嗎？他的想法無法與我的「40 行代碼」方法相比。我讀他的博客時覺得好笑，但出於禮貌和「謙虛」，我保持了沉默。我認為 Matt Might 缺乏實質內容，那群人只是在胡說八道。這就是真相，事隔多年我可以揭穿了。

這些論文難道不是在生產廢話嗎？是的，我十多年前就知道了。但當時誰能明白是怎麼回事呢？現在你可以用 ChatGPT 查證 :)

事實上，ChatGPT 還證實了另一件事：Olin Shivers 的基礎 CFA 論文中使用 CPS 是所有麻煩的根源：

PySonar2 是完全獨立構建的，沒有參考任何學術工作。它直接解決了根本問題，沒有任何學術包袱。這就是簡單思考的價值。這不是我第一次以如此犀利的成果獨立超越學術界和工業界。

在我創建 PySonar2 之後，一個 Google 團隊花了兩年多時間試圖構建更好的東西，但最終一無所獲，Google 不得不繼續使用我改進過的開原始碼。為什麼？因為他們的策略從一開始就錯了。他們想用 Prolog 這樣的邏輯編程語言來做 Python 的類型推斷，我當時就知道這注定失敗。我怎麼知道？因為我已經實現過這些方法，並且了解 Hindley-Milner 系統和 Prolog 的局限性。我怎麼知道？因為我在 IU 實現並改進過邏輯編程語言。

我必須感謝 ChatGPT 清晰地闡述了我所看到的事實，省去了我閱讀那些晦澀論文的麻煩。我感謝它驗證了我思想的價值。我覺得 LLM 將極大地推動人類進步。

現在，我分享一段我與 ChatGPT 關於 CFA 的對話，希望對該領域的研究人員有所幫助：

https://chatgpt.com/share/6864e9a1-66c8-8002-b9f5-55e845fde7ae