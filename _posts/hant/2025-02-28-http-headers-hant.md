---
audio: false
generated: true
lang: hant
layout: post
title: HTTP 標頭
translated: true
type: note
---

你可曾想過，你的網頁瀏覽器如何知道該如何處理從網站接收的數據？或者網站如何記住你的登入資訊？答案就在於**HTTP 標頭**。它們就像是網際網路的無名英雄，在幕後默默工作，確保一切運作順暢。在這篇網誌中，我們將揭開 HTTP 標頭的神秘面紗，並探討它們為何如此重要。

---

### 什麼是 HTTP？

在深入探討標頭之前，讓我們先從基礎開始。**HTTP** 代表*超文字傳輸協定*，它是網路上數據通信的基礎。想像它就像是你的網頁瀏覽器（客戶端）與網站伺服器之間的對話。當你在瀏覽器中輸入網址時，它會向伺服器發送一個 **HTTP 請求**，要求獲取網頁。伺服器則會回覆一個 **HTTP 回應**，傳送你所請求的內容——例如網頁、圖片或影片。

---

### 介紹 HTTP 標頭

現在，將這種交換想像成透過郵件寄送信件。信件的主要內容是網頁本身，但信封上則載有額外細節：收件人地址、寄件人地址、郵票，以及可能像是「易碎」或「急件」等特殊指示。在 HTTP 的世界中，這些額外細節就是由**標頭**提供的。

**HTTP 標頭**是伴隨請求和回應的鍵值對。它們作為元數據，為瀏覽器或伺服器提供關於如何處理數據的指示和上下文。若沒有標頭，網路就無法像今天這樣無縫運作。

---

### HTTP 標頭的類型

HTTP 標頭主要分為三種類型：

1. **請求標頭**：由瀏覽器（客戶端）發送給伺服器，提供關於請求以及客戶端能處理什麼的資訊。
2. **回應標頭**：由伺服器發回給瀏覽器，提供關於回應和伺服器本身的詳細資訊。
3. **通用標頭**：這些標頭可以出現在請求和回應中，並適用於整個訊息。

讓我們來分解每種類型的一些常見例子，看看它們的作用。

---

### 常見的請求標頭

這些是當你訪問網站時，瀏覽器發送給伺服器的標頭：

- **Host**：指定伺服器的網域名稱（例如 `example.com`）。由於許多伺服器托管多個網站，這個標頭就像是在信封上寫下收件人的名字——它告訴伺服器你想要哪個網站。
- **User-Agent**：識別客戶端軟體，例如你的瀏覽器類型和版本（例如 `Mozilla/5.0`）。將其視為寄件人地址，讓伺服器知道是誰在敲門。
- **Accept**：告訴伺服器瀏覽器能處理哪些類型的內容，例如文字、圖片或影片（例如 `text/html`）。這就像是說：「我能接受信件、包裹或明信片——發送適合我的內容。」
- **Accept-Language**：指示你的偏好語言（例如 `en-us`）。這有助於伺服器以你能理解的語言發送內容。
- **Cookie**：將儲存在你裝置上的小數據片段（cookies）發送給伺服器。Cookies 讓你能保持登入狀態，或在多次訪問之間記住你的偏好。

---

### 常見的回應標頭

這些是伺服器發回給你的瀏覽器的標頭：

- **Content-Type**：指定發送的內容類型，例如網頁的 `text/html` 或圖片的 `image/jpeg`。這至關重要——它就像是一個標籤，告訴你的瀏覽器它正在開啟的是信件、照片還是其他東西。
- **Content-Length**：指示回應主體的大小（以位元組為單位，例如 `1234`）。這讓瀏覽器知道要預期多少數據。
- **Set-Cookie**：從伺服器發送 cookies 到你的瀏覽器，以供後續使用——就像是一個小禮物，讓瀏覽器記住伺服器。
- **Cache-Control**：告訴瀏覽器它可以將內容的副本保存多久才重新獲取（例如 `max-age=3600`）。這通過減少不必要的請求來提升效能。
- **Location**：用於重新導向，此標頭提供要訪問的新 URL（例如 `https://example.com/new-page`）。它就像是你的郵件的轉寄地址。

---

### 自訂標頭

除了這些標準標頭外，開發者可以根據特定需求建立自己的**自訂標頭**。這些通常以 `X-` 開頭，例如 `X-Custom-Header`。它們在定制通訊時很有用，但應謹慎使用，以避免與標準標頭衝突。

---

### 標頭的結構

標頭很簡單：它們以**鍵值對**的形式編寫，鍵和值之間用冒號分隔，例如 `Content-Type: text/html`。每個標頭佔用一行，並在請求或回應的主要內容之前發送。

以下是一個基本 HTTP 請求的例子：

```
GET /index.html HTTP/1.1
Host: example.com
User-Agent: Mozilla/5.0
Accept: text/html
```

而伺服器的回應可能看起來像：

```
HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 1234
```

在標頭之後，才是實際的內容（例如 HTML 代碼）。

---

### 為什麼標頭在網頁開發中很重要

HTTP 標頭聽起來可能很技術性，但它們對於網路的運作至關重要。以下是它們如此重要的原因：

- **正確解譯**：`Content-Type` 標頭確保你的瀏覽器正確顯示內容。如果以錯誤的類型（例如 `text/plain`）發送 HTML，你將看到原始代碼而不是網頁。
- **效能提升**：像 `Cache-Control` 這樣的標頭讓瀏覽器能本地儲存內容，加快載入時間並減輕伺服器負擔。
- **安全性**：例如 `Strict-Transport-Security` 等標頭強制使用 HTTPS，保護數據安全。同時，粗心的標頭可能洩露伺服器細節，因此開發者必須注意。
- **跨來源資源共享 (CORS)**：像 `Access-Control-Allow-Origin` 這樣的標頭控制哪些網站可以存取資源，對於從多個網域提取數據的現代網頁應用程式至關重要。

---

### 檢查標頭的工具

想一探究竟嗎？你可以自己探索 HTTP 標頭：

- **瀏覽器開發者工具**：在網頁上右擊，選擇「檢查」，然後前往「網路」標籤。你將看到每個請求和回應，包括完整的標頭。
- **curl**：這個命令列工具讓你能直接發出請求並查看標頭（例如 `curl -I example.com`）。

試試看——這是觀察標頭運作的好方法！

---

### 常見的陷阱

標頭功能強大，但錯誤可能會讓你陷入困境：

- **錯誤的 Content-Type**：如果這個標頭出錯，瀏覽器可能會誤解數據，導致頁面損壞或安全風險。
- **沒有快取**：若沒有 `Cache-Control`，瀏覽器可能會過於頻繁地獲取資源，拖慢速度。
- **過度暴露**：像 `Server` 這樣的標頭可能會過多透露伺服器的軟體資訊，給攻擊者可乘之機。請將敏感資訊保密。

---

### 結論

HTTP 標頭可能不常受到關注，但它們對於網路的魔力至關重要。它們確保內容正確傳遞、提升效能、增強安全性，並實現如 CORS 等複雜功能。無論你是建立網站的開發者，還是只是好奇的網路衝浪者，理解標頭都能讓你一窺網際網路的運作方式。

下次上網時，何不自己檢查一些標頭？使用你的瀏覽器工具或試驗你自己的專案。你越深入探索 HTTP 標頭，就越會欣賞這些讓網路保持運轉的無名英雄。

---

就是這樣——希望這篇對 HTTP 標頭的深入探討既具資訊性又有趣！透過信封的比喻和真實世界的例子，我旨在使內容易於理解，同時涵蓋關鍵點。祝瀏覽愉快（並享受標頭探索的樂趣）！