---
audio: false
generated: true
lang: hant
layout: post
title: 失眠症中的SSL證書驗證
translated: true
type: note
---

要修復 Insomnia 中出現的「SSL 對等憑證或 SSH 遠端金鑰不正確」錯誤，此錯誤通常發生在 Insomnia 無法驗證您嘗試連接的伺服器 SSL 憑證時。以下是逐步解決方案：

### 1. **停用 SSL 憑證驗證（僅限本地開發使用）**
如果您正在使用具有自簽或無效 SSL 憑證的本地開發伺服器，可以在 Insomnia 中停用憑證驗證：
- 開啟 Insomnia 並前往 **Application** > **Preferences**。
- 進入 **Request / Response** 部分。
- 取消勾選標示為 **Validate certificates** 的選項。
- 重新嘗試您的請求。

**重要提示**：此選項會繞過安全檢查，**僅適用於測試或本地開發環境**。請勿在生產環境中使用，因為這會使您的連接容易受到攻擊。

---

### 2. **驗證伺服器的 SSL 憑證**
此錯誤可能表示伺服器的 SSL 憑證存在問題（例如過期、自簽或主機名稱不符）。請檢查：
- 在網頁瀏覽器中開啟伺服器的 URL。
- 點擊網址列中的鎖形圖示以查看憑證詳細資訊。
- 確保憑證有效、未過期且與網域名稱相符。
- 如果憑證無效或配置錯誤，請聯繫伺服器管理員進行修復。

---

### 3. **匯入用戶端憑證（如需要）**
如果伺服器需要用戶端憑證進行身份驗證，您需要在 Insomnia 中進行配置：
- 在 Insomnia 中，前往 **Client Certificates**（可從主儀表板或偏好設定中存取）。
- 點擊 **Add Certificate**。
- 匯入您的憑證檔案（支援的格式包括 PFX 或 PEM）。
- 將其分配給您要連接的特定網域或主機名稱。
- 再次測試請求。

---

### 4. **更新 Insomnia**
SSL 相關問題可能是由於舊版 Insomnia 中的錯誤所致。請確保您使用的是最新版本：
- 在 **Application** > **About** 中檢查更新，或從官方 Insomnia 網站下載最新版本。
- 安裝更新後重新嘗試您的請求。

---

### 5. **使用 Curl 進行測試**
如果以上步驟無法解決問題，請在 Insomnia 外部測試請求以隔離問題：
- 開啟終端機並使用帶有相同 URL 和參數的 `curl` 指令（例如 `curl -v https://example.com`）。
- 如果 `curl` 也失敗，則問題可能出在伺服器配置而非 Insomnia。
- 如果 `curl` 成功，則可能表示 Insomnia 存在特定問題，您可以向其支援團隊回報。

---

### 總結
首先，如果是本地伺服器，請停用 SSL 驗證，然後驗證伺服器憑證或在需要時配置用戶端憑證。確保 Insomnia 為最新版本，並在必要時使用 `curl` 進行進一步疑難排解。這些步驟應能解決大多數「SSL 對等憑證或 SSH 遠端金鑰不正確」錯誤的情況。

如果問題仍然存在，可能是由於伺服器端配置錯誤或 Insomnia 中的罕見錯誤。如需進一步協助，請告知我！