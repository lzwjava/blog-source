---
audio: false
generated: true
image: false
lang: hant
layout: post
title: GitHub Actions 排程時間偏差
translated: true
type: note
---

這是一個 Git 風格（例如 GitHub Actions）的排程觸發器。讓我們來解析一下：

* **`on: schedule:`**
  表示工作流程會按照日曆排程執行，而不僅是在推送或拉取請求事件時觸發。

* **`- cron: '0 * * * *'`**
  標準的五欄位 cron 表達式：

  ```
  ┌──────── 分鐘 (0)
  │ ┌────── 小時 (*，即每小時)
  │ │ ┌──── 月份中的日期 (*，即每日)
  │ │ │ ┌── 月份 (*，即每月)
  │ │ │ │ ┌ 星期幾 (*，即每週每日)
  │ │ │ │ │
  0 * * * *
  ```

  → **在每小時的第 0 分鐘執行**（即 UTC 時間 00:00、01:00、02:00…23:00），每日執行。

* **但上方的註解寫道：**

  > 於 UTC 時間週一至週五 05:00–13:00 每小時執行
  > UTC 時間 05:00–13:00 = 北京時間 13:00–21:00 (UTC+8)

  若要實現此意圖（僅限平日，且僅在該時段內），實際上需要更精確的 cron 表達式，例如：

  ```yaml
  on:
    schedule:
      - cron: '0 5-13 * * 1-5'
  ```

  這表示：

  * 在第 0 分鐘，
  * 於 UTC 時間 5 至 13 點期間，
  * 在週一 (1) 至週五 (5) 執行。

  以北京時間 (UTC+8) 計算，這確實對應到當地時間 13:00–21:00 的平日時段。

---

**簡而言之：**

* 按照原寫法 (`'0 * * * *'`)，它將會 **每小時整點觸發**，每週 7 天、每天 24 小時不間斷。
* 註解描述的是 **僅限平日、UTC 時間 05:00–13:00** 的時段——若這才是你想要的，請將 cron 表達式中的小時欄位改為 `5-13`，並將星期幾欄位改為 `1-5`。