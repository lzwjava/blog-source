---
lang: hant
layout: post
title: mathjax2mobiï¼šå°†MathJax HTMLè½¬æ¢ä¸ºç”µå­ä¹¦
---

### é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ—¨åœ¨å¼€å‘ä¸€æ¬¾é«˜æ•ˆã€æ˜“ç”¨çš„ä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç»„ç»‡å’Œè·Ÿè¸ªæ—¥å¸¸ä»»åŠ¡ã€‚é€šè¿‡ç®€æ´çš„ç•Œé¢å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åˆ›å»ºã€åˆ†é…å’Œç›‘æ§ä»»åŠ¡è¿›åº¦ï¼Œä»è€Œæé«˜å·¥ä½œæ•ˆç‡å’Œå›¢é˜Ÿåä½œèƒ½åŠ›ã€‚

é¦–å…ˆï¼Œæˆ‘æ¥å¤§è‡´ä»‹ç»ä¸€ä¸‹é¡¹ç›®çš„æƒ…å†µã€‚

![è´¹æ›¼åœ¨çº¿](assets/images/feynman/feynman_online.jpg)

<img src="/assets/images/feynman/change.JPG" alt="æ”¹å˜" style="zoom:50%;" />

![latex](assets/images/feynman/latex.JPG)

![epub_black](assets/images/feynman/epub_black.JPG)

![epub_beautiful](assets/images/feynman/epub_beautiful.JPG)

é¡¹ç›®å®Œæˆåï¼Œå¿ƒä¸­æ´‹æº¢ç€å–œæ‚¦ã€‚äºæ˜¯ï¼Œæˆ‘å†™ä¸‹äº†è¿™æ ·ä¸€æ®µè¯ã€‚

ç»è¿‡ä¸€æ•´å¤©çš„ç¼–ç¨‹åŠªåŠ›ï¼Œç»ˆäºæˆåŠŸåˆ¶ä½œå‡ºäº†ç²¾ç¾çš„è´¹æ›¼ç‰©ç†è®²ä¹‰ç”µå­ä¹¦ï¼è´¹æ›¼ç‰©ç†è®²ä¹‰åŸæœ¬å…¬å¼€åœ¨ç½‘ç»œä¸Šï¼Œé‡‡ç”¨`LaTeX`è¿›è¡Œæ¸²æŸ“ã€‚`LaTeX`å¸¸ç”¨äºæ’°å†™å­¦æœ¯è®ºæ–‡ï¼Œå…¶å¯¹æ•°å­¦å…¬å¼çš„å‘ˆç°æ•ˆæœå°¤ä¸ºå‡ºè‰²ã€‚è€Œç½‘ç»œç‰ˆåˆ™å€ŸåŠ©äº†`MathJax`è¿™ä¸€åº“ï¼Œå°†`LaTeX`æºä»£ç è½¬æ¢ä¸º`HTML`ä»£ç ï¼Œç”Ÿæˆäº†å¤§é‡çš„`div`å’Œ`span`æ ‡ç­¾ã€‚ç„¶è€Œï¼Œç”µå­ä¹¦æ ¼å¼å¹¶ä¸æ”¯æŒè¿™ç§å‘ˆç°æ–¹å¼ã€‚äºæ˜¯ï¼Œæˆ‘çš„æ€è·¯æ˜¯æŠ“å–ç½‘é¡µå†…å®¹ï¼Œé€†å‘è§£æ`MathJax`çš„æ¸²æŸ“è¿‡ç¨‹ï¼Œç„¶åå°†å…¬å¼æ›¿æ¢ä¸º`SVG`å›¾ç‰‡ã€‚è¿™ä¸€è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸å°‘æŒ‘æˆ˜ï¼šé¦–å…ˆï¼Œæºä»£ç ä¸­åŒ…å«äº†å¤§é‡è‡ªå®šä¹‰çš„`LaTeX`å®ï¼Œéœ€è¦é€ä¸€æ·»åŠ ï¼›å…¶æ¬¡ï¼Œå†…åµŒå¤šä¸ª`SVG`å›¾ç‰‡æ—¶ä¼šå‡ºç°é—®é¢˜ã€‚å•ä¸ª`SVG`å°šèƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ•°é‡ä¸€å¤šï¼Œä¾¿å¯èƒ½è§¦å‘æµè§ˆå™¨ä¸`SVG`ä¹‹é—´çš„æŸäº›è¯¡å¼‚Bugã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œå°†`SVG`ä¿å­˜ä¸ºæ–‡ä»¶ï¼Œå†é€šè¿‡`img`æ ‡ç­¾å¼•å…¥ã€‚æ­¤å¤–ï¼Œå…¬å¼è¿˜åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šä¸€ç§æ˜¯åµŒå…¥æ–‡æœ¬ä¸­çš„å…¬å¼ï¼Œå¦ä¸€ç§æ˜¯å•ç‹¬æˆè¡Œçš„å…¬å¼ã€‚æœ€ç»ˆï¼Œå…‹æœäº†ç§ç§å›°éš¾ï¼Œæˆ‘å¦‚æ„¿ä»¥å¿åœ°è·å¾—äº†è¿™æœ¬æ’ç‰ˆç²¾ç¾çš„ç”µå­ä¹¦ï¼

### æŸ¥è¯¢çš„èµ„æ–™

è¿™é‡Œè®°å½•äº†åœ¨è§£å†³é¡¹ç›®è¿‡ç¨‹ä¸­æ‰€æŸ¥é˜…çš„èµ„æ–™ã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªæ•™ç¨‹ï¼Œæ—¨åœ¨å‘å­¦ç”Ÿå±•ç¤ºå®Œæˆä¸€ä¸ªé¡¹ç›®çš„å¤§è‡´ä½“éªŒã€‚

![](assets/images/feynman/s1.PNG)

![](assets/images/feynman/s2.PNG)

![](assets/images/feynman/s3.PNG)

![](assets/images/feynman/s4.PNG)

![](assets/images/feynman/s5.PNG)

![](assets/images/feynman/s6.PNG)

![](assets/images/feynman/s7.PNG)

![](assets/images/feynman/s8.PNG)

### å¯åŠ¨é¡¹ç›®

è´¹æ›¼ç‰©ç†å­¦è®²ä¹‰å·²ç»åœ¨ç½‘ä¸Šå…¬å¼€ä¾›é˜…è¯»ã€‚æˆ‘æ‰“ç®—åœ¨`Kindle`ä¸Šé˜…è¯»å®ƒã€‚ä¸è¿‡ï¼Œç”±äºå…¶ä¸­åŒ…å«å¤§é‡æ•°å­¦å…¬å¼ï¼Œå…¶åŸç¨¿å¾ˆå¯èƒ½æ˜¯ç”¨`LaTeX`ç¼–å†™çš„ã€‚ç½‘ç«™ä½¿ç”¨`MathJax`è¿™ä¸ªåº“æ¥å°†`LaTeX`æ ¼å¼çš„å†…å®¹æ¸²æŸ“åˆ°ç½‘é¡µä¸Šã€‚

èˆ‰å€‹ä¾‹å­ã€‚

```html
<span class="MathJax_Preview" style="color: inherit; display: none;">
</span>
<div class="MathJax_Display">
    <span class="MathJax MathJax_FullWidth" id="MathJax-Element-10-Frame" tabindex="0" style="">
              <span class="mi" id="MathJax-Span-159" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;">
                </span>  
    </span>
</div>
<script type="math/tex; mode=display" id="MathJax-Element-10">\begin{equation}
\label{Eq:I:13:3}
dT/dt = Fv.
\end{equation}
</script>
```

ä¸Šé¢æ˜¯æˆªå–çš„ä¸€æ®µ`html`ä»£ç ã€‚åœ¨è¿™ä¸€å—`html`ä»£ç ä¸­ï¼Œ`script`æ ‡ç­¾ä¸‹åŒ…å«çš„æ˜¯`LaTeX`çš„åŸæ ·æ–‡æœ¬ã€‚`MathJax`å°†å…¶è½¬æ¢ä¸ºè®¸å¤š`span`æ ‡ç­¾ï¼Œä»¥ä¾¿åœ¨ç½‘é¡µä¸Šæ­£ç¡®æ˜¾ç¤ºæ•°å­¦å…¬å¼ã€‚

æˆ‘ä»¬ç°åœ¨æœ‰ä¸ªæ€è·¯ï¼Œå°±æ˜¯æŠŠ`MathJax`çš„æ˜¾ç¤ºæ–¹å¼æ”¹ä¸º`SVG`å›¾ç‰‡ã€‚

ä» GitHub ä¸Šæ‰¾åˆ°ä¸€ä¸ªé¡¹ç›® `tuxu/latex2svg`ã€‚

```python
from latex2svg import latex2svg
out = latex2svg(r'\( e^{i \pi} + 1 = 0 \)')
print(out['depth'])
print(out['svg'])
```

è©¦è‘—é‹è¡Œï¼Œä½†å‡ºéŒ¯äº†ã€‚

```shell
    raise RuntimeError('æœªæ‰¾åˆ°latex')
RuntimeError: æœªæ‰¾åˆ°latex
```

æŸ¥çœ‹ä»£ç ã€‚

```python
    # é‹è¡Œ LaTeX ä¸¦å‰µå»º DVI æ–‡ä»¶
    try:
        ret = subprocess.run(shlex.split(params['latex_cmd']+' code.tex'),
                             stdout=subprocess.PIPE, stderr=subprocess.PIPE,
                             cwd=working_directory)
        ret.check_returncode()
    except FileNotFoundError:
        raise RuntimeError('æœªæ‰¾åˆ° latex')
```

åŸæ¥è¿™ä¹Ÿä¾èµ–äº`latex`å‘½ä»¤ã€‚

å®‰è£ä¸€ä¸‹ã€‚

```shell
brew install --cask mactex
==> æ³¨æ„äº‹é …
æ‚¨å¿…é ˆé‡æ–°å•Ÿå‹•çµ‚ç«¯æ©Ÿçª—å£ï¼Œä»¥ä½¿ MacTex CLI å·¥å…·çš„å®‰è£ç”Ÿæ•ˆã€‚
æˆ–è€…ï¼ŒBash å’Œ Zsh ç”¨æˆ¶å¯ä»¥é‹è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
  eval "$(/usr/libexec/path_helper)"
==> æ­£åœ¨ä¸‹è¼‰ http://mirror.ctan.org/systems/mac/mactex/mactex-20200407.pkg
==> æ­£åœ¨å¾ https://mirrors.aliyun.com/CTAN/systems/mac/mactex/mactex-20200407.pkg ä¸‹è¼‰
######################################################################## 100.0%
æ‰€æœ‰å…¬å¼ä¾è³´é …å·²æ»¿è¶³ã€‚
==> æ­£åœ¨å®‰è£ Cask mactex
==> æ­£åœ¨é‹è¡Œ mactex çš„å®‰è£ç¨‹åºï¼›å¯èƒ½éœ€è¦æ‚¨çš„å¯†ç¢¼ã€‚
installer: å¥—ä»¶åç¨±æ˜¯ MacTeX
installer: é¸æ“‡æ›´æ”¹æ–‡ä»¶ '/private/tmp/choices20210315-4643-5884ro.xml' å·²æ‡‰ç”¨
installer: æ­£åœ¨åŸºç¤è·¯å¾‘ / å®‰è£
installer: å®‰è£æˆåŠŸã€‚
ğŸº  mactex å·²æˆåŠŸå®‰è£ï¼
```

å®‰è£æˆåŠŸã€‚

```shell
% latex
é€™æ˜¯ pdfTeXï¼Œç‰ˆæœ¬ 3.14159265-2.6-1.40.21 (TeX Live 2020) (é è¼‰æ ¼å¼=latex)
 å·²å•Ÿç”¨å—é™çš„ \write18ã€‚
**
```

```python
out = latex2svg(r'\( e^{i \pi} + 1 = 0 \)')
print(out['depth'])
print(out['svg'])
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯å°‡ LaTeX æ•¸å­¸è¡¨é”å¼ `\( e^{i \pi} + 1 = 0 \)` è½‰æ›ç‚º SVG æ ¼å¼çš„åœ–åƒï¼Œä¸¦è¼¸å‡ºå…¶æ·±åº¦å’Œ SVG å…§å®¹ã€‚ä»¥ä¸‹æ˜¯ç¨‹å¼ç¢¼çš„è§£é‡‹ï¼š

1. `latex2svg(r'\( e^{i \pi} + 1 = 0 \)')`ï¼šé€™è¡Œä»£ç¢¼ä½¿ç”¨ `latex2svg` å‡½æ•¸å°‡ LaTeX è¡¨é”å¼è½‰æ›ç‚º SVG æ ¼å¼ã€‚`r` è¡¨ç¤ºåŸå§‹å­—ç¬¦ä¸²ï¼Œé¿å…è½‰ç¾©å­—ç¬¦çš„å½±éŸ¿ã€‚

2. `out['depth']`ï¼šé€™è¡Œä»£ç¢¼è¼¸å‡º SVG åœ–åƒçš„æ·±åº¦ä¿¡æ¯ã€‚

3. `out['svg']`ï¼šé€™è¡Œä»£ç¢¼è¼¸å‡º SVG åœ–åƒçš„å…§å®¹ã€‚

é€™æ®µç¨‹å¼ç¢¼çš„è¼¸å‡ºå°‡åŒ…æ‹¬ SVG åœ–åƒçš„æ·±åº¦å’Œ SVG åœ–åƒæœ¬èº«çš„å…§å®¹ã€‚

```python
svg = open('1.svg', 'w')
svg.write(out['svg'])
svg.close()
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ï¼š

```python
svg = open('1.svg', 'w')
svg.write(out['svg'])
svg.close()
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯æ‰“é–‹ä¸€å€‹åç‚º `1.svg` çš„æ–‡ä»¶ï¼Œä¸¦å°‡ `out['svg']` çš„å…§å®¹å¯«å…¥è©²æ–‡ä»¶ï¼Œç„¶å¾Œé—œé–‰æ–‡ä»¶ã€‚é€™æ®µç¨‹å¼ç¢¼åœ¨ç¹é«”ä¸­æ–‡ç’°å¢ƒä¸­çš„åŠŸèƒ½å’Œå¯«æ³•èˆ‡è‹±æ–‡ç’°å¢ƒä¸­ç›¸åŒï¼Œå› æ­¤ä¸éœ€è¦é€²è¡Œç¿»è­¯ã€‚

å¯ä»¥ç”Ÿæˆ`svg`äº†ã€‚

æ‰€ä»¥å°è¯•å°†`MathJax`ä¸­è·å–çš„`LaTeX`æ–‡æœ¬å…¨éƒ¨ç”Ÿæˆä¸€éã€‚

```python
from bs4 import BeautifulSoup
from latex2svg import latex2svg
```

æ–‡ä»¶ = open('The Feynman Lectures on Physics Vol. I Ch. 13_ Work and Potential Energy (A).html')
å†…å®¹ = æ–‡ä»¶.read()

soup = BeautifulSoup(content)

```python
mathjaxs = soup.findAll('script', {'type': 'math/tex'})
for mathjax in mathjaxs:
    print(mathjax.string)
    out = latex2svg(mathjax.string)
    print(out['svg'])
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯å¾ç¶²é ä¸­æ‰¾å‡ºæ‰€æœ‰é¡å‹ç‚º `math/tex` çš„ `<script>` æ¨™ç±¤ï¼Œä¸¦å°‡å…¶ä¸­çš„ LaTeX æ•¸å­¸å…¬å¼è½‰æ›ç‚º SVG æ ¼å¼çš„åœ–åƒã€‚ä»¥ä¸‹æ˜¯ç¨‹å¼ç¢¼çš„é€æ­¥è§£é‡‹ï¼š

1. **`soup.findAll('script', {'type': 'math/tex'})`**:
   - é€™è¡Œç¨‹å¼ç¢¼ä½¿ç”¨ BeautifulSoup çš„ `findAll` æ–¹æ³•ä¾†æŸ¥æ‰¾æ‰€æœ‰é¡å‹ç‚º `math/tex` çš„ `<script>` æ¨™ç±¤ã€‚
   - `soup` æ˜¯ä¸€å€‹ BeautifulSoup ç‰©ä»¶ï¼Œä»£è¡¨è§£æå¾Œçš„ HTML æ–‡æª”ã€‚
   - `findAll` æ–¹æ³•è¿”å›ä¸€å€‹åŒ…å«æ‰€æœ‰ç¬¦åˆæ¢ä»¶çš„æ¨™ç±¤çš„åˆ—è¡¨ã€‚

2. **`for mathjax in mathjaxs:`**:
   - é€™è¡Œç¨‹å¼ç¢¼é–‹å§‹ä¸€å€‹è¿´åœˆï¼Œéæ­·æ‰€æœ‰æ‰¾åˆ°çš„ `<script>` æ¨™ç±¤ã€‚

3. **`print(mathjax.string)`**:
   - é€™è¡Œç¨‹å¼ç¢¼æ‰“å°å‡ºç•¶å‰ `<script>` æ¨™ç±¤ä¸­çš„æ–‡æœ¬å…§å®¹ï¼Œå³ LaTeX æ•¸å­¸å…¬å¼ã€‚

4. **`out = latex2svg(mathjax.string)`**:
   - é€™è¡Œç¨‹å¼ç¢¼å°‡ LaTeX æ•¸å­¸å…¬å¼è½‰æ›ç‚º SVG æ ¼å¼çš„åœ–åƒã€‚
   - `latex2svg` æ˜¯ä¸€å€‹å‡è¨­å­˜åœ¨çš„å‡½æ•¸ï¼Œè² è²¬å°‡ LaTeX å…¬å¼è½‰æ›ç‚º SVGã€‚
   - è½‰æ›çµæœå­˜å„²åœ¨ `out` è®Šæ•¸ä¸­ã€‚

5. **`print(out['svg'])`**:
   - é€™è¡Œç¨‹å¼ç¢¼æ‰“å°å‡ºè½‰æ›å¾Œçš„ SVG åœ–åƒå…§å®¹ã€‚
   - `out['svg']` å‡è¨­æ˜¯ `latex2svg` å‡½æ•¸è¿”å›çš„å­—å…¸ä¸­çš„ä¸€å€‹éµï¼Œå°æ‡‰çš„å€¼æ˜¯ SVG åœ–åƒçš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

ç¸½çµä¾†èªªï¼Œé€™æ®µç¨‹å¼ç¢¼çš„ç›®çš„æ˜¯å¾ç¶²é ä¸­æå– LaTeX æ•¸å­¸å…¬å¼ï¼Œä¸¦å°‡å…¶è½‰æ›ç‚º SVG åœ–åƒï¼Œç„¶å¾Œæ‰“å°å‡ºé€™äº›åœ–åƒçš„å…§å®¹ã€‚

å¯æƒœå‡ºé”™äº†ã€‚

```python
    raise CalledProcessError(self.returncode, self.args, self.stdout,
subprocess.CalledProcessError: å‘½ä»¤ '['latex', '-interaction', 'nonstopmode', '-halt-on-error', 'code.tex']' è¿”å›äº†éé›¶é€€å‡ºç‹€æ…‹ 1ã€‚
```

å…·ä½“æ˜¯å“ªä¸ªå…¬å¼å‡ºé”™äº†å‘¢ï¼Ÿ

```latex
\tfrac{1}{2}mv^2
```

ç¿»è­¯ç‚ºï¼š

```latex
\frac{1}{2}mv^2
```

é€™æ˜¯å‹•èƒ½å…¬å¼ï¼Œè¡¨ç¤ºç‰©é«”çš„å‹•èƒ½ç­‰æ–¼å…¶è³ªé‡ \( m \) ä¹˜ä»¥é€Ÿåº¦ \( v \) çš„å¹³æ–¹çš„ä¸€åŠã€‚

## LaTeX

LaTeX æ˜¯ä¸€ç§åŸºäº TeX çš„æ’ç‰ˆç³»ç»Ÿï¼Œå¹¿æ³›ç”¨äºç”Ÿæˆé«˜è´¨é‡çš„ç§‘æŠ€å’Œæ•°å­¦æ–‡æ¡£ã€‚å®ƒç”± Leslie Lamport åœ¨ 1980 å¹´ä»£åˆæœŸå¼€å‘ï¼Œä¸»è¦ç”¨äºå¤„ç†å¤æ‚çš„æ•°å­¦å…¬å¼å’Œæ’ç‰ˆéœ€æ±‚ã€‚LaTeX é€šè¿‡ä½¿ç”¨æ ‡è®°è¯­è¨€æ¥å®šä¹‰æ–‡æ¡£çš„ç»“æ„å’Œæ ¼å¼ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥ä¸“æ³¨äºå†…å®¹è€Œéæ’ç‰ˆç»†èŠ‚ã€‚

### ä¸»è¦ç‰¹ç‚¹
1. **é«˜è´¨é‡çš„æ’ç‰ˆ**ï¼šLaTeX ç”Ÿæˆçš„æ–‡æ¡£å…·æœ‰ä¸“ä¸šçº§çš„æ’ç‰ˆè´¨é‡ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°å­¦å…¬å¼å’Œç§‘å­¦æ–‡çŒ®æ–¹é¢ã€‚
2. **è·¨å¹³å°**ï¼šLaTeX å¯ä»¥åœ¨å¤šç§æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ Windowsã€macOS å’Œ Linuxã€‚
3. **å¼€æº**ï¼šLaTeX æ˜¯å…è´¹ä¸”å¼€æºçš„ï¼Œæ‹¥æœ‰åºå¤§çš„ç”¨æˆ·ç¤¾åŒºå’Œä¸°å¯Œçš„èµ„æºã€‚
4. **å¼ºå¤§çš„æ‰©å±•æ€§**ï¼šé€šè¿‡ä½¿ç”¨å„ç§å®åŒ…ï¼ˆpackagesï¼‰ï¼Œç”¨æˆ·å¯ä»¥æ‰©å±• LaTeX çš„åŠŸèƒ½ï¼Œä»¥æ»¡è¶³ç‰¹å®šçš„æ’ç‰ˆéœ€æ±‚ã€‚

### åŸºæœ¬è¯­æ³•
LaTeX æ–‡æ¡£é€šå¸¸ä»¥ `.tex` ä¸ºæ‰©å±•åï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ LaTeX æ–‡æ¡£ç¤ºä¾‹ï¼š

```latex
\documentclass{article}
\usepackage[utf8]{inputenc}

\title{ç¤ºä¾‹æ–‡æ¡£}
\author{ä½œè€…å§“å}
\date{\today}

\begin{document}

\maketitle

\section{å¼•è¨€}
è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ LaTeX æ–‡æ¡£ç¤ºä¾‹ã€‚

\section{æ•°å­¦å…¬å¼}
LaTeX éå¸¸é€‚åˆæ’ç‰ˆæ•°å­¦å…¬å¼ï¼Œä¾‹å¦‚ï¼š
\[
E = mc^2
\]

\end{document}
```

### å¸¸ç”¨å‘½ä»¤
- `\documentclass{...}`ï¼šå®šä¹‰æ–‡æ¡£ç±»å‹ï¼ˆå¦‚ articleã€reportã€book ç­‰ï¼‰ã€‚
- `\usepackage{...}`ï¼šåŠ è½½å®åŒ…ä»¥æ‰©å±•åŠŸèƒ½ã€‚
- `\title{...}`ã€`\author{...}`ã€`\date{...}`ï¼šå®šä¹‰æ–‡æ¡£çš„æ ‡é¢˜ã€ä½œè€…å’Œæ—¥æœŸã€‚
- `\begin{document}` å’Œ `\end{document}`ï¼šæ–‡æ¡£å†…å®¹çš„å¼€å§‹å’Œç»“æŸã€‚
- `\section{...}`ï¼šå®šä¹‰ç« èŠ‚æ ‡é¢˜ã€‚

### ç¼–è¯‘ LaTeX æ–‡æ¡£
LaTeX æ–‡æ¡£éœ€è¦é€šè¿‡ç¼–è¯‘ç”Ÿæˆæœ€ç»ˆçš„ PDF æ–‡ä»¶ã€‚å¸¸ç”¨çš„ç¼–è¯‘å·¥å…·æœ‰ï¼š
- **pdflatex**ï¼šç›´æ¥ç”Ÿæˆ PDF æ–‡ä»¶ã€‚
- **latex** + **dvips** + **ps2pdf**ï¼šç”Ÿæˆ DVI æ–‡ä»¶ï¼Œå†è½¬æ¢ä¸º PDFã€‚
- **xelatex**ï¼šæ”¯æŒ Unicode å’Œç°ä»£å­—ä½“ï¼Œé€‚åˆå¤„ç†å¤šè¯­è¨€æ–‡æ¡£ã€‚

### å­¦ä¹ èµ„æº
- [LaTeX é¡¹ç›®å®˜æ–¹ç½‘ç«™](https://www.latex-project.org/)
- [Overleaf](https://www.overleaf.com/)ï¼šåœ¨çº¿ LaTeX ç¼–è¾‘å™¨ï¼Œé€‚åˆåˆå­¦è€…ã€‚
- [CTAN](https://www.ctan.org/)ï¼šComprehensive TeX Archive Networkï¼Œæä¾›å¤§é‡çš„ LaTeX å®åŒ…å’Œæ–‡æ¡£ã€‚

LaTeX è™½ç„¶æœ‰ä¸€å®šçš„å­¦ä¹ æ›²çº¿ï¼Œä½†ä¸€æ—¦æŒæ¡ï¼Œå®ƒå°†æå¤§åœ°æé«˜æ–‡æ¡£æ’ç‰ˆçš„æ•ˆç‡å’Œè´¨é‡ã€‚

æ¥å­¦ä¹ ä¸€ä¸‹`LaTeX`ã€‚

```latex
\documentclass[12pt]{article}
\usepackage{lingmacros}
\usepackage{tree-dvips}
\begin{document}
```

\section*{è®ºæ–‡ç¬”è®°}

åˆ«å¿˜äº†åŒ…å«ä¸»é¢˜åŒ–çš„ä¾‹å­ã€‚
å®ƒä»¬çœ‹èµ·æ¥åƒè¿™æ ·ï¼š

{\small
\enumsentence{ä¸»é¢˜åŒ–è‡ªå¥å­ä¸»è¯­ï¼š\\ 
\shortex{7}{a çº¦ç¿°$_i$ [a & æ¸…æ¥š & [el & 
  {\bf l-}çˆ± & er & ä»–$_i$ & a ç›ä¸½]]}
{ & {\bf R-}æ¸…æ¥š & {\sc è¡¥è¯­} & 
  {\bf IR}.{\sc 3s}-çˆ±   & P & ä»– & }
{çº¦ç¿°ï¼Œï¼ˆæ˜¾ç„¶ï¼‰ç›ä¸½çˆ±ï¼ˆä»–ï¼‰ã€‚}}
}

\subsection*{å¦‚ä½•å¤„ç†è¯é¢˜åŒ–}

æˆ‘å°†å‡è®¾ä¸€ä¸ªå¦‚ (\ex{1}) æ‰€ç¤ºçš„æ ‘å½¢ç»“æ„ã€‚

{\small
\enumsentence{A$'$æŠ•å°„çš„ç»“æ„ï¼š\\ [2ex]
\begin{tabular}[t]{cccc}
    & \node{i}{CP}\\ [2ex]
    \node{ii}{Spec} &   &\node{iii}{C$'$}\\ [2ex]
        &\node{iv}{C} & & \node{v}{SAgrP}
\end{tabular}
\nodeconnect{i}{ii}
\nodeconnect{i}{iii}
\nodeconnect{iii}{iv}
\nodeconnect{iii}{v}
}
}

\subsection*{æƒ…ç»ª}

å½“è¯é¢˜å­˜åœ¨æ—¶ï¼Œä»¥åŠå½“WHç§»ä½å‘ç”Ÿæ—¶ï¼Œè¯­æ°”ä¼šå‘ç”Ÿå˜åŒ–ã€‚\emph{éç°å®}è¯­æ°”å‡ºç°åœ¨Compä½ç½®æœ‰éä¸»è¯­è¯é¢˜æˆ–WHçŸ­è¯­æ—¶ã€‚\emph{ç°å®}è¯­æ°”åˆ™å‡ºç°åœ¨Compä½ç½®æœ‰ä¸»è¯­è¯é¢˜æˆ–WHçŸ­è¯­æ—¶ã€‚

\end{document}
```

åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†ä¸€æ®µæ ·ä¾‹çš„`LaTeX`æºç ã€‚

```shell
% latex code.tex
é€™æ˜¯ pdfTeXï¼Œç‰ˆæœ¬ 3.14159265-2.6-1.40.21 (TeX Live 2020) (é è¼‰æ ¼å¼=latex)
 å•Ÿç”¨äº†å—é™çš„ \write18ã€‚
é€²å…¥æ“´å±•æ¨¡å¼
(./code.tex
LaTeX2e <2020-02-02> è£œä¸ç´šåˆ¥ 5
L3 ç·¨ç¨‹å±¤ <2020-03-06>
(/usr/local/texlive/2020/texmf-dist/tex/latex/base/article.cls
æ–‡æª”é¡åˆ¥ï¼šarticle 2019/12/20 v1.4l æ¨™æº– LaTeX æ–‡æª”é¡åˆ¥
(/usr/local/texlive/2020/texmf-dist/tex/latex/base/size12.clo))
(/usr/local/texlive/2020/texmf-dist/tex/latex/tree-dvips/lingmacros.sty)
(/usr/local/texlive/2020/texmf-dist/tex/latex/tree-dvips/tree-dvips.sty
tree-dvips ç‰ˆæœ¬ .91ï¼Œ1995å¹´5æœˆ16æ—¥
) (/usr/local/texlive/2020/texmf-dist/tex/latex/l3backend/l3backend-dvips.def)
(./code.aux) [1] (./code.aux) )
è¼¸å‡ºå¯«å…¥ code.dvi (1 é ï¼Œ3416 å­—ç¯€)ã€‚
è¨˜éŒ„å¯«å…¥ code.logã€‚
```

![latex](assets/images/feynman/latex.png)

æ¥å¯¹ç…§æºç å’Œæ¸²æŸ“åçš„æ•ˆæœï¼Œçœ‹çœ‹èƒ½å­¦åˆ°ä»€ä¹ˆã€‚

```latex
\begin{document}
\end{document}
```

è¿™æ ·æ¥æŠŠæ–‡æ¡£åŒ…è£¹èµ·æ¥ã€‚

```latex
\section*{è®ºæ–‡ç¬”è®°}
```

é€™è¡¨ç¤º`section`æ¨™é¡Œé–‹é ­ã€‚

```latex
\subsection*{å¦‚ä½•å¤„ç†ä¸»é¢˜åŒ–}
```

é€™è¡¨ç¤ºå­æ¨™é¡Œã€‚

```latex
\shortex{7}{a John$_i$ [a & kltukl & [el & 
  {\bf l-}oltoir & er & ngii$_i$ & a Mary]]}
```

é€™æ®µä»£ç¢¼æ˜¯ä½¿ç”¨ LaTeX æ’ç‰ˆçš„ä¸€å€‹ä¾‹å­ï¼Œé€šå¸¸ç”¨æ–¼èªè¨€å­¸ä¸­çš„èªæ³•åˆ†æã€‚å®ƒå±•ç¤ºäº†ä¸€å€‹å¥å­çš„çµæ§‹ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›ç‰¹å®šçš„æ¨™è¨˜å’Œç¬¦è™Ÿã€‚ä»¥ä¸‹æ˜¯é€™æ®µä»£ç¢¼çš„ç¿»è­¯å’Œè§£é‡‹ï¼š

- `\shortex{7}`ï¼šé€™æ˜¯ä¸€å€‹å‘½ä»¤ï¼Œç”¨æ–¼å‰µå»ºä¸€å€‹èªæ³•åˆ†æçš„ä¾‹å­ï¼Œæ•¸å­— `7` å¯èƒ½è¡¨ç¤ºæŸç¨®æ ¼å¼æˆ–å°é½Šæ–¹å¼ã€‚
- `a John$_i$`ï¼šé€™éƒ¨åˆ†è¡¨ç¤ºå¥å­ä¸­çš„ä¸»èª "John"ï¼Œä¸‹æ¨™ `$_i$` å¯èƒ½è¡¨ç¤ºé€™æ˜¯ä¸€å€‹è®Šé‡æˆ–ç‰¹å®šçš„èªæ³•æ¨™è¨˜ã€‚
- `[a & kltukl & [el & {\bf l-}oltoir & er & ngii$_i$ & a Mary]]`ï¼šé€™æ˜¯ä¸€å€‹åµŒå¥—çš„çµæ§‹ï¼Œè¡¨ç¤ºå¥å­çš„å…¶ä»–éƒ¨åˆ†ã€‚æ¯å€‹ `&` ç¬¦è™Ÿåˆ†éš”ä¸åŒçš„æˆåˆ†ï¼Œ`{\bf l-}oltoir` ä¸­çš„ `{\bf l-}` å¯èƒ½è¡¨ç¤ºæŸç¨®å¼·èª¿æˆ–ç‰¹å®šçš„èªæ³•æ¨™è¨˜ã€‚

æ•´é«”ä¾†çœ‹ï¼Œé€™æ®µä»£ç¢¼å±•ç¤ºäº†ä¸€å€‹å¥å­çš„èªæ³•çµæ§‹ï¼Œå¯èƒ½ç”¨æ–¼èªè¨€å­¸ç ”ç©¶ä¸­çš„èªæ³•åˆ†ææˆ–å¥æ³•æ¨¹çš„è¡¨ç¤ºã€‚å…·é«”çš„èªè¨€å’Œèªæ³•è¦å‰‡éœ€è¦æ ¹æ“šä¸Šä¸‹æ–‡ä¾†é€²ä¸€æ­¥è§£é‡‹ã€‚

![çŸ­ä¾‹](assets/images/feynman/shortex.png)

å¯è§`$_i$`ä¾†è¡¨ç¤ºä¸‹æ¨™ã€‚`{\bf l-}`ä¾†è¡¨ç¤ºåŠ ç²—ã€‚

```latex
\enumsentence{A$'$ æŠ•å°„çš„çµæ§‹ï¼š\\ [2ex]
\begin{tabular}[t]{cccc}
    & \node{i}{CP}\\ [2ex]
    \node{ii}{Spec} &   &\node{iii}{C$'$}\\ [2ex]
        &\node{iv}{C} & & \node{v}{SAgrP}
\end{tabular}
\nodeconnect{i}{ii}
\nodeconnect{i}{iii}
\nodeconnect{iii}{iv}
\nodeconnect{iii}{v}
}
```

<img src="/assets/images/feynman/node.png" alt="èŠ‚ç‚¹" style="zoom:50%;" />

æ³¨æ„åˆ°ä½¿ç”¨`nodeconnect`ä¾†è¡¨ç¤ºé€£ç·šã€‚

è¦å°† LaTeX å…¬å¼è½¬æ¢ä¸º SVG æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨å¤šç§å·¥å…·å’Œæ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„æ–¹å¼ï¼š

### 1. ä½¿ç”¨ `MathJax` å’Œ `Node.js`
`MathJax` æ˜¯ä¸€ä¸ªæµè¡Œçš„ JavaScript åº“ï¼Œç”¨äºåœ¨ç½‘é¡µä¸Šæ¸²æŸ“æ•°å­¦å…¬å¼ã€‚ä½ å¯ä»¥ä½¿ç”¨ `MathJax` å’Œ `Node.js` å°† LaTeX å…¬å¼è½¬æ¢ä¸º SVGã€‚

#### æ­¥éª¤ï¼š
1. å®‰è£… `MathJax` å’Œ `Node.js`ï¼š
   ```bash
   npm install mathjax
   ```

2. åˆ›å»ºä¸€ä¸ª JavaScript æ–‡ä»¶ï¼ˆä¾‹å¦‚ `convert.js`ï¼‰ï¼š
   ```javascript
   const { mathjax } = require('mathjax-full/js/mathjax');
   const { TeX } = require('mathjax-full/js/input/tex');
   const { SVG } = require('mathjax-full/js/output/svg');
   const { liteAdaptor } = require('mathjax-full/js/adaptors/liteAdaptor');
   const { RegisterHTMLHandler } = require('mathjax-full/js/handlers/html');

   const adaptor = liteAdaptor();
   RegisterHTMLHandler(adaptor);

   const tex = new TeX();
   const svg = new SVG();

   const html = mathjax.document('', {
       InputJax: tex,
       OutputJax: svg
   });

   const equation = '\\frac{a}{b} + \\sqrt{c}';
   const node = html.convert(equation, {
       display: true
   });

   console.log(adaptor.outerHTML(node));
   ```

3. è¿è¡Œè„šæœ¬ï¼š
   ```bash
   node convert.js
   ```

   è¿™å°†è¾“å‡º SVG ä»£ç ï¼Œä½ å¯ä»¥å°†å…¶ä¿å­˜ä¸º `.svg` æ–‡ä»¶ã€‚

### 2. ä½¿ç”¨ `LaTeX` å’Œ `dvisvgm`
å¦‚æœä½ å·²ç»å®‰è£…äº† LaTeX å‘è¡Œç‰ˆï¼ˆå¦‚ TeX Live æˆ– MiKTeXï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ `dvisvgm` å·¥å…·å°† LaTeX æ–‡æ¡£è½¬æ¢ä¸º SVGã€‚

#### æ­¥éª¤ï¼š
1. åˆ›å»ºä¸€ä¸ª LaTeX æ–‡ä»¶ï¼ˆä¾‹å¦‚ `equation.tex`ï¼‰ï¼š
   ```latex
   \documentclass{standalone}
   \usepackage{amsmath}
   \begin{document}
   \[
   \frac{a}{b} + \sqrt{c}
   \]
   \end{document}
   ```

2. ç¼–è¯‘ LaTeX æ–‡ä»¶ä¸º DVI æ ¼å¼ï¼š
   ```bash
   latex equation.tex
   ```

3. ä½¿ç”¨ `dvisvgm` å°† DVI æ–‡ä»¶è½¬æ¢ä¸º SVGï¼š
   ```bash
   dvisvgm equation.dvi
   ```

   è¿™å°†ç”Ÿæˆä¸€ä¸ª `equation.svg` æ–‡ä»¶ã€‚

### 3. ä½¿ç”¨åœ¨çº¿å·¥å…·
å¦‚æœä½ ä¸æƒ³åœ¨æœ¬åœ°å®‰è£…ä»»ä½•å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨åœ¨çº¿å·¥å…·å°† LaTeX å…¬å¼è½¬æ¢ä¸º SVGã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„åœ¨çº¿å·¥å…·ï¼š

- [MathJax Demo](https://www.mathjax.org/#demo)
- [QuickLaTeX](https://www.quicklatex.com/)
- [CodeCogs LaTeX Editor](https://www.codecogs.com/latex/eqneditor.php)

è¿™äº›å·¥å…·é€šå¸¸å…è®¸ä½ è¾“å…¥ LaTeX å…¬å¼å¹¶ç›´æ¥ç”Ÿæˆ SVG å›¾åƒã€‚

### 4. ä½¿ç”¨ `Pandoc` å’Œ `wkhtmltopdf`
`Pandoc` æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æ¡£è½¬æ¢å·¥å…·ï¼Œç»“åˆ `wkhtmltopdf` å¯ä»¥å°† LaTeX æ–‡æ¡£è½¬æ¢ä¸º SVGã€‚

#### æ­¥éª¤ï¼š
1. å®‰è£… `Pandoc` å’Œ `wkhtmltopdf`ï¼š
   ```bash
   sudo apt-get install pandoc wkhtmltopdf
   ```

2. åˆ›å»ºä¸€ä¸ª LaTeX æ–‡ä»¶ï¼ˆä¾‹å¦‚ `equation.tex`ï¼‰ï¼š
   ```latex
   \documentclass{standalone}
   \usepackage{amsmath}
   \begin{document}
   \[
   \frac{a}{b} + \sqrt{c}
   \]
   \end{document}
   ```

3. ä½¿ç”¨ `Pandoc` å°† LaTeX æ–‡ä»¶è½¬æ¢ä¸º HTMLï¼š
   ```bash
   pandoc equation.tex -o equation.html
   ```

4. ä½¿ç”¨ `wkhtmltopdf` å°† HTML è½¬æ¢ä¸º SVGï¼š
   ```bash
   wkhtmltoimage --format svg equation.html equation.svg
   ```

   è¿™å°†ç”Ÿæˆä¸€ä¸ª `equation.svg` æ–‡ä»¶ã€‚

### æ€»ç»“
ä»¥ä¸Šæ˜¯å‡ ç§å°† LaTeX å…¬å¼è½¬æ¢ä¸º SVG çš„å¸¸è§æ–¹æ³•ã€‚ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ³•ã€‚å¦‚æœä½ éœ€è¦é¢‘ç¹åœ°è¿›è¡Œè½¬æ¢ï¼Œå»ºè®®ä½¿ç”¨æœ¬åœ°å·¥å…·å¦‚ `MathJax` æˆ– `dvisvgm`ã€‚å¦‚æœåªæ˜¯å¶å°”éœ€è¦è½¬æ¢ï¼Œä½¿ç”¨åœ¨çº¿å·¥å…·å¯èƒ½æ›´ä¸ºæ–¹ä¾¿ã€‚

ç»§ç»­é¡¹ç›®ã€‚

```latex
\documentclass[16pt]{article}
\usepackage{amsmath}
\begin{document}
```

\[\tfrac{1}{2}mv^2\] è¡¨ç¤ºçš„æ˜¯ç‰©ä½“çš„åŠ¨èƒ½ï¼Œå…¶ä¸­ \(m\) æ˜¯ç‰©ä½“çš„è´¨é‡ï¼Œ\(v\) æ˜¯ç‰©ä½“çš„é€Ÿåº¦ã€‚è¿™ä¸ªå…¬å¼è¡¨æ˜ï¼Œç‰©ä½“çš„åŠ¨èƒ½ä¸å…¶è´¨é‡å’Œé€Ÿåº¦çš„å¹³æ–¹æˆæ­£æ¯”ã€‚

\end{document}
```

<img src="/assets/images/feynman/frac.png" alt="frac" style="zoom:50%;" />

é€™æ¨£å¯ä»¥æ­£ç¢ºåœ°è¢«æ¸²æŸ“ã€‚åœ¨ç¨‹å¼ç¢¼è£¡ç„¡æ³•è¢«æ¸²æŸ“ï¼Œå¯èƒ½æ˜¯å› ç‚ºæ²’æœ‰åŠ ä¸Š`\usepackage{amsmath}`ã€‚

```latex
\documentclass[12pt,preview]{standalone}
```

\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{newtxtext}
\usepackage[libertine]{newtxmath}

\begin{document}
\begin{preview}
\tfrac{1}{2}mv^2
\end{preview}
\end{document}
```

```shell
! ç¼ºå°‘ $ æ’å…¥ã€‚
<æ’å…¥çš„æ–‡æœ¬>
                $
l.12 \tfrac{1}{2}
                 mv^2
```

é€™æ¨£å‡ºéŒ¯äº†ã€‚è€Œæ”¹æˆé€™æ¨£å°±å¯ä»¥äº†ã€‚

```latex
\[\tfrac{1}{2}mv^2\]
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ç‚ºï¼š

```latex
\[\tfrac{1}{2}mv^2\]
```

é€™æ˜¯ä¸€å€‹ç‰©ç†å…¬å¼ï¼Œè¡¨ç¤ºå‹•èƒ½ï¼ˆKinetic Energyï¼‰ï¼Œå…¶ä¸­ï¼š
- \( m \) æ˜¯ç‰©é«”çš„è³ªé‡ï¼Œ
- \( v \) æ˜¯ç‰©é«”çš„é€Ÿåº¦ã€‚

å…¬å¼çš„æ„æ€æ˜¯ï¼šå‹•èƒ½ç­‰æ–¼ç‰©é«”è³ªé‡çš„ä¸€åŠä¹˜ä»¥é€Ÿåº¦çš„å¹³æ–¹ã€‚

é€²è¡Œå„ç¨®è©¦æ¢ã€‚

```python
from bs4 import BeautifulSoup
from latex2svg import latex2svg
```

æ–‡ä»¶ = open('è´¹æ›¼ç‰©ç†å­¦è®²ä¹‰ ç¬¬ä¸€å· ç¬¬åä¸‰ç« ï¼šåŠŸä¸åŠ¿èƒ½ (A).html')
å†…å®¹ = æ–‡ä»¶.read()

soup = BeautifulSoup(content, features="lxml")

```python
mathjaxs = soup.findAll('script', {'type': 'math/tex'})
for mathjax in mathjaxs:
    print(mathjax.string)
    wrap = '$' + mathjax.string + '$'
    # å¦‚æœ mathjax.string åŒ…å« 'frac'ï¼Œåˆ™ wrap = '$' + mathjax.string + '$'
    # if 'frac' in mathjax.string:
    #     wrap = '$' + mathjax.string + '$'
    if 'FLP' in mathjax.string:
        continue
    elif 'Fig' in mathjax.string:
        continue
    elif 'eps' in mathjax.string:
        continue
    out = latex2svg(wrap)
    # print(out)
    node = BeautifulSoup(out['svg'], features="lxml")
    svg = node.find('svg')
    mathjax.insert_after(svg)
    # print(out['svg'])
    # break
    # mathjax.replaceWith(out['svg'])    
    
    # print(dir(mathjax))
    # break
    
    # out = latex2svg(wrap)    
    # print(out['svg'])
```

# print(len(soup.contents))
    
output_file = open('out.html', 'w')
output_file.write(soup.prettify())
output_file.close()
# print(soup.contents)

# out = latex2svg(r'\( e^{i \pi} + 1 = 0 \)')
# print(out['depth'])
# print(out['svg'])

# svg = open('1.svg', 'w')
# svg.write(out['svg'])
# svg.close()

```
```

é€™äº›æˆ‘éƒ½åœ¨è©¦æ¢ä»€éº¼å‘¢ã€‚

```python
    if 'FLP' in mathjax.string:
        continue
    elif 'åœ–' in mathjax.string:  # 'Fig' ç¿»è­¯ç‚º 'åœ–'
        continue
    elif 'eps' in mathjax.string:
        continue
```

è¿™é‡Œåœ¨è§£æåˆ°`latex`æºç ä¸­åŒ…å«`FLP`ã€`Fig`ã€`eps`æ—¶ï¼Œè½¬æ¢è¿‡ç¨‹å‡ºç°äº†é”™è¯¯ã€‚

ä¾‹å¦‚ï¼Œåœ¨`HTML`ä¸­ï¼Œæœ‰é€™æ¨£çš„è…³æœ¬ï¼š

```html
<script type="math/tex" id="MathJax-Element-11">\FLPF\cdot\FLPv</script>
```

è§£ææ‹¿åˆ°ï¼š

```latex
\FLPF\cdot\FLPv
```

é€™æ®µ LaTeX ä»£ç¢¼è¡¨ç¤ºå‘é‡ \(\mathbf{F}\) èˆ‡å‘é‡ \(\mathbf{v}\) çš„é»ç©ï¼ˆå…§ç©ï¼‰ã€‚åœ¨æ•¸å­¸ä¸­ï¼Œé»ç©æ˜¯å…©å€‹å‘é‡ä¹‹é–“çš„ä¸€ç¨®é‹ç®—ï¼Œçµæœæ˜¯ä¸€å€‹æ¨™é‡ï¼ˆç´”é‡ï¼‰ã€‚å…·é«”ä¾†èªªï¼Œ\(\mathbf{F} \cdot \mathbf{v}\) è¡¨ç¤ºå‘é‡ \(\mathbf{F}\) å’Œå‘é‡ \(\mathbf{v}\) çš„é»ç©ã€‚

å¦‚æœä½ éœ€è¦å°‡é€™æ®µä»£ç¢¼ç¿»è­¯æˆå…¶ä»–èªè¨€æˆ–è§£é‡‹å…¶å«ç¾©ï¼Œè«‹å‘Šè¨´æˆ‘ï¼

åœ¨ä»£ç è½¬æ¢è¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`latex2svg.py` å‡ºé”™äº†ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ `latex` ç¨‹åºæ¥è¿›è¡Œè½¬æ¢ã€‚

`code.tex` æ˜¯ä¸€ä¸ªæ–‡ä»¶åï¼Œé€šå¸¸ç”¨äºå­˜å‚¨ä¸ç¼–ç¨‹ç›¸å…³çš„ LaTeX æ–‡æ¡£ã€‚LaTeX æ˜¯ä¸€ç§åŸºäº TeX çš„æ’ç‰ˆç³»ç»Ÿï¼Œå¹¿æ³›ç”¨äºç”Ÿæˆé«˜è´¨é‡çš„ç§‘æŠ€å’Œæ•°å­¦æ–‡æ¡£ã€‚`code.tex` æ–‡ä»¶å¯èƒ½åŒ…å«ç”¨äºæ’ç‰ˆä»£ç ã€ç®—æ³•ã€æ•°å­¦å…¬å¼æˆ–å…¶ä»–æŠ€æœ¯å†…å®¹çš„ LaTeX ä»£ç ã€‚

å¦‚æœä½ éœ€è¦ç¿»è¯‘ `code.tex` æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œè¯·æä¾›æ–‡ä»¶çš„å…·ä½“å†…å®¹ï¼Œæˆ‘å°†å¸®åŠ©ä½ è¿›è¡Œç¿»è¯‘ã€‚

```latex
\documentclass[12pt,preview]{standalone}
```

\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{newtxtext}
\usepackage[libertine]{newtxmath}

\begin{document}
\begin{preview}
\begin{equation}
    \FLPF\cdot\FLPv
\end{equation}
\end{preview}
\end{document}
```

```shell
$latex code.tex
! æœªå®šä¹‰çš„å‘½ä»¤åºåˆ—ã€‚
l.13     \FLPF
              \cdot\FLPv
?
```

è¿™åˆ°åº•æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚æˆ‘åæ¥æ‰æ³¨æ„åˆ°åœ¨`html`ä¸­çš„è¿™æ®µä»£ç ã€‚

```html
<script type="text/x-mathjax-config;executed=true">
      MathJax.Hub.Config({
        TeX: {
          Macros: {
            FLPvec: ["\\boldsymbol{#1}", 1], 
            Figvec: ["\\mathbf{#1}", 1], 
            FLPC: ["\\FLPvec{C}", 0], 
            FLPF: ["\\FLPvec{F}", 0], 
            FLPa: ["\\FLPvec{a}", 0], 
            FLPb: ["\\FLPvec{b}", 0], 
            FLPr: ["\\FLPvec{r}", 0], 
            FLPs: ["\\FLPvec{s}", 0], 
            FLPv: ["\\FLPvec{v}", 0], 
            ddt: ["\\frac{d#1}{d#2}", 2], 
            epsO: ["\\epsilon_0", 0], 
            FigC: ["\\Figvec{C}", 0]
          }
        }
      });
</script>
```

è¿™æ„å‘³ç€åœ¨ç½‘é¡µæ¸²æŸ“æ—¶ï¼Œå·²ç»ä¸º`MathJax`é…ç½®äº†å®ã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„`latex`è½¬æ¢æºç ä¸­ä¹Ÿåº”å½“åŠ å…¥ç›¸åº”çš„å®å®šä¹‰ã€‚ç°åœ¨å°±æ¥æ·»åŠ å®ƒä»¬å§ã€‚

```latex
\documentclass[12pt,preview]{standalone}
```

\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{newtxtext}
\usepackage[libertine]{newtxmath}

\newcommand{\FLPvec}[1]{\boldsymbol{#1}}
\newcommand{\Figvec}[1]{\mathbf{#1}}
\newcommand{\FLPC}{\FLPvec{C}}
\newcommand{\FLPF}{\FLPvec{F}}
\newcommand{\FLPa}{\FLPvec{a}}
\newcommand{\FLPb}{\FLPvec{a}}
\newcommand{\FLPr}{\FLPvec{r}}
\newcommand{\FLPs}{\FLPvec{s}}
\newcommand{\FLPv}{\FLPvec{v}}
\newcommand{\ddt}[2]{\frac{d#1}{d#2}}
\newcommand{\epsO}{\epsilon_0}
\newcommand{\FigC}{\Figvec{C}}
\begin{document}
\begin{preview}
\begin{equation}
    \FLPF\cdot\FLPv
\end{equation}
\end{preview}
\end{document}
```

é€™æ¨£å°±å°äº†ã€‚

![fv1](assets/images/feynman/fv1.png)

### åˆ†æä»£ç 

åœ¨åˆ†æä»£ç æ—¶ï¼Œé€šå¸¸éœ€è¦éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. **ç†è§£ä»£ç çš„åŠŸèƒ½**ï¼š
   - é¦–å…ˆï¼Œæ˜ç¡®ä»£ç çš„æ€»ä½“ç›®æ ‡æ˜¯ä»€ä¹ˆã€‚å®ƒæ˜¯åœ¨å¤„ç†æ•°æ®ã€æ‰§è¡Œè®¡ç®—ã€è¿˜æ˜¯æ§åˆ¶æŸä¸ªè®¾å¤‡ï¼Ÿ
   - äº†è§£ä»£ç çš„è¾“å…¥å’Œè¾“å‡ºæ˜¯ä»€ä¹ˆã€‚

2. **é˜…è¯»ä»£ç ç»“æ„**ï¼š
   - æŸ¥çœ‹ä»£ç çš„æ•´ä½“ç»“æ„ï¼ŒåŒ…æ‹¬å‡½æ•°ã€ç±»ã€æ¨¡å—ç­‰ã€‚
   - æ³¨æ„ä»£ç çš„ç¼©è¿›å’Œæ ¼å¼ï¼Œè¿™æœ‰åŠ©äºç†è§£ä»£ç çš„é€»è¾‘ç»“æ„ã€‚

3. **é€è¡Œåˆ†æ**ï¼š
   - é€è¡Œé˜…è¯»ä»£ç ï¼Œç†è§£æ¯ä¸€è¡Œä»£ç çš„ä½œç”¨ã€‚
   - æ³¨æ„å˜é‡åã€å‡½æ•°åå’Œç±»åï¼Œå®ƒä»¬é€šå¸¸èƒ½æä¾›å…³äºä»£ç åŠŸèƒ½çš„çº¿ç´¢ã€‚

4. **è°ƒè¯•å’Œæµ‹è¯•**ï¼š
   - å¦‚æœå¯èƒ½ï¼Œè¿è¡Œä»£ç å¹¶è§‚å¯Ÿå…¶è¡Œä¸ºã€‚
   - ä½¿ç”¨è°ƒè¯•å·¥å…·é€æ­¥æ‰§è¡Œä»£ç ï¼ŒæŸ¥çœ‹å˜é‡çš„å€¼å’Œç¨‹åºçš„æµç¨‹ã€‚

5. **æŸ¥æ‰¾æ–‡æ¡£å’Œæ³¨é‡Š**ï¼š
   - é˜…è¯»ä»£ç ä¸­çš„æ³¨é‡Šï¼Œå®ƒä»¬é€šå¸¸æä¾›äº†å…³äºä»£ç åŠŸèƒ½çš„é¢å¤–ä¿¡æ¯ã€‚
   - æŸ¥æ‰¾ç›¸å…³çš„æ–‡æ¡£æˆ–APIå‚è€ƒï¼Œäº†è§£ä½¿ç”¨çš„åº“æˆ–æ¡†æ¶ã€‚

6. **ä¼˜åŒ–å’Œæ”¹è¿›**ï¼š
   - è¯†åˆ«ä»£ç ä¸­çš„æ½œåœ¨é—®é¢˜ï¼Œå¦‚æ€§èƒ½ç“¶é¢ˆã€å®‰å…¨æ¼æ´æˆ–å¯è¯»æ€§é—®é¢˜ã€‚
   - æå‡ºæ”¹è¿›å»ºè®®ï¼Œå¦‚é‡æ„ä»£ç ã€ä¼˜åŒ–ç®—æ³•æˆ–å¢åŠ é”™è¯¯å¤„ç†ã€‚

7. **æ€»ç»“å’ŒæŠ¥å‘Š**ï¼š
   - æ€»ç»“ä»£ç çš„åŠŸèƒ½å’Œç»“æ„ã€‚
   - æŠ¥å‘Šå‘ç°çš„é—®é¢˜å’Œæ”¹è¿›å»ºè®®ã€‚

### ç¤ºä¾‹ä»£ç åˆ†æ

å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹Pythonä»£ç ï¼š

```python
def calculate_sum(numbers):
    total = 0
    for number in numbers:
        total += number
    return total

numbers = [1, 2, 3, 4, 5]
result = calculate_sum(numbers)
print("The sum is:", result)
```

**åˆ†ææ­¥éª¤**ï¼š

1. **ç†è§£ä»£ç çš„åŠŸèƒ½**ï¼š
   - è¿™æ®µä»£ç çš„åŠŸèƒ½æ˜¯è®¡ç®—ä¸€ä¸ªåˆ—è¡¨ä¸­æ‰€æœ‰æ•°å­—çš„æ€»å’Œã€‚

2. **é˜…è¯»ä»£ç ç»“æ„**ï¼š
   - ä»£ç å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° `calculate_sum`ï¼Œè¯¥å‡½æ•°æ¥å—ä¸€ä¸ªåˆ—è¡¨ `numbers` ä½œä¸ºå‚æ•°ã€‚
   - å‡½æ•°å†…éƒ¨ä½¿ç”¨ä¸€ä¸ª `for` å¾ªç¯éå†åˆ—è¡¨ä¸­çš„æ¯ä¸ªæ•°å­—ï¼Œå¹¶å°†å…¶ç´¯åŠ åˆ° `total` å˜é‡ä¸­ã€‚
   - æœ€åï¼Œå‡½æ•°è¿”å› `total` çš„å€¼ã€‚

3. **é€è¡Œåˆ†æ**ï¼š
   - `def calculate_sum(numbers):` å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° `calculate_sum`ã€‚
   - `total = 0` åˆå§‹åŒ–ä¸€ä¸ªå˜é‡ `total`ï¼Œç”¨äºå­˜å‚¨ç´¯åŠ çš„ç»“æœã€‚
   - `for number in numbers:` éå†åˆ—è¡¨ `numbers` ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚
   - `total += number` å°†å½“å‰å…ƒç´ çš„å€¼åŠ åˆ° `total` ä¸Šã€‚
   - `return total` è¿”å›ç´¯åŠ çš„ç»“æœã€‚
   - `numbers = [1, 2, 3, 4, 5]` å®šä¹‰äº†ä¸€ä¸ªåŒ…å«æ•°å­—çš„åˆ—è¡¨ã€‚
   - `result = calculate_sum(numbers)` è°ƒç”¨ `calculate_sum` å‡½æ•°ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨ `result` å˜é‡ä¸­ã€‚
   - `print("The sum is:", result)` æ‰“å°å‡ºè®¡ç®—ç»“æœã€‚

4. **è°ƒè¯•å’Œæµ‹è¯•**ï¼š
   - è¿è¡Œä»£ç ï¼Œè¾“å‡ºåº”ä¸º `The sum is: 15`ï¼Œè¿™æ˜¯åˆ—è¡¨ `[1, 2, 3, 4, 5]` çš„æ€»å’Œã€‚

5. **æŸ¥æ‰¾æ–‡æ¡£å’Œæ³¨é‡Š**ï¼š
   - ä»£ç ä¸­æ²¡æœ‰æ³¨é‡Šï¼Œä½†å˜é‡åå’Œå‡½æ•°åæ¸…æ™°åœ°è¡¨è¾¾äº†ä»£ç çš„åŠŸèƒ½ã€‚

6. **ä¼˜åŒ–å’Œæ”¹è¿›**ï¼š
   - ä»£ç å·²ç»éå¸¸ç®€æ´å’Œé«˜æ•ˆï¼Œæ²¡æœ‰æ˜æ˜¾çš„ä¼˜åŒ–ç©ºé—´ã€‚
   - å¯ä»¥å¢åŠ ä¸€äº›é”™è¯¯å¤„ç†ï¼Œä¾‹å¦‚æ£€æŸ¥è¾“å…¥æ˜¯å¦ä¸ºåˆ—è¡¨æˆ–åˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯å¦ä¸ºæ•°å­—ã€‚

7. **æ€»ç»“å’ŒæŠ¥å‘Š**ï¼š
   - ä»£ç æˆåŠŸåœ°è®¡ç®—äº†åˆ—è¡¨ä¸­æ‰€æœ‰æ•°å­—çš„æ€»å’Œã€‚
   - ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£ã€‚
   - å»ºè®®å¢åŠ è¾“å…¥éªŒè¯ä»¥æé«˜ä»£ç çš„å¥å£®æ€§ã€‚

é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å…¨é¢åœ°åˆ†æå’Œç†è§£ä»£ç çš„åŠŸèƒ½å’Œç»“æ„ã€‚

æ¥çœ‹çœ‹æœ€ç»ˆçš„ä»£ç ã€‚

```python
import subprocess
from bs4 import BeautifulSoup
from latex2svg import latex2svg
```

```python
def clean_mathjax(soup, name, cls):
    # æŸ¥æ‰¾æ‰€æœ‰å…·æœ‰æŒ‡å®šé¡åçš„å…ƒç´ 
    previews = soup.findAll(name, {'class': cls})
    for preview in previews:
        # ç§»é™¤é€™äº›å…ƒç´ 
        preview.decompose()
        
def clean_script(soup):
    # æŸ¥æ‰¾æ‰€æœ‰çš„ script æ¨™ç±¤
    scripts = soup.findAll('script')
    for s in scripts:
        # ç§»é™¤é€™äº› script æ¨™ç±¤
        s.decompose()
```

```python
def wrap_latex(mathjax, equation = False):
    wrap = ''
    if equation:
        wrap = mathjax.string
    else:
        wrap = '$' + mathjax.string + '$'
    wrap = wrap.replace('label', 'tag')
    return wrap
 
def wrap_svg(svg, equation):
    if equation:
        p = BeautifulSoup(f'<div style="text-align:center;"></div>', features="lxml")
        p.div.append(svg)
        return p.div
    else:
        return svg
```

é€™æ®µç¨‹å¼ç¢¼å®šç¾©äº†å…©å€‹å‡½æ•¸ï¼š`wrap_latex` å’Œ `wrap_svg`ã€‚

1. `wrap_latex` å‡½æ•¸ç”¨æ–¼è™•ç† LaTeX æ ¼å¼çš„æ•¸å­¸è¡¨é”å¼ã€‚å¦‚æœ `equation` åƒæ•¸ç‚º `True`ï¼Œå‰‡ç›´æ¥ä½¿ç”¨ `mathjax.string`ï¼›å¦å‰‡ï¼Œå°‡ `mathjax.string` ç”¨ `$` ç¬¦è™ŸåŒ…è£¹èµ·ä¾†ï¼Œè¡¨ç¤ºé€™æ˜¯ä¸€å€‹è¡Œå…§æ•¸å­¸è¡¨é”å¼ã€‚æ­¤å¤–ï¼Œå‡½æ•¸é‚„æœƒå°‡å­—ç¬¦ä¸²ä¸­çš„ `label` æ›¿æ›ç‚º `tag`ã€‚

2. `wrap_svg` å‡½æ•¸ç”¨æ–¼è™•ç† SVG åœ–åƒã€‚å¦‚æœ `equation` åƒæ•¸ç‚º `True`ï¼Œå‰‡å°‡ SVG åœ–åƒåŒ…è£¹åœ¨ä¸€å€‹å±…ä¸­çš„ `div` æ¨™ç±¤ä¸­ï¼›å¦å‰‡ï¼Œç›´æ¥è¿”å› SVG åœ–åƒã€‚

é€™å…©å€‹å‡½æ•¸é€šå¸¸ç”¨æ–¼å°‡æ•¸å­¸è¡¨é”å¼å’Œåœ–åƒåµŒå…¥åˆ°ç¶²é ä¸­ï¼Œä¸¦æ ¹æ“šéœ€è¦é€²è¡Œæ ¼å¼åŒ–ã€‚

```python
def to_svg(mathjaxs, equation=False):
    if equation:
        svg_prefix = 'eq_'
    else:
        svg_prefix = 'in_'
    i = 0
    for mathjax in mathjaxs:     
        print(mathjax.string)
        wrap = wrap_latex(mathjax, equation=equation)   
        out = {}
        try:
            out = latex2svg(wrap)   
        except subprocess.CalledProcessError as err:
            raise err      
            
        f = open(f'svgs/{svg_prefix}{i}.svg', 'w')
        f.write(out['svg'])
        f.close()
        
        node = BeautifulSoup('<img>', features="lxml")
        img = node.find('img')
        img.attrs['src'] = f'./svgs/{svg_prefix}{i}.svg'
        img.attrs['style'] = 'vertical-align: middle; margin: 0.5em 0;'
        
        p = wrap_svg(img, equation)
        mathjax.insert_after(p)
        i +=1
```

```python
def to_svg(mathjaxs, equation=False):
    if equation:
        svg_prefix = 'eq_'
    else:
        svg_prefix = 'in_'
    i = 0
    for mathjax in mathjaxs:     
        print(mathjax.string)
        wrap = wrap_latex(mathjax, equation=equation)   
        out = {}
        try:
            out = latex2svg(wrap)   
        except subprocess.CalledProcessError as err:
            raise err      
            
        f = open(f'svgs/{svg_prefix}{i}.svg', 'w')
        f.write(out['svg'])
        f.close()
        
        node = BeautifulSoup('<img>', features="lxml")
        img = node.find('img')
        img.attrs['src'] = f'./svgs/{svg_prefix}{i}.svg'
        img.attrs['style'] = 'vertical-align: middle; margin: 0.5em 0;'
        
        p = wrap_svg(img, equation)
        mathjax.insert_after(p)
        i +=1
```

def main():    
    # æ‰“å¼€åŒ…å«ç‰©ç†å­¦è®²ä¹‰å†…å®¹çš„HTMLæ–‡ä»¶
    file = open('The Feynman Lectures on Physics Vol. I Ch. 13_ Work and Potential Energy (A).html')
    content = file.read()
    
    # ä½¿ç”¨BeautifulSoupè§£æHTMLå†…å®¹
    soup = BeautifulSoup(content, features="lxml")
    
    # æ¸…ç†MathJaxç›¸å…³çš„æ ‡ç­¾
    clean_mathjax(soup, 'span', 'MathJax')
    clean_mathjax(soup, 'div', 'MathJax_Display')
    clean_mathjax(soup, 'span', 'MathJax_Preview')
    
    # æŸ¥æ‰¾æ‰€æœ‰å†…è”æ•°å­¦å…¬å¼çš„MathJaxè„šæœ¬
    mathjaxs = soup.findAll('script', {'type': 'math/tex'})
    # å°†å†…è”æ•°å­¦å…¬å¼è½¬æ¢ä¸ºSVGæ ¼å¼
    to_svg(mathjaxs, equation=False)
    
    # æŸ¥æ‰¾æ‰€æœ‰æ˜¾ç¤ºæ¨¡å¼çš„æ•°å­¦å…¬å¼çš„MathJaxè„šæœ¬
    mathjaxs = soup.findAll('script', {'type': 'math/tex; mode=display'})   
    # å°†æ˜¾ç¤ºæ¨¡å¼çš„æ•°å­¦å…¬å¼è½¬æ¢ä¸ºSVGæ ¼å¼
    to_svg(mathjaxs, equation=True)
    
    # æ¸…ç†HTMLä¸­çš„è„šæœ¬æ ‡ç­¾
    clean_script(soup)
    
    # å°†å¤„ç†åçš„HTMLå†…å®¹å†™å…¥è¾“å‡ºæ–‡ä»¶
    output_file = open('out.html', 'w')
    output_file.write(soup.prettify())
    output_file.close()

ä¸»å‡½æ•°()
```

å½“æˆ‘ä»¬æƒ³è½¬æ¢æ•´æœ¬ç”µå­ä¹¦æ—¶ï¼Œå¯ä»¥å…ˆä»¥ä¸€é¡µä½œä¸ºè¯•éªŒã€‚

```python
    file = open('è²»æ›¼ç‰©ç†å­¸è¬›ç¾© ç¬¬ä¸€å· ç¬¬åä¸‰ç« ï¼šåŠŸèˆ‡ä½èƒ½ (A).html')
    content = file.read()
```

é€™è£¡ä¾¿æ˜¯ä¸‹è¼‰äº†ä¸€å€‹é é¢ã€‚

`MathJax` ç”Ÿæˆäº†å¾ˆå¤šçš„ `div` å’Œ `span`ã€‚æ„æ€æ˜¯æ¯”å¦‚ `T+U=const`ã€‚MathJax è¿™æ ·æ¥ç”Ÿæˆã€‚

```html
<span class="MathJax">T</span>
<span class="MathJax">+</span>
<span class="MathJax">U</span>
<span class="MathJax">=</span>
<span class="MathJax">å¸¸æ•¸</span>
```

è¿™äº›å†…å®¹å¾ˆçƒ¦äººï¼Œä¹Ÿä¼šå¹²æ‰°æˆ‘ä»¬çš„æ–‡æœ¬ã€‚æ—¢ç„¶å·²ç»æœ‰äº†`svg`ï¼Œå°±ä¸å†éœ€è¦è¿™äº›äº†ã€‚

```python
def clean_mathjax(soup, name, cls):
    previews = soup.findAll(name, {'class': cls})
    for preview in previews:
        preview.decompose()
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ï¼š

```python
def clean_mathjax(soup, name, cls):
    previews = soup.findAll(name, {'class': cls})
    for preview in previews:
        preview.decompose()
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯å¾ HTML æ–‡æª”ä¸­ç§»é™¤æ‰€æœ‰æŒ‡å®šåç¨±å’Œé¡åˆ¥çš„å…ƒç´ ã€‚å…·é«”ä¾†èªªï¼Œå®ƒæœƒæ‰¾åˆ°æ‰€æœ‰ç¬¦åˆæ¢ä»¶çš„å…ƒç´ ä¸¦å°‡å…¶å¾æ–‡æª”æ¨¹ä¸­åˆªé™¤ã€‚

```python
clean_mathjax(soup, 'span', 'MathJax')
clean_mathjax(soup, 'div', 'MathJax_Display')
clean_mathjax(soup, 'span', 'MathJax_Preview')
```

```traditional_chinese
clean_mathjax(soup, 'span', 'MathJax')
clean_mathjax(soup, 'div', 'MathJax_Display')
clean_mathjax(soup, 'span', 'MathJax_Preview')
```

æŠŠå®ƒä»¬éƒ½å»æ‰ã€‚

```python
    mathjaxs = soup.findAll('script', {'type': 'math/tex'})
    to_svg(mathjaxs, equation=False)
    
    mathjaxs = soup.findAll('script', {'type': 'math/tex; mode=display'})   
    to_svg(mathjaxs, equation=True)
```

é€™æ®µä»£ç¢¼çš„åŠŸèƒ½æ˜¯å¾HTMLæ–‡æª”ä¸­æå–MathJaxæ ¼å¼çš„æ•¸å­¸è¡¨é”å¼ï¼Œä¸¦å°‡å…¶è½‰æ›ç‚ºSVGæ ¼å¼çš„åœ–åƒã€‚å…·é«”ä¾†èªªï¼š

1. `soup.findAll('script', {'type': 'math/tex'})`ï¼šé€™è¡Œä»£ç¢¼ä½¿ç”¨BeautifulSoupåº«æŸ¥æ‰¾æ‰€æœ‰`<script>`æ¨™ç±¤ï¼Œå…¶`type`å±¬æ€§ç‚º`math/tex`ï¼Œé€™äº›æ¨™ç±¤é€šå¸¸åŒ…å«è¡Œå…§æ•¸å­¸å…¬å¼ã€‚

2. `to_svg(mathjaxs, equation=False)`ï¼šé€™è¡Œä»£ç¢¼å°‡æ‰¾åˆ°çš„è¡Œå…§æ•¸å­¸å…¬å¼è½‰æ›ç‚ºSVGåœ–åƒï¼Œ`equation=False`è¡¨ç¤ºé€™äº›æ˜¯è¡Œå…§å…¬å¼ã€‚

3. `soup.findAll('script', {'type': 'math/tex; mode=display'})`ï¼šé€™è¡Œä»£ç¢¼æŸ¥æ‰¾æ‰€æœ‰`<script>`æ¨™ç±¤ï¼Œå…¶`type`å±¬æ€§ç‚º`math/tex; mode=display`ï¼Œé€™äº›æ¨™ç±¤é€šå¸¸åŒ…å«ç¨ç«‹çš„æ•¸å­¸å…¬å¼ã€‚

4. `to_svg(mathjaxs, equation=True)`ï¼šé€™è¡Œä»£ç¢¼å°‡æ‰¾åˆ°çš„ç¨ç«‹æ•¸å­¸å…¬å¼è½‰æ›ç‚ºSVGåœ–åƒï¼Œ`equation=True`è¡¨ç¤ºé€™äº›æ˜¯ç¨ç«‹å…¬å¼ã€‚

ç¸½çš„ä¾†èªªï¼Œé€™æ®µä»£ç¢¼çš„ç›®çš„æ˜¯å°‡HTMLæ–‡æª”ä¸­çš„MathJaxæ•¸å­¸è¡¨é”å¼è½‰æ›ç‚ºSVGåœ–åƒï¼Œä»¥ä¾¿åœ¨ç¶²é ä¸Šé¡¯ç¤ºã€‚

æ³¨æ„åˆ°é€™è£¡åˆ†æˆå…©ç¨®çš„`script`ã€‚

```latex
m\frac{dv}{dt} = F
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ç‚ºï¼š

```latex
m\frac{dv}{dt} = F
```

é€™è¡¨ç¤ºè³ªé‡ \( m \) ä¹˜ä»¥é€Ÿåº¦ \( v \) å°æ™‚é–“ \( t \) çš„å°æ•¸ç­‰æ–¼ä½œç”¨åŠ› \( F \)ã€‚é€™æ˜¯ç‰›é “ç¬¬äºŒé‹å‹•å®šå¾‹çš„æ•¸å­¸è¡¨é”å¼ã€‚

é€™æ˜¯å…§åµŒå½¢å¼çš„ã€‚

```latex
\begin{equation}
\underset{\text{åŠ¨èƒ½}}{\tfrac{1}{2}mv^2}+
\underset{\text{åŠ¿èƒ½}}{\vphantom{\tfrac{1}{2}}mgh}=\text{å¸¸æ•°},\notag
```

é€™æ˜¯æˆæ®µå½¢å¼çš„ã€‚

å½“é‡‡ç”¨å†…åµŒå½¢å¼æ—¶ï¼Œè½¬æ¢éœ€åœ¨è¡¨è¾¾å¼ä¸¤ä¾§æ·»åŠ `$`æˆ–`[]`ã€‚å¦åˆ™ï¼Œå¯èƒ½ä¼šå‡ºç°é”™è¯¯ã€‚

```latex
\begin{document}
\begin{preview}
\tfrac{1}{2}mv^2
\end{preview}
\end{document}
```

```shell
! ç¼ºå°‘ $ æ’å…¥ã€‚
<æ’å…¥çš„æ–‡æœ¬>
                $
l.26 \tfrac{1}{2}
                 mv^2
```

æ‡‰è©²æ”¹æˆé€™æ¨£ï¼š

```latex
\begin{document}
\begin{preview}
$\tfrac{1}{2}mv^2$
\end{preview}
\end{document}
```

é€™æ®µ LaTeX ä»£ç¢¼å®šç¾©äº†ä¸€å€‹æ–‡æª”ï¼Œå…¶ä¸­åŒ…å«ä¸€å€‹é è¦½ç’°å¢ƒï¼Œé¡¯ç¤ºäº†å‹•èƒ½å…¬å¼ $\tfrac{1}{2}mv^2$ã€‚å…¬å¼è¡¨ç¤ºç‰©é«”çš„å‹•èƒ½ï¼Œå…¶ä¸­ $m$ æ˜¯è³ªé‡ï¼Œ$v$ æ˜¯é€Ÿåº¦ã€‚

æ¥ä¸‹æ¥çœ‹çœ‹å¦‚ä½•å°†`latex`è½¬æ¢æˆ`svg`ã€‚

```python
    if equation:
        svg_prefix = 'eq_'
    else:
        svg_prefix = 'in_'
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ï¼š

```python
    if equation:
        svg_prefix = 'eq_'
    else:
        svg_prefix = 'in_'
```

é€™æ®µä»£ç¢¼çš„æ„æ€æ˜¯ï¼šå¦‚æœ `equation` ç‚ºçœŸï¼ˆå³æ¢ä»¶æˆç«‹ï¼‰ï¼Œå‰‡å°‡ `svg_prefix` è¨­ç½®ç‚º `'eq_'`ï¼›å¦å‰‡ï¼Œå°‡ `svg_prefix` è¨­ç½®ç‚º `'in_'`ã€‚

```shell
% tree svgs
svgs
â”œâ”€â”€ eq_0.svg
â”œâ”€â”€ eq_1.svg
â”œâ”€â”€ in_0.svg
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ï¼š

```shell
% tree svgs
svgs
â”œâ”€â”€ eq_0.svg
â”œâ”€â”€ eq_1.svg
â”œâ”€â”€ in_0.svg
```

ï¼ˆæ³¨ï¼šæ–‡ä»¶çµæ§‹å’Œåç¨±åœ¨ç¿»è­¯å¾Œä¿æŒä¸è®Šï¼Œå› ç‚ºé€™äº›æ˜¯æ–‡ä»¶åå’Œç›®éŒ„çµæ§‹ï¼Œé€šå¸¸ä¸éœ€è¦ç¿»è­¯ã€‚ï¼‰

é€™æ¨£ä¾†ä¿å­˜`svg`ã€‚

```python
def wrap_latex(mathjax, equation = False):
    wrap = ''
    if equation:
        wrap = mathjax.string
    else:
        wrap = '$' + mathjax.string + '$'
    wrap = wrap.replace('label', 'tag')
    return wrap
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯å°‡ LaTeX æ•¸å­¸è¡¨é”å¼åŒ…è£åœ¨é©ç•¶çš„æ¨™è¨˜ä¸­ã€‚å¦‚æœ `equation` åƒæ•¸ç‚º `True`ï¼Œå‰‡ç›´æ¥ä½¿ç”¨ `mathjax.string`ï¼›å¦å‰‡ï¼Œå°‡ `mathjax.string` åŒ…è£åœ¨ `$` ç¬¦è™Ÿä¸­ã€‚æ­¤å¤–ï¼Œç¨‹å¼ç¢¼é‚„æœƒå°‡å­—ä¸²ä¸­çš„ `label` æ›¿æ›ç‚º `tag`ï¼Œä¸¦è¿”å›è™•ç†å¾Œçš„å­—ä¸²ã€‚

è¿™é‡Œæ¥å¯¹`latex`æºç è¿›è¡Œä¸€äº›è°ƒæ•´ã€‚æ³¨æ„åˆ°`label`å˜æˆäº†`tag`ã€‚

![æ ‡ç­¾](assets/images/feynman/tag.png)

æ³¨æ„å³é‚Šçš„`(Eq:I:13:14)`ã€‚å¦‚æœæ˜¯`label`çš„è©±ï¼Œå‰‡æ²’è§£ææˆåŠŸã€‚é€™æœƒé¡¯ç¤ºçš„æ˜¯`(1)`ã€‚é€™è£¡å°‡å°±ç”¨`tag`è¡¨ç¤ºä¸€ä¸‹ï¼Œæš«æ™‚æ²’æœ‰æ·±ç©¶ã€‚

æ¥ç€å°±è¿›è¡Œè°ƒç”¨`latex2svg.py`ã€‚

```python
        out = {}
        try:
            out = latex2svg(wrap)   
        except subprocess.CalledProcessError as err:
            raise err    
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ï¼š

```python
        out = {}
        try:
            out = latex2svg(wrap)   
        except subprocess.CalledProcessError as err:
            raise err    
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯å˜—è©¦å°‡ LaTeX å­—ä¸²è½‰æ›ç‚º SVG åœ–åƒï¼Œä¸¦å°‡çµæœå­˜å„²åœ¨ `out` è®Šæ•¸ä¸­ã€‚å¦‚æœè½‰æ›éç¨‹ä¸­ç™¼ç”ŸéŒ¯èª¤ï¼ˆä¾‹å¦‚ï¼Œå­ç¨‹åºåŸ·è¡Œå¤±æ•—ï¼‰ï¼Œå‰‡æœƒæ•ç²è©²éŒ¯èª¤ä¸¦é‡æ–°æ‹‹å‡ºã€‚

çœ‹çœ‹ `latex2svg.py`ã€‚

```python
    # é‹è¡Œ LaTeX ä¸¦å‰µå»º DVI æ–‡ä»¶
    try:
        ret = subprocess.run(shlex.split(params['latex_cmd']+' code.tex'),
                             stdout=subprocess.PIPE, stderr=subprocess.PIPE,
                             cwd=working_directory)
        ret.check_returncode()
    except FileNotFoundError:
        raise RuntimeError('æœªæ‰¾åˆ° latex')
```

é€™è£¡æ˜¯åœ¨èª¿ç”¨`latex`å‘½ä»¤ã€‚

```shell
% latex --help
ç”¨æ³•ï¼špdftex [é¸é …]... [TEXæª”æ¡ˆå[.tex]] [å‘½ä»¤]
   æˆ–ï¼špdftex [é¸é …]... \é¦–è¡Œå…§å®¹
   æˆ–ï¼špdftex [é¸é …]... &æ ¼å¼ åƒæ•¸
  åœ¨TEXæª”æ¡ˆåä¸Šé‹è¡ŒpdfTeXï¼Œé€šå¸¸ç”ŸæˆTEXæª”æ¡ˆå.pdfã€‚
```

```python
    try:
        ret = subprocess.run(shlex.split(params['dvisvgm_cmd']+' code.dvi'),
                             stdout=subprocess.PIPE, stderr=subprocess.PIPE,
                             cwd=working_directory, env=env)
        ret.check_returncode()
    except FileNotFoundError:
        raise RuntimeError('æœªæ‰¾åˆ° dvisvgm')
```

é€™è£¡æ˜¯åœ¨èª¿ç”¨`dvisvgm`å‘½ä»¤ã€‚

```shell
% dvisvgm
dvisvgm 2.9.1
```

æ­¤ç¨‹åºå°†TeX/LaTeXç”Ÿæˆçš„DVIæ–‡ä»¶ï¼Œä»¥åŠEPSå’ŒPDFæ–‡ä»¶è½¬æ¢ä¸ºåŸºäºXMLçš„å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢æ ¼å¼SVGã€‚

ç”¨æ³•ï¼šdvisvgm [é¸é …] DVIæª”æ¡ˆ
       dvisvgm --eps [é¸é …] EPSæª”æ¡ˆ
       dvisvgm --pdf [é¸é …] PDFæª”æ¡ˆ
```

ä¸Šé¢æåˆ°çš„`latex`è‡ªå®šä¹‰å®åº”è¯¥å†™åœ¨å“ªé‡Œå‘¢ï¼Ÿè¿™é‡Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹`latex2svg.py`æ–‡ä»¶ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯ä¿®æ”¹`default_preamble`éƒ¨åˆ†ã€‚

```python
default_preamble = r"""
\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{newtxtext}
\usepackage[libertine]{newtxmath}
```

\newcommand{\FLPvec}[1]{\boldsymbol{#1}}
\newcommand{\Figvec}[1]{\mathbf{#1}}
\newcommand{\FLPC}{\FLPvec{C}}
\newcommand{\FLPF}{\FLPvec{F}}
\newcommand{\FLPa}{\FLPvec{a}}
\newcommand{\FLPb}{\FLPvec{a}}
\newcommand{\FLPr}{\FLPvec{r}}
\newcommand{\FLPs}{\FLPvec{s}}
\newcommand{\FLPv}{\FLPvec{v}}
\newcommand{\ddt}[2]{\frac{d#1}{d#2}}
\newcommand{\epsO}{\epsilon_0}
\newcommand{\FigC}{\Figvec{C}}
"""
```

è½¬æ¢æˆåŠŸåï¼Œå†™å…¥åˆ°æ–‡ä»¶ä¸­ã€‚

```python
        f = open(f'svgs/{svg_prefix}{i}.svg', 'w')
        f.write(out['svg'])
        f.close()
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ï¼š

```python
        f = open(f'svgs/{svg_prefix}{i}.svg', 'w')
        f.write(out['svg'])
        f.close()
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯æ‰“é–‹ä¸€å€‹åç‚º `svgs/{svg_prefix}{i}.svg` çš„æ–‡ä»¶ï¼Œä¸¦å°‡ `out['svg']` çš„å…§å®¹å¯«å…¥è©²æ–‡ä»¶ï¼Œç„¶å¾Œé—œé–‰æ–‡ä»¶ã€‚é€™è£¡çš„ `{svg_prefix}` å’Œ `{i}` æ˜¯è®Šæ•¸ï¼Œæœƒæ ¹æ“šå¯¦éš›æƒ…æ³è¢«æ›¿æ›æˆå…·é«”çš„å€¼ã€‚

ç»§ç»­ã€‚

```python
        node = BeautifulSoup('<img>', features="lxml")
        img = node.find('img')
        img.attrs['src'] = f'./svgs/{svg_prefix}{i}.svg'
        img.attrs['style'] = 'vertical-align: middle; margin: 0.5em 0;'
```

é€™è£¡æ§‹é€ ä¸€å€‹`img`æ¨™ç±¤ã€‚

```python
def wrap_svg(svg, equation):
    if equation:
        p = BeautifulSoup(f'<div style="text-align:center;"></div>', features="lxml")
        p.div.append(svg)
        return p.div
    else:
        return svg
      
p = wrap_svg(img, equation)
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡å¦‚ä¸‹ï¼š

```python
def wrap_svg(svg, equation):
    if equation:
        p = BeautifulSoup(f'<div style="text-align:center;"></div>', features="lxml")
        p.div.append(svg)
        return p.div
    else:
        return svg
      
p = wrap_svg(img, equation)
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯æ ¹æ“š `equation` åƒæ•¸çš„å€¼ä¾†æ±ºå®šå¦‚ä½•åŒ…è£ SVG åœ–åƒã€‚å¦‚æœ `equation` ç‚ºçœŸï¼Œå‰‡å°‡ SVG åœ–åƒåŒ…è£åœ¨ä¸€å€‹å±…ä¸­å°é½Šçš„ `div` æ¨™ç±¤ä¸­ï¼›å¦å‰‡ï¼Œç›´æ¥è¿”å› SVG åœ–åƒã€‚

å¦‚æœæ˜¯ä¸€æ®µç‹¬ç«‹çš„`LaTeX`ï¼Œé‚£ä¹ˆç”¨`div`åŒ…è£¹èµ·æ¥ï¼Œå¹¶ä¸”å±…ä¸­æ˜¾ç¤ºã€‚

```python
mathjax.insert_after(p)
``` 

é€™æ®µç¨‹å¼ç¢¼çš„æ„æ€æ˜¯å°‡ `mathjax` æ’å…¥åˆ°å…ƒç´  `p` çš„å¾Œé¢ã€‚åœ¨ç¹é«”ä¸­æ–‡ä¸­ï¼Œå¯ä»¥ç†è§£ç‚ºï¼š

```python
mathjax.insert_after(p)
```

é€™æ®µç¨‹å¼ç¢¼çš„ä½œç”¨æ˜¯å°‡ `mathjax` æ’å…¥åˆ°å…ƒç´  `p` çš„å¾Œé¢ã€‚

è¿™é‡Œå°†`div`æ ‡ç­¾æˆ–`img`æ ‡ç­¾æ·»åŠ åˆ°åŸæ¥çš„`script`åé¢ã€‚

```python
def clean_script(soup):
    scripts = soup.findAll('script')
    for s in scripts:
        s.decompose()    
        
clean_script(soup)
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯å¾ä¸€å€‹ BeautifulSoup ç‰©ä»¶ä¸­ç§»é™¤æ‰€æœ‰çš„ `<script>` æ¨™ç±¤ã€‚å…·é«”ä¾†èªªï¼š

1. `soup.findAll('script')`ï¼šæ‰¾åˆ°æ‰€æœ‰ `<script>` æ¨™ç±¤ã€‚
2. `s.decompose()`ï¼šå°‡æ¯å€‹æ‰¾åˆ°çš„ `<script>` æ¨™ç±¤å¾ DOM æ¨¹ä¸­ç§»é™¤ã€‚

æœ€å¾Œï¼Œ`clean_script(soup)` é€™è¡Œä»£ç¢¼åŸ·è¡Œäº†é€™å€‹æ¸…ç†æ“ä½œã€‚

å°†æ‰€æœ‰`latex`æ›¿æ¢ä¸º`svg`åï¼Œå°±ä¸å†éœ€è¦`script`äº†ã€‚å°†å®ƒä»¬åˆ é™¤ï¼Œè¿™æ ·ä¼šæ›´æ•´æ´ä¸€äº›ã€‚

æœ€å¾Œï¼Œå†å°‡ä¿®æ”¹å¾Œçš„æ•´å€‹`html`å¯«å…¥åˆ°ä¸€å€‹æª”æ¡ˆè£¡ã€‚

```python
    output_file = open('out.html', 'w')
    output_file.write(soup.prettify())
    output_file.close()    
```

ç¿»è­¯æˆç¹é«”ä¸­æ–‡ï¼š

```python
    output_file = open('out.html', 'w')
    output_file.write(soup.prettify())
    output_file.close()    
```

é€™æ®µç¨‹å¼ç¢¼çš„åŠŸèƒ½æ˜¯å°‡ç¶“éç¾åŒ–çš„ HTML å…§å®¹å¯«å…¥åˆ°åç‚º `out.html` çš„æª”æ¡ˆä¸­ã€‚

æ¥ç€ä½¿ç”¨`pandoc`å·¥å…·ï¼Œå°†å…¶è½¬æ¢ä¸º`epub`æ ¼å¼ã€‚

```shell
pandoc -s -r html out.html -o feynman.epub
``` 

é€™è¡Œå‘½ä»¤çš„æ„æ€æ˜¯ä½¿ç”¨ `pandoc` å·¥å…·å°‡ `out.html` æ–‡ä»¶è½‰æ›ç‚º `feynman.epub` é›»å­æ›¸æ ¼å¼ã€‚å…·é«”åƒæ•¸è§£é‡‹å¦‚ä¸‹ï¼š

- `-s`ï¼šç”Ÿæˆä¸€å€‹å®Œæ•´çš„æ–‡æª”ï¼ˆåŒ…æ‹¬é ­éƒ¨å’Œå°¾éƒ¨ï¼‰ã€‚
- `-r html`ï¼šæŒ‡å®šè¼¸å…¥æ–‡ä»¶çš„æ ¼å¼ç‚º HTMLã€‚
- `out.html`ï¼šè¼¸å…¥çš„ HTML æ–‡ä»¶ã€‚
- `-o feynman.epub`ï¼šæŒ‡å®šè¼¸å‡ºçš„ EPUB æ–‡ä»¶åç‚º `feynman.epub`ã€‚

è¿™ä¼šæ‰“å¼€ï¼Œå°±æ˜¯ç²¾ç¾çš„ç”µå­ä¹¦äº†ã€‚

ä¸ºä»€ä¹ˆä¸ç›´æ¥åµŒå…¥`svg`æ ‡ç­¾ï¼Œè€Œæ˜¯ç”¨`img`æ¥å¼•å…¥å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´è¿™æ ·å†™ï¼š

```html
<p></p>
<svg></svg>
<p></p>
```

æœ‰ä¸ªå¾ˆå¥‡æ€ªçš„`bug`ã€‚å½“æœ‰å¾ˆå¤šçš„`svg`æ–‡ä»¶æ—¶ï¼Œä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µã€‚

<img src="/assets/images/feynman/svg_p1.png" alt="svg_p1" style="zoom:40%;" />

åæ¥å‘ç°ä½¿ç”¨`img`æ ‡ç­¾å¼•å…¥`svg`æ–‡ä»¶å°±èƒ½è§£å†³é—®é¢˜ã€‚è‡³äºä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œæˆ‘è¿˜æ²¡å®Œå…¨å¼„æ˜ç™½ã€‚å½“æˆ‘å•ç‹¬æ‹¿å‡ºè¿™ä¸ª`svg`æ–‡ä»¶å¹¶ç”¨æµè§ˆå™¨æŸ¥çœ‹æ—¶ï¼Œæ˜¾ç¤ºæ˜¯æ­£å¸¸çš„ã€‚çœ‹æ¥é—®é¢˜å¯èƒ½å‡ºåœ¨æµè§ˆå™¨åŒæ—¶æ¸²æŸ“å¤§é‡`svg`æ–‡ä»¶æ—¶ï¼Œä¼šå‡ºç°é”™è¯¯ã€‚

### æœ€å

è‡³äºå°†`epub`æ ¼å¼è½¬æ¢ä¸º`mobi`ï¼Œå¯ä»¥ä½¿ç”¨`Kindle`çš„å®˜æ–¹å·¥å…·`Kindle Previewer 3`ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä»…æ¶‰åŠå•ç« å†…å®¹çš„è½¬æ¢ã€‚

è¯¥é¡¹ç›®çš„ä»£ç æ‰˜ç®¡åœ¨[feynman-lectures-mobi@lzwjava](https://github.com/lzwjava/feynman-lectures-mobi)ã€‚

å¦‚ä½•å°†æ‰€æœ‰çš„é¡µé¢æŠ“å–å¹¶æ•´ç†æˆç”µå­ä¹¦å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜æˆ‘ä»¬ç¨åå†è°ˆã€‚ä¸è¿‡ï¼Œå•æ˜¯è´¹æ›¼ç‰©ç†è®²ä¹‰ä¸­çš„è¿™ä¸€ç« ï¼Œå°±è¶³å¤Ÿæˆ‘ä»¬ç»†ç»†ç ”è¯»äº†ã€‚å¥½äº†ï¼Œç°åœ¨è®©æˆ‘ä»¬æ‹¿èµ·Kindleï¼Œå¼€å§‹é˜…è¯»å§ã€‚