---
audio: false
lang: hant
layout: post
title: 使用IPv6位址的SSH連線
translated: true
---

我嘗試使用 IPv6 連線到 Hetzner Cloud 上的一部機器。`ssh 2a01:4f8:c17:2000::/64` 無效，但 `ssh root@2a01:4f8:c17:2000::1` 則有效。

IPv6 位址是從 Hetzner Cloud 控制台複製的。

可以設定 `~/.ssh/config` 檔案，為 IPv4 和 IPv6 位址應用不同的代理規則。此設定允許您為 IPv4 位址指定代理命令，同時以不同的方式處理 IPv6 位址。

```bash
Host 192.168.1.*
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa 
Host *.*.*.*
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa
    ProxyCommand corkscrew localhost 7890 %h %p
Host *
    UseKeychain yes
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_rsa   
```
