---
audio: false
generated: true
image: false
lang: hant
layout: post
title: Jenkins 基於角色的存取控制指南與角色外掛
translated: true
type: note
---

在 Jenkins 中，**基於角色的存取控制（RBAC）** 旨在定義使用者能夠執行哪些操作以及能夠在哪些範圍內執行。預設情況下，Jenkins 僅提供基本的使用者/管理員模型，但透過 **Role-Based Strategy 外掛程式**（或類似的授權策略），您可以定義細緻的存取權限。

---

### Jenkins 中 RBAC 的核心概念

1. **全域角色**
   這些角色適用於整個 Jenkins 實例。例如：

   * **管理員**：擁有完整控制權。
   * **唯讀**：可以檢視任務但無法執行。
   * **開發人員**：可以建立和設定任務。

2. **專案/任務角色**
   您可以根據每個任務或每個資料夾來授予權限。例如：

   * 使用者 A 可以建置 *專案 X*，但無法看到 *專案 Y*。
   * 合約人員可以觸發建置，但無法變更設定。

3. **建置權限**
   權限可以細分為：

   * `任務/讀取`（檢視任務定義和建置記錄）
   * `任務/建置`（觸發建置）
   * `任務/設定`（變更流水線或設定）
   * `任務/刪除`（移除任務或建置）
   * `任務/取消`（中止執行中的建置）

---

### 如何管理任務或建置的存取權限

1. **安裝 Role-Based Strategy 外掛程式**

   * 前往 **管理 Jenkins → 外掛程式 → 可用外掛程式 → Role-based Authorization Strategy**。
   * 安裝後，在 **管理 Jenkins → 設定全域安全性 → 授權** 中選擇該策略。

2. **定義角色**

   * 前往 **管理 Jenkins → 管理與指派角色**。
   * 建立全域角色（如 *管理員*、*檢視者*、*開發人員*）和專案角色（如 *projectX-builder*）。
   * 為每個角色指派所需的權限（`任務/建置`、`任務/設定` 等）。

3. **將角色指派給使用者/群組**

   * 仍在 **管理與指派角色** 下，將您的 Jenkins 使用者（或整合的 LDAP 群組）對應到角色。
   * 例如：

     * 對應 *alice* → `開發人員`
     * 對應 *bob* → `檢視者`
     * 對應 *qa-team* → `projectX-builder`

4. **使用資料夾實現更細緻的權限控制**

   * 透過 *Folders 外掛程式* 將任務組織到 **資料夾** 中。
   * 在資料夾層級應用角色限制，確保只有正確的團隊能夠檢視/建置/修改其中的任務。

---

### 範例情境

* **開發人員**：可以建置和設定其團隊的任務，但無法觸及管理員設定。
* **品質保證團隊**：僅能觸發建置（無法重新設定流水線）。
* **外部使用者**：可以檢視任務狀態，但無法修改或觸發建置。

---

👉 實務上：您應**盡量減少管理員數量**，授予**開發人員對其任務的設定與建置權限**，並給予其他人**唯讀或僅建置的權限**。這樣可以確保一致性、減少錯誤，並保護敏感任務。

---

是否需要我展示一個**逐步設定的範例**（包含角色、權限和任務對應），以符合典型的企業設定？