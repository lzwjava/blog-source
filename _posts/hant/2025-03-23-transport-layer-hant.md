---
audio: false
generated: true
lang: hant
layout: post
title: 傳輸層
translated: true
type: note
---

以下是一份詳細教程，旨在幫助你學習中國高等教育自學考試體系中《計算機網絡技術（02141）》等課程的**傳輸層**章節。本教程聚焦於傳輸層的功能（端到端通信、可靠性、擁塞控制）、協議（TCP 與 UDP）、端口號與多路復用，以及流量與錯誤控制機制。內容全面、適合初學者，並符合該課程預期的技術深度。

---

### 步驟 1：理解傳輸層的角色
**傳輸層**是 OSI 模型中的第四層，也是 TCP/IP 模型中的第三層。它充當下層（處理實體數據傳輸）與上層（用戶應用程式）之間的橋樑。其主要任務是確保數據能高效且可靠地（如有需要）從一台設備傳送到另一台設備。

- **重要性：** 若沒有傳輸層，像網頁瀏覽器或電郵客戶端等應用程式將無法正確地透過互聯網發送或接收數據。

---

### 步驟 2：學習傳輸層的功能
傳輸層有幾項關鍵職責，讓我們逐一拆解：

#### 1. 端到端通信
- **含義：** 確保數據從源設備傳送到目標設備，無論中間經過哪些網絡。
- **運作方式：** 發送方的傳輸層直接與接收方的傳輸層通信，無需理會路由器與交換機等繁瑣細節（由網絡層處理）。
- **比喻：** 如同直接寄信給朋友，無需關心信件經過哪些郵局。

#### 2. 可靠性
- **含義：** 保證數據完整、順序正確且無錯誤地送達（若協議要求）。
- **運作方式：** 部分協議（如 TCP）會檢查數據是否遺失或損壞，並在需要時重傳；其他協議（如 UDP）則為了速度而省略此步驟。
- **比喻：** 快遞員確認包裹完好送達 vs. 直接將包裹扔過圍欄。

#### 3. 擁塞控制
- **含義：** 防止網絡因數據過多而癱瘓。
- **運作方式：** 根據網絡狀況調整數據發送速率（例如 TCP 在網絡繁忙時會減速）。
- **比喻：** 如同在繁忙交通中減速以避免塞車。

---

### 步驟 3：探索傳輸層協議
傳輸層主要使用兩種協議：**TCP** 與 **UDP**，各自採用不同方式。

#### 1. TCP（傳輸控制協議）– 面向連接
- **功能：** 確保數據可靠、有序地傳送。
- **主要特點：**
  - **建立連接：** 使用三次握手（SYN → SYN-ACK → ACK）建立連接。
  - **可靠性：** 重傳遺失的封包，確保無重複或亂序數據。
  - **流量控制：** 調整發送速率以匹配接收方的處理能力。
  - **擁塞控制：** 在網絡繁忙時減速。
- **例子：** 網頁瀏覽（HTTP/HTTPS）、電郵（SMTP）、檔案傳輸（FTP）。
- **比喻：** 如同打電話—雙方確認準備好、按順序交談，並清晰結束通話。

#### 2. UDP（用戶數據報協議）– 無連接
- **功能：** 快速發送數據，但不提供保證。
- **主要特點：**
  - **無需連接：** 直接發送數據報，無需建立連接。
  - **無可靠性：** 不檢查數據是否遺失或亂序。
  - **快速：** 開銷極小，適合對時間敏感的任務。
- **例子：** 影片串流、線上遊戲、DNS 查詢。
- **比喻：** 如同寄明信片—無需確認送達，但簡單快速。

**對照表：**

| **特性**         | **TCP**             | **UDP**            |
|---------------------|---------------------|--------------------|
| **連接**      | 是（握手）     | 否                 |
| **可靠性**     | 是（重傳）   | 否                 |
| **速度**           | 較慢（開銷大）   | 較快（輕量） |
| **順序**           | 保證          | 不保證     |
| **使用場景**        | 網頁、電郵          | 串流、遊戲  |

---

### 步驟 4：理解端口號與多路復用
傳輸層使用**端口號**來管理同一設備上的多個應用程式。

#### 1. 端口號
- **定義：** 16 位數字（0–65,535），用於識別設備上的特定應用程式或服務。
- **類型：**
  - **知名端口（0–1023）：** 保留給常用服務（例如 80 用於 HTTP、443 用於 HTTPS、25 用於 SMTP）。
  - **註冊端口（1024–49151）：** 供特定應用程式使用。
  - **動態端口（49152–65535）：** 臨時分配，用於客戶端連接。
- **比喻：** 如同大廈中的單位號碼—每個應用程式都有自己的「地址」。

#### 2. 多路復用與解多路復用
- **多路復用（發送方）：** 將來自多個應用程式的數據合併成單一數據流，透過網絡發送。每個封包都帶有端口號以識別所屬應用程式。
- **解多路復用（接收方）：** 根據端口號將傳入數據拆分並傳送給正確的應用程式。
- **運作方式：** 傳輸層為每個封包添加標頭，包含源端口與目標端口號。
- **例子：** 你的瀏覽器（端口 50000）與電郵客戶端（端口 50001）可同時使用同一網絡連接。

**關鍵洞察：** IP 地址將數據送達正確設備；端口號將數據送達設備上的正確應用程式。

---

### 步驟 5：深入流量與錯誤控制機制
這些機制確保數據能順暢且準確地傳輸（主要於 TCP 中）。

#### 1. 流量控制
- **含義：** 防止發送方使接收方不堪負荷。
- **運作方式：**
  - **滑動視窗：** TCP 使用一個「視窗」，發送方在需要確認（ACK）前可發送此視窗內的數據。接收方通告其視窗大小（處理能力）。
  - **動態調整：** 若接收方緩衝區已滿，視窗縮小；若準備就緒，視窗擴大。
- **比喻：** 如同倒水入杯—若水將溢出則減慢速度。

#### 2. 錯誤控制
- **含義：** 檢測並修正數據傳輸中的錯誤。
- **運作方式：**
  - **序列號：** 每個 TCP 段都帶有編號，以追蹤順序並檢測遺失數據。
  - **確認（ACK）：** 接收方確認收到數據；若未收到 ACK 則觸發重傳。
  - **校驗和：** 根據數據計算出的數值，用於檢測損壞。若校驗和不匹配，則重傳該封包。
- **比喻：** 如同核對購物清單—遺失或損壞的物品會重新訂購。

**UDP 注意事項：** UDP 不進行流量或錯誤控制—若有需要，會交由應用程式處理。

---

### 步驟 6：自學考試學習技巧
1. **記憶關鍵概念：**
   - 功能：端到端、可靠性、擁塞控制。
   - 協議：TCP（可靠）、UDP（快速）。
   - 端口：知名（如 80、443）、動態。
2. **視覺化：**
   - 繪製 TCP 三次握手（SYN → SYN-ACK → ACK）。
   - 草繪多路復用：多個應用程式 → 端口 → 單一網絡流。
3. **練習題目：**
   - TCP 與 UDP 有何區別？
   - 傳輸層如何使用端口號？
   - 解釋 TCP 如何確保可靠性。
4. **使用記憶法：** 「TCP = 全面控制協議」（可靠）；「UDP = 極速數據報協議」（快速）。
5. **現實例子：** 聯繫瀏覽網頁（TCP）與影片串流（UDP）。

---

### 步驟 7：測試理解程度
回答以下問題以檢視掌握情況：
1. 哪種協議使用三次握手？（TCP）
2. 端口號在多路復用中的作用是什麼？（識別應用程式）
3. TCP 如何處理遺失的封包？（使用序列號與 ACK 重傳）
4. 為何可能偏好 UDP 而非 TCP？（速度、低開銷）

---

### 補充資源
- **書籍：** 《計算機網絡：自頂向下方法》（Kurose & Ross）– 傳輸層章節。
- **線上資源：** Cisco 的傳輸層教程、YouTube（例如 PowerCert 關於 TCP vs. UDP 的影片）。
- **工具：** 使用 Wireshark 擷取 TCP/UDP 封包，觀察端口號的實際運作。

---

本教程深入涵蓋了傳輸層的內容。請逐一學習每個部分，練習解釋概念（對自學考試口試準備極佳），並重溫如流量控制或多路復用等難點。若需要更多例子或澄清，歡迎隨時提問！祝你學習順利！