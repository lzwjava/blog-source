---
audio: false
generated: true
image: false
lang: hant
layout: post
title: å°‹æ‰¾ä¸¦çµ‚æ­¢JMXé€£æ¥åŸ ç¨‹åº
translated: true
type: note
---

æ˜ç™½äº† â€” ä½ æƒ³æª¢æŸ¥ Windows ä¸Šå“ªå€‹ Java ç¨‹å¼é–‹å•Ÿäº† **JMX é ç«¯ä»£ç†**åœ¨é€£æ¥åŸ  `9091`ï¼Œä¸¦åœ¨å¿…è¦æ™‚çµ‚æ­¢å®ƒã€‚ä»¥ä¸‹æ˜¯é€æ­¥æ“ä½œèªªæ˜ï¼š

---

### 1. å°‹æ‰¾ä½¿ç”¨é€£æ¥åŸ  9091 çš„è™•ç†ç¨‹åº

é–‹å•Ÿ **å‘½ä»¤æç¤ºå­—å…ƒ**ï¼ˆç›¡é‡ä»¥ç³»çµ±ç®¡ç†å“¡èº«åˆ†åŸ·è¡Œï¼‰ï¼Œç„¶å¾ŒåŸ·è¡Œï¼š

```cmd
netstat -ano | findstr :9091
```

é€™æœƒé¡¯ç¤ºé¡ä¼¼ä»¥ä¸‹çš„å…§å®¹ï¼š

```
  TCP    0.0.0.0:9091    0.0.0.0:0    LISTENING    12345
```

* æœ€å¾Œä¸€æ¬„ï¼ˆæ­¤è™•ç‚º `12345`ï¼‰æ˜¯ **PIDï¼ˆè™•ç†ç¨‹åºè­˜åˆ¥ç¢¼ï¼‰**ã€‚

---

### 2. è­˜åˆ¥è©² PID å°æ‡‰çš„ç¨‹å¼

ç¾åœ¨å°‡ PID å°æ‡‰åˆ°å¯¦éš›çš„ç¨‹å¼ï¼š

```cmd
tasklist /FI "PID eq 12345"
```

é€™æœƒé¡¯ç¤ºé¡ä¼¼ä»¥ä¸‹çš„å…§å®¹ï¼š

```
Image Name                     PID   Session Name        Mem Usage
========================= ======== ================ ============
java.exe                    12345 Console           200,000 K
```

å¦‚æœæ˜¯ Java è™•ç†ç¨‹åºï¼Œä½ å¯ä»¥å–å¾—æ›´è©³ç´°çš„è³‡è¨Šï¼š

```cmd
wmic process where processid=12345 get CommandLine
```

é€™æœƒé¡¯ç¤ºå•Ÿå‹• JVM æ™‚ä½¿ç”¨çš„**å‘½ä»¤åˆ—** â€” ä½ æœƒçœ‹åˆ° JMX åƒæ•¸ï¼ˆ`-Dcom.sun.management.jmxremote.port=9091`ï¼‰ï¼Œé€™ç¢ºèªäº†å®ƒæ˜¯ JMX é ç«¯ä»£ç†ã€‚

---

### 3. çµ‚æ­¢è™•ç†ç¨‹åº

å¦‚æœç¢ºèªå¯ä»¥å®‰å…¨åœæ­¢ï¼Œä½ å¯ä»¥çµ‚æ­¢å®ƒï¼š

```cmd
taskkill /PID 12345 /F
```

* `/PID` æŒ‡å®šè™•ç†ç¨‹åºè­˜åˆ¥ç¢¼ã€‚
* `/F` å¼·åˆ¶çµ‚æ­¢ã€‚

---

### 4. ä½¿ç”¨ PowerShell çš„æ›¿ä»£æ–¹æ³•

å¦‚æœä½ åå¥½ä½¿ç”¨ PowerShellï¼Œå¯ä»¥åŸ·è¡Œï¼š

```powershell
Get-Process -Id (Get-NetTCPConnection -LocalPort 9091).OwningProcess
```

ç›´æ¥çµ‚æ­¢ï¼š

```powershell
Stop-Process -Id (Get-NetTCPConnection -LocalPort 9091).OwningProcess -Force
```

---

ğŸ” ç¸½çµï¼š

1. `netstat -ano | findstr :9091` â†’ å–å¾— PID
2. `tasklist /FI "PID eq <PID>"` â†’ æŸ¥çœ‹æ˜¯å“ªå€‹ç¨‹å¼
3. `wmic process where processid=<PID> get CommandLine` â†’ æŸ¥çœ‹ JVM åƒæ•¸
4. `taskkill /PID <PID> /F` â†’ çµ‚æ­¢

---

éœ€è¦æˆ‘åŒæ™‚ç¤ºç¯„å¦‚ä½•**ä¸€æ¬¡æª¢æŸ¥å¤šå€‹ JVM** çš„ JMX ä»£ç†é€£æ¥åŸ å—ï¼ˆé€™æ¨£ä½ å°±èƒ½æŸ¥çœ‹æ˜¯å¦æœ‰å…¶ä»–ç¨‹å¼åœ¨é€£æ¥åŸ  9090ã€9999 ç­‰ä¸ŠåŸ·è¡Œï¼‰ï¼Ÿ