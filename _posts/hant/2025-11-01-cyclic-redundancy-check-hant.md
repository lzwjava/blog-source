---
audio: false
generated: true
image: false
lang: hant
layout: post
model: x-ai/grok-4-fast
title: 循環冗餘檢查錯誤檢測
translated: true
type: note
---

### 什麼是 CRC？

沒錯，你的理解方向正確！CRC 代表**循環冗餘校驗**。這是一種在數據鏈路層廣泛使用的錯誤檢測技術（正如你在 OSI 模型中提到的同網絡節點到節點傳輸）。它不完全像簡單的奇偶校驗（僅添加一個位元來檢測奇偶錯誤），但確實使用了**冗餘位元**（稱為校驗和或餘數）來檢測更廣泛的傳輸錯誤。讓我簡單解釋一下。

#### CRC 的工作原理（高層次解釋）
1. **設定**：
   - 將你的數據視為一個二進制數字（例如乙太網幀中的有效載荷）。
   - 選擇一個固定的「生成多項式」（預定義的二進制值，例如 CRC-4 使用 1011）。這就像是數學中的除數。
   - 將數據視為一個大型二進制多項式，並在其後附加 **k 個冗餘位元**（零），其中 k 是生成多項式的長度減 1（例如，4 位生成多項式附加 3 個零）。

2. **計算**：
   - 使用生成多項式對附加後的數據執行**模 2 除法**（基於 XOR 的除法，無需像常規數學那樣借位或進位）。
   - 此次除法的餘數即成為你的 CRC 校驗和。
   - 將此餘數附加到原始數據後，發送整個幀。

3. **接收端處理**：
   - 接收端對接收到的幀（數據 + CRC）執行相同的模 2 除法。
   - 如果餘數為**零**，則數據很可能無錯誤。否則，表示傳輸過程中發生錯誤（例如位元翻轉）。
   - CRC 能夠檢測：
     - 單一位元錯誤。
     - 突發錯誤（最多可達生成多項式長度）。
     - 大多數多位元錯誤（誤報率極低）。

之所以稱為「循環」，是因為它在多項式數學中像圓圈一樣循環，這使得它在硬體實現中非常高效（例如在網卡或交換機中）。

#### CRC 與奇偶校驗的比較
- **奇偶校驗**：非常簡單——添加 1 個位元（奇偶校驗）僅能檢測**奇數個位元錯誤**。會遺漏偶數錯誤或突發錯誤。
- **CRC**：更先進——使用 8–32+ 位元的冗餘來**近乎完美地檢測**幀中的常見錯誤（例如乙太網使用 CRC-32）。它就像是數據的強化「指紋」。

#### 乙太網中的實際範例
在乙太網幀中：
- 數據（有效載荷）+ 部分標頭 → 附加 32 位元 CRC。
- 如果線路上的噪聲導致位元翻轉，接收端的 CRC 檢查會失敗 → 幀被丟棄，要求重傳。

CRC 速度快、硬體成本低，並且是乙太網、PPP、Wi-Fi 乃至存儲（例如硬碟）等協議中的標準。

如果你需要 CRC 計算的程式碼示範，或想了解更多關於它如何融入幀結構/MAC 的資訊，請告訴我！

#### 參考資料
- [循環冗餘校驗 - 維基百科](https://en.wikipedia.org/wiki/Cyclic_redundancy_check)
- [使用 CRC 進行錯誤檢測 - GeeksforGeeks](https://www.geeksforgeeks.org/cyclic-redundancy-check-crc-introduction/)