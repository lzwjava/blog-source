---
audio: false
generated: true
lang: hant
layout: post
title: Cloudflare 入門指南
translated: true
type: note
---

Cloudflare 是一項熱門服務，提供多種工具來提升網站的效能、安全性與可靠性。無論你是經營小型部落格還是大型電子商務網站，Cloudflare 的功能——例如 DNS 管理、內容傳遞網絡（CDN）及安全防護——都能帶來顯著改善。在這篇網誌文章中，我們將逐步講解三項關鍵操作：設定 DNS、管理 A 記錄及封鎖 IP 地區。這些操作對於充分發揮 Cloudflare 的效用至關重要，而且實際設定比想像中更簡單！

### **為何選擇 Cloudflare？**

在深入瞭解操作步驟前，讓我們先簡要說明 Cloudflare 的價值所在：
- **DNS 管理**：Cloudflare 提供快速可靠的 DNS 服務，確保你的網站隨時可訪問。
- **CDN**：透過將內容快取至更接近訪客的位置，加速網站載入。
- **安全性**：Cloudflare 提供 DDoS 防護、SSL/TLS 加密及惡意流量攔截工具。
- **易用性**：更棒的是，Cloudflare 提供免費方案，非常適合小型網站與部落格。

現在，讓我們進入具體操作細節。

---

### **步驟 1：在 Cloudflare 上設定 DNS**

DNS（網域名稱系統）就像是網際網路的電話簿——它能將你的網域名稱（例如 `example.com`）轉譯為伺服器能夠理解的 IP 位址。當你使用 Cloudflare 時，你將透過他們的平台管理 DNS 記錄，從而獲得額外的速度與安全性。

#### **如何設定 Cloudflare DNS：**
1. **註冊 Cloudflare 帳戶**：若你尚未擁有帳戶，請前往 [Cloudflare 官網](https://www.cloudflare.com/) 註冊免費帳戶。
2. **新增你的網域**：登入後，點擊「新增網站」並輸入你的網域名稱（例如 `example.com`）。Cloudflare 將會掃描你現有的 DNS 記錄。
3. **檢視 DNS 記錄**：掃描完成後，Cloudflare 會顯示你目前的 DNS 記錄清單。請仔細檢查以確保一切無誤。
4. **變更名稱伺服器**：若要使用 Cloudflare 的 DNS，你需要在網域註冊商（例如 GoDaddy、Namecheap）處更新網域的名稱伺服器。Cloudflare 會提供兩個名稱伺服器（例如 `ns1.cloudflare.com` 與 `ns2.cloudflare.com`）。請登入你的註冊商儀表板，找到網域的名稱伺服器設定，並將其替換為 Cloudflare 提供的名稱伺服器。
5. **等待傳播完成**：DNS 變更最多可能需要 24 小時才能傳播至全球，但通常過程會更快。一旦完成，你的網域就會開始使用 Cloudflare 的 DNS。

**重要提示**：請務必完全按照 Cloudflare 提供的名稱伺服器進行設定。錯誤的名稱伺服器可能導致網站無法訪問。

---

### **步驟 2：在 Cloudflare 上管理 A 記錄**

A 記錄是一種 DNS 記錄，用於將你的網域（或子網域）對應至 IPv4 位址。舉例來說，它告訴網際網路 `example.com` 應指向 `192.0.2.1`。Cloudflare 讓新增、編輯或刪除 A 記錄變得輕而易舉。

#### **如何管理 A 記錄：**
1. **登入 Cloudflare**：前往你的 Cloudflare 儀表板並選擇要管理的網域。
2. **導航至 DNS**：點擊頂部選單中的「DNS」標籤。
3. **新增 A 記錄**：
   - 點擊「新增記錄」。
   - 從類型下拉選單中選擇「A」。
   - 輸入名稱（例如 `www` 代表 `www.example.com`，或留空以設定根網域）。
   - 輸入要指向的 IPv4 位址。
   - 選擇是否透過 Cloudflare 代理此記錄（詳見下文說明）。
   - 設定 TTL（存活時間）。若為代理記錄，預設值為 300 秒。
   - 點擊「儲存」。
4. **編輯 A 記錄**：在清單中找到現有的 A 記錄，點擊「編輯」，進行變更後點擊「儲存」。
5. **刪除 A 記錄**：點擊記錄旁的「編輯」，然後點擊「刪除」並確認操作。

**代理與僅 DNS 模式**：
- **代理（橙色雲朵圖示）**：流量會經過 Cloudflare，從而啟用 CDN、安全性及效能強化功能。
- **僅 DNS（灰色雲朵圖示）**：流量將直接傳送至你的伺服器，繞過 Cloudflare 的防護。此模式適用於不需要 Cloudflare 功能的記錄（例如郵件伺服器）。

**小提示**：Cloudflare 亦支援用於 IPv6 位址的 AAAA 記錄，其管理方式與 A 記錄相同。

---

### **步驟 3：在 Cloudflare 上封鎖 IP 地區**

Cloudflare 允許你封鎖來自特定國家或地區的流量，有助於減少垃圾訊息、機器人及惡意攻擊。若你發現來自某些地區的不受歡迎流量，此功能尤其實用。

#### **如何封鎖 IP 地區：**
1. **登入 Cloudflare**：前往你的 Cloudflare 儀表板並選擇你的網域。
2. **導航至安全性**：點擊「安全性」標籤，然後選擇「WAF」（網站應用程式防火牆）。
3. **建立規則**：
   - 點擊「建立防火牆規則」。
   - 為規則命名（例如「封鎖特定國家」）。
   - 設定規則以根據訪客的所在國家進行封鎖。例如：
     - 欄位：「國家」
     - 運算子：「位於」
     - 值：選擇你要封鎖的國家。
   - 選擇操作：「封鎖」。
   - 點擊「部署」。
4. **監控被封鎖的流量**：你可以在「安全性」標籤下的「事件」中檢視被封鎖的請求。

**重要提示**：請謹慎使用此功能。封鎖整個地區可能會意外阻擋合法用戶訪問你的網站。建議持續監控流量，僅在確有必要時才封鎖特定地區。

---

### **額外提示與最佳實踐**

- **使用 Cloudflare 免費方案**：它非常適合小型網站，並包含 DNS 管理、CDN 及基礎安全等核心功能。
- **啟用記錄代理**：為達至最佳效能與安全性，請盡可能透過 Cloudflare 代理你的 A 與 AAAA 記錄。
- **設定 SSL/TLS**：Cloudflare 提供免費 SSL 憑證，用於加密訪客與你網站之間的流量。你可以在「SSL/TLS」標籤中啟用此功能。
- **探索快取功能**：Cloudflare 的快取能顯著加速網站載入。請前往「快取」標籤進行設定。
- **監控網站狀態**：利用 Cloudflare 的分析工具來關注流量、威脅與效能表現。

---

### **總結**

Cloudflare 是一款功能強大的工具，能有效提升網站的速度、安全性與可靠性。透過遵循本指南的步驟，你可以輕鬆完成 DNS 設定、管理 A 記錄及封鎖 IP 地區以保護網站。請記住：
- **DNS 設定**：正確更新名稱伺服器以避免服務中斷。
- **A 記錄**：使用它們將網域對應至伺服器 IP 位址，並考慮啟用代理以獲得額外優勢。
- **IP 地區封鎖**：請節制使用此功能，以免誤擋合法用戶。

Cloudflare 還提供許多其他功能，例如 SSL/TLS 加密、快取及進階安全工具。當你熟悉基礎操作後，不妨進一步探索這些選項，以充分發揮該平台的潛力。