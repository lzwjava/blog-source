---
audio: false
lang: hant
layout: post
title: 了解 `ps` 指令及其選項
translated: true
---

讓我分解命令 `ps -ef | grep java`，然後解釋一些常見的 `ps` 命令選項，幫助你理解它的工作原理以及如何自定義它。

### `ps -ef | grep java` 的解釋
命令 `ps -ef | grep java` 用於列出 Unix 類系統上的所有運行中的進程，並過濾輸出以僅顯示與 Java 相關的進程。以下是每個部分的作用：

- **`ps`**：這是進程狀態命令，顯示有關活動進程的信息。
- **`-e`**：這個選項選擇所有進程，包括其他用戶運行的進程，而不僅僅是你自己的。
- **`-f`**：這代表「全格式」列表，提供詳細的輸出，如用戶 ID（UID）、進程 ID（PID）、父進程 ID（PPID）、啟動時間和正在執行的命令。
- **`|`**：這個管道符號將 `ps -ef` 的輸出傳遞給下一個命令。
- **`grep java`**：這個過濾器顯示僅包含單詞「java」的行，使得很容易找到與 Java 相關的進程（如 Java 應用程序或伺服器）。

因此，這個命令特別有用，如果你試圖找到並監控系統上運行的 Java 進程。

### `ps` 的常見選項
`ps` 命令可以通過各種選項高度自定義，以將其輸出定制到你的需求。以下是一些最常用的選項：

- **`-e`**：選擇系統上運行的所有進程，而不考慮用戶。這對於獲得系統發生的完整圖像非常有用。
- **`-f`**：顯示全格式列表，包含額外的詳細信息，如 UID、PID、PPID、CPU 使用率和完整的命令行。
- **`-u username`**：顯示特定用戶擁有的進程。例如，`ps -u alice` 列出用戶「alice」運行的所有進程。
- **`-p pid`**：顯示特定進程的信息，通過其進程 ID（PID）。例如，`ps -p 5678` 顯示 PID 為 5678 的進程的詳細信息。
- **`--forest`**：以樹狀格式顯示進程，突出顯示進程之間的父子關係，這對於理解進程層次結構很有幫助。
- **`-a`**：選擇所有進程，除會話領導者和未與終端相關聯的進程。
- **`-l`**：提供長格式列表，包括額外的字段，如優先級、優雅值和內存使用情況。
- **`-o format`**：讓你自定義輸出列。例如，`ps -o pid,comm` 只顯示 PID 和命令名稱。
- **`aux`**：一個流行的 BSD 风格組合，顯示所有進程（a），帶有用戶導向的詳細信息（u），並包括沒有控制終端的進程（x）。

### 如何使用這些選項
你可以根據需要混合和匹配這些選項。例如：
- `ps -ef` 給你一個所有進程的詳細列表。
- `ps -u john` 顯示用戶「john」正在運行的內容。
- `ps aux`（注意：這裡沒有連字符，BSD 风格）是一種常見的方法來查看所有進程及其用戶詳細信息。
- `ps --forest -e` 以樹狀結構顯示所有進程。

這些選項使 `ps` 成為監控和管理系統上進程的強大工具！如果你想要針對特定用例的示例，請告訴我。