---
audio: false
generated: true
image: false
lang: hant
layout: post
title: å„ªåŒ– API è·¯ç”±å™¨æ¨¡å‹é…ç½®
translated: true
type: note
---

æ‚¨åˆ†äº«çš„é…ç½®ä¼¼ä¹æ˜¯é€é API è·¯ç”±å™¨ï¼ˆå¯èƒ½æ˜¯ OpenRouterï¼‰å°‡ä¸åŒé¡å‹çš„ä»»å‹™æˆ–æŸ¥è©¢å°å‘ç‰¹å®šèªè¨€æ¨¡å‹çš„è¨­å®šã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•å„ªåŒ–æ¯å€‹æ¬„ä½ä»¥ç²å¾—æœ€ä½³æ•ˆèƒ½å’Œæˆæœ¬æ•ˆç›Šï¼š

---

### âœ… **æ¨è–¦é…ç½®èˆ‡æœ€ä½³å¯¦è¸**

```json
"Router": {
  "default": "openrouter,qwen/qwen3-coder",
  // ä¸éŒ¯çš„é¸æ“‡ï¼šQwen3-Coder åœ¨é€šç”¨ç·¨ç¨‹å’Œæ¨ç†æ–¹é¢è¡¨ç¾å‡ºè‰²ã€‚
  // é©ç”¨æ–¼æ¨™æº–ç¨‹å¼ç¢¼ç”Ÿæˆã€è§£é‡‹æˆ–æ··åˆå‹ä»»å‹™ã€‚

  "background": "openrouter,qwen/qwen3-coder",
  // åŒæ¨£åˆç†ã€‚å¦‚æœã€Œbackgroundã€æ„æŒ‡ä½å„ªå…ˆç´šæˆ–éåŒæ­¥ä»»å‹™ï¼Œ
  // å¯è€ƒæ…®ä½¿ç”¨æ›´ä¾¿å®œ/æ›´å¿«çš„æ¨¡å‹ï¼š
  // â†’ "openrouter:mistralai/mistral-tiny" æˆ– "google/gemini-2.5-flash-lite"

  "think": "openrouter,kimi/kimi-k2",
  // Kimi K2 åœ¨é•·ä¸Šä¸‹æ–‡æ¨ç†å’Œä¸­è‹±æ–‡é‚è¼¯æ–¹é¢è¡¨ç¾å¼·å‹ã€‚
  // ä½†å¦‚æœã€Œthinkã€æ¶‰åŠé€æ­¥æ¨ç†æˆ–æ€ç¶­éˆï¼Œ
  // å¯è€ƒæ…®æ›´æ“…é•·æ¨ç†çš„æ¨¡å‹ï¼š
  // â†’ "openrouter/deepseek/deepseek-chat" æˆ– "anthropic/claude-3-haiku"
  // âœ… è‹¥æ¸¬è©¦æ•ˆæœè‰¯å¥½ï¼Œå¯ä¿ç•™ Kimiã€‚

  "longContext": "openrouter,google/gemini-2.5-flash",
  // âš ï¸ æ³¨æ„ï¼šGemini Flash æ”¯æ´é«˜é” 1M tokensï¼Œä½†ä¸Šä¸‹æ–‡è™•ç†èƒ½åŠ›å¯èƒ½å› æƒ…æ³è€Œç•°ã€‚
  // æ›´é©åˆé•·ä¸Šä¸‹æ–‡çš„é¸é …ï¼š
  // â†’ "openrouter:anthropic/claude-3-7-sonnet-20250129" (200K ä¸Šä¸‹æ–‡)
  // â†’ "openrouter:meta-llama/llama-3.1-405b-instruct" (128K)
  // â†’ "openrouter:01-ai/yi-large" (200K+)
  // Gemini Flash é€Ÿåº¦å¿«ä¸”æˆæœ¬ä½ï¼Œä½†éœ€é©—è­‰å…¶åœ¨é•·è¼¸å…¥ä¸Šçš„æº–ç¢ºæ€§ã€‚

  "longContextThreshold": 60000,
  // æ­¤è¨­å®šæ±ºå®šä½•æ™‚åˆ‡æ›è‡³ longContext æ¨¡å‹ã€‚
  // 60K tokens å°å¤§å¤šæ•¸ API è€Œè¨€æ˜¯åˆç†çš„ã€‚
  // è«‹ç¢ºä¿æ‚¨çš„æç¤ºè§£æå™¨èƒ½æº–ç¢ºä¼°ç®— token æ•¸é‡ã€‚
  // âœ… è‹¥ä½¿ç”¨ 100K+ ä¸Šä¸‹æ–‡çš„æ¨¡å‹ï¼Œå¯ä¿ç•™ 60000ã€‚

  "webSearch": "openrouter,mistralai/mistral-medium-3.1"
  // çµ•ä½³é¸æ“‡ï¼šMistral Medium åœ¨æœå°‹å‹æŸ¥è©¢ä¸Šèƒ½å¹³è¡¡å“è³ªèˆ‡æˆæœ¬ã€‚
  // çµåˆæœå°‹çµæœæ™‚ï¼Œèƒ½å¦¥å–„è™•ç†å³æ™‚è³‡è¨Šã€‚
  // âœ… é™¤ééœ€è¦å¤šèªè¨€æˆ–ç‰¹å®šé ˜åŸŸæœå°‹ï¼Œå¦å‰‡å¯ä¿ç•™æ­¤è¨­å®šã€‚
}
```

---

### ğŸ” **æŒ‰ä½¿ç”¨å ´æ™¯å»ºè­°**

| ç”¨é€”           | æ¨è–¦æ¨¡å‹ |
|---------------|-------------------|
| **é è¨­**       | `qwen/qwen3-coder` âœ…ï¼ˆé©åˆç¨‹å¼ç¢¼èˆ‡é€šç”¨ä»»å‹™ï¼‰ |
| **èƒŒæ™¯ / ä½å„ªå…ˆç´š** | `google/gemini-2.5-flash-lite` æˆ– `mistralai/mistral-tiny`ï¼ˆæ›´ä¾¿å®œã€æ›´å¿«é€Ÿï¼‰ |
| **æ¨ç† / æ€è€ƒ** | `deepseek-chat` æˆ– `claude-3-haiku`ï¼ˆæ¨ç†åŸºæº–æ¸¬è©¦è¡¨ç¾æ›´ä½³ï¼‰ |
| **é•·ä¸Šä¸‹æ–‡ (>64K)** | `anthropic/claude-3-7-sonnet` æˆ– `yi-large`ï¼ˆæ¯” Gemini æ›´å¯é ï¼‰ |
| **ç¶²çµ¡æœå°‹ + æ‘˜è¦** | `mistral-medium-3.1` âœ…ï¼ˆéå¸¸é©åˆï¼‰ |

---

### ğŸ› ï¸ å„ªåŒ–æŠ€å·§

1. **Token ä¼°ç®—**ï¼šä½¿ç”¨æº–ç¢ºçš„ token è¨ˆæ•¸ï¼ˆä¾‹å¦‚ tiktoken æˆ–ç­‰æ•ˆå·¥å…·ï¼‰ä¾†æ­£ç¢ºè§¸ç™¼ `longContext`ã€‚
2. **å‚™æ´æ–¹æ¡ˆ**ï¼šè€ƒæ…®æ·»åŠ å‚™ç”¨æ¨¡å‹ä»¥æ‡‰å° API éŒ¯èª¤æˆ–é€Ÿç‡é™åˆ¶ã€‚
3. **å¿«å–æ©Ÿåˆ¶**ï¼šå¿«å– `webSearch` å’Œ `longContext` çš„çµæœä»¥ç¯€çœæˆæœ¬ã€‚
4. **å»¶é²ç›£æ§**ï¼šè¿½è¹¤æ¯å€‹æ¨¡å‹çš„å›æ‡‰æ™‚é–“ï¼Œä»¥ä¾¿å‹•æ…‹èª¿æ•´è·¯ç”±ã€‚
5. **æˆæœ¬è¿½è¹¤**ï¼šç›£æ§æ¯æ¬¡æŸ¥è©¢çš„æˆæœ¬ï¼Œç‰¹åˆ¥æ˜¯é‡å°å¤§ä¸Šä¸‹æ–‡æˆ–é«˜éšæ¨¡å‹ã€‚

---

### âœ… æœ€çµ‚å»ºè­°

æ‚¨çš„é…ç½®æ•´é«”ç©©å¥ï¼Œç‰¹åˆ¥é©åˆç·¨ç¨‹å’Œæœå°‹å·¥ä½œè² è¼‰ã€‚å¯é€²è¡Œå°å¹…æ”¹é€²ï¼š

```json
"Router": {
  "default": "openrouter,qwen/qwen3-coder",
  "background": "openrouter,google/gemini-2.5-flash-lite",
  "think": "openrouter,deepseek/deepseek-chat",
  "longContext": "openrouter,anthropic/claude-3-7-sonnet-20250129",
  "longContextThreshold": 60000,
  "webSearch": "openrouter,mistralai/mistral-medium-3.1"
}
```

è«‹å‘ŠçŸ¥æ‚¨çš„ä¸»è¦ä½¿ç”¨å ´æ™¯ï¼ˆä¾‹å¦‚ç·¨ç¨‹ã€ç ”ç©¶ã€èŠå¤©æ©Ÿå™¨äººï¼‰ï¼Œæˆ‘å¯é€²ä¸€æ­¥ç‚ºæ‚¨é‡èº«å®šåˆ¶ï¼