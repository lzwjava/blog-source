---
audio: false
generated: true
lang: hant
layout: post
title: Fortran：科學計算的傳承
translated: true
type: note
---

Fortran，全稱為**Formula Translation**，是最古老的高階程式語言之一，專為數值與科學計算而設計。它於1950年代由IBM首次開發，至今仍廣泛應用於工程、物理和高效能計算等領域，因其在處理複雜數學運算方面的高效性而備受青睞。以下是對Fortran的全面介紹，涵蓋其歷史、特性、應用、版本及現代相關性。

### **歷史與發展**
Fortran由**John Backus**帶領的IBM團隊首創，第一個版本於1957年發布，用於IBM 704電腦。其目標是創建一種能將數學公式轉譯為機器碼的語言，使程式設計比低階組合語言更易上手。Fortran在當時具有革命性，引入了變數、迴圈和副程式等概念，為現代程式語言奠定了基礎。

Fortran歷史上的關鍵里程碑：
- **Fortran I（1957年）**：首個編譯器，針對數值計算進行了優化。
- **Fortran II（1958年）**：引入了副程式和函數，提升了模組化。
- **Fortran IV（1962年）**：改進了控制結構和可移植性。
- **Fortran 66**：美國標準協會首個標準化版本。
- **Fortran 77**：增加了結構化程式設計功能，如IF-THEN-ELSE。
- **Fortran 90/95**：引入了現代功能，如模組、動態記憶體分配和陣列操作。
- **Fortran 2003/2008/2018**：增加了物件導向程式設計、平行計算支援及與C語言的互通性。

### **Fortran的主要特性**
Fortran專為數值和科學任務設計，其特性優先考慮效能與精確度：
1. **高效能**：Fortran編譯器生成高度優化的機器碼，使其非常適合模擬和資料分析等計算密集型應用。
2. **陣列操作**：原生支援多維陣列及其操作，無需顯式迴圈即可進行高效的矩陣運算。
3. **數學精確度**：內建對複數、雙精度運算及內建數學函數的支援。
4. **模組化**：Fortran支援副程式、函數和模組來組織程式碼，尤其是在Fortran 90及後續版本中。
5. **平行計算**：現代Fortran（如Fortran 2008）包含了共陣列及平行程式設計功能，適用於超級計算。
6. **互通性**：Fortran 2003引入了與C語言的綁定，實現了與其他語言的整合。
7. **可移植性**：標準化版本確保程式碼可在不同平台上運行，且只需最小修改。
8. **強型別**：Fortran實施嚴格的型別檢查，減少數值計算中的錯誤。

### **語法與結構**
Fortran的語法對於數學任務來說直觀易懂，但與現代語言相比可能顯得較為僵化。以下是一個簡單的Fortran程式範例，用於計算數字的平方：

```fortran
program square
  implicit none
  real :: x, result
  print *, 'Enter a number:'
  read *, x
  result = x * x
  print *, 'The square is:', result
end program square
```

關鍵元素：
- **程式結構**：程式碼組織在`program`、`subroutine`或`function`區塊中。
- **Implicit None**：最佳實踐，強制明確變數宣告，避免型別錯誤。
- **I/O操作**：使用簡單的`print`和`read`語句進行用戶互動。
- **固定格式與自由格式**：舊版Fortran（如Fortran 77）使用固定格式（基於欄位）的程式碼；現代Fortran使用自由格式以獲得靈活性。

### **Fortran的版本**
Fortran經歷了顯著演進，每個標準都引入了新的功能：
- **Fortran 77**：廣泛使用，引入了結構化程式設計，但缺乏現代功能。
- **Fortran 90**：增加了自由格式源碼、模組、動態記憶體和陣列操作。
- **Fortran 95**：對Fortran 90進行了細化改進，如`FORALL`結構。
- **Fortran 2003**：引入了物件導向程式設計、C語言互通性及增強I/O。
- **Fortran 2008**：增加了用於平行程式設計的共陣列和子模組。
- **Fortran 2018**：增強了平行功能、改進了互通性和錯誤處理。

### **Fortran的應用**
Fortran的高效性和數學專注性使其在以下領域成為主流：
1. **科學計算**：用於物理、化學和氣候建模（例如天氣預報模型如WRF）。
2. **工程**：有限元素分析、結構模擬和計算流體動力學（例如ANSYS、NASTRAN）。
3. **高效能計算（HPC）**：Fortran因其速度和平行化功能在超級計算中佔主導地位。
4. **遺留系統**：許多行業（如航空航天、國防）維護著數十年前的大型Fortran程式碼庫。
5. **函式庫**：數值函式庫如BLAS、LAPACK和IMSL均以Fortran編寫或與其接口。

### **優勢與劣勢**
**優勢**：
- 在數值任務方面表現卓越。
- 擁有豐富的科學計算函式庫。
- 壽命長且向後兼容，使舊程式碼仍可運行。
- 在學術界和研究領域有強大的社群支持。

**劣勢**：
- 對通用程式設計的支持有限（例如無內建GUI或網頁開發工具）。
- 對現代程式設計師來說，因其獨特語法而學習曲線較陡。
- 在新專案中不如Python或C++等語言受歡迎，導致開發者社群較小。

### **現代相關性**
儘管年代久遠，Fortran在2025年仍保持其相關性：
- **HPC主導地位**：Fortran是超級計算的首選語言，在TOP500等基準測試中排名靠前。
- **遺留程式碼**：數十億行Fortran程式碼驅動著科學和工業領域的關鍵系統。
- **互通性**：現代Fortran可與C、Python及其他語言無縫協作，常用於混合工作流程。
- **教育**：仍因其數值計算能力在工程和物理課程中教授。

然而，由於易用性，像Python（帶有NumPy等函式庫）和Julia這樣的新語言在科學計算領域日益受到青睞。Fortran在原始效能和遺留支援至關重要的領域中仍佔有一席之地。

### **學習與工具**
- **編譯器**：流行的編譯器包括GNU Fortran（gfortran）、Intel Fortran和NVIDIA HPC SDK（用於GPU支援）。
- **IDE**：Fortran可與Visual Studio Code、Eclipse（搭配Photran）或專用工具如Intel的oneAPI等IDE配合使用。
- **資源**：可在fortran-lang.org等網站找到教程，書籍如Metcalf等人的《Modern Fortran Explained》，以及X或Stack Overflow上的社群論壇。

### **結論**
Fortran是科學計算的基石，融合了歷史意義與現代功能。其在數值任務中無與倫比的效能及在HPC中的持續使用，確保了其相關性，即使新語言不斷湧現。對於從事計算密集型問題的研究人員、工程師和科學家來說，Fortran仍然是一個強大而可靠的選擇。如果您對特定的Fortran功能、範例程式碼或其於特定領域的應用感興趣，請告訴我！