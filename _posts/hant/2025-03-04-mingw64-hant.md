---
audio: false
generated: true
lang: hant
layout: post
title: MINGW64 - Windows 上的 Unix 工具
translated: true
type: note
---

## 簡介

MINGW64 是 MSYS2 專案的一部分，它是一款強大的工具，能為 Windows 帶來類 Unix 的環境。它讓開發者和進階使用者能夠直接在 Windows 上使用 bash shell 指令和 Unix 風格的工具，簡化了跨平台專案的工作流程，或提供了使用 Unix shell 的便利性。在這篇部落格文章中，我們將深入探討 MINGW64 是什麼、它與其他 Windows 終端機的區別（並澄清其與 iTerm 的比較），探索常用指令，並強調除了路徑處理之外，使用者應考慮的其他方面。

## 什麼是 MINGW64？

MINGW64 代表「Minimalist GNU for Windows 64-bit」。它是一個開發環境，提供了一系列 GNU 工具和函式庫，讓使用者能在 Windows 上建置和執行類 Unix 的軟體。這對於需要為 Windows 編譯軟體，但又偏好 Unix 風格工具和指令的熟悉感與強大功能的開發者來說尤其有價值。

## 與其他 Windows 終端機的區別

將 MINGW64 與 Windows 上可用的終端機（例如命令提示字元或 PowerShell）進行比較時，會出現幾個明顯的區別。（請注意：iTerm 是 macOS 的終端機模擬器，並非 Windows 的，因此我們將專注於與 Windows 原生終端機的比較。）

1. **Shell 環境**  
   - **MINGW64**：使用 bash shell，這是大多數類 Unix 系統的預設 shell，能夠原生使用 bash 指令碼和指令。  
   - **命令提示字元**：依賴 cmd.exe，擁有其獨特的指令集和指令碼語言。  
   - **PowerShell**：提供更進階、以 Windows 為核心的 shell，擁有自己的語法和功能。

2. **指令集**  
   - **MINGW64**：支援大量的 Unix 指令，如 `ls`、`grep`、`sed` 和 `awk`，這些在命令提示字元或 PowerShell 中預設不可用。  
   - **命令提示字元**：僅限於 Windows 特定指令（例如 `dir`、`copy`）。  
   - **PowerShell**：包含別名和模組來模擬某些 Unix 指令，但 MINGW64 提供了更真實且全面的 Unix 體驗。

3. **檔案系統**  
   - **MINGW64**：將 Windows 磁碟機映射到 `/` 下（例如 `C:\` 變成 `/c/`），允許使用 Unix 風格的路徑導航。  
   - **命令提示字元 & PowerShell**：使用 Windows 風格的路徑，帶有反斜線（例如 `C:\path\to\file`）。

4. **開發工具**  
   - **MINGW64**：捆綁了編譯器如 GCC，這在類 Unix 環境中從原始碼建置軟體至關重要。  
   - **命令提示字元 & PowerShell**：預設缺少這些工具，雖然可以單獨添加；但 MINGW64 提供了更整合的解決方案。

本質上，MINGW64 在 Windows 上提供了類 Unix 的體驗，與命令提示字元和 PowerShell 的原生 Windows 焦點形成鮮明對比。

## MINGW64 中的常用指令

MINGW64 的類 Unix 環境支援豐富的指令。以下是一些基本指令：

### 1. 瀏覽目錄
- **`pwd`**：顯示目前工作目錄（例如 `/c/users/yourname`）。  
- **`cd <directory>`**：切換到指定目錄（例如 `cd /c/projects`）。  
- **`ls`**：列出目錄內容（請注意：在 MINGW64 中，`ls` 被別名為 `dir`，以模擬 Unix 行為）。  
- **`ls -l`**：提供詳細列表（同樣被別名為帶選項的 `dir`）。

### 2. 管理檔案和目錄
- **`mkdir <directory>`**：建立新目錄（例如 `mkdir myfolder`）。  
- **`rm <file>`**：刪除檔案（例如 `rm oldfile.txt`）。  
- **`rm -r <directory>`**：遞迴刪除目錄及其內容。  
- **`cp <source> <destination>`**：複製檔案或目錄。  
- **`mv <source> <destination>`**：移動或重新命名檔案或目錄。

### 3. 檢視和編輯檔案
- **`cat <file>`**：顯示檔案內容（例如 `cat notes.txt`）。  
- **`less <file>`**：逐頁檢視檔案。  
- **`nano <file>`**：在 nano 文字編輯器中開啟檔案進行編輯。

### 4. 搜尋和篩選
- **`grep <pattern> <file>`**：在檔案中搜尋模式（例如 `grep "error" log.txt`）。  
- **`find <directory> -name <pattern>`**：尋找符合模式的檔案（例如 `find /c -name "*.txt"`）。

### 5. 開發指令
- **`gcc <source.c> -o <output>`**：編譯 C 程式（例如 `gcc main.c -o main.exe`）。  
- **`make`**：使用 Makefile 建置軟體。  
- **`git <command>`**：執行 Git 版本控制指令（例如 `git clone <repo>`）。

這些指令只是冰山一角——MINGW64 支援龐大的 Unix 工具生態系統，使其功能非常多元。

## 其他需要考慮的方面

除了路徑處理之外，使用 MINGW64 時有幾個因素值得注意：

1. **環境變數**  
   - MINGW64 維護變數如 `PATH`、`HOME` 和 `SHELL`。使用 `echo $PATH` 檢視它們，或使用 `export PATH=$PATH:/new/path` 修改它們。  
   - 請謹慎操作，因為變更可能會影響指令和程式的行為。

2. **套件管理**  
   - 包含 MINGW64 的 MSYS2 使用 `pacman` 套件管理器。使用 `pacman -S <package>` 安裝工具（例如 `pacman -S gcc`）。  
   - 定期更新（`pacman -Syu`）可保持環境最新。

3. **檔案權限**  
   - MINGW64 模擬 Unix 權限（例如透過 `chmod`），但 Windows 本身不支援它們，這可能導致可執行檔出現意外行為。  
   - 權限變更的效果在 Windows 上可能有限。

4. **效能**  
   - 模擬層可能使某些操作比原生 Windows 工具慢。  
   - 對於效能關鍵任務，請考慮使用原生替代方案或優化工作流程。

5. **與 Windows 的整合**  
   - 直接執行 Windows 可執行檔（例如 `notepad.exe` 開啟記事本）。  
   - 在將參數傳遞給 Windows 程式時，注意路徑轉換問題。

## 結論

MINGW64 是連接 Unix 和 Windows 環境的改變者。其 bash shell 和 Unix 指令集使開發者和進階使用者能夠在 Windows 上無縫工作，特別是在跨平台開發或命令列任務方面。雖然路徑處理、權限和效能等細微差別需要注意，但 MINGW64 仍然是一個強大且靈活的平台。

為了最大化其潛力，請親自動手探索其指令和功能。嘗試使用工具，查閱文件，並在需要時利用線上資源。透過實踐，MINGW64 可以顯著提升你在 Windows 上的生產力。編碼愉快！