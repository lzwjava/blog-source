---
audio: false
generated: true
lang: hant
layout: post
title: 班·伊特對SR鎖存器與觸發器的改進
translated: true
type: note
---

在之前的影片中，我討論過 SR 鎖存器，如果你不熟悉的話，我建議你回顧一下那部影片。簡單來說，SR 鎖存器有兩個輸入端：**R**（重置）和 **S**（設置）。當重置輸入變為高電位時，輸出 **Q** 會變為低電位（關閉），從而重置鎖存器。當設置輸入變為高電位時，輸出 **Q** 會變為高電位（開啟），從而設置鎖存器。還有一個互補輸出 **Q̅**（Q-bar），它總是與 **Q** 相反，除了一種情況：當 **R** 和 **S** 輸入同時為高電位時。在這種情況下，**Q** 和 **Q̅** 都會變為低電位，這被視為無效狀態，因為你不應該同時設置和重置鎖存器。如果兩個輸入都被釋放，鎖存器的狀態將變得不可預測，因為它取決於哪個輸入先被釋放。一般來說，SR 鎖存器會保持在其兩個穩定狀態中的其中一個。

在這部影片中，我將討論對基本 SR 鎖存器電路的修改。第一個修改是**帶啟用端的 SR 鎖存器**。這個版本在 **R** 和 **S** 輸入端添加了**AND 閘**，由**啟用**信號控制。當啟用信號為高電位（1）時，AND 閘將 **R** 和 **S** 輸入無改變地傳遞。例如，如果**啟用**為 1 且**重置**為 1，AND 閘輸出 1；如果**重置**為 0，則輸出 0。然而，如果**啟用**信號為低電位（0），則無論 **R** 和 **S** 輸入為何，AND 閘的輸出總是 0。這會導致鎖存器保持其最後的狀態， effectively 忽略輸入。因此，啟用信號允許你啟用鎖存器以響應其 **R** 和 **S** 輸入，或禁用它以保持當前狀態。

接下來，我們可以擴展這個概念來創建一個**SR 正反器**。鎖存器和正反器之間的關鍵區別在於，鎖存器的輸出在其輸入變化時就會改變，而正反器的輸出僅在特定觸發時改變，通常是時鐘脈衝。在 SR 正反器中，一個**時鐘**輸入（在圖中以三角形符號表示）控制輸出的更新時間。具體來說，輸出 **Q** 和 **Q̅** 僅在時鐘從低電位轉變為高電位（上升邊緣）時改變。在所有其他時間，輸入 **R** 和 **S** 被忽略，正反器保持其先前的狀態。

SR 正反器通過在時鐘電路中使用電容器來實現這一點。當時鐘從低電位轉變為高電位時，電容器充電過程中會有短暫電流通過，在 AND 閘的輸入端產生一個短暫的電壓脈衝。這個脈衝 effectively 在那一刻啟用了帶啟用端的 SR 鎖存器，允許 **R** 和 **S** 輸入影響輸出 **Q** 和 **Q̅**。一旦電容器完全充電，脈衝停止，正反器將忽略進一步的輸入變化，直到下一個上升邊緣。

以下是 SR 正反器在時鐘上升邊緣時的行為：
- 如果 **R** 為高電位且 **S** 為低電位，則 **Q** 變為低電位（重置），**Q̅** 變為高電位。
- 如果 **S** 為高電位且 **R** 為低電位，則 **Q** 變為高電位（設置），**Q̅** 變為低電位。
- 如果 **R** 和 **S** 均為低電位，則正反器保持其先前的狀態。
- 如果 **R** 和 **S** 均為高電位（來自 SR 鎖存器的無效狀態），則行為不可預測。與 SR 鎖存器類似，**Q** 和 **Q̅** 可能在脈衝期間都變為低電位，但當輸入被釋放時，正反器會根據哪個輸入先下降而穩定到其中一個狀態。這使得輸出不確定，因為它取決於時間差異（例如，幾納秒），使這成為一個無效且不可預測的狀態。

為了解決這種不可預測性，我們可以使用**JK 正反器**，它類似於 SR 正反器，但包含了從輸出 **Q** 和 **Q̅** 到輸入的反饋。JK 正反器使用三輸入 AND 閘，這些閘結合了 **J**（類似於 **S**）、**K**（類似於 **R**）以及反饋信號 **Q** 和 **Q̅**。字母 **J** 和 **K** 是任意的，不代表特定術語，但它們將此電路與 SR 正反器區分開來。

JK 正反器的操作如下：
- 如果 **J** 和 **K** 均為 0，則 AND 閘輸出為 0，因此正反器保持其先前的狀態，即使在時鐘脈衝期間也是如此。
- 如果鎖存器當前已設置（**Q** = 1，**Q̅** = 0）並且你想重置它（**K** = 1，**J** = 0），則連接到 **K** 的 AND 閘在時鐘脈衝期間輸出 1（因為 **Q** = 1），從而重置正反器（**Q** = 0，**Q̅** = 1）。
- 如果鎖存器已經重置（**Q** = 0，**Q̅** = 1）且 **K** = 1，**J** = 0，則 AND 閘輸出保持為 0，因此正反器保持重置狀態，這是預期的行為。
- 類似地，如果鎖存器已重置（**Q** = 0，**Q̅** = 1）並且你想設置它（**J** = 1，**K** = 0），則連接到 **J** 的 AND 閘在時鐘脈衝期間輸出 1（因為 **Q̅** = 1），從而設置正反器（**Q** = 1，**Q̅** = 0）。
- 如果鎖存器已經設置且 **J** = 1，**K** = 0，則它保持設置狀態，如預期。

JK 正反器的獨特功能出現在 **J** 和 **K** 均為 1 時。由於反饋，只有一個 AND 閘可以同時處於活動狀態（因為 **Q** 和 **Q̅** 不能同時為 1）。如果 **Q** 為 1，則 **K** 的 AND 閘處於活動狀態，正反器在下一個時鐘脈衝時重置（**Q** = 0，**Q̅** = 1）。如果 **Q** 為 0，則 **J** 的 AND 閘處於活動狀態，正反器在下一個時鐘脈衝時設置（**Q** = 1，**Q̅** = 0）。這創建了一個**切換**行為：如果 **J** = **K** = 1，正反器在每個時鐘脈衝時切換其狀態（**Q** 從 0 變為 1 或從 1 變為 0）。這種可預測的切換消除了 SR 正反器的無效和不可預測狀態，使 JK 正反器更加穩健和多功能。