---
audio: false
generated: true
lang: de
layout: post
title: 'Beherrschung von JMeter: Leistungstests'
translated: true
type: note
---

Apache JMeter ist ein leistungsstarkes Open-Source-Tool, das in erster Linie für Performance-Tests entwickelt wurde, aber auch für Funktionstests eingesetzt werden kann. Es wird häufig verwendet, um die Leistung von Webanwendungen, APIs, Datenbanken und anderen Diensten zu testen, indem mehrere Benutzer simuliert und gemessen wird, wie das System unter Last reagiert. Nachfolgend finden Sie eine Schritt-für-Schritt-Anleitung zur effektiven Nutzung von JMeter, von der Installation über die Durchführung eines einfachen Tests bis hin zur Analyse der Ergebnisse.

---

## Schritt 1: JMeter installieren
Bevor Sie JMeter verwenden können, müssen Sie es auf Ihrem Rechner installieren. So geht's:

1. **Voraussetzungen**:  
   JMeter ist eine Java-basierte Anwendung, daher muss das Java Development Kit (JDK) oder die Java Runtime Environment (JRE) installiert sein. Version 8 oder höher wird empfohlen. Sie können dies überprüfen, indem Sie `java -version` in Ihrem Terminal oder Ihrer Eingabeaufforderung ausführen. Falls Java nicht installiert ist, laden Sie es von der [offiziellen Java-Website](https://www.java.com) herunter und installieren Sie es.

2. **JMeter herunterladen**:  
   Besuchen Sie die [Apache JMeter Website](https://jmeter.apache.org/download_jmeter.cgi) und laden Sie die neueste Binärversion herunter (normalerweise eine `.zip` oder `.tgz` Datei).

3. **Datei entpacken**:  
   Entpacken Sie die heruntergeladene Datei in ein Verzeichnis Ihrer Wahl (z.B. `C:\JMeter` unter Windows oder `~/JMeter` auf Unix-basierten Systemen). Der entpackte Ordner enthält alle Dateien, die zum Ausführen von JMeter benötigt werden.

4. **JMeter starten**:  
   - Navigieren Sie in den `bin`-Ordner innerhalb des entpackten Verzeichnisses (z.B. `C:\JMeter\apache-jmeter-5.x\bin`).
   - Führen Sie die entsprechende ausführbare Datei aus:
     - Unter **Windows**: Doppelklicken Sie auf `jmeter.bat` oder führen Sie es über die Eingabeaufforderung aus.
     - Unter **Unix/Linux/macOS**: Führen Sie `./jmeter.sh` im Terminal aus.
   - Dies öffnet die JMeter Graphical User Interface (GUI), in der Sie Ihre Testpläne erstellen und verwalten.

---

## Schritt 2: Einen Testplan erstellen
Ein **Testplan** in JMeter definiert, was Sie testen möchten und wie. Er ist der Bauplan für Ihren Performance-Test. So richten Sie einen grundlegenden Testplan ein:

### Eine Thread Group hinzufügen
1. Klicken Sie in der JMeter-GUI mit der rechten Maustaste auf den Knoten **Test Plan** im linken Bereich und wählen Sie **Add > Threads (Users) > Thread Group**.
2. Konfigurieren Sie die Thread Group:
   - **Number of Threads (Users)**: Die Anzahl der zu simulierenden virtuellen Benutzer (z.B. 10).
   - **Ramp-Up Period (seconds)**: Die Zeit, die JMeter benötigt, um alle Threads zu starten (z.B. 10 Sekunden bedeutet, dass 1 Thread pro Sekunde für 10 Threads startet).
   - **Loop Count**: Wie oft jeder Thread den Test wiederholt (z.B. 1 für einen einzelnen Durchlauf, oder "Forever" für kontinuierliche Wiederholung).

Die Thread Group simuliert Benutzerverkehr. Beispiel: 10 Threads mit einem Ramp-Up von 10 Sekunden und 1 Loop bedeuten, dass 10 Benutzer die Anwendung über 10 Sekunden hinweg aufrufen, wobei jeder den Test einmal durchführt.

### Einen Sampler hinzufügen
Sampler definieren die Anfragen, die JMeter an das Zielsystem sendet. Für Webtests ist der HTTP Request Sampler der gebräuchlichste:
1. Klicken Sie mit der rechten Maustaste auf die Thread Group und wählen Sie **Add > Sampler > HTTP Request**.
2. Konfigurieren Sie den HTTP Request:
   - **Protocol**: `http` oder `https`.
   - **Server Name or IP**: Die Domain oder IP des Zielsystems (z.B. `example.com`).
   - **Port Number**: Normalerweise `80` für HTTP oder `443` für HTTPS (leer lassen, wenn Standard).
   - **Method**: `GET`, `POST` usw., abhängig vom Anfragetyp.
   - **Path**: Der spezifische Endpunkt oder die Seite (z.B. `/` für die Startseite).
   - Fügen Sie bei Bedarf Parameter oder einen Request Body hinzu (z.B. für POST-Anfragen).

Dieser Sampler teilt JMeter mit, welche Aktion jeder virtuelle Benutzer ausführen soll.

### Einen Listener hinzufügen
Listener sammeln und zeigen die Testergebnisse an:
1. Klicken Sie mit der rechten Maustaste auf die Thread Group und wählen Sie **Add > Listener > View Results Tree** (oder einen anderen Listener wie **Summary Report**).
2. Der **View Results Tree** zeigt detaillierte Ergebnisse für jede Anfrage an, einschließlich Antwortzeiten, Statuscodes und Antwortdaten.

Listener sind unerlässlich, um zu analysieren, wie sich Ihre Anwendung während des Tests verhält.

### Den Testplan speichern
Klicken Sie auf **File > Save Test Plan As** und speichern Sie Ihre `.jmx`-Datei (z.B. `mytest.jmx`). Dies ermöglicht es Ihnen, den Plan später wiederzuverwenden oder zu ändern.

---

## Schritt 3: Den Test ausführen
So führen Sie Ihren Test aus:
1. Klicken Sie in der JMeter-GUI auf den grünen **Play**-Button (▶) in der Symbolleiste oder gehen Sie zu **Run > Start**.
2. JMeter simuliert die in der Thread Group definierten Benutzer und sendet die konfigurierten HTTP-Anfragen.
3. Beobachten Sie, wie die Ergebnisse im Listener (z.B. View Results Tree) während des Testlaufs erscheinen.

Für kleine Tests ist die Ausführung über die GUI in Ordnung. Für größere Tests siehe den Abschnitt "Erweiterte Nutzung" unten für den Nicht-GUI-Modus.

---

## Schritt 4: Die Ergebnisse analysieren
Nach Abschluss des Tests verwenden Sie den Listener, um die Ergebnisse zu überprüfen:
- **View Results Tree**: Zeigt Erfolg/Misserfolg, Antwortzeit und Antwortdaten jeder Anfrage.
- **Summary Report**: Bietet aggregierte Metriken wie durchschnittliche Antwortzeit, Durchsatz (Anfragen pro Sekunde) und Fehlerrate.

Diese Metriken helfen Ihnen, die Leistung der Anwendung einzuschätzen (z.B. wie schnell sie unter Last reagiert oder ob sie bei einer bestimmten Benutzerzahl versagt).

---

## Beispiel: Testen einer einfachen Webseite
Testen wir `example.com` mit 10 Benutzern:
1. Starten Sie JMeter.
2. Fügen Sie eine Thread Group hinzu:
   - Threads: 10
   - Ramp-Up: 10 Sekunden
   - Loop Count: 1
3. Fügen Sie einen HTTP Request Sampler hinzu:
   - Protocol: `http`
   - Server Name: `example.com`
   - Method: `GET`
   - Path: `/`
4. Fügen Sie einen View Results Tree Listener hinzu.
5. Speichern und führen Sie den Test aus.
6. Überprüfen Sie die Ergebnisse im View Results Tree, um Antwortzeiten und Statuscodes (z.B. 200 OK) zu sehen.

Dieser einfache Test misst, wie `example.com` mit 10 gleichzeitigen Benutzern abschneidet.

---

## Erweiterte Nutzung
Für komplexere Szenarien bietet JMeter zusätzliche Funktionen:

### Parametrisierung
Verwenden Sie die **CSV Data Set Config**, um verschiedene Daten (z.B. Benutzernamen, Passwörter) aus einer CSV-Datei in Ihren Test einzuspeisen:
1. Fügen Sie **Config Element > CSV Data Set Config** zur Thread Group hinzu.
2. Geben Sie den Dateipfad und Variablennamen an (z.B. `${username}`) und verwenden Sie diese Variablen dann in Ihrem HTTP Request.

### Korrelation
Behandeln Sie dynamische Werte (z.B. Session-IDs, Tokens):
1. Fügen Sie nach einer Anfrage einen **Post-Processor > Regular Expression Extractor** oder **JSON Extractor** hinzu.
2. Extrahieren Sie einen Wert (z.B. ein Token) in eine Variable (z.B. `${token}`).
3. Verwenden Sie `${token}` in nachfolgenden Anfragen (z.B. in Headern oder Parametern).

### Assertions
Validieren Sie Antworten:
1. Fügen Sie dem Sampler **Assertion > Response Assertion** hinzu.
2. Prüfen Sie auf bestimmten Text, Antwortcodes (z.B. 200) oder verwenden Sie JSONPath für API-Tests.

### Nicht-GUI-Modus
Für große Tests oder Automatisierung:
- Führen Sie JMeter über die Befehlszeile aus:
  ```
  jmeter -n -t mytest.jmx -l results.jtl
  ```
  - `-n`: Nicht-GUI-Modus.
  - `-t`: Testplandatei.
  - `-l`: Ergebnisprotokolldatei (z.B. `.jtl`).
- Erstellen Sie einen HTML-Bericht:
  ```
  jmeter -n -t mytest.jmx -l results.jtl -e -o report_folder
  ```
  - `-e`: Bericht erstellen.
  - `-o`: Ausgabeordner für den HTML-Bericht.

### Verteiltes Testen
Für hohe Lasten:
1. Richten Sie mehrere JMeter-Instanzen auf verschiedenen Rechnern ein.
2. Konfigurieren Sie die `jmeter.properties`-Datei des Master-Rechners, um die IPs der Slaves einzubeziehen.
3. Führen Sie den Test vom Master aus, um die Lastgenerierung zu koordinieren.

---

## Zusätzliche Tipps
- **Unterstützte Protokolle**: Neben HTTP unterstützt JMeter FTP, JDBC, JMS und mehr, was es für verschiedene Systeme vielseitig einsetzbar macht.
- **Server-Monitoring**: Kombinieren Sie JMeter mit serverseitigen Tools (z.B. PerfMon), um CPU, Speicher und Datenbankleistung während der Tests zu überwachen.
- **Realistische Simulation**: Fügen Sie **HTTP Cookie Manager**, **HTTP Cache Manager** oder **Timers** hinzu, um Browserverhalten oder Benutzerdenkzeiten nachzuahmen.
- **Funktionstests**: Verwenden Sie Assertions, um die Richtigkeit von Antworten zu überprüfen, nicht nur die Leistung.

---

## Fazit
So verwenden Sie JMeter:
1. Installieren Sie es mit Java und starten Sie die GUI.
2. Erstellen Sie einen Testplan mit einer Thread Group, Samplern und Listenern.
3. Konfigurieren Sie die Testelemente (Benutzer, Anfragen usw.).
4. Führen Sie den Test aus und analysieren Sie die Ergebnisse.

Für einen einfachen Einstieg testen Sie eine Webseite wie `example.com`, wie oben gezeigt. Wenn Sie Erfahrung sammeln, erkunden Sie erweiterte Funktionen wie Parametrisierung, Korrelation und verteiltes Testen, um komplexe, reale Szenarien zu bewältigen. JMeters Flexibilität und umfangreiche Dokumentation machen es zu einem wertvollen Werkzeug für Anfänger und fortgeschrittene Tester gleichermaßen.