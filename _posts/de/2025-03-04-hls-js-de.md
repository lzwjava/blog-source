---
audio: false
generated: true
lang: de
layout: post
title: JavaScript-Bibliothek für HLS-Wiedergabe
translated: true
type: note
---

Es scheint, als würden Sie nach der Verwendung der `hls.js`-Bibliothek fragen, speziell Version `^0.7.6`. Dabei handelt es sich um eine JavaScript-Bibliothek zum Abspielen von HLS (HTTP Live Streaming) Video-Streams in Browsern. Ich werde eine kurze Anleitung zur Einrichtung und Verwendung basierend auf dem allgemeinen Wissen über die Bibliothek geben. Beachten Sie, dass Version `0.7.6` ziemlich alt ist (veröffentlicht um 2017), daher könnten sich einige Funktionen oder APIs von den neuesten Versionen unterscheiden. Wenn Sie spezifische Details benötigen, die genau auf diese Version zugeschnitten sind, lassen Sie es mich wissen, und ich kann die Antwort entsprechend anpassen!

### Schritte zur Verwendung von `hls.js` (v0.7.6)

#### 1. **Bibliothek installieren oder einbinden**
Sie können `hls.js` auf eine dieser Arten in Ihr Projekt einbinden:

- **Über npm** (wenn Sie ein Build-Tool wie Webpack verwenden):
  ```bash
  npm install hls.js@^0.7.6
  ```
  Importieren Sie es dann in Ihrem JavaScript:
  ```javascript
  var Hls = require('hls.js');
  ```

- **Über CDN** (wenn Sie es direkt in eine HTML-Datei einfügen):
  ```html
  <script src="https://cdn.jsdelivr.net/npm/hls.js@0.7.6"></script>
  ```
  Dies macht `Hls` als globale Variable verfügbar.

#### 2. **HTML vorbereiten**
Sie benötigen ein `<video>`-Element in Ihrem HTML, an das der HLS-Stream angehängt wird:
```html
<video id="video" controls></video>
```

#### 3. **`hls.js` initialisieren**
Hier ist ein grundlegendes Beispiel, wie Sie `hls.js` verwenden können, um einen HLS-Stream (z.B. eine `.m3u8`-Datei) zu laden und abzuspielen:

```javascript
// Prüfen, ob der Browser HLS nativ unterstützt (z.B. Safari)
// Falls nicht, hls.js verwenden
var video = document.getElementById('video');
var videoSrc = 'https://example.com/playlist.m3u8'; // Ersetzen Sie dies durch Ihre HLS-URL

if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, function () {
        video.play();
    });
} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    // Für Browser mit nativer HLS-Unterstützung (z.B. Safari)
    video.src = videoSrc;
    video.addEventListener('loadedmetadata', function () {
        video.play();
    });
}
```

#### 4. **Schlüsselkonzepte**
- **`Hls.isSupported()`**: Prüft, ob der Browser `hls.js` benötigt (gibt `true` zurück, wenn Media Source Extensions unterstützt werden).
- **`loadSource(url)`**: Lädt das HLS-Manifest (die `.m3u8`-Datei).
- **`attachMedia(video)`**: Hängt das Video-Element an die `hls.js`-Instanz an.
- **`Hls.Events.MANIFEST_PARSED`**: Event, das ausgelöst wird, wenn das Manifest geladen wurde und signalisiert, dass der Stream bereit zum Abspielen ist.

#### 5. **Beispiel mit Fehlerbehandlung**
Für mehr Robustheit:
```javascript
var video = document.getElementById('video');
var videoSrc = 'https://example.com/playlist.m3u8';

if (Hls.isSupported()) {
    var hls = new Hls();
    hls.loadSource(videoSrc);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, function () {
        video.play();
    });
    hls.on(Hls.Events.ERROR, function (event, data) {
        console.error('HLS Error:', data);
        if (data.fatal) {
            switch (data.type) {
                case Hls.ErrorTypes.NETWORK_ERROR:
                    console.log('Network error, retrying...');
                    hls.startLoad();
                    break;
                case Hls.ErrorTypes.MEDIA_ERROR:
                    console.log('Media error, recovering...');
                    hls.recoverMediaError();
                    break;
                default:
                    hls.destroy();
                    break;
            }
        }
    });
} else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = videoSrc;
}
```

#### Hinweise für Version `^0.7.6`
- Diese Version stammt aus dem Jahr 2017, daher fehlen neuere Funktionen wie Verbesserungen bei der adaptiven Bitratenumschaltung oder Unterstützung für Low-Latency HLS, die in späteren Versionen hinzugefügt wurden.
- Die Kern-API (`loadSource`, `attachMedia`, Events wie `MANIFEST_PARSED`) sollte wie oben gezeigt funktionieren.
- Prüfen Sie die [offiziellen `hls.js` GitHub Releases](https://github.com/video-dev/hls.js/releases/tag/v0.7.6) für das genaue Changelog, wenn Sie präzise Details benötigen.

#### 6. **Testen**
- Verwenden Sie für Tests einen öffentlich verfügbaren HLS-Stream, wie z.B.:
  ```
  https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8
  ```
- Öffnen Sie die Entwicklertools Ihres Browsers (F12), um eventuelle Probleme zu debuggen.

Wenn Sie einen spezifischen Anwendungsfall oder ein Problem haben (z.B. Integration in ein Framework, Handhabung von Untertiteln, etc.), lassen Sie es mich wissen, und ich passe die Antwort weiter an!