---
audio: false
generated: true
image: false
lang: de
layout: post
model: x-ai/grok-4-fast
title: Python-Benutzer-Site-Pakete deaktiviert
translated: true
type: note
---

Das Paket **ist bereits** in Ihrem Benutzerverzeichnis installiert (`~/.local/lib/python3.13/site-packages`), aber wenn Sie das Skript mit `python3 ./scripts/train/extract_wiki.py` ausführen, sucht Python **aus irgendeinem Grund nicht im Benutzer-site-packages-Verzeichnis**.

Dies ist ein sehr häufiges Problem mit Python 3.11+ auf vielen Linux-Distributionen (Ubuntu 22.04/24.04, Debian, Arch, etc.), weil die Standard-`python3` oft die Umgebungsvariable `PYTHONNOUSERSITE=1` gesetzt hat oder das `-I` (Isolated) Flag durch den System-Paketmanager aktiviert ist, was **den Benutzer-site-packages-Pfad komplett deaktiviert**.

### Schnelle Möglichkeiten, um zu überprüfen, ob dies das Problem ist

Führen Sie diese beiden Befehle aus:

```bash
python3 -c "import sys, pathlib; print('user site:', pathlib.Path(sys.path[-1]).resolve() if 'site-packages' in sys.path[-1] else 'DEAKTIVIERT')"
python3 -c "import site; print(site.ENABLE_USER_SITE)"
```

Wenn Sie `DEAKTIVIERT` oder `False` oder `None` sehen, ist das genau das Problem.

### Lösungen (wählen Sie eine)

#### Option 1 – Verwenden Sie `python3 -m pip` und führen Sie es mit derselben Python-Version aus (empfohlen)

```bash
# Verwenden Sie immer die Modulform, damit Sie 100% sicher sind, in welches Python Sie installieren
python3 -m pip install --user --upgrade mediawiki-dump

# Führen Sie dann Ihr Skript mit demselben Python aus
python3 ./scripts/train/extract_wiki.py
```

Wenn das immer noch fehlschlägt, erzwingen Sie die Aktivierung des Benutzer-Site-Pfads:

```bash
python3 -s ./scripts/train/extract_wiki.py
# oder
PYTHONNOUSERSITE=0 python3 ./scripts/train/extract_wiki.py
```

#### Option 2 – Verwenden Sie eine virtuelle Umgebung (sowieso Best Practice)

```bash
cd /home/lzw/projects/blog-source
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip
pip install mediawiki-dump   # wird in die venv installiert, keine Berechtigungsprobleme
python ./scripts/train/extract_wiki.py   # jetzt wird es das Paket definitiv finden
```

#### Option 3 – Erzwingen Sie die Aktivierung des Benutzer-Site-Pfads dauerhaft (nicht empfohlen für System-Python)

Fügen Sie dies Ihrer `~/.bashrc` oder `~/.zshrc` hinzu:

```bash
export PYTHONNOUSERSITE=
```

oder erstellen Sie `~/.config/pythonstartup.py` mit:

```python
import site
import os
os.environ["PYTHONNOUSERSITE"] = ""
```

### Schneller Einzeiler-Test für jetzt

Führen Sie dies einfach in Ihrer aktuellen Shell aus:

```bash
python3 -s -c "from mediawiki_dump.tokenizer import WikiTokenizer; print('Funktioniert!')"
```

Wenn das "Funktioniert!" ausgibt, dann ist die Lösung einfach, immer `python3 -s` zu verwenden oder eine venv zu erstellen.

Wählen Sie den venv-Weg (Option 2) – das erspart Ihnen endlose Kopfschmerzen mit jedem anderen Paket auch. Lassen Sie mich wissen, wenn Sie einen neuen Fehler danach erhalten!