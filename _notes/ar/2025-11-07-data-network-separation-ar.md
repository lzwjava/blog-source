---
audio: false
generated: true
image: false
lang: ar
layout: post
model: x-ai/grok-4-fast
title: فصل طبقة ربط البيانات وطبقة الشبكة
translated: true
type: note
---

### لماذا يتم فصل طبقة ربط البيانات وطبقة الشبكة؟

أنت تطرح سؤالاً رائعاً حول نموذج TCP/IP (أو OSI) — لماذا نزعج أنفسنا بفصل **طبقة ربط البيانات (الطبقة الثانية)** و**طبقة الشبكة (الطبقة الثالثة)** بدلاً من دمجهما في طبقة واحدة؟ قد يبدو أن دمجهما يمكن أن يقلل من النفقات العامة (مثل رؤوس أقل، عنونة IP أبسط مرتبطة مباشرة بالروابط المادية، وربما دمج تحكم بالازدحام). ففي النهاية، التأطير الثنائي ("0000111" كعلم أو محدد) والرؤوس تضيف بالفعل بعض التعقيد. دعنا نحللها خطوة بخطوة، ثم نناقش الكفاءة.

#### ملخص سريع: ماذا تفعل كل طبقة
- **طبقة ربط البيانات**: تتعامل مع الاتصال *المحلي* بين الأجهزة المتصلة مباشرة (مثلاً عبر الإيثرنت أو Wi-Fi). تقوم بتأطير البتات الخام إلى حزم (إضافة رؤوس/ذيول تحتوي على عناوين MAC للإشارة إلى "من هو الجار التالي")، واكتشاف الأخطاء (عبر فحوصات CRC)، وإدارة التحكم بالتدفق على رابط واحد. فكر فيها كـ "شرطي الحي المادي" — فهي تضمن التسليم الموثوق بين الجيران دون القلق بشأن الصورة الأكبر.

- **طبقة الشبكة**: تدير التوجيه *العالمي* عبر الشبكات (مثلاً، الإنترنت). تستخدم عناوين منطقية مثل عناوين IP لتحديد المسارات بين المضيفين البعيدين، وتتعامل مع التجزئة وإعادة التجميع، وتتعامل مع قضايا أوسع مثل جداول التوجيه وتجنب الازدحام الأساسي (مثلاً، ICMP للإبلاغ عن الأخطاء). إنها "نظام GPS العالمي" — تخطط المسارات عبر المدن، وليس فقط الشوارع.

هذا الفصل يعني أن البيانات يتم "تغليفها" أثناء انتقالها لأعلى/أسفل المكدس: حزم طبقة الشبكة يتم تغليفها داخل أطر طبقة ربط البيانات للإرسال.

#### الأسباب الرئيسية للفصل
هذا ليس تعسفياً — إنه مدفوع بالاحتياجات الواقعية للتوسع والمرونة والموثوقية في الشبكات المتنوعة. إليك السبب في أننا لا ندمجهما معاً ببساطة:

1. **الوحدانية والتخصص**:
   - الشبكات ليست موحدة: الـ Wi-Fi المنزلي يستخدم تقنية مختلفة (مثلاً، أطر 802.11) عن رابط الألياف البصرية للشركات أو اتصال الأقمار الصناعية. تركز طبقة ربط البيانات على التفاصيل *المتعلقة بالرابط* (مثلاً، تصحيح الأخطاء المُعدّل لموجات الراديو المشوشة)، بينما تبقى طبقة الشبكة *محايدة* تجاه الوسيط. دمجها سيفرض تصميمًا واحدًا يناسب الجميع، مما يؤدي إلى تعطله عند تبديل العتاد.
   - مثال: يعمل IP (طبقة الشبكة) عبر الإيثرنت *أو* PPP *أو* حتى الحمام الزاجل (افتراضياً). الفصل يسمح لك بتبديل بروتوكولات ربط البيانات دون إعادة كتابة الإنترنت بأكملها.

2. **القابلية للتوسع للتوجيه**:
   - طبقة ربط البيانات هي من نقطة إلى نقطة (مثلاً، عناوين MAC منطقية فقط محلياً — بثها عالمياً سيغرق الشبكة). طبقة الشبكة تجرد هذا باستخدام عناوين IP هرمية، مما يمكن الموجهات من تمرير الحزم عبر ملايين الأجهزة دون معرفة كل التفاصيل المحلية.
   - إذا تم الدمج، كل قفزة ستحتاج إلى إعادة التفاوض على المسارات الكاملة، مما يفجر النفقات العامة في الشبكات الكبيرة. الفصل يخفي الفوضى المحلية (مثلاً، محدد الإطار "0000111" الخاص بك) خلف رؤوس IP نظيفة.

3. **القدرة على التشغيل البيني والتقييس**:
   - الإنترنت يزدهر على المكونات "الأفضل من نوعها". تتعامل طبقة ربط البيانات مع خصوصيات العتاد (مثلاً، اكتشاف التصادم في الإيثرنت القديم)، بينما تضمن طبقة الشبكة التسليم من طرف إلى طرف. الدمج سيحبس البائعين في مجموعات احتكارية، مما يخنق المنافسة (أتتذكر كيف كان الهدف من OSI هو تحقيق هذا الانفتاح؟).
   - عناوين IP "من المضيف" (أفترض أنك قصد المنشأ من المضيفين؟) تعمل لأن طبقة الشبكة تفصلها عن الروابط المادية — عنوان IP لجهازك يبقى ثابتاً حتى لو قمت بفصل الكابلات وإعادة توصيلها.

4. **معالجة الأخطاء والموثوقية على نطاقات مختلفة**:
   - طبقة ربط البيانات تلتقط *أخطاء الرابط* (مثلاً، انقلابات البت أثناء العبور) بفحوصات لكل إطار. تتعامل طبقة الشبكة مع قضايا *من طرف إلى طرف* (مثلاً، الحزم المفقودة عبر الموجهات). الدمج يخاطر بالإفراط (فحص كل شيء في كل مكان) أو وجود فجوات (فقدان الرؤية العالمية).
   - التحكم بالازدحام؟ هذا غالباً من اختصاص طبقة النقل (عمل TCP للتدفقات الموثوقة)، لكن طبقة الشبكة تشارك بمساعدة غير مباشرة (مثلاً، إسقاط الحزم للإشارة إلى التحميل الزائد). طيها في طبقة ربط البيانات سيجعلها "محلية" جداً — لن تتمكن من التنسيق عبر المسار الكامل بكفاءة.

#### أليس دمجهما سيكون أكثر كفاءة وبساطة؟
- **الإجابة المختصرة**: قد *يبدو* أبسط (طبقات أقل = نفقات تغليف أقل، مثل تخطي رؤوس طبقة ربط البيانات)، لكن عملياً، هذه اقتصاديات وهمية. الـ ~20-50 بايت الإضافية من الرؤوس لكل حزمة هي جزء ضئيل من أحجام البيانات الحديثة (مثلاً، تدفقات الفيديو)، والمكاسب من الفصل تفوق ذلك بكثير.

- **مقايضات الكفاءة**:
  - **إيجابيات الدمج**: تقليل تحليل الرؤوس (طبقة واحدة بدلاً من اثنتين)، توجيه محلي أسرع محتمل إذا كان IP مرتبطاً بـ MAC. الازدحام يمكن "دمجه" لكل رابط.
  - **السلبيات**:
    - **هشاشة التوسع**: في نموذج مسطح، تنتفخ جداول التوجيه (تخيل أن كل موجه يخزن *كل* عناوين MAC المحلية عالمياً — مستحيل على نطاق الإنترنت).
    - **كابوس الصيانة**: التحديث للتقنيات الجديدة (مثلاً، تقطيع 5G) يتطلب إصلاحًا شاملاً لكل شيء، وليس مجرد طبقة واحدة.
    - **انفجار النفقات العامة**: بدون الفصل، يتم تكرار استعادة الأخطاء وإشارات الازدحام أو فقدانها عبر القفزات، مما يؤدي إلى المزيد من إعادة الإرسال (أسوأ من الرؤوس الإضافية).
  - الدليل الواقعي: الشبكات المبكرة مثل ARPANET جربت مكدسات مسطحة لكنها اصطدمت بجدران عند النمو. التصميم الطبقي لـ TCP/IP توسع ليصل إلى مليارات الأجهزة — دمج الطبقتين 2 و3 كان سيخنق على الأرجح تحت هذا العبء.

باختصار، الفصل يبادل قليلاً من التعقيد المبدئي بمكاسب ضخمة على المدى الطويل في المرونة والمتانة. إنه مثل بناء سيارة بمحرك وناقل حركة منفصلين: مرهق في التجميع، لكن أفضل بكثير للرحلات عبر البلاد من كتلة واحدة ملتحمة معاً.

إذا كنت تقصد شيئاً محدداً بـ "ip address from on" أو تريد أمثلة برمجية/رسوم بيانية، دعني أعلم!

#### المراجع
- [Computer Networking: A Top-Down Approach (Kurose & Ross)](https://www.pearson.com/en-us/subject-catalog/p/computer-networking-a-top-down-approach/P200000006774/9780135415198) – الفصل 4 يتعمق في منطق الطبقات.
- [RFC 1122: Requirements for Internet Hosts](https://datatracker.ietf.org/doc/html/rfc1122) – وثيقة رسمية توضح سبب بقاء IP (الطبقة الثالثة) متميزاً عن طبقات الربط.