---
audio: false
generated: true
image: false
lang: ja
layout: post
model: moonshotai/kimi-k2-thinking
title: QUICによるヘッドオブラインブロッキングの解決
translated: true
type: note
---

---

### 問題点: リアルタイム通信におけるヘッドオブラインブロッキング

**Person A** は、**TCP（Transmission Control Protocol）** の根本的な制限について言及しています。TCPは信頼性が高く、パケットが順序通りに到着することを保証し、失われたパケットを再送信しますが、この信頼性そのものが問題を引き起こします。それが **ヘッドオブラインブロッキング（HOL blocking）** です。

10個のパケットでファイルを送信することを想像してみてください。パケット3が失われた場合、TCPはパケット3が再送信されて到着するまで、その後続のすべてのパケット（パケット4〜10）を保留します。ビデオ通話やオンラインゲームのようなリアルタイムアプリケーションでは、これにより顕著なラグや途切れが生じます。新しいデータが、もはや役に立たないかもしれない古いデータを待つためです。

従来の回避策は、**UDP（User Datagram Protocol）** を使用することでした。UDPは高速で順序制御を行いませんが、再送信や輻輳制御といった信頼性機能を欠いているため、開発者はこれらの機能を一から再構築する必要がありました。

---

### 解決策: QUICプロトコル

**Person B** は、**QUIC（Quick UDP Internet Connections）** を紹介しています。これはGoogleによって2012年に開発され、現在は **RFC 9000** として標準化されている現代的なプロトコルです。

- **UDP上で動作**: QUICは基盤としてUDPの速度を活用しつつ、アプリケーションレベルで信頼性、暗号化、輻輳制御を組み込みで追加します。
- **ヘッドオブラインブロッキングを回避**: QUICは **多重化ストリーム** — 単一の接続内での独立したデータチャネル — を導入します。あるストリームのパケットが失われても、停止するのは*その*ストリームのみで、他のストリームは流れ続けます。これは、多くのリソースを同時に読み込むWebページや、音声とビデオが別々のストリームであるビデオ通話にとって極めて重要です。
- **TCPのような機能**: 信頼性、フロー制御、輻輳管理を提供しますが、より効率的で、接続確立が高速です（多くの場合0-RTTハンドシェイク）。

QUICは **HTTP/3** の基盤であり、現在、YouTube、Facebook、Cloudflareなどの主要プラットフォームでパフォーマンスとユーザーエクスペリエンスの向上のために使用されています。

---