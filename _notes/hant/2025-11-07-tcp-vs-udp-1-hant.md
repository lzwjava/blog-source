---
audio: false
generated: true
image: false
lang: hant
layout: post
model: anthropic/claude-4.5-sonnet
title: TCP 與 UDP 連線差異
translated: true
---

你的直覺是對的！讓我來釐清關鍵差異：

## TCP 連線

當 TCP 連線**建立**時（透過三方交握），雙方都會維護關於彼此的**狀態資訊**：

**雙方各自儲存的內容：**
- **遠端 IP 位址與通訊埠**（我正在與誰通訊？）
- **本機 IP 位址與通訊埠**（我的端點）
- **序號**（用於排序與可靠性）
- **視窗大小**（用於流量控制）
- **連線狀態**（已建立、關閉中等）

所以沒錯，「已連線」意味著客戶端與伺服器都已分配記憶體與資源來追蹤這個特定對話。它們彼此認識，並在連線關閉前持續維護這段關係。

## UDP - 無連線

UDP 是**無連線的**。沒有交握過程，沒有儲存狀態：

- 客戶端只是傳送封包至某個 IP:通訊埠
- 伺服器接收後進行處理
- **雙方皆不維護任何關係資訊**
- 每個封包都是獨立的
- 非常輕量 - 每個「連線」沒有記憶體開銷

## 關鍵差異

**TCP：**「你好，我是客戶端 X。讓我們開始對話。這是我的資訊，我也有你的資訊。我們現在已連線。」→ **具狀態**

**UDP：**「這是給位址 Y:通訊埠 Z 的封包」→ 傳送後不理 → **無狀態**

你說得完全正確，UDP 確實輕量得多，因為它不需要維護連線狀態、管理緩衝區或追蹤確認訊息。取捨之處在於 TCP 提供可靠性、排序與流量控制，而 UDP 則提供速度與簡潔性。