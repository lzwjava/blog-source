<ul class="post-list">
  {% assign type = include.type | default: "posts" %}
  {% assign collection = site[type] %}
  {% if collection.size > 0 %}
  {% for post in collection %}
  {% assign translated = post.translated %}
  {% assign generated = post.generated %}
  <!-- DEBUG START -->
  <div style="background: #f0f0f0; padding: 10px; margin: 5px; border: 1px solid #ccc; font-family: monospace; font-size: 12px;">
    <strong>Post Debug Info:</strong><br>
    Path: {{ post.path }}<br>
    Title: {{ post.title }}<br>
    Translated: {{ translated }}<br>
    Generated: {{ generated }}<br>
    Top: {{ post.top | default: false }}<br>
    Type: {{ include.type }}<br>
    Lang: {{ include.lang }}<br>
    Path contains check: {{ post.path }} contains '_./{type}/' = {{ post.path contains '_./{type}/' }}<br>
    JSON: <pre>{{ post | jsonify }}</pre>
  </div>
  <!-- DEBUG END -->
  {% if translated == nil %}
  {% assign translated = false %}
  {% endif %}
  {% if generated == nil %}
  {% assign generated = false %}
  {% endif %}
  {% if post.path contains '_{{ type }}/{{ include.lang }}/' %}
  <li class="list-group-item post-item lang-{{ include.lang }} type-{{ type }}" data-top="{{ post.top }}" data-translated="{{ translated }}"
    data-generated="{{ generated }}">
    <a href="{{ post.url }}">
      <span class="date">{{ post.date | date: "%Y.%m.%d" }}</span>
      <span class="type"> {% if post.image %}image{% else %}text{% endif %}</span>
      <span class="title">{{ post.title }}</span>
    </a>
  </li>
  {% endif %}{% endfor %}
  {% else %}
  <li class="list-group-item post-item">No {{ type }} available. </li>
  {% endif %}
</ul>