<!DOCTYPE html>
<html lang="en-US">
  <head>
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">

    
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-66656236-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-66656236-1');
      </script>
    
    <meta charset="UTF-8">

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>熟悉编程环境 | Zhiwei Li</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="熟悉编程环境" />
<meta name="author" content="Zhiwei Li" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="如果需要在电脑上编程，那要更多了解一下电脑，了解终端、命令行等。若要开始写程序运行程序，也需要了解更多一些知识，如构建工具和包管理工具。依据不同的编程语言，要了解不同的工具。这里把相对常用的知识集中到一起，学习了这章知识后，便可以愉快地开始写某一具体语言的第一个程序。" />
<meta property="og:description" content="如果需要在电脑上编程，那要更多了解一下电脑，了解终端、命令行等。若要开始写程序运行程序，也需要了解更多一些知识，如构建工具和包管理工具。依据不同的编程语言，要了解不同的工具。这里把相对常用的知识集中到一起，学习了这章知识后，便可以愉快地开始写某一具体语言的第一个程序。" />
<link rel="canonical" href="http://localhost:4000/tools" />
<meta property="og:url" content="http://localhost:4000/tools" />
<meta property="og:site_name" content="Zhiwei Li" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-06T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="熟悉编程环境" />
<meta name="twitter:site" content="@lzwjava" />
<meta name="twitter:creator" content="@lzwjava" />
<script type="application/ld+json">
{"url":"http://localhost:4000/tools","headline":"熟悉编程环境","dateModified":"2021-03-06T00:00:00+08:00","datePublished":"2021-03-06T00:00:00+08:00","@type":"BlogPosting","description":"如果需要在电脑上编程，那要更多了解一下电脑，了解终端、命令行等。若要开始写程序运行程序，也需要了解更多一些知识，如构建工具和包管理工具。依据不同的编程语言，要了解不同的工具。这里把相对常用的知识集中到一起，学习了这章知识后，便可以愉快地开始写某一具体语言的第一个程序。","author":{"@type":"Person","name":"Zhiwei Li"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/tools"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=32e075e99223058e0d860e09dd960e1d7770c04c">

  </head>
  <body>
    <main id="content" class="main-content" role="main">

  <h3>熟悉编程环境</h3>

  <a href="/">
    <h5>Home</h5>
  </a>

  <hr>

  <p>如果需要在电脑上编程，那要更多了解一下电脑，了解终端、命令行等。若要开始写程序运行程序，也需要了解更多一些知识，如构建工具和包管理工具。依据不同的编程语言，要了解不同的工具。这里把相对常用的知识集中到一起，学习了这章知识后，便可以愉快地开始写某一具体语言的第一个程序。</p>

<p>这一章内容，很依赖于具体的操作系统。<code class="language-plaintext highlighter-rouge">macOS</code>上和<code class="language-plaintext highlighter-rouge">Windows</code>上的情况是很不一样的。这里按<code class="language-plaintext highlighter-rouge">macOS</code>上的情况来讲述。至于<code class="language-plaintext highlighter-rouge">Windows</code>的情况，可以先读完本文，再在网上查找资料进行补充理解。</p>

<h2 id="终端">终端</h2>

<p>在 macOS 上是<code class="language-plaintext highlighter-rouge">Terminal</code>程序。在 Windows上则是<code class="language-plaintext highlighter-rouge">CMD.exe</code>。在 macOS 上可以在 LauchPad 上搜索<code class="language-plaintext highlighter-rouge">Terminal</code>，来打开这个应用。在 Windows 上可以在系统菜单上找到。电脑上有些程序是没有图形化界面的。有些程序只能在终端下运行。当开始编程时，需要更多地折腾计算机，需要更细微地管理计算机。而很多编译程序，离不开终端。</p>

<p>来在终端运行一些命令。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls  

</span>hello-rust	rust.md
</code></pre></div></div>

<p>ls 表示列举当前目录下的文件。这里用<code class="language-plaintext highlighter-rouge">$</code>符号来表示这是终端交互运行环境。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">pwd</span>
 
/Users/lzw/ideas/curious-courses/program/run/rust
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>program
</code></pre></div></div>

<p>猜上面两个语句是什么意思。一个是打印当前目录，一个是创建目录。pwd是 <code class="language-plaintext highlighter-rouge">print working directory</code> 的意思。mkdir中的mk是make的简写。</p>

<p>如何打开目录呢。来进入下载目录。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/Downloads
</code></pre></div></div>

<p>注意<code class="language-plaintext highlighter-rouge">~</code>是表示用户根目录的意思。运行一下<code class="language-plaintext highlighter-rouge">pwd</code>。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">pwd</span>
/Users/lzw/Downloads
</code></pre></div></div>

<p>可能因为经常用到用户根目录，于是<code class="language-plaintext highlighter-rouge">~</code>就用来指代这么一个用户根目录。</p>

<p>当输入<code class="language-plaintext highlighter-rouge">ls</code>命令的时候发生什么呢。用 <code class="language-plaintext highlighter-rouge">which</code>命令来找到相应的执行程序。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>which <span class="nb">ls</span>
/bin/ls
</code></pre></div></div>

<p>表示 ls 命令，即是路径为<code class="language-plaintext highlighter-rouge">/bin/ls</code>的程序。当在运行ls的时候，就是在运行<code class="language-plaintext highlighter-rouge">/bin/ls</code>这个程序。这个程序执行起来，看看当前目录有哪些文件，然后把它打印输出。</p>

<p>也可以用<code class="language-plaintext highlighter-rouge">type</code>命令来弄清楚。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">type ls
ls </span>is hashed <span class="o">(</span>/bin/ls<span class="o">)</span>
</code></pre></div></div>

<p>这些又跟具体的编程有何关系呢。通常，编程语言提供了在终端上运行命令来安装的方式。如 Rust 语言。接下来讲Rust的两种安装方式。</p>

<p>官网提供了一个脚本：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--proto</span> <span class="s1">'=https'</span> <span class="nt">--tlsv1</span>.2 <span class="nt">-sSf</span> https://sh.rustup.rs | sh
</code></pre></div></div>

<p>这里的<code class="language-plaintext highlighter-rouge">curl</code>是一个下载程序。上面命令意思是下载一个脚本，并且将脚本给sh运行。</p>

<p>在 Mac 上也可以用 Mac系统的包管理工具Homebrew来安装。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>rust
</code></pre></div></div>

<p>这些脚本只需要复制粘贴到终端，即可执行。为什么有时要用Homebrew来安装。因为官网的脚本通常只包含了安装功能，而没有卸载功能。升级可能也没有Homebrew那么方便。Homebrew也能把这类程序都统一管理起来。通常折腾计算机，需要安装很多的程序，各种各样的程序，时常也用到多种编程语言。如果每种语言都安装到不同的地方，那我们很难记得它们在哪里，也就不方便管理它们。然而刚开始接触编程的话，用官网的脚本是很方便的。</p>

<h2 id="环境变量">环境变量</h2>

<p>像上面在终端运行命令的时候，每次输入一些单词，系统怎么知道怎么去执行呢。来随便输入一点什么。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>abc
<span class="nt">-bash</span>: abc: <span class="nb">command </span>not found
</code></pre></div></div>

<p>这意思是说<code class="language-plaintext highlighter-rouge">abc</code>没有找到。就是说当输入一些单词敲回车的时候，终端就会在一些目录去找有没有叫这个单词的程序。如果都没有找到，那就提示说<code class="language-plaintext highlighter-rouge">command not found</code>。如果找到，就执行它。</p>

<p>那会在哪些目录去找呢。细心的读者可以发现，上面用<code class="language-plaintext highlighter-rouge">which</code> 和<code class="language-plaintext highlighter-rouge">type</code>的时候就已经告诉了一些答案。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>which <span class="nb">ls</span>
/bin/ls
</code></pre></div></div>

<p>接着继续发现看看。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">type </span>curl
curl is /usr/bin/curl
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">type mkdir
mkdir </span>is /bin/mkdir
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">type pwd
pwd </span>is a shell <span class="nb">builtin</span>
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">type </span>brew
brew is /usr/local/bin/brew
</code></pre></div></div>

<p>很有意思吧。<code class="language-plaintext highlighter-rouge">pwd</code>竟然不是跟<code class="language-plaintext highlighter-rouge">ls</code>在同一个目录，而是命令行自带的。</p>

<p>可见终端会在<code class="language-plaintext highlighter-rouge">/bin</code>、<code class="language-plaintext highlighter-rouge">/usr/bin</code>、<code class="language-plaintext highlighter-rouge">/usr/local/bin</code>目录找。这当然只是一些情况。我们也只是探索了几个命令。</p>

<p>那能不能告诉终端还可以去别的目录找。比如我们刚下载一个编译器程序叫 happy，它用来对 Happy 语言进行编程。我们希望在终端就能调用这个happy程序。</p>

<p>假如这个程序在用户目录的<code class="language-plaintext highlighter-rouge">compiler</code>目录下，即<code class="language-plaintext highlighter-rouge">~/compiler</code>中。那该如何做呢。该如何告诉终端，每次在我输入命令名字的时候，也去<code class="language-plaintext highlighter-rouge">compiler</code>目录里找找有没有叫这个名字的命令。</p>

<p>终端用一个名字来保存这样的信息，叫<code class="language-plaintext highlighter-rouge">PATH</code>。<code class="language-plaintext highlighter-rouge">PATH</code>就是环境变量。终端在默认的一些目录找完后，就在<code class="language-plaintext highlighter-rouge">PATH</code>所表示的目录里找。</p>

<p>当前的<code class="language-plaintext highlighter-rouge">PATH</code>变量值是多少呢。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PATH</span>
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/opt/local/bin:/opt/local/sbin
</code></pre></div></div>

<p>我的终端上显示一大堆目录。这里我挑选了一部分目录写在上边。可见用<code class="language-plaintext highlighter-rouge">:</code>来分隔一些目录。</p>

<p>接下来这么改，把<code class="language-plaintext highlighter-rouge">~/compiler</code>加上去。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PATH</span><span class="o">=</span>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/opt/local/bin:/opt/local/sbin:~/compiler
</code></pre></div></div>

<p>那么在终端输入<code class="language-plaintext highlighter-rouge">happpy</code>，终端就能找到相应的程序来运行来。</p>

<p>然而关闭终端后，重新打开，去打印环境变量时，会发现<code class="language-plaintext highlighter-rouge">PATH</code>还是老样子。敲入<code class="language-plaintext highlighter-rouge">happy</code>去执行后，告诉我们<code class="language-plaintext highlighter-rouge">command not found</code>。</p>

<p>如何每次启动终端，环境变量<code class="language-plaintext highlighter-rouge">PATH</code>都是所希望的呢。在 macOS 上可以创建或更改 <code class="language-plaintext highlighter-rouge">~/.bash_profile</code>文件。把PATH更改语句写在上面：</p>

<p><code class="language-plaintext highlighter-rouge">~/.bash_profile</code>：</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PATH</span><span class="o">=</span>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/opt/local/bin:/opt/local/sbin:~/compiler
</code></pre></div></div>

<p>接下来，每次都能在终端上运行<code class="language-plaintext highlighter-rouge">happy</code>了。</p>

<h2 id="构建和包管理">构建和包管理</h2>

<p>让我们用 Rust 举例子。Rust的构建工具和包管理工具程序叫 Cargo。Cargo可以理解为编译器的一环。通过「解谜计算机科学」一文，我们已经很明白了。Cargo具有构建功能。构建功能这里便是在做编译器的工作。</p>

<p>真实的程序通常是包含很多功能的。比如写个画图的程序。可能需要图形的依赖库。写个数学的程序，可能需要数学的依赖库。依赖库是什么意思。是有很多的函数。比如数学的依赖库，可能有方便的求和、求平均、求n次方等函数。图形的依赖库，则可能有画圆圈、画矩形的函数。于是传递参数给那些函数，便得到了想要的结果。也就是说当引用了某一个依赖库，可以在当前想写的这个Rust程序里，就能很方便地使用这个依赖库所提供的便捷函数。依赖库，也就是所谓的「包」。</p>

<p>Cargo程序则是用来编译Rust程序和管理众多Rust依赖库的。</p>

<h2 id="编辑器">编辑器</h2>

<p>在编写一些语言的程序时，我们有时用类似Word这样的大型软件，去编写专门这一种语言。如 Jetbrains公司出了很多这样的程序，如用<code class="language-plaintext highlighter-rouge">Intellij IDEA</code>来写Java，用<code class="language-plaintext highlighter-rouge">PyCharm</code> 来写Python。</p>

<p>也有通用的编辑器，如 VSCode。通用编辑器是说，人们常常用它来编写多种语言的程序，也用来编写文档等。这个我相对常用。VSCode全名叫「Visual Studio Code」。VSCode很方便很强大。</p>

<p><img src="/assets/images/cc/tools/vscode.png" alt="vscode" /></p>

<h2 id="练习">练习</h2>

<ul>
  <li>依据我们使用的电脑系统，熟悉相应的终端。搜索常用命令。试图敲打10个左右的命令熟悉一下。</li>
  <li>学生尝试了解自己电脑上的环境变量。</li>
  <li>下载和使用VSCode。试试用它来写几行字。熟悉复制、粘贴和查找等功能。</li>
  <li>练习完成后，可提交一两百字左右的总结。把以上三个任务学习到的知识简要总结一下。</li>
</ul>



  <hr>

  <a href="/">
    <h4>Back</h4>
  </a>

</main>       
  </body>

</html>